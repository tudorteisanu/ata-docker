(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41a6efb5"],{1681:function(e,t,r){},"1f09":function(e,t,r){},"287f":function(e,t,r){"use strict";r("89d0")},3129:function(e,t,r){"use strict";r("a630"),r("c975"),r("d81d"),r("ac1f"),r("3ca3"),r("5319"),r("1276");var a=r("3835"),s=r("5530"),i=(r("1f09"),r("c995")),n=r("24b2"),o=r("7560"),l=r("58df"),c=r("80d2");t["a"]=Object(l["a"])(i["a"],n["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(s["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(s["a"])(Object(s["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(s["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,r=e.split("@"),s=Object(a["a"])(r,2),i=s[0],n=s[1],o=function(){return t.genStructure(i)};return Array.from({length:n}).map(o)},genStructure:function(e){var t=[];e=e||this.type||"";var r=this.rootTypes[e]||"";if(e===r);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);r.indexOf(",")>-1?t=this.mapBones(r):r.indexOf("@")>-1?t=this.genBones(r):r&&t.push(this.genStructure(r))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"3a60":function(e,t,r){(function(t,r){e.exports=r()})(0,(function(){return function(e){function t(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,r){"use strict";function a(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var s=r(2),i=r(0),n=r.n(i);t.a=function(e,t){var i=t.value;if((Array.isArray(i)||"string"==typeof i)&&(i={mask:i,tokens:n.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var o=e.getElementsByTagName("input");if(1!==o.length)throw new Error("v-mask directive requires 1 input, found "+o.length);e=o[0]}e.oninput=function(t){if(t.isTrusted){var n=e.selectionEnd,o=e.value[n-1];for(e.value=r.i(s.a)(e.value,i.mask,!0,i.tokens);n<e.value.length&&e.value.charAt(n-1)!==o;)n++;e===document.activeElement&&(e.setSelectionRange(n,n),setTimeout((function(){e.setSelectionRange(n,n)}),0)),e.dispatchEvent(a("input"))}};var l=r.i(s.a)(e.value,i.mask,!0,i.tokens);l!==e.value&&(e.value=l,e.dispatchEvent(a("input")))}},function(e,t,r){"use strict";var a=r(6),s=r(5);t.a=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments[3];return Array.isArray(t)?r.i(s.a)(a.a,t,n)(e,t,i,n):r.i(a.a)(e,t,i,n)}},function(e,t,r){"use strict";function a(e){e.component(l.a.name,l.a),e.directive("mask",n.a)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r.n(s),n=r(1),o=r(7),l=r.n(o);r.d(t,"TheMask",(function(){return l.a})),r.d(t,"mask",(function(){return n.a})),r.d(t,"tokens",(function(){return i.a})),r.d(t,"version",(function(){return c}));var c="0.11.1";t.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(0),i=r.n(s),n=r(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return i.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=r.i(n.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,r){"use strict";function a(e,t,r){return t=t.sort((function(e,t){return e.length-t.length})),function(a,s){for(var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;n<t.length;){var o=t[n];n++;var l=t[n];if(!(l&&e(a,l,!0,r).length>o.length))return e(a,o,i,r)}return""}}t.a=a},function(e,t,r){"use strict";function a(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];e=e||"",t=t||"";for(var s=0,i=0,n="";s<t.length&&i<e.length;){var o=t[s],l=a[o],c=e[i];l&&!l.escape?(l.pattern.test(c)&&(n+=l.transform?l.transform(c):c,s++),i++):(l&&l.escape&&(s++,o=t[s]),r&&(n+=o),c===o&&i++,s++)}for(var d="";s<t.length&&r;){o=t[s];if(a[o]){d="";break}d+=o,s++}return n+d}t.a=a},function(e,t,r){var a=r(8)(r(4),r(9),null,null);e.exports=a.exports},function(e,t){e.exports=function(e,t,r,a){var s,i=e=e||{},n=typeof e.default;"object"!==n&&"function"!==n||(s=e,i=e.default);var o="function"==typeof i?i.options:i;if(t&&(o.render=t.render,o.staticRenderFns=t.staticRenderFns),r&&(o._scopeId=r),a){var l=o.computed||(o.computed={});Object.keys(a).forEach((function(e){var t=a[e];l[e]=function(){return t}}))}return{esModule:s,exports:i,options:o}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,r){e.exports=r(3)}])}))},"89d0":function(e,t,r){},a1dc:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fill-height full-width d-flex align-center flex-column"},[e.loading?r("v-skeleton-loader",{staticClass:"mt-16 pt-4",staticStyle:{"max-width":"1400px","min-height":"75vh"},attrs:{width:"100%",type:"card-avatar, article, list-item-three-line, list-item-three-line, actions"}}):r("div",{staticClass:" full-width",staticStyle:{"max-width":"1400px"}},[r("div",{staticClass:"text-h6 d-flex align-center pa-4 pa-sm-0 primary--text"},[e.model.order&&e.model.order.status?r("v-chip",{staticClass:"ml-3",attrs:{label:"",color:e.model.order.status.color}},[r("span",{staticClass:"text-shadow"},[e._v(" "+e._s(e.model.order.status.name)+" ")])]):e._e()],1),r("v-card",{staticClass:"elevation-4 pa-4",attrs:{width:"100%"}},[r("v-row",{staticClass:"actions mt-0"},[r("v-col",{staticClass:"ml-3 pa-2 d-flex align-center"},[r("span",{staticClass:"caption"},[e._v(" "+e._s(e.$t("global-validation.is_required"))+" ")]),r("v-spacer"),r("v-btn",{attrs:{link:"",to:"/orders",text:""}},[e._v(" "+e._s(e.$t("global-buttons.close"))+" ")]),r("v-btn",{staticClass:"ml-2",attrs:{color:"primary",depressed:"",disabled:e.isLoading},on:{click:e.submit}},[e.isLoading?r("v-progress-circular",{staticStyle:{position:"absolute"},attrs:{indeterminate:"",color:"primary"}}):e._e(),e._v(" "+e._s(e.$t("orders.buttons.save"))+" ")],1)],1)],1),r("v-card-text",{staticClass:"pa-0"},[r("v-tabs",{attrs:{"align-with-title":""},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},[r("v-tab",{key:"order"},[r("span",[e._v(e._s(e.$t("orders.tabs.create")))])])],1),r("v-tabs-items",{model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},[r("v-tab-item",{key:"order",attrs:{eager:""}},[r("v-form",{directives:[{name:"handle-unsaved",rawName:"v-handle-unsaved"}],ref:"form",staticClass:"d-flex flex-column justify-center order",attrs:{"lazy-validation":""}},[r("v-row",{staticClass:"pt-3 mx-2"},[r("v-col",{attrs:{cols:"12"}},[r("client-data",{attrs:{value:e.model,column:"","error-messages":e.errorMessages,"service-id":e.serviceId},on:{setClient:e.setClient,clearClient:function(t){return e.clearClient()},update:e.setPowerOfAttorney}})],1)],1),r("v-row",{staticClass:"py-1 mx-2"},[r("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[r("v-textarea",{attrs:{outlined:"",name:"input-4-2",rules:[e.rules.required(),e.rules.min(10),e.rules.max(255)],label:e.$t("orders.form.fields.goods_description")+"*"},model:{value:e.model.details.goods_description,callback:function(t){e.$set(e.model.details,"goods_description",t)},expression:"model.details.goods_description"}})],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{dense:"",items:e.selects.expertiseTypes,outlined:"",rules:[e.rules.required()],label:e.$t("orders.form.fields.expertise_type_id")+"*"},model:{value:e.model.details.expertise_type_id,callback:function(t){e.$set(e.model.details,"expertise_type_id",t)},expression:"model.details.expertise_type_id"}})],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[r("v-textarea",{attrs:{outlined:"",rules:[e.rules.required(),e.rules.min(10),e.rules.max(255)],name:"input-7-4",label:e.$t("orders.form.fields.expertise_description")+"*"},model:{value:e.model.details.expertise_description,callback:function(t){e.$set(e.model.details,"expertise_description",t)},expression:"model.details.expertise_description"}})],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"3"}},[r("v-text-field",{attrs:{outlined:"",dense:"",type:"number",rules:[e.rules.required(),e.rules.minNumber(.1),e.rules.maxNumber(1e9)],label:e.$t("orders.form.fields.expertise_price")+"*"},model:{value:e.model.details.expertise_price,callback:function(t){e.$set(e.model.details,"expertise_price",t)},expression:"model.details.expertise_price"}})],1),r("v-col",{staticClass:"pt-1",attrs:{cols:"12",md:"3"}},[r("v-radio-group",{staticClass:"mt-0",attrs:{row:"",label:e.$t("orders.form.fields.vat_required")+"*"},model:{value:e.model.details.guaranty_required,callback:function(t){e.$set(e.model.details,"guaranty_required",t)},expression:"model.details.guaranty_required"}},[r("v-radio",{attrs:{value:!0,label:"DA"}}),r("v-radio",{attrs:{value:!1,label:"NU"}})],1)],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"3"}},[r("date-picker",{attrs:{label:e.$t("orders.form.fields.created_date")+"*",dense:"",rules:[e.rules.required()],max:e.maxDate,outlined:""},model:{value:e.model.details.document_created_at,callback:function(t){e.$set(e.model.details,"document_created_at",t)},expression:"model.details.document_created_at"}})],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"3"}},[r("date-picker",{attrs:{label:e.$t("orders.form.fields.order_date")+"*",dense:"",rules:[e.rules.required()],max:e.maxDate,outlined:""},model:{value:e.model.details.order_date,callback:function(t){e.$set(e.model.details,"order_date",t)},expression:"model.details.order_date"}})],1)],1),r("v-divider",{staticClass:"my-2"}),r("v-row",{staticClass:"my-1 mx-2"},[r("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[r("v-card-title",{staticClass:"pl-0 py-0"},[e._v(" "+e._s(e.$t("orders.form.fields.experts_settings"))+" ")]),r("v-row",{staticClass:"py-0 pt-2 mx-1 "},[r("v-col",{staticClass:"py-1 px-0",attrs:{cols:"7"}},[r("v-card-subtitle",{staticClass:"pl-0 py-1"},[e._v(" "+e._s(e.$t("orders.form.fields.name"))+" ")])],1),r("v-col",{staticClass:"py-1",attrs:{cols:"2"}},[r("v-card-subtitle",{staticClass:"pl-0 py-1 text-center"},[e._v(" "+e._s(e.$t("orders.form.fields.responsible_expert"))+" ")])],1),r("v-col",{staticClass:"py-1",attrs:{cols:"2"}},[r("v-card-subtitle",{staticClass:"pl-0 py-1 text-center"},[r("span",[e._v(" "+e._s(e.$t("orders.form.fields.quota"))+" ")])])],1),r("v-col",{staticClass:"py-1",attrs:{cols:"1"}})],1),r("v-radio-group",{attrs:{"hide-details":""},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.model.order.handler_id,callback:function(t){e.$set(e.model.order,"handler_id",t)},expression:"model.order.handler_id"}},e._l(e.model.experts,(function(t,a){return r("v-row",{key:t.id,staticClass:"pa-0 ma-0 experts"},[r("v-col",{staticClass:"py-1 px-0",attrs:{cols:"7"}},[r("v-autocomplete",{attrs:{items:e.selects.experts,dense:"",rules:[e.rules.required(),e.rules.unique(e.model.experts,t.user_id,"user_id")],label:e.$t("orders.form.fields.expert")+"*",outlined:""},on:{change:e.checkMainExpert},model:{value:t.user_id,callback:function(r){e.$set(t,"user_id",r)},expression:"item.user_id"}})],1),r("v-col",{staticClass:"py-1",attrs:{cols:"2"}},[r("div",{staticClass:"d-flex align-center justify-center mt-2"},[r("v-radio",{attrs:{value:t.user_id}})],1)]),r("v-col",{staticClass:"py-1",attrs:{cols:"2"}},[r("v-text-field",{attrs:{dense:"",rules:[e.rules.required(),e.rules.maxNumber(100)],placeholder:"Ex. 24%",outlined:"",disabled:e.model.order.handler_id===t.user_id},on:{input:function(t){return e.reload()}},model:{value:t.percent,callback:function(r){e.$set(t,"percent",r)},expression:"item.percent"}})],1),e.model.experts.length>1?r("v-col",{staticClass:"py-1",attrs:{cols:"1"}},[r("v-btn",{attrs:{color:"error",disabled:e.model.order.handler_id===t.user_id},on:{click:function(t){return e.removeExpert(a)}}},[e._v(" "+e._s(e.$t("global-buttons.delete"))+" ")])],1):e._e()],1)})),1),r("v-col",{attrs:{col:"12"}},[e.isValidPercent?r("div",{staticClass:"error--text text-center full-width py-2"},[e._v(" "+e._s(e.$t("orders.errors.expert_percent"))+" ")]):e._e()]),r("v-col",{staticClass:"d-flex align-center justify-end py-0 mt-1 pb-8 px-0",attrs:{cols:"12"}},[r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.addExpert()}}},[e._v(" "+e._s(e.$t("orders.buttons.add_expert"))+" ")])],1)],1)],1),r("v-divider",{staticClass:"my-2"}),r("v-row",{staticClass:"actions"},[r("v-col",{staticClass:"pa-2 d-flex align-center"},[r("span",{staticClass:"caption"},[e._v(" "+e._s(e.$t("global-validation.is_required"))+" ")]),r("v-spacer"),r("v-btn",{attrs:{link:"",to:"/orders",text:""}},[e._v(" "+e._s(e.$t("global-buttons.close"))+" ")]),r("v-btn",{staticClass:"ml-2",attrs:{color:"primary",depressed:"",disabled:e.isLoading||e.isValidPercent},on:{click:e.submit}},[e.isLoading?r("v-progress-circular",{staticStyle:{position:"absolute"},attrs:{indeterminate:"",color:"primary"}}):e._e(),e._v(" "+e._s(e.$t("orders.buttons.save"))+" ")],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},s=[],i=(r("4de4"),r("7db0"),r("13d5"),r("a434"),r("a9e3"),r("5530")),n=(r("96cf"),r("1da1")),o=r("2b0e"),l=r("cb40"),c=r("e894"),d=r("0613"),u=r("366c"),p=r("de5b"),f=r("3a60"),m=o["a"].extend({name:"Create",components:{ClientData:c["a"],DatePicker:l["a"]},props:{language:{type:String,default:"ru",required:!0},serviceId:{required:!0,type:Number},allocations:{required:!0,type:Object}},directives:{mask:f["mask"]},data:function(){return{rules:p["a"],selectedClient:null,model:{documents:[],experts:[{percent:100}],order:{source:"operator",client:{type:""},power_of_attorney:"beneficiary"},details:{guaranty_required:!0}},selects:{expertiseTypes:[],experts:[]},errorMessages:{},lang:d["a"].getters["localization/getCurrent"],client:{type:"juridical"},isLoading:!1,loading:!1,documents:{confirm_represent_power:{file:{}}},selectedTab:0,powerOfAttorney:null}},watch:{language:{immediate:!0,handler:function(){this.model.order.language=this.language}},"model.experts":{deep:!0,immediate:!0,handler:function(){var e=this,t=this.model.experts.find((function(t){return t.user_id===e.model.order.handler_id}));t&&(t.percent=100-this.expertsPercent)}}},computed:{expertsPercent:function(){var e=this;return this.model.experts.reduce((function(t,r){var a=r.percent,s=r.user_id;return Number(a)&&e.model.order.handler_id!==s?t+Number(a):t}),0)},maxDate:function(){return this.$moment().format("YYYY-MM-DD")},isClassic:function(){return"classic"===this.model.power_of_attorney},isValidPercent:function(){return 100!==this.totalPercent},totalPercent:function(){return this.model.experts.reduce((function(e,t){var r=t.percent;return Number(r)?e+Number(r):e}),0)}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()},methods:{checkMainExpert:function(e){this.model.order.handler_id&&1!==this.model.experts.length||(this.model.order.handler_id=e),this.$forceUpdate()},reload:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$forceUpdate();case 2:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,u["a"].expertiseTypes().getList();case 4:return r=t.sent,t.next=7,u["a"].users().getList({filter:{service_type:e.serviceId,branch:e.allocations.branch_id,subdivision:e.allocations.subdivison_id}});case 7:a=t.sent,e.selects.expertiseTypes=r,e.selects.experts=a,e.model.experts=[{percent:100,user_id:e.selects.experts[0].id}],e.$forceUpdate(),e.$nextTick((function(){e.fullLoaded=!0})),t.next=19;break;case 15:return t.prev=15,t.t0=t["catch"](1),t.next=19,d["a"].dispatch("alert/showError",t.t0.message);case 19:e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[1,15]])})))()},submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,t.prev=1,r=e.$refs.form,!r.validate()){t.next=20;break}return e.model.documents=e.model.documents.filter((function(e){return"confirm_represent_power"!==e.file_type})),e.powerOfAttorney.file&&e.model.documents.push(e.powerOfAttorney),a=Object(i["a"])({},e.model),a.order.service_type_id=e.serviceId,s=e.allocations,n=s.branch_id,o=s.subdivision_id,l=s.handler_id,a.order.branch_id=n,a.order.subdivision_id=o,l&&(a.order.handler_id=l),a.experts=a.experts.filter((function(e){return e.user_id!==a.order.handler_id})),t.next=15,e.$API.orders().create(a);case 15:return r.removeGuard(),t.next=18,e.$router.push("/orders");case 18:return t.next=20,e.$store.dispatch("alert/showSuccess",e.$t("global-alert.successful_create"));case 20:t.next=27;break;case 22:return t.prev=22,t.t0=t["catch"](1),t.t0.hasOwnProperty("errors")&&(e.errorMessages=t.t0.errors,setTimeout((function(){e.errorMessages={}}),2e3)),t.next=27,e.$store.dispatch("alert/showError",t.t0.message||t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[1,22]])})))()},setClient:function(e){this.model.order.client_id=e.id,this.model.order.client=e,this.isSelectBeneficiary=!0},clearClient:function(){this.model.order.client_id=null,delete this.model.order.client,this.isSelectBeneficiary=!1},addExpert:function(){this.model.experts.push({})},removeExpert:function(e){this.model.experts.splice(e,1)},setPowerOfAttorney:function(e){this.powerOfAttorney=Object(i["a"])({},e)}}}),v=m,h=(r("287f"),r("2877")),b=r("6544"),x=r.n(b),g=r("c6a6"),y=r("8336"),_=r("b0af"),k=r("99d9"),w=r("cc20"),C=r("62ad"),$=r("ce7e"),S=r("4bd4"),O=r("490a"),T=r("67b6"),V=r("43a6"),j=r("0fd9"),E=r("3129"),L=r("2fa4"),q=r("71a3"),B=r("c671"),I=r("fe57"),P=r("aac8"),A=r("8654"),N=r("a844"),R=Object(h["a"])(v,a,s,!1,null,"586c8b6c",null);t["default"]=R.exports;x()(R,{VAutocomplete:g["a"],VBtn:y["a"],VCard:_["a"],VCardSubtitle:k["b"],VCardText:k["c"],VCardTitle:k["d"],VChip:w["a"],VCol:C["a"],VDivider:$["a"],VForm:S["a"],VProgressCircular:O["a"],VRadio:T["a"],VRadioGroup:V["a"],VRow:j["a"],VSkeletonLoader:E["a"],VSpacer:L["a"],VTab:q["a"],VTabItem:B["a"],VTabs:I["a"],VTabsItems:P["a"],VTextField:A["a"],VTextarea:N["a"]})},a844:function(e,t,r){"use strict";r("a9e3");var a=r("5530"),s=(r("1681"),r("8654")),i=r("58df"),n=Object(i["a"])(s["a"]);t["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return Object(a["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},s["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,r=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(r,t)+"px"}},genInput:function(){var e=s["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){s["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})}}]);
//# sourceMappingURL=chunk-41a6efb5.6bfcd988.js.map