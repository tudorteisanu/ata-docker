{"version":3,"sources":["webpack:///./node_modules/kothing-editor/lib/lang/ckb.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/math.js","webpack:///./node_modules/kothing-editor/lib/lang/lv.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/fileManager.js","webpack:///./node_modules/kothing-editor/lib/lang/pl.js","webpack:///./node_modules/kothing-editor/lib/lib/constructor.js","webpack:///./node_modules/kothing-editor/lib/plugins/fileBrowser/imageGallery.js","webpack:///./node_modules/kothing-editor/lib/lang/es.js","webpack:///./node_modules/kothing-editor/lib/lang/ja.js","webpack:///./node_modules/kothing-editor/lib/lang/he.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/resizing.js","webpack:///./node_modules/kothing-editor/lib/lang/zh_cn.js","webpack:///./node_modules/kothing-editor/lib/lang/ko.js","webpack:///./node_modules/kothing-editor/lib/lang/de.js","webpack:///./node_modules/kothing-editor/lib/lang/ua.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/textStyle.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/component.js","webpack:///./node_modules/kothing-editor/lib/lib/history.js","webpack:///./node_modules/kothing-editor/lib/lib/core.js","webpack:///../../../src/components/VForm/VForm.ts","webpack:///./node_modules/kothing-editor/lib/editor.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/lineHeight.js","webpack:///./node_modules/kothing-editor/lib/lang/ru.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/fontSize.js","webpack:///./node_modules/kothing-editor/lib/lang/da.js","webpack:///./node_modules/kothing-editor/lib/lang/fr.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/template.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/table.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/formatBlock.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/font.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/notice.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/audio.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/link.js","webpack:///./node_modules/kothing-editor/lib/lang/index.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/image.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/align.js","webpack:///./node_modules/kothing-editor/lib/lang/se.js","webpack:///./node_modules/kothing-editor/lib/plugins/index.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/dialog.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/video.js","webpack:///./node_modules/kothing-editor/lib/lib/context.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/fontColor.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/colorPicker.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/paragraphStyle.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/anchor.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/hiliteColor.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/horizontalRule.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/fileBrowser.js","webpack:///./node_modules/kothing-editor/lib/lang/ro.js","webpack:///./node_modules/kothing-editor/lib/plugins/command/blockquote.js","webpack:///./node_modules/kothing-editor/lib/lib/util.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/selectMenu.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/list.js","webpack:///./node_modules/kothing-editor/lib/lang/it.js","webpack:///./node_modules/kothing-editor/lib/assets/defaultIcons.js","webpack:///./node_modules/kothing-editor/lib/lang/en.js","webpack:///./node_modules/kothing-editor/lib/lang/pt_br.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","global","factory","module","exports","document","w","Error","window","noGlobal","lang","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","audio","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","imageGallery","mention","dialogBox","linkBox","title","url","text","newWindowCheck","downloadLinkCheck","bookmark","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","file","altText","videoBox","audioBox","browser","tags","search","caption","close","submitButton","revertButton","proportion","basic","left","right","center","width","height","size","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","KothingEditor_LANG","Object","defineProperty","enumerable","writable","configurable","value","_dialog","_interopRequireDefault","__esModule","_default","name","display","add","core","addModule","context","focusElement","previewElement","fontSizeElement","defaultFontSize","_mathExp","math_dialog","this","setDialog","modal","querySelector","addEventListener","_renderMathExp","bind","e","target","style","math_controller","setController_MathButton","mathController","submit","onClick_mathController","dialog","appendChild","element","relative","util","createElement","options","mathFontSize","className","f","html","icons","cancel","i","len","length","innerHTML","math_btn","delete","open","plugins","call","currentControllerName","managedTags","method","getAttribute","katex","dom","_d","createRange","createContextualFragment","_renderer","HTMLDecoder","exp","src","renderToString","contextMath","showLoading","preventDefault","stopPropagation","submitAction","trim","mathExp","katexEl","setAttribute","HTMLEncoder","updateModal","containerEl","getParentElement","parentNode","replaceChild","setRange","selectedFormats","getSelectedElements","oFormat","nodeName","insertNode","empty","createTextNode","zeroWidthSpace","insertBefore","nextSibling","history","push","closeLoading","active","controllerArray","indexOf","call_controller","controllersOff","on","update","init","mathTag","mathBtn","setControllerPosition","top","controllersOn","command","test","removeItem","focus","fixColumnWidth","fileManager","_xmlHttp","_checkMediaComponent","tag","parentElement","upload","uploadUrl","uploadHeader","formData","callBack","errorCallBack","filePlugin","xmlHttp","getXMLHttpRequest","onreadystatechange","_callBackUpload","_w","keys","key","setRequestHeader","send","readyState","status","message","res","responseText","JSON","parse","err","errorMessage","functions","noticeOpen","checkInfo","pluginName","tagNames","uploadEventHandler","modifyHandler","resizing","concat","slice","wysiwyg","getElementsByTagName","fileManagerPlugin","infoList","_infoList","setFileInfo","setInfo","_componentsInfoReset","_i","_len","info","infoUpdate","_loop","_info","_i2","_len2","filter","t","index","toString","_ret","_resize_plugin","currentTags","infoIndex","_i3","_len3","_i4","_len4","isMediaComponent","_infoIndex","removeAttribute","dataIndex","_i5","splice","plguin","state","split","pop","_componentsInfoInit","destroy","select","scrollIntoView","setTimeout","naturalWidth","naturalHeight","container","cover","_module_getSizeX","h","_module_getSizeY","onModifyMode","applySize","_uploadFileLength","deleteInfo","resetInfo","KothingEditor_MODULES","_defaultIcons","_en","_util","_default2","doc","_initOptions","top_div","rtl","id","tool_bar","_createToolBar","toolbarItem","visibility","pluginCallButtons","_checkKatexMath","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","wysiwygFrame","placeholder_span","placeholder","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","line_break","line_breaker_t","line_breaker_b","cloneNode","resize_back","toolbarContainer","_checkCodeMirror","constructed","toolBar","menuTray","editorArea","wysiwygArea","codeArea","loading","lineBreaker","lineBreaker_t","lineBreaker_b","resizeBack","stickyDummy","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","mode","htmlMode","lineNumbers","lineWrapping","reduce","option","hasOwn","viewportMargin","Infinity","cm","fromTextArea","wrapper","cssText","codeMirrorEditor","katexOptions","throwOnError","_setOptions","mergeOptions","originOptions","originElement","el","isNewToolbarContainer","isNewToolbar","removeChild","topArea","addClass","removeClass","callButtons","topDiv","toolBarArrow","_editorStyles","toolbarWidth","wysiwygDiv","iframe","allowFullscreen","frameBorder","frame","_editableClass","editor","overflow","resizinIcon","poweredBy","charCounterLabel","charLabel","textContent","maxCharCount","char_max","innerText","defaultTag","textTags","sub","sup","_new","_textTagsMap","strong","toLowerCase","b","u","ins","em","del","s","historyStackDelayTime","whitelist","_defaultTagsWhitelist","_editorTagsWhitelist","_setWhitelist","addTagsWhitelist","tagsBlacklist","pasteTagsWhitelist","pasteTagsBlacklist","attributesWhitelist","_printClass","isNumber","stickyToolbar","undefined","getNumber","fullScreenOffset","fullPage","iframeCSSFileName","previewTemplate","printTemplate","position","popupDisplay","showPathLabel","charCounterType","clientWidth","minWidth","maxWidth","clientHeight","minHeight","maxHeight","defaultStyle","colorList","lineHeights","paragraphStyles","textStyles","fontSizeUnit","imageResizing","imageHeightShow","imageWidth","imageHeight","imageSizeOnlyPercentage","_imageSizeUnit","imageRotation","imageFileInput","imageUrlInput","imageUploadHeader","imageUploadUrl","imageUploadSizeLimit","imageMultipleFile","imageAccept","imageGalleryUrl","imageGalleryHeader","videoResizing","videoHeightShow","videoRatioShow","videoWidth","videoHeight","videoSizeOnlyPercentage","_videoSizeUnit","videoRotation","videoRatio","videoRatioList","youtubeQuery","replace","videoFileInput","videoUrlInput","videoUploadHeader","videoUploadUrl","videoUploadSizeLimit","videoMultipleFile","videoTagAttrs","videoIframeAttrs","videoAccept","audioWidth","audioHeight","audioFileInput","audioUrlInput","audioUploadHeader","audioUploadUrl","audioUploadSizeLimit","audioMultipleFile","audioTagAttrs","audioAccept","tableCellControllerPosition","linkProtocol","linkRel","Array","isArray","linkRelDefault","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","templates","mediaAutoSelect","reverse","_setDefaultOptionStyle","blacklist","join","_defaultButtons","cmd","isOSX_IOS","addShift","indentKey","erase","expansion","show_blocks","code_view","blockquote","arrow_down","formatBlock","format_block","font_size","font_color","highlight_color","align_right","align_left","list_number","horizontal_rule","line_height","paragraph_style","text_style","image_gallery","_createModuleGroup","oDiv","oUl","div","ul","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","_icons","oLi","oButton","li","button","_plugins","separator_vertical","buttonTray","stringify","defaultToolbarItem","p","pluginsValues","map","moduleElement","buttonElement","vertical","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","moreButton","j","substr","float","matched","match","custom","firstElementChild","sv","enterDiv","children","_sv","lastElementChild","unshift","tool_cover","_fileBrowser","header","listClass","itemTemplateHandler","drawItems","selectorHandler","setImage","columnSize","fileBrowser","item","srcName","alt","callPlugin","_altText","create_image","_origin_w","_origin_h","_resizeClientX","_resizeClientY","_resize_w","_resize_h","_rotateVertical","_resize_direction","_move_path","_isChange","alignIcons","align_justify","align_center","resize_div_container","setController_resize","resizeContainer","resizeDiv","resizeDot","resizeDisplay","resize_button","setController_button","resizeButton","resize_handles","resizeHandles","querySelectorAll","resizeButtonGroup","rotationButtons","percentageButtons","alignMenu","alignMenuList","alignButton","autoSizeButton","captionButton","onMouseDown_resize_handle","onClick_resizeButton","resize_container","auto_size","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","revert","modify","contextPlugin","_element","_cover","_container","paddingBottom","_module_setModifyInputSize","pluginObj","percentageRotation","_onlyPercentage","checked","_proportionChecked","x","_defaultSizeX","inputX","setInputSize","y","_defaultSizeY","inputY","disabled","setRatio","_module_setInputSize","xy","_ratio","xUnit","sizeUnit","yUnit","dec","_ratioY","_ratioX","_module_setRatio","xValue","yValue","_module_sizeRevert","_module_saveCurrentSize","_videoRatio","call_controller_resize","targetElement","plugin","contextResizing","offset","getOffset","isVertical","Math","abs","offsetHeight","offsetWidth","l","scrollLeft","isComponent","displayX","displayY","changeTxt","_resizing","resizeDotShow","_resizeDotHide","rotations","_rotation","alignList","changeElement","pButtons","_captionShow","getChildElement","_captionChecked","addOffset","offsetLeft","offsetTop","setDisabledButtons","resizingDisabledButtons","originSize","_closeAlignMenu","openAlignMenu","removeDocEvent","addDocEvent","currentContext","contextEl","currentModule","resetTransform","setAutoSize","selectComponent","percentY","percentage","setPercentSize","r","_setTransForm","slope","deg","setTransformSize","alignValue","setAlign","openModify","captionCheckEl","update_image","captionText","_caption","current","nodeType","setOriginSize","transform","transformOrigin","setSize","transOrigin","offsetW","offsetH","cancelPercentAttr","transW","transH","setCaptionPosition","translate","figcaption","marginTop","direction","classList","clientX","clientY","resizeBackground","resizing_element_bind","resizing_element","closureFunc_bind","type","keyCode","change","cancel_controller_resize","resultW","_element_w","resultH","_element_h","wh","round","padding","limit","_styleList","listDiv","setSubmenu","listUl","pickup","initMenuTarget","attrs","_class","defaultList","class","styleList","btn","data","textStyleContext","styleToolbarItem","selectionNode","getSelectionNode","node","v","isFormatElement","hasClass","tagName","firstChild","checkStyles","classes","newNode","removeNodes","nodeChange","submenuOff","component","set_container","set_cover","create_caption","delayTime","tool","pushDelay","stackIndex","stack","setContentsFromStack","contents","getNodeFromPath","path","_checkComponents","_setCharCount","_resourcesStateChange","pushStack","getContents","range","_variable","_range","getNodePath","startContainer","startOffset","endContainer","endOffset","delay","time","clearTimeout","go","reset","ignoreChangeEvent","isChanged","_resetCachingButton","_destroy","_constructor","_context","_history","_notice","ownerDocument","defaultView","_parser","DOMParser","_wd","_ww","_shadowRoot","_shadowRootControllerEventTarget","wwComputedStyle","getComputedStyle","notice","initPlugins","_targetPlugins","effectNode","submenu","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","currentControllerTarget","currentFileComponentInfo","codeViewDisabledButtons","_moreLayerActiveButton","_htmlCheckWhitelistRegExp","_disallowedTextTagsRegExp","editorTagsWhitelistRegExp","pasteTagsWhitelistRegExp","hasFocus","isDisabled","_attributesWhitelistRegExp","_attributesTagsWhitelist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_antiBlur","lineBreakerButton","activePlugins","managedTagsInfo","_charTypeHTML","_fileInfoPluginsCheck","_fileInfoPluginsReset","_fileManager","regExp","queryString","pluginRegExp","pluginMap","commandMap","_styleCommandMap","_defaultCommand","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","currentNodesMap","_selectionNode","_originCssText","_bodyOverflow","editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","callBackFunction","_target","moduleArray","moduleName","getGlobalScrollOffset","scrollTop","host","submenuOn","submenuName","_setMenuPosition","containerOn","containerName","_containerName","containerOff","toolbarW","toolbarOffset","event","_getEditorOffsets","menuW","elementW","rtlW","rtlL","overLeft","offsetEl","offsetParent","bt","toolbarTop","menuHeight","menuHeight_bottom","innerHeight","menuTop","insTop","menuHeight_top","arg","arguments","getFileComponent","showController","contains","referEl","topMargin","controllerW","referElW","allow","overSize","_overSize","execCommand","showDefaultUI","nativeFocus","_editorRange","getRange","isWysiwygDiv","currentNode","commonAncestorContainer","format","br","_applyTagEffects","_toggleToolbarBalloon","focusEdge","focusEl","fileComponentInfo","childNodes","blur","startCon","startOff","endCon","endOff","setStart","setEnd","error","console","warn","selection","getSelection","removeAllRanges","addRange","removeRange","OUTDENT","INDENT","_createDefaultRange","collapsed","isCollapsed","focusNode","rangeCount","getRangeAt","sc","anchorNode","ec","so","anchorOffset","eo","focusOffset","compareValue","compareElements","rightDir","ancestor","result","getRange_addLine","_selectionVoid","op","nextElementSibling","extentNode","comm","_resetRangeToTextNode","tempCon","tempOffset","tempChild","lastChild","isBreak","onlyBreak","getFormatElement","getRangeFormatElement","isCell","emptyText","_onlyBreak","previousElementSibling","previousSibling","_format","_emptyText","validation","commonCon","lineNodes","getListChildren","isRangeFormatElement","startLine","endLine","startIdx","endIdx","onlyTable","isTable","startRangeEl","endRangeEl","isListCell","line","sameRange","getSelectedElementsAndComponents","removeDuplicate","myComponent","selectedLines","isEdgePoint","dir","nodeValue","_isEdgeFormat","appendFormatTag","formatNode","currentFormatEl","oFormatName","isFreeFormatElement","copyTagAttributes","insertComponent","notHistoryPush","checkCharCount","notSelect","removeNode","oNode","formatEl","depthFormat","splitElement","getElementDepth","onlyZeroWidthSpace","getEdgeChildNodes","isUneditableComponent","_setComponentLineBreaker","componentTop","wScroll","t_style","b_style","isList","afterNode","freeFormat","getFreeFormatElement","isFormats","isMedia","formatRange","originAfter","splitText","c","isSameContainer","removedTag","prevContainer","sameParent","oldParent","_r","rangeCon","fNode","cItem","isEmptyLine","_setIntoFreeFormat","previous","next","previousText","nextText","newRange","zeroWidth","_isIgnoreNodeChange","oNodeChildren","lastONode","beforeNode","getListChildNodes","startIndex","getArrayIndex","endIndex","startNode","endNode","getArrayItem","child","removeItemAllParents","substringData","rc","applyRangeFormatElement","rangeElement","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","pElement","last","_line","originParent","depth","before","nextLine","nextList","_nested","parentDepth","listParent","lineArr","removeItems","parent","origin","cc","_list","_edge","detachRangeFormatElement","cLen","removeArray","mergeSameTags","mergeNestedTags","splitRange","edge","newRangeElement","firstNode","lastNode","rangeEl","newList","insertedNew","moveComplete","appendNode","insNode","sibling","originNode","insChildren","first","_notTextNode","originNext","detachRange","detachNestedList","fChildren","lineIndex","insNext","inner","innerChildren","copyFormatAttributes","rangeParent","rangeRight","removeEmptyNode","childEdge","detachList","o","lastIndex","rangeArr","listFirst","listLast","passComponent","_edge2","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","isNonEditable","wRegExp","RegExp","newNodeName","sNode","checkCnt","checkAttrs","ckeckClasses","_i6","classReg","styleCheck","classCheck","start","end","styleRegExp","classRegExp","removeNodeRegExp","_s","_i7","_i8","wBoolean","Boolean","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","oneLine","endLength","isRemoveAnchor","arr","n","_isMaintainedNode","_isSizeNode","isSizeNode","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","_nodeChange_oneLine","_setCommonListStyle","_nodeChange_endLine","_newRange","_i9","_nodeChange_middleLine","_nodeChange_startLine","childStyle","elStyle","fontWeight","color","_stripRemoveNode","_isRemove","anchor","newInnerNode","parentCon","z","sameTag","pCurrent","nNodeArray","pNode","isSameNode","startPass","endPass","checkCss","recursionFunc","_i10","_len5","coverNode","prevNode","textNode","a","m","prevAnchorNode","childNode","_anchors","_childNode2","aChildren","_a","aLen","ancestorAnchorNode","_textNode","anchors","afterAnchorNode","_childNode","_i11","textNode_s","textNode_e","rChildren","_i12","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","_endContainer","passNode","cloneChild","isTopNode","_a2","_childNode3","_i13","offsets","tempNode","newCssText","newClass","noneChange","_i14","_len6","_child","_endPath","_i15","_i16","_a3","_childNode4","_i17","actionCall","layer","_showToolbarBalloon","_showToolbarInline","action","commandHandler","_layer","_br","_format2","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","nodesMap","margin","cells","shift","marginDir","setStyle","editInsideList","toggleClass","_setCodeDataToEditor","_hideToolbar","_setEditorDataToCodeView","scrollHeight","refresh","_checkPlaceholder","code_html","_getCodeView","parseDocument","parseFromString","headChildren","head","body","convertContentsForEditor","attributes","_i18","_len7","editableClasses","_i19","codeContents","convertHTMLForCodeView","codeValue","getAttributesToString","outerHTML","_setCodeView","_var","onScroll_window","zIndex","reduction","_iframeAutoHeight","contentsHTML","printDocument","getIframeDocument","wDoc","arrts","write","links","styles","linkHTML","_i20","_len8","isIE_Edge","documentMode","StyleMedia","contentWindow","windowObject","mimeType","_i21","_len9","setContents","convertValue","_resetComponents","setIframeContents","ctx","onlyContents","renderHTML","figcaptions","_makeLine","requireFormat","_disallowedTags","isAnchor","_HTMLConvertor","textArray","tLen","_allowHTMLComments","_tagConvertor","_deleteDisallowedTags","_cleanTags","rowLevelCheck","tAttr","cleanHTML","_consistencyCheckOfHTML","query","initMethod","textCompList","domTree","_i22","_len10","isTextStyleElement","_i23","_len11","htmlRemoveWhiteSpace","createTagsWhitelist","_i24","_len12","returnHTML","brReg","isFormat","indentSize","lineBR","nodeRegTest","tagIndent","elementRegTest","elementIndent","XMLSerializer","serializeToString","listener","useCapture","removeEventListener","_charCount","inputText","countType","nextCharCount","getCharLength","over","count","getCharCount","slicePosition","_callCounterBlink","content","getByteLength","getDoc","setValue","getValue","_init","reload","_initHTML","ShadowRoot","shadowRoot","disallowTextTags","allowTextTags","defaultAttr","regEndStr","_attr","tagsAttr","allAttr","k","_cachingButtons","managedClass","filePluginRegExp","checkFileInfo","resetFileInfo","fileTags","_onChange_historyStack","contentDocument","_iframeAuto","_initWysiwygArea","SUB","SUP","toUpperCase","onChange","_allowedEmptyNodeList","_setDefaultFormat","formatName","fileComponent","_setOptionsInit","_getConstructed","_editorInit","_addEvent","_offStickyToolbar","onResize_window","onload","_IEisComposing","lineBreakerBind","_responsiveCurrentSize","_responsiveButtonSize","_directionKeyCode","_nonTextKeyCode","$historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","65","66","83","85","73","89","90","219","221","_shortcutCommand","keyStr","classOnCheck","commandMapNodes","_cancelCaptionEdit","_buttonsEventHandler","onClick_toolbar","onMouseDown_wysiwyg","onMouseDown","tableCell","tablePlugin","_fixedCell","_shift","onTableCellMultiSelect","onClick_wysiwyg","onClick","hideToolbar","prevLi","_balloonDelay","_showToolbarBalloonDelay","rangeObj","isDirTop","rects","getClientRects","globalScroll","editorWidth","stickyTop","editorLeft","nodeOffset","bottom","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","editorParent","absoluteLeft","overRight","resetTop","space","_getPageBottomSpace","documentElement","floor","arrow_left","showInline","onInput_wysiwyg","onInput","_isUneditableNode","isFront","siblingNode","siblingKey","isElement","_isUneditableNode_getSibling","selectNode","_onShortcutKey","onKeyDown_wysiwyg","shiftKey","ctrl","ctrlKey","metaKey","altKey","onKeyDown","selectRange","fileComponentName","_hardDelete","isClosureFreeFormatElement","isClosureRangeFormatElement","defaultFormat","prev","_prev","prevLast","con","_offset","after","detach","sel","_prev2","ignoreZWS","nextEl","cell","_fileComponentInfo","_sel","_next","_con","_children","_child2","isEdge","lines","fc","lc","_cells","idx","prevIdx","nextIdx","moveCell","_len14","_i26","_child4","_firstChild","_endChild","tabText","textRange","_child3","_len13","_i25","endChild","freeFormatEl","enterHTML","formatInners","temp","newFormat","innerNode","selectionFormat","wSelection","_children2","_offset2","_prev3","_next2","newEl","insertHTML","wOffset","focusNext","brPrev","brNext","_newEl","_br2","_newEl2","newListCell","_newFormat","compContext","_newEl3","_ref","_cell","nbsp","textKey","onKeyUp_wysiwyg","onKeyUp","oFormatTag","zeroWidthRegExp","isComposing","frontZeroWidthCnt","substring","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onFocus","onBlur_wysiwyg","onBlur","onMouseDown_resizingBar","prevHeight","closureFunc","_resize_editor","onResizeEditor","resizeInterval","responsiveSize","responsiveWidth","setToolbarButtons","area","editorHeight","scrollY","editorTop","inlineOffset","_onStickyToolbar","scroll","_codeViewAutoHeight","sCell","eCell","sIsCell","eIsCell","sComp","eComp","onPaste_wysiwyg","clipboardData","isIE","_dataTransferAction","_setClipboardComponent","setData","onCopy_wysiwyg","onCopy","onCut_wysiwyg","onCut","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","rangeOffset","caretRangeFromPoint","_r2","plainText","cleanData","getData","tempDiv","tempRange","_setClipboardData","MSData","onlyText","onPaste","onDrop","_value","files","insertImage","onMouseMove_wysiwyg","lineBreakerStyle","ctxEl","pageY","_onMouseDown_lineBreak","_onLineBreak","eventWysiwyg","passive","_setResponsiveToolbar","_removeEvent","sizeArray","buttonsObj","sort","imageUploadHandler","videoUploadHandler","audioUploadHandler","onImageUploadBefore","onVideoUploadBefore","onAudioUploadBefore","onImageUpload","onVideoUpload","onAudioUpload","onImageUploadError","onVideoUploadError","onAudioUploadError","newToolbar","newContext","oldButton","oldCallButtons","setOptions","_options","val","cons","_setIframeDocument","setDefaultStyle","newStyles","noticeClose","getContext","getText","getImagesInfo","getFilesInfo","notCleaningData","rangeSelection","firstCon","checkHTML","appendContents","setOption","enabled","show","topAreaStyle","hide","modalForm","_k","_k2","_k3","_k4","_k5","originEl","topEl","provide","form","inheritAttrs","props","lazyValidation","readonly","inputs","watchers","errorBag","watch","handler","errors","deep","immediate","methods","watchInput","watcher","input","_uid","valid","shouldValidate","validate","resetErrorBag","resetValidation","register","unregister","found","find","unwatch","render","staticClass","novalidate","attrs$","$slots","_core","init_options","create","idOrElement","_init_options","_propertiesInit","getElementById","_sizeList","currentSize","sizeList","lineHeightContext","targetText","icon","unit","sizeIcon","fontSizeContext","templateDiv","templateList","contextTable","_tdElement","_trElement","_trElements","_tableXY","_maxWidth","_fixedColumn","_rtl","cellControllerTop","resizeText","headerButton","mergeButton","splitButton","splitMenu","maxText","minText","_physical_cellCnt","_logical_cellCnt","_rowCnt","_rowIndex","_physical_cellIndex","_logical_cellIndex","_current_colSpan","_current_rowSpan","tablePicker","tableHighlight","tableUnHighlight","tableDisplay","tableController","setController_table","columnFixedButton","setController_tableEditor","insertRowAboveButton","insertRowBelowButton","onMouseMove_tablePicker","appendTable","onClick_tableController","tableResize","fixed_column_width","table_header","insert_row_above","insert_row_below","delete_row","merge_cell","insert_column_left","insert_column_right","delete_column","split_cell","oTable","createCells","tableHTML","changed","firstTd","reset_table_picker","cnt","returnElement","cellsHTML","ceil","offsetX","offsetY","highlight","unHighlight","_removeEvents","_selectedTable","selectedCells","_toggleEditor","_selectedCells","_selectedCell","_fixedCellName","call_controller_tableEdit","tdElement","tableElement","tableLayout","setTableStyle","setPositionControllerTop","setPositionControllerDiv","setCellInfo","rows","cellIndex","cellCnt","colSpan","rowIndex","rowSpan","rowSpanArr","spanIndex","cs","rs","logcalIndex","row","editTable","isRow","tableAttr","positionCell","editRow","removeCells","firstRow","rightCell","editCell","_removeCells","positionResetElement","up","originRowIndex","sign","_cell2","spanCells","spanCell","_cell3","_logcalIndex","newRow","insertRow","insertIndex","newCell","applySpan","cellColSpan","passCell","removeCell","removeSpanArr","removeIndex","_arr","lastCell","getOverlapRangeAtIndex","removeFirst","removeEnd","_row","rLen","rowSpanCell","_c","_cLen","_closeSplitMenu","openSplitMenu","currentCell","currentRow","currentColSpan","currentRowSpan","_cells2","_colSpan","newRowSpan","_rowSpanArr","nextRowIndex","_cell4","_cs","_logcalIndex2","_c2","_cLen2","_cell5","_cs2","_logcalIndex3","nextRow","nextCells","_rs","_c3","_cLen3","_colSpan2","_cells4","_c4","_cLen4","physicalIndex","_cells3","_c5","_cLen5","ch","ref","mergeCell","emptyRowFirst","emptyRowLast","ce","re","mergeHTML","rowIndexFirst","rowIndexLast","removeRows","_cell6","_rs2","_c6","_cLen6","setActiveButton","toggleHeader","span","fixedCell","selectedCell","_bindOnSelect","_bindOffSelect","_bindOffShift","_offCellMultiSelect","_initBind","_onCellMultiSelect","_setMultiCells","startCell","endCell","findSelectedCell","newCs","newCe","newRs","newRe","emptyDiv","targetTooltip","_formatList","currentFormat","pickUp","lang_toolbar","defaultFormats","formatList","formatTitle","formatContext","_this","selectedFormsts","firstPath","lastPath","rlist","modifiedFormsts","isComp","freeElement","_first","isSameAttributes","_fontList","currentFont","fontList","tooltip","fontFamily","selectFont","fontElement","fontContext","notice_div","notice_span","notice_button","onClick_cancel","_component","contextAudio","targetSelect","_linkValue","audio_dialog","audioInputFile","audioUrlFile","audio_controller","setController","_removeSelectedFiles","_fileInputChange","onClick_controller","_onLinkPreview","link_btn","textDecoration","urlInput","_createAudioTag","oAudio","_setTagAttrs","protocol","updateCover","setupUrl","fileList","fileSize","limitSize","infoSize","audiosInfo","uploadSize","isUpdate","response","filesLen","FormData","append","callBack_upload","create_audio","existElement","prevElement","selectionTag","onControllerOff","notOpen","_anchor","contextLink","_linkAnchor","anchorCtx","link_dialog","link_controller","setController_LinkButton","linkController","onClick_linkController","initEvent","caller","forms","oA","createAnchor","selectionATag","editLink","linkAnchor","linkBtn","href","get","_ckb","_da","_de","_es","_fr","_he","_it","_ja","_ko","_lv","_pl","_pt_br","_ro","_ru","_se","_ua","_zh_cn","ckb","da","de","en","es","fr","he","it","ja","ko","lv","pl","pt_br","ro","ru","se","ua","zh_cn","contextImage","_linkElement","_align","_floatClassRegExp","_v_src","svgDefaultSize","base64RenderIndex","_element_l","_element_t","image_dialog","imgInputFile","imgUrlFile","previewSrc","openTab","imageGalleryButton","_openGallery","sizeRevert","onlyPercentage","onlyPercentDisplay","heightDisplay","_setUrlInput","imageEl","imageContainer","tabContent","tabLinks","tabName","contentClassName","getElementsByClassName","imagePlugin","onRender_imgUrl","imagesInfo","inputWidth","inputHeight","callBack_imgUpload","setup_reader","update_src","wFileReader","FileReader","filesStack","reader","updateElement","onRender_imgBase64","readAsDataURL","updateMethod","createMethod","onRender_link","imgTag","textAlign","linkValue","oImg","_image_create_onload","openController","changeSize","isNewContainer","modifiedCaption","imageElement","setCtx","userSize","notResetPercentage","onlyW","onlyH","heightPercentage","targetButton","_alignList","currentAlign","defaultDir","justify","leftDir","leftMenu","rightMenu","alignContext","_blockquote","_font","_fontSize","_fontColor","_hiliteColor","_horizontalRule","_table","_formatBlock","_lineHeight","_template","_paragraphStyle","_textStyle","_link","_image","_video","_audio","_math","_imageGallery","_util2","kind","_closeSignal","dialog_div","dialog_back","dialog_area","modalArea","back","_onMouseDown_dialog","_onClick_dialog","_bindClose","contextDialog","contextVideo","_youtubeQuery","_defaultRatio","video_dialog","videoInputFile","videoUrlFile","videoRatioOption","setVideoRatio","ratioList","ratioDisplay","onlyWidthDisplay","createVideoTag","videoTag","_setIframeAttrs","createIframeTag","iframeTag","setVideoRatioSelect","selectedIndex","videoPlugin","setup_url","videosInfo","callBack_videoUpload","create_video","oIframe","splitUrl","endsWith","lastIndexOf","oFrame","isYoutube","isVimeo","_newTag","newTag","inputUpdate","isPercent","_update_videoCover","prevFrame","ratioSelected","ratioOptions","selected","dataSize","$context","_colorPicker","previewEl","colorInput","onChangeInput","colorArea","colorPicker","colorListHTML","contextPicker","contextFontColor","_colorInput","_defaultColor","isHexColor","rgb2hex","_styleProperty","_colorList","setCurrentColor","applyColor","_currentColor","createColorList","_makeColorList","makeColor","colorArr","fillColor","getColorInNode","setInputText","colorName2hex","hexColorStr","borderColor","findColor","styleProperty","str","rgb","rgbMatch","parseInt","colorName","colors","_classList","menuLang","paragraphContext","paragraphList","_selectMenu","setDialogForm","location","pathname","callerContext","relList","defaultRel","selectMenu","setForm","download","rel","anchorPlugin","linkDefaultRel","currentRel","_change","callerName","check_new_window","check_bookmark","anchorText","downloadCheck","bookmarkButton","listContext","relButton","relPreview","onClick_relButton","onClick_relList","onChange_newWindowCheck","onChange_downloadCheck","onChangeAnchorText","onChangeUrlInput","onKeyDownUrlInput","onFocusUrlInput","onBlurUrlInput","onClick_bookmarkButton","contextAnchor","setRel","setLinkPreview","setHeaderBookmark","_closeRelMenu","toggleRelList","relAttr","relListEl","rels","checkedRel","createHeaderList","contextList","urlValue","headers","valueRegExp","createList","_setMenuListPosition","moveItem","getItem","random","reservedProtocol","sameProtocol","updateAnchor","notText","_relMerge","_relDelete","contextHiliteColor","backgroundColor","currentHR","horizontalRulePick","appendHr","oHr","tagArea","tagElements","items","selectedTags","browser_div","set_browser","titleArea","onClickTag","onClickFile","_onMouseDown_browser","_onClick_browser","fileBrowserContext","pluginContext","listClassName","_drawFileList","fileBrowserPlugin","abort","showBrowserLoading","closeBrowserLoading","browserHeader","_callBackGet","_drawListItem","_tags","splitSize","drawItemHandler","tagsHTML","listHTML","columns","selectTag","sTagIndex","some","listEl","currentBlockquote","navigator","userAgent","appVersion","platform","String","fromCharCode","onlyZeroWidthRegExp","ActiveXObject","XMLHttpRequest","e1","elementName","_hasOwn","hasOwnProperty","getIncludePath","nameArray","extension","pathList","fileName","extRegExp","editorTag","getPageStyle","rules","sheets","styleSheets","cssRules","wDocument","exceptAttrs","attrString","cr","cl","encoder","encodeURIComponent","unescape","TextEncoder","encode","isNotCheckingNode","getClosureFreeFormatElement","copyEl","array","multi","getPositionIndex","_newOffsets","finds","tempText","nodes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","maxDec","number","toFixed","aNode","bNode","aIndex","bIndex","check","attr","childList","offsetElement","aStart","aEnd","bStart","bEnd","overlap","txt","newElement","styleName","stopParent","baseNode","all","cNodes","rNode","_deleteNestedList","liSibling","liParent","baseParent","bp","depthEl","nodePathArray","inst","nodePathLen","apply","Number","valueOf","depthIndex","cDepth","spliceDepth","childs","childLength","_n","nLen","textOffset","tempL","_path","_n2","_path2","_n3","notRemoveNode","sortByDepth","des","documentFragment","htmlCheckWhitelistRegExp","removeTags","emptyTags","wrongList","withoutFormatCells","wrongTags","nrtag","fel","checkTags","_t","_t2","tp","_p","_t3","optionStyle","styleArr","_setIframeCssTags","linkNames","tagString","styleTag","CSSFileName","menus","clickMethod","onMousedown_list","onMouseMove_list","onClick_list","num","selectIndex","positionHandler","currentList","bullets","list_bullets","editList","firstSel","lastSel","bottomEl","originRange","isRemove","topElParent","bottomElParent","fTag","nextParent","parentTag","siblingTag","rangeTag","mergeTop","mergeBottom","firstList","topNumber","_passComponent","isHR","tempList","_detachNested","originList","cellsLen","innerList","nodePath","sl","_insiedList","insertPrev","slPath","more_text","more_paragraph","more_plus","more_horizontal","more_vertical","attachment","magic_stick","empty_file"],"mappings":"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","file":"js/branches/edit16~branches/edit5.79c5f5b2.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ckb\",\n    toolbar: {\n      default: \"\",\n      save: \"\",\n      font: \"\",\n      formats: \"Formats\",\n      fontSize: \"\",\n      bold: \"\",\n      underline: \"  \",\n      italic: \"\",\n      strike: \"  \",\n      subscript: \"\",\n      superscript: \"\",\n      removeFormat: \" \",\n      fontColor: \" \",\n      hiliteColor: \" \",\n      indent: \" \",\n      outdent: \" \",\n      align: \"\",\n      alignLeft: \" \",\n      alignRight: \" \",\n      alignCenter: \"\",\n      alignJustify: \"  \",\n      list: \"\",\n      orderList: \" \",\n      unorderList: \" \",\n      horizontalRule: \" \",\n      hr_solid: \"\",\n      hr_dotted: \" \",\n      hr_dashed: \" \",\n      table: \"\",\n      link: \"\",\n      math: \"\",\n      image: \"\",\n      video: \"\",\n      audio: \"\",\n      fullScreen: \"  \",\n      showBlocks: \" \",\n      codeView: \" \",\n      undo: \"   \",\n      redo: \"\",\n      preview: \"\",\n      print: \"\",\n      tag_p: \"\",\n      tag_div: \"  (DIV)\",\n      tag_h: \"\",\n      tag_blockquote: \"\",\n      tag_pre: \"\",\n      template: \"\",\n      lineHeight: \" \",\n      paragraphStyle: \" \",\n      textStyle: \" \",\n      imageGallery: \" \",\n      mention: \" \"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \" \",\n        url: \"\",\n        text: \" \",\n        newWindowCheck: \"   \",\n        downloadLinkCheck: \" \",\n        bookmark: \"\"\n      },\n      mathBox: {\n        title: \"\",\n        inputLabel: \" \",\n        fontSizeLabel: \" \",\n        previewLabel: \"\"\n      },\n      imageBox: {\n        title: \" \",\n        file: \" \",\n        url: \" \",\n        altText: \" \"\n      },\n      videoBox: {\n        title: \" \",\n        file: \" \",\n        url: \"YouTube/Vimeo    \"\n      },\n      audioBox: {\n        title: \" \",\n        file: \" \",\n        url: \" \"\n      },\n      browser: {\n        tags: \"\",\n        search: \"\"\n      },\n      caption: \" \",\n      close: \"\",\n      submitButton: \"\",\n      revertButton: \"   \",\n      proportion: \"   \",\n      basic: \"\",\n      left: \"\",\n      right: \"\",\n      center: \"\",\n      width: \"\",\n      height: \"\",\n      size: \"\",\n      ratio: \"\"\n    },\n    controller: {\n      edit: \"\",\n      unlink: \" \",\n      remove: \"\",\n      insertRowAbove: \"   \",\n      insertRowBelow: \"   \",\n      deleteRow: \" \",\n      insertColumnBefore: \"   \",\n      insertColumnAfter: \"   \",\n      deleteColumn: \" \",\n      fixedColumnWidth: \"  \",\n      resize100: \"   %\",\n      resize75: \"   %\",\n      resize50: \"   %\",\n      resize25: \"   %\",\n      autoSize: \" \",\n      mirrorHorizontal: \"   \",\n      mirrorVertical: \"   \",\n      rotateLeft: \"  \",\n      rotateRight: \"  \",\n      maxSize: \" \",\n      minSize: \" \",\n      tableHeader: \" \",\n      mergeCells: \" \",\n      splitCells: \"  \",\n      HorizontalSplit: \" \",\n      VerticalSplit: \" \"\n    },\n    menu: {\n      spaced: \" \",\n      bordered: \" \",\n      neon: \"\",\n      translucent: \"  \",\n      shadow: \"\",\n      code: \"\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ckb\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"math\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default]);\n    var context = core.context;\n    context.math = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      previewElement: null,\n      fontSizeElement: null,\n      defaultFontSize: \"\",\n      _mathExp: null\n    };\n    /** math dialog */\n\n    var math_dialog = this.setDialog(core);\n    context.math.modal = math_dialog;\n    context.math.focusElement = math_dialog.querySelector(\".ke-math-exp\");\n    context.math.previewElement = math_dialog.querySelector(\".ke-math-preview\");\n    context.math.fontSizeElement = math_dialog.querySelector(\".ke-math-size\");\n    context.math.focusElement.addEventListener(\"keyup\", this._renderMathExp.bind(core, context.math), false);\n    context.math.focusElement.addEventListener(\"change\", this._renderMathExp.bind(core, context.math), false);\n    context.math.fontSizeElement.addEventListener(\"change\", function (e) {\n      this.fontSize = e.target.value;\n    }.bind(context.math.previewElement.style), false);\n    /** math controller */\n\n    var math_controller = this.setController_MathButton(core);\n    context.math.mathController = math_controller;\n    context.math._mathExp = null;\n    /** add event listeners */\n\n    math_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core), false);\n    math_controller.addEventListener(\"click\", this.onClick_mathController.bind(core));\n    context.math.previewElement.style.fontSize = context.math.defaultFontSize;\n    /** append html */\n\n    context.dialog.modal.appendChild(math_dialog);\n    context.element.relative.appendChild(math_controller);\n    /** empty memory */\n\n    math_dialog = null, math_controller = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    var fontSize = core.options.mathFontSize;\n    var defaultFontSize = fontSize[0].value;\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + \"<form>\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.mathBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">' + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"ke-input-form ke-math-exp\" type=\"text\"></textarea>' + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.fontSizeLabel + \"</label>\" + '<select class=\"ke-input-select ke-math-size\">';\n\n    for (var i = 0, len = fontSize.length, f; i < len; i++) {\n      f = fontSize[i];\n\n      if (f.default) {\n        defaultFontSize = f.value;\n      }\n\n      html += '<option value=\"' + f.value + '\"' + (f.default ? \" selected\" : \"\") + \">\" + f.text + \"</option>\";\n    }\n\n    html += \"</select>\" + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.previewLabel + \"</label>\" + '<p class=\"ke-math-preview\"></p>' + \"</div>\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    core.context.math.defaultFontSize = defaultFontSize;\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** modify controller button */\n  setController_MathButton: function setController_MathButton(core) {\n    var lang = core.lang;\n    var math_btn = core.util.createElement(\"DIV\");\n    math_btn.className = \"ke-controller ke-controller-link\";\n    math_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + core.icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + core.icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\" + \"\";\n    return math_btn;\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"math\", \"math\" === this.currentControllerName);\n  },\n\n  /**\r\n   * @Override core - managedTagsInfo\r\n   */\n  managedTags: function managedTags() {\n    return {\n      className: \"katex\",\n      method: function method(element) {\n        if (!element.getAttribute(\"data-exp\") || !this.options.katex) {\n          return;\n        }\n\n        var dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute(\"data-exp\"))));\n\n        element.innerHTML = dom.querySelector(\".katex\").innerHTML;\n      }\n    };\n  },\n  _renderer: function _renderer(exp) {\n    var katex = this.options.katex;\n    return katex.src.renderToString(exp, katex.options);\n  },\n  _renderMathExp: function _renderMathExp(contextMath, e) {\n    contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n  },\n  submit: function submit(e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    var submitAction = function () {\n      if (this.context.math.focusElement.value.trim().length === 0) {\n        return false;\n      }\n\n      var contextMath = this.context.math;\n      var mathExp = contextMath.focusElement.value;\n      var katexEl = contextMath.previewElement.querySelector(\".katex\");\n\n      if (!katexEl) {\n        return false;\n      }\n\n      katexEl.className = \"__ke__katex \" + katexEl.className;\n      katexEl.setAttribute(\"contenteditable\", false);\n      katexEl.setAttribute(\"data-exp\", this.util.HTMLEncoder(mathExp));\n      katexEl.setAttribute(\"data-font-size\", contextMath.fontSizeElement.value);\n      katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n      if (!this.context.dialog.updateModal) {\n        var selectedFormats = this.getSelectedElements();\n\n        if (selectedFormats.length > 1) {\n          var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(katexEl);\n\n          if (!this.insertNode(oFormat, null, true)) {\n            return false;\n          }\n        } else {\n          if (!this.insertNode(katexEl, null, true)) {\n            return false;\n          }\n        }\n\n        var empty = this.util.createTextNode(this.util.zeroWidthSpace);\n        katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n        this.setRange(katexEl, 0, katexEl, 1);\n      } else {\n        var containerEl = this.util.getParentElement(contextMath._mathExp, \".katex\");\n        containerEl.parentNode.replaceChild(katexEl, containerEl);\n        this.setRange(katexEl, 0, katexEl, 1);\n      }\n\n      contextMath.focusElement.value = \"\";\n      contextMath.fontSizeElement.value = \"1em\";\n      contextMath.previewElement.style.fontSize = \"1em\";\n      contextMath.previewElement.innerHTML = \"\";\n      return true;\n    }.bind(this);\n\n    try {\n      if (submitAction()) {\n        this.plugins.dialog.close.call(this); // history stack\n\n        this.history.push(false);\n      }\n    } catch (e) {\n      this.plugins.dialog.close.call(this);\n    } finally {\n      this.closeLoading();\n    }\n\n    return false;\n  },\n  active: function active(element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n        this.controllersOff();\n      }\n    } else if (element.getAttribute(\"data-exp\")) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n        this.setRange(element, 0, element, 1);\n        this.plugins.math.call_controller.call(this, element);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  on: function on(update) {\n    if (!update) {\n      this.plugins.math.init.call(this);\n    } else {\n      var contextMath = this.context.math;\n\n      if (contextMath._mathExp) {\n        var exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute(\"data-exp\"));\n        var fontSize = contextMath._mathExp.getAttribute(\"data-font-size\") || \"1em\";\n        this.context.dialog.updateModal = true;\n        contextMath.focusElement.value = exp;\n        contextMath.fontSizeElement.value = fontSize;\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n        contextMath.previewElement.style.fontSize = fontSize;\n      }\n    }\n  },\n  call_controller: function call_controller(mathTag) {\n    this.context.math._mathExp = mathTag;\n    var mathBtn = this.context.math.mathController;\n    this.setControllerPosition(mathBtn, mathTag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(mathBtn, mathTag, \"math\");\n  },\n  onClick_mathController: function onClick_mathController(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\") || e.target.parentNode.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute(\"data-exp\"));\n      this.plugins.dialog.open.call(this, \"math\", true);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.math._mathExp);\n      this.context.math._mathExp = null;\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n\n    this.controllersOff();\n  },\n  init: function init() {\n    var contextMath = this.context.math;\n    contextMath.mathController.style.display = \"none\";\n    contextMath._mathExp = null;\n    contextMath.focusElement.value = \"\";\n    contextMath.previewElement.innerHTML = \"\";\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"lv\",\n    toolbar: {\n      default: \"Noklusjuma\",\n      save: \"Saglabt\",\n      font: \"Fonts\",\n      formats: \"Formti\",\n      fontSize: \"Fonta lielums\",\n      bold: \"Treknraksts\",\n      underline: \"Pasvtrot\",\n      italic: \"Slpraksts\",\n      strike: \"Prsvtrojums\",\n      subscript: \"Apakraksts\",\n      superscript: \"Augraksts\",\n      removeFormat: \"Noemt formtu\",\n      fontColor: \"Fonta krsa\",\n      hiliteColor: \"Teksta iezmanas krsa\",\n      indent: \"Palielint atkpi\",\n      outdent: \"Samazint atkpi\",\n      align: \"Izldzint\",\n      alignLeft: \"Ldzint pa kreisi\",\n      alignRight: \"Ldzint pa labi\",\n      alignCenter: \"Centrt\",\n      alignJustify: \"Taisnot\",\n      list: \"Saraksts\",\n      orderList: \"Numercija\",\n      unorderList: \"Aizzimes\",\n      horizontalRule: \"Horizontla lnija\",\n      hr_solid: \"Ciets\",\n      hr_dotted: \"Punkti\",\n      hr_dashed: \"Braa\",\n      table: \"Tabula\",\n      link: \"Saite\",\n      math: \"Matemtika\",\n      image: \"Attls\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Pilnekrna rems\",\n      showBlocks: \"Pardit blokus\",\n      codeView: \"Koda skats\",\n      undo: \"Atsaukt\",\n      redo: \"Atkrtot\",\n      preview: \"Priekskatjums\",\n      print: \"Drukt\",\n      tag_p: \"Paragrfs\",\n      tag_div: \"Normli (DIV)\",\n      tag_h: \"Galvene\",\n      tag_blockquote: \"Citts\",\n      tag_pre: \"Kods\",\n      template: \"Veidne\",\n      lineHeight: \"Lnijas augstums\",\n      paragraphStyle: \"Paragrfa stils\",\n      textStyle: \"Teksta stils\",\n      imageGallery: \"Attlu galerija\",\n      mention: \"Piemint\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Ievietot saiti\",\n        url: \"Saites URL\",\n        text: \"Pardmais teksts\",\n        newWindowCheck: \"Atvrt jaun log\",\n        downloadLinkCheck: \"Lejupieldes saite\",\n        bookmark: \"Grmatzme\"\n      },\n      mathBox: {\n        title: \"Matemtika\",\n        inputLabel: \"Matemtisk notcija\",\n        fontSizeLabel: \"Fonta lielums\",\n        previewLabel: \"Priekskatjums\"\n      },\n      imageBox: {\n        title: \"Ievietot attlu\",\n        file: \"Izvlieties no failiem\",\n        url: \"Attla URL\",\n        altText: \"Alternatvs teksts\"\n      },\n      videoBox: {\n        title: \"Ievietot video\",\n        file: \"Izvlieties no failiem\",\n        url: \"Multivides iegulanas URL, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Ievietot audio\",\n        file: \"Izvlieties no failiem\",\n        url: \"Audio URL\"\n      },\n      browser: {\n        tags: \"Tagi\",\n        search: \"Meklt\"\n      },\n      caption: \"Ievietot aprakstu\",\n      close: \"Aizvrt\",\n      submitButton: \"Iesniegt\",\n      revertButton: \"Atjaunot\",\n      proportion: \"Ierobeo proporcijas\",\n      basic: \"Nav iesaiojuma\",\n      left: \"Pa kreisi\",\n      right: \"Labaj pus\",\n      center: \"Centrs\",\n      width: \"Platums\",\n      height: \"Augstums\",\n      size: \"Izmrs\",\n      ratio: \"Attiecba\"\n    },\n    controller: {\n      edit: \"Redit\",\n      unlink: \"Atsaistt\",\n      remove: \"Noemt\",\n      insertRowAbove: \"Ievietot rindu virs\",\n      insertRowBelow: \"Ievietot rindu zemk\",\n      deleteRow: \"Dzst rindu\",\n      insertColumnBefore: \"Ievietot kolonnu pirms\",\n      insertColumnAfter: \"Ievietot kolonnu aiz\",\n      deleteColumn: \"Dzst kolonnu\",\n      fixColumnWidth: \"Fiksts kolonnas platums\",\n      resize100: \"Maint izmru 100%\",\n      resize75: \"Maint izmru 75%\",\n      resize50: \"Maint izmru 50%\",\n      resize25: \"Maint izmru 25%\",\n      autoSize: \"Automtiskais izmrs\",\n      mirrorHorizontal: \"Spogulis, horizontls\",\n      mirrorVertical: \"Spogulis, vertikls\",\n      rotateLeft: \"Pagriezt pa kreisi\",\n      rotateRight: \"Pagriezt pa labi\",\n      maxSize: \"Maksimlais izmrs\",\n      minSize: \"Minimlais izmrs\",\n      tableHeader: \"Tabulas galvene\",\n      mergeCells: \"Apvienot nas\",\n      splitCells: \"Sadalt nas\",\n      HorizontalSplit: \"Horizontls sadaljums\",\n      VerticalSplit: \"Vertikls sadaljums\"\n    },\n    menu: {\n      spaced: \"Ar atstarpi\",\n      bordered: \"Robeojs\",\n      neon: \"Neona\",\n      translucent: \"Caurspdgs\",\n      shadow: \"na\",\n      code: \"Kods\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"lv\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var fileManager = {\n    name: \"fileManager\",\n    _xmlHttp: null,\n    _checkMediaComponent: function _checkMediaComponent(tag) {\n      if (/IMG/i.test(tag)) {\n        return !/FIGURE/i.test(tag.parentElement.nodeName) || !/FIGURE/i.test(tag.parentElement.parentElement.nodeName);\n      } else if (/VIDEO/i.test(tag)) {\n        return !/FIGURE/i.test(tag.parentElement.nodeName);\n      }\n\n      return true;\n    },\n\n    /**\r\n     * @description Upload the file to the server.\r\n     * @param {String} uploadUrl Upload server url\r\n     * @param {Object|null} uploadHeader Request header\r\n     * @param {FormData} formData FormData in body\r\n     * @param {Function|null} callBack Success call back function\r\n     * @param {Function|null} errorCallBack Error call back function\r\n     * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n     */\n    upload: function upload(uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n      this.showLoading();\n      var filePlugin = this.plugins.fileManager;\n      var xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n      xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n      xmlHttp.open(\"post\", uploadUrl, true);\n\n      if (uploadHeader !== null && _typeof(uploadHeader) === \"object\" && this._w.Object.keys(uploadHeader).length > 0) {\n        for (var key in uploadHeader) {\n          xmlHttp.setRequestHeader(key, uploadHeader[key]);\n        }\n      }\n\n      xmlHttp.send(formData);\n    },\n    _callBackUpload: function _callBackUpload(xmlHttp, callBack, errorCallBack) {\n      if (xmlHttp.readyState === 4) {\n        if (xmlHttp.status === 200) {\n          try {\n            callBack(xmlHttp);\n          } catch (e) {\n            throw Error('[KothingEditor.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n          } finally {\n            this.closeLoading();\n          }\n        } else {\n          // exception\n          this.closeLoading();\n          var res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n\n          if (typeof errorCallBack !== \"function\" || errorCallBack(\"\", res, this)) {\n            var err = \"[KothingEditor.fileManager.upload.serverException] status: \" + xmlHttp.status + \", response: \" + (res.errorMessage || xmlHttp.responseText);\n            this.functions.noticeOpen(err);\n            throw Error(err);\n          }\n        }\n      }\n    },\n\n    /**\r\n     * @description Checke the file's information and modify the tag that does not fit the format.\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Array} tagNames Tag array to check\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\r\n     * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\r\n     * @param {Boolean} resizing True if the plugin is using a resizing module\r\n     * @example\r\n     * const modifyHandler = function (tag) {\r\n     *      imagePlugin.onModifyMode.call(this, tag, null);\r\n     *      imagePlugin.openModify.call(this, true);\r\n     *      imagePlugin.update_image.call(this, true, false, true);\r\n     *  }.bind(this);\r\n     *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n     */\n    checkInfo: function checkInfo(pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n      var tags = [];\n\n      for (var i = 0, len = tagNames.length; i < len; i++) {\n        tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n      }\n\n      var fileManagerPlugin = this.plugins.fileManager;\n      var context = this.context[pluginName];\n      var infoList = context._infoList;\n      var setFileInfo = fileManagerPlugin.setInfo.bind(this);\n\n      if (tags.length === infoList.length) {\n        // reset\n        if (this._componentsInfoReset) {\n          for (var _i = 0, _len = tags.length; _i < _len; _i++) {\n            setFileInfo(pluginName, tags[_i], uploadEventHandler, null, resizing);\n          }\n\n          return;\n        } else {\n          var infoUpdate = false;\n\n          var _loop = function _loop(_info, _i2, _len2) {\n            _info = infoList[_i2];\n\n            if (tags.filter(function (t) {\n              info = _info;\n              return _info.src === t.src && _info.index.toString() === t.getAttribute(\"data-index\");\n            }).length === 0) {\n              infoUpdate = true;\n              info = _info;\n              return \"break\";\n            }\n\n            info = _info;\n          };\n\n          for (var _i2 = 0, _len2 = infoList.length, info; _i2 < _len2; _i2++) {\n            var _ret = _loop(info, _i2, _len2);\n\n            if (_ret === \"break\") break;\n          } // pass\n\n\n          if (!infoUpdate) {\n            return;\n          }\n        }\n      } // check\n\n\n      var _resize_plugin = resizing ? this.context.resizing._resize_plugin : \"\";\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = pluginName;\n      }\n\n      var currentTags = [];\n      var infoIndex = [];\n\n      for (var _i3 = 0, _len3 = infoList.length; _i3 < _len3; _i3++) {\n        infoIndex[_i3] = infoList[_i3].index;\n      }\n\n      for (var _i4 = 0, _len4 = tags.length, tag; _i4 < _len4; _i4++) {\n        tag = tags[_i4];\n\n        if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !fileManagerPlugin._checkMediaComponent(tag)) {\n          currentTags.push(context._infoIndex);\n          modifyHandler(tag);\n        } else if (!tag.getAttribute(\"data-index\") || infoIndex.indexOf(tag.getAttribute(\"data-index\") * 1) < 0) {\n          currentTags.push(context._infoIndex);\n          tag.removeAttribute(\"data-index\");\n          setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n        } else {\n          currentTags.push(tag.getAttribute(\"data-index\") * 1);\n        }\n      }\n\n      for (var _i5 = 0, dataIndex; _i5 < infoList.length; _i5++) {\n        dataIndex = infoList[_i5].index;\n\n        if (currentTags.indexOf(dataIndex) > -1) {\n          continue;\n        }\n\n        infoList.splice(_i5, 1);\n\n        if (typeof uploadEventHandler === \"function\") {\n          uploadEventHandler(null, dataIndex, \"delete\", null, 0, this);\n        }\n\n        _i5--;\n      }\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = _resize_plugin;\n      }\n    },\n\n    /**\r\n     * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Element} element\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     * @param {Object|null} file\r\n     * @param {Boolean} resizing True if the plugin is using a resizing module\r\n     * @example\r\n     * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\r\n     * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n     */\n    setInfo: function setInfo(pluginName, element, uploadEventHandler, file, resizing) {\n      var _resize_plugin = resizing ? this.context.resizing._resize_plugin : \"\";\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = pluginName;\n      }\n\n      var plguin = this.plugins[pluginName];\n      var context = this.context[pluginName];\n      var infoList = context._infoList;\n      var dataIndex = element.getAttribute(\"data-index\");\n      var info = null;\n      var state = \"\";\n\n      if (!file) {\n        file = {\n          name: element.getAttribute(\"data-file-name\") || (typeof element.src === \"string\" ? element.src.split(\"/\").pop() : \"\"),\n          size: element.getAttribute(\"data-file-size\") || 0\n        };\n      } // create\n\n\n      if (!dataIndex || this._componentsInfoInit) {\n        state = \"create\";\n        dataIndex = context._infoIndex++;\n        element.setAttribute(\"data-index\", dataIndex);\n        element.setAttribute(\"data-file-name\", file.name);\n        element.setAttribute(\"data-file-size\", file.size);\n        info = {\n          src: element.src,\n          index: dataIndex * 1,\n          name: file.name,\n          size: file.size\n        };\n        infoList.push(info);\n      } else {\n        // update\n        state = \"update\";\n        dataIndex *= 1;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          if (dataIndex === infoList[i].index) {\n            info = infoList[i];\n            break;\n          }\n        }\n\n        if (!info) {\n          dataIndex = context._infoIndex++;\n          info = {\n            index: dataIndex\n          };\n          infoList.push(info);\n        }\n\n        info.src = element.src;\n        info.name = element.getAttribute(\"data-file-name\");\n        info.size = element.getAttribute(\"data-file-size\") * 1;\n      } // method bind\n\n\n      info.element = element;\n      info.delete = plguin.destroy.bind(this, element);\n\n      info.select = function (element) {\n        element.scrollIntoView(true);\n\n        this._w.setTimeout(plguin.select.bind(this, element));\n      }.bind(this, element);\n\n      if (resizing) {\n        if (!element.getAttribute(\"origin-size\") && element.naturalWidth) {\n          element.setAttribute(\"origin-size\", element.naturalWidth + \",\" + element.naturalHeight);\n        }\n\n        if (!element.getAttribute(\"data-origin\")) {\n          var container = this.util.getParentElement(element, this.util.isMediaComponent);\n          var cover = this.util.getParentElement(element, \"FIGURE\");\n\n          var w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n\n          var h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n\n          element.setAttribute(\"data-origin\", w + \",\" + h);\n          element.setAttribute(\"data-size\", w + \",\" + h);\n        }\n\n        if (!element.style.width) {\n          var size = (element.getAttribute(\"data-size\") || element.getAttribute(\"data-origin\") || \"\").split(\",\");\n          plguin.onModifyMode.call(this, element, null);\n          plguin.applySize.call(this, size[0], size[1]);\n        }\n\n        this.context.resizing._resize_plugin = _resize_plugin;\n      }\n\n      if (typeof uploadEventHandler === \"function\") {\n        uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n      }\n    },\n\n    /**\r\n     * @description Delete info object at \"_infoList\"\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     */\n    deleteInfo: function deleteInfo(pluginName, index, uploadEventHandler) {\n      if (index >= 0) {\n        var infoList = this.context[pluginName]._infoList;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          if (index === infoList[i].index) {\n            infoList.splice(i, 1);\n\n            if (typeof uploadEventHandler === \"function\") {\n              uploadEventHandler(null, index, \"delete\", null, 0, this);\n            }\n\n            return;\n          }\n        }\n      }\n    },\n\n    /**\r\n     * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     */\n    resetInfo: function resetInfo(pluginName, uploadEventHandler) {\n      var context = this.context[pluginName];\n\n      if (typeof uploadEventHandler === \"function\") {\n        var infoList = context._infoList;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          uploadEventHandler(null, infoList[i].index, \"delete\", null, 0, this);\n        }\n      }\n\n      context._infoList = [];\n      context._infoIndex = 0;\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"fileManager\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: fileManager\n    });\n  }\n\n  return fileManager;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"pl\",\n    toolbar: {\n      default: \"Domylne\",\n      save: \"Zapisz\",\n      font: \"Czcionka\",\n      formats: \"Formaty\",\n      fontSize: \"Rozmiar\",\n      bold: \"Pogrubienie\",\n      underline: \"Podkrelenie\",\n      italic: \"Kursywa\",\n      strike: \"Przekrelenie\",\n      subscript: \"Indeks dolny\",\n      superscript: \"Indeks grny\",\n      removeFormat: \"Wyczy formatowanie\",\n      fontColor: \"Kolor tekstu\",\n      hiliteColor: \"Kolor ta tekstu\",\n      indent: \"Zwiksz wcicie\",\n      outdent: \"Zmniejsz wcicie\",\n      align: \"Wyrwnaj\",\n      alignLeft: \"Do lewej\",\n      alignRight: \"Do prawej\",\n      alignCenter: \"Do rodka\",\n      alignJustify: \"Wyjustuj\",\n      list: \"Lista\",\n      orderList: \"Lista numerowana\",\n      unorderList: \"Lista wypunktowana\",\n      horizontalRule: \"Pozioma linia\",\n      hr_solid: \"Ciga\",\n      hr_dotted: \"Kropkowana\",\n      hr_dashed: \"Przerywana\",\n      table: \"Tabela\",\n      link: \"Odnonik\",\n      math: \"Matematyczne\",\n      image: \"Obraz\",\n      video: \"Wideo\",\n      audio: \"Audio\",\n      fullScreen: \"Peny ekran\",\n      showBlocks: \"Poka bloki\",\n      codeView: \"Widok kodu\",\n      undo: \"Cofnij\",\n      redo: \"Ponw\",\n      preview: \"Podgld\",\n      print: \"Drukuj\",\n      tag_p: \"Akapit\",\n      tag_div: \"Blok (DIV)\",\n      tag_h: \"Nagwek H\",\n      tag_blockquote: \"Cytat\",\n      tag_pre: \"Kod\",\n      template: \"Szablon\",\n      lineHeight: \"Odstp midzy wierszami\",\n      paragraphStyle: \"Styl akapitu\",\n      textStyle: \"Styl tekstu\",\n      imageGallery: \"Galeria obrazw\",\n      mention: \"Wzmianka\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Wstaw odnonik\",\n        url: \"Adres URL\",\n        text: \"Tekst do wywietlenia\",\n        newWindowCheck: \"Otwrz w nowym oknie\",\n        downloadLinkCheck: \"Link do pobrania\",\n        bookmark: \"Zakadka\"\n      },\n      mathBox: {\n        title: \"Matematyczne\",\n        inputLabel: \"Zapis matematyczny\",\n        fontSizeLabel: \"Rozmiar czcionki\",\n        previewLabel: \"Podgld\"\n      },\n      imageBox: {\n        title: \"Wstaw obraz\",\n        file: \"Wybierz plik\",\n        url: \"Adres URL obrazka\",\n        altText: \"Tekst alternatywny\"\n      },\n      videoBox: {\n        title: \"Wstaw wideo\",\n        file: \"Wybierz plik\",\n        url: \"Adres URL video, np. YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Wstaw audio\",\n        file: \"Wybierz plik\",\n        url: \"Adres URL audio\"\n      },\n      browser: {\n        tags: \"Tagi\",\n        search: \"Szukaj\"\n      },\n      caption: \"Wstaw opis\",\n      close: \"Zamknij\",\n      submitButton: \"Zatwierd\",\n      revertButton: \"Cofnij zmiany\",\n      proportion: \"Ogranicz proporcje\",\n      basic: \"Bez wyrwnania\",\n      left: \"Do lewej\",\n      right: \"Do prawej\",\n      center: \"Do rodka\",\n      width: \"Szeroko\",\n      height: \"Wysoko\",\n      size: \"Rozmiar\",\n      ratio: \"Proporcje\"\n    },\n    controller: {\n      edit: \"Edycja\",\n      unlink: \"Usu odnonik\",\n      remove: \"Usu\",\n      insertRowAbove: \"Wstaw wiersz powyej\",\n      insertRowBelow: \"Wstaw wiersz poniej\",\n      deleteRow: \"Usu wiersz\",\n      insertColumnBefore: \"Wstaw kolumn z lewej\",\n      insertColumnAfter: \"Wstaw kolumn z prawej\",\n      deleteColumn: \"Usu kolumn\",\n      fixedColumnWidth: \"Staa szeroko kolumny\",\n      resize100: \"Zmie rozmiar - 100%\",\n      resize75: \"Zmie rozmiar - 75%\",\n      resize50: \"Zmie rozmiar - 50%\",\n      resize25: \"Zmie rozmiar - 25%\",\n      autoSize: \"Rozmiar automatyczny\",\n      mirrorHorizontal: \"Odbicie lustrzane w poziomie\",\n      mirrorVertical: \"Odbicie lustrzane w pionie\",\n      rotateLeft: \"Obr w lewo\",\n      rotateRight: \"Obr w prawo\",\n      maxSize: \"Maksymalny rozmiar\",\n      minSize: \"Minimalny rozmiar\",\n      tableHeader: \"Nagwek tabeli\",\n      mergeCells: \"Scal komrki\",\n      splitCells: \"Podziel komrki\",\n      HorizontalSplit: \"Podzia poziomy\",\n      VerticalSplit: \"Podzia pionowy\"\n    },\n    menu: {\n      spaced: \"Rozstawiony\",\n      bordered: \"Z obwdk\",\n      neon: \"Neon\",\n      translucent: \"Pprzezroczysty\",\n      shadow: \"Cie\",\n      code: \"Kod\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"pl\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defaultIcons = _interopRequireDefault(require(\"../assets/defaultIcons\"));\n\nvar _en = _interopRequireDefault(require(\"../lang/en\"));\n\nvar _util = _interopRequireDefault(require(\"./util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default2 = {\n  /**\r\n   * @description document create\r\n   * @param {Element} element Textarea\r\n   * @param {Object} options Options\r\n   * @returns {Object}\r\n   */\n  init: function init(element, options) {\n    if (_typeof(options) !== \"object\") options = {};\n    var doc = document;\n    /** --- init options --- */\n\n    this._initOptions(element, options); // KothingEditor div\n\n\n    var top_div = doc.createElement(\"DIV\");\n    top_div.className = \"kothing-editor\" + (options.rtl ? \" ke-rtl\" : \"\");\n    if (element.id) top_div.id = \"kothing-editor_\" + element.id; // relative div\n\n    var relative = doc.createElement(\"DIV\");\n    relative.className = \"ke-container\"; // toolbar\n\n    var tool_bar = this._createToolBar(doc, options.toolbarItem, options.plugins, options);\n\n    tool_bar.element.style.visibility = \"hidden\";\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n    var arrow = doc.createElement(\"DIV\");\n    arrow.className = \"ke-arrow\"; // sticky toolbar dummy\n\n    var sticky_dummy = doc.createElement(\"DIV\");\n    sticky_dummy.className = \"ke-toolbar-sticky-dummy\"; // inner editor div\n\n    var editor_div = doc.createElement(\"DIV\");\n    editor_div.className = \"ke-wrapper\";\n    /** --- init elements and create bottom bar --- */\n\n    var initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n    var bottomBar = initElements.bottomBar;\n    var wysiwyg_div = initElements.wysiwygFrame;\n    var placeholder_span = initElements.placeholder;\n    var textarea = initElements.codeView; // resizing bar\n\n    var resizing_bar = bottomBar.resizingBar;\n    var navigation = bottomBar.navigation;\n    var char_wrapper = bottomBar.charWrapper;\n    var char_counter = bottomBar.charCounter; // loading box\n\n    var loading_box = doc.createElement(\"DIV\");\n    loading_box.className = \"ke-loading-box kothing-editor-common\";\n    loading_box.innerHTML = '<div class=\"ke-loading-effect\"></div>'; // enter line\n\n    var line_breaker = doc.createElement(\"DIV\");\n    line_breaker.className = \"ke-line-breaker\";\n    line_breaker.innerHTML = '<button class=\"ke-btn\">' + options.icons.line_break + \"</button>\";\n    var line_breaker_t = doc.createElement(\"DIV\");\n    line_breaker_t.className += \"ke-line-breaker-component\";\n    var line_breaker_b = line_breaker_t.cloneNode(true);\n    line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break; // resize operation background\n\n    var resize_back = doc.createElement(\"DIV\");\n    resize_back.className = \"ke-resizing-back\"; // toolbar container\n\n    var toolbarContainer = options.toolbarContainer;\n\n    if (toolbarContainer) {\n      toolbarContainer.appendChild(tool_bar.element);\n    }\n    /** append html */\n\n\n    editor_div.appendChild(textarea);\n    if (placeholder_span) editor_div.appendChild(placeholder_span);\n    if (!toolbarContainer) relative.appendChild(tool_bar.element);\n    relative.appendChild(sticky_dummy);\n    relative.appendChild(editor_div);\n    relative.appendChild(resize_back);\n    relative.appendChild(loading_box);\n    relative.appendChild(line_breaker);\n    relative.appendChild(line_breaker_t);\n    relative.appendChild(line_breaker_b);\n    if (resizing_bar) relative.appendChild(resizing_bar);\n    top_div.appendChild(relative);\n    textarea = this._checkCodeMirror(options, textarea);\n    return {\n      constructed: {\n        top: top_div,\n        relative: relative,\n        toolBar: tool_bar.element,\n        menuTray: tool_bar.menuTray,\n        editorArea: editor_div,\n        wysiwygArea: wysiwyg_div,\n        codeArea: textarea,\n        placeholder: placeholder_span,\n        resizingBar: resizing_bar,\n        navigation: navigation,\n        charWrapper: char_wrapper,\n        charCounter: char_counter,\n        loading: loading_box,\n        lineBreaker: line_breaker,\n        lineBreaker_t: line_breaker_t,\n        lineBreaker_b: line_breaker_b,\n        resizeBack: resize_back,\n        stickyDummy: sticky_dummy,\n        arrow: arrow\n      },\n      options: options,\n      plugins: tool_bar.plugins,\n      pluginCallButtons: tool_bar.pluginCallButtons,\n      _responsiveButtons: tool_bar.responsiveButtons\n    };\n  },\n\n  /**\r\n   * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n   * @param {Object} options options\r\n   * @param {Element} textarea textarea element\r\n   * @private\r\n   */\n  _checkCodeMirror: function _checkCodeMirror(options, textarea) {\n    if (options.codeMirror) {\n      var cmOptions = [{\n        mode: \"htmlmixed\",\n        htmlMode: true,\n        lineNumbers: true,\n        lineWrapping: true\n      }, options.codeMirror.options || {}].reduce(function (init, option) {\n        for (var key in option) {\n          if (_util.default.hasOwn(option, key)) init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n\n      if (options.height === \"auto\") {\n        cmOptions.viewportMargin = Infinity;\n        cmOptions.height = \"auto\";\n      }\n\n      var cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n      cm.display.wrapper.style.cssText = textarea.style.cssText;\n      options.codeMirrorEditor = cm;\n      textarea = cm.display.wrapper;\n      textarea.className += \" ke-wrapper-code-mirror\";\n    }\n\n    return textarea;\n  },\n\n  /**\r\n   * @description Check for a katex object.\r\n   * @param {Object} katex katex object\r\n   * @private\r\n   */\n  _checkKatexMath: function _checkKatexMath(katex) {\n    if (!katex) throw Error('[KothingEditor.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n    var katexOptions = [{\n      throwOnError: false\n    }, katex.options || {}].reduce(function (init, option) {\n      for (var key in option) {\n        if (_util.default.hasOwn(option, key)) init[key] = option[key];\n      }\n\n      return init;\n    }, {});\n    katex.options = katexOptions;\n  },\n\n  /**\r\n   * @description Add or reset options\r\n   * @param {Object} mergeOptions New options property\r\n   * @param {Object} context Context object of core\r\n   * @param {Object} originOptions Origin options\r\n   * @returns {Object} pluginCallButtons\r\n   * @private\r\n   */\n  _setOptions: function _setOptions(mergeOptions, context, originOptions) {\n    this._initOptions(context.element.originElement, mergeOptions);\n\n    var el = context.element;\n    var relative = el.relative;\n    var editorArea = el.editorArea;\n    var isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n    var isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.toolbarItem !== originOptions.toolbarItem || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n\n    var tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.toolbarItem : originOptions.toolbarItem, mergeOptions.plugins, mergeOptions);\n\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n    var arrow = document.createElement(\"DIV\");\n    arrow.className = \"ke-arrow\";\n\n    if (isNewToolbar) {\n      tool_bar.element.style.visibility = \"hidden\"; // toolbar container\n\n      if (isNewToolbarContainer) {\n        mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n        el.toolbar.parentElement.removeChild(el.toolbar);\n      } else {\n        el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n      }\n\n      el.toolbar = tool_bar.element;\n      el.menuTray = tool_bar.menuTray;\n      el.arrow = arrow;\n    }\n\n    var initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n    var bottomBar = initElements.bottomBar;\n    var wysiwygFrame = initElements.wysiwygFrame;\n    var placeholder_span = initElements.placeholder;\n    var code = initElements.codeView;\n    if (el.resizingBar) relative.removeChild(el.resizingBar);\n    if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\n    editorArea.innerHTML = \"\";\n    editorArea.appendChild(code);\n    if (placeholder_span) editorArea.appendChild(placeholder_span);\n    code = this._checkCodeMirror(mergeOptions, code);\n    el.resizingBar = bottomBar.resizingBar;\n    el.navigation = bottomBar.navigation;\n    el.charWrapper = bottomBar.charWrapper;\n    el.charCounter = bottomBar.charCounter;\n    el.wysiwygFrame = wysiwygFrame;\n    el.code = code;\n    el.placeholder = placeholder_span;\n    if (mergeOptions.rtl) _util.default.addClass(el.topArea, \"ke-rtl\");else _util.default.removeClass(el.topArea, \"ke-rtl\");\n    return {\n      callButtons: tool_bar.pluginCallButtons,\n      plugins: tool_bar.plugins,\n      toolbar: tool_bar\n    };\n  },\n\n  /**\r\n   * @description Initialize property of KothingEditor elements\r\n   * @param {Object} options Options\r\n   * @param {Element} topDiv KothingEditor top div\r\n   * @param {Element} toolBar Tool bar\r\n   * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n   * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n   * @private\r\n   */\n  _initElements: function _initElements(options, topDiv, toolBar, toolBarArrow) {\n    /** top div */\n    topDiv.style.cssText = options._editorStyles.top;\n    /** toolbar */\n\n    if (/inline/i.test(options.mode)) {\n      toolBar.className += \" ke-toolbar-inline\";\n      toolBar.style.width = options.toolbarWidth;\n    } else if (/balloon/i.test(options.mode)) {\n      toolBar.className += \" ke-toolbar-balloon\";\n      toolBar.style.width = options.toolbarWidth;\n      toolBar.appendChild(toolBarArrow);\n    }\n    /** editor */\n    // wysiwyg div or iframe\n\n\n    var wysiwygDiv = document.createElement(!options.iframe ? \"DIV\" : \"IFRAME\");\n    wysiwygDiv.className = \"ke-wrapper-inner ke-wrapper-wysiwyg\";\n\n    if (!options.iframe) {\n      wysiwygDiv.setAttribute(\"contenteditable\", true);\n      wysiwygDiv.setAttribute(\"scrolling\", \"auto\");\n      wysiwygDiv.className += \" \" + options._editableClass;\n      wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n    } else {\n      wysiwygDiv.allowFullscreen = true;\n      wysiwygDiv.frameBorder = 0;\n      wysiwygDiv.style.cssText = options._editorStyles.frame;\n    } // textarea for code view\n\n\n    var textarea = document.createElement(\"TEXTAREA\");\n    textarea.className = \"ke-wrapper-inner ke-wrapper-code\";\n    textarea.style.cssText = options._editorStyles.frame;\n    textarea.style.display = \"none\";\n    if (options.height === \"auto\") textarea.style.overflow = \"hidden\";\n    /** resize bar */\n\n    var resizingBar = null;\n    var resizinIcon = null;\n    var navigation = null;\n    var charWrapper = null;\n    var charCounter = null;\n    var poweredBy = null;\n\n    if (options.resizingBar) {\n      resizingBar = document.createElement(\"DIV\");\n      resizingBar.className = \"ke-resizing-bar\";\n      /** resizinIcon */\n\n      if (/\\d+/.test(options.height)) {\n        resizinIcon = document.createElement(\"DIV\");\n        resizinIcon.className = \"ke-resizing-icon\";\n        resizingBar.appendChild(resizinIcon);\n      }\n      /** navigation */\n\n\n      navigation = document.createElement(\"DIV\");\n      navigation.className = \"ke-navigation\";\n      resizingBar.appendChild(navigation);\n      /** char counter */\n\n      if (options.charCounter) {\n        charWrapper = document.createElement(\"DIV\");\n        charWrapper.className = \"ke-char-counter-wrapper\";\n\n        if (options.charCounterLabel) {\n          var charLabel = document.createElement(\"SPAN\");\n          charLabel.className = \"ke-char-label\";\n          charLabel.textContent = options.charCounterLabel;\n          charWrapper.appendChild(charLabel);\n        }\n\n        charCounter = document.createElement(\"SPAN\");\n        charCounter.className = \"ke-char-counter\";\n        charCounter.textContent = \"0\";\n        charWrapper.appendChild(charCounter);\n\n        if (options.maxCharCount > 0) {\n          var char_max = document.createElement(\"SPAN\");\n          char_max.textContent = \" / \" + options.maxCharCount;\n          charWrapper.appendChild(char_max);\n        }\n\n        resizingBar.appendChild(charWrapper);\n      }\n      /** poweredBy */\n\n\n      poweredBy = document.createElement(\"DIV\");\n      poweredBy.className = \"ke-powered-by\";\n      poweredBy.innerHTML = \"<a href=\\\"https://github.com/kothing/kothing-editor\\\" target=\\\"_blank\\\" title=\\\"Kothing-Editor\\\">Powered By Kothing</a>\";\n      resizingBar.appendChild(poweredBy);\n    }\n\n    var placeholder = null;\n\n    if (options.placeholder) {\n      placeholder = document.createElement(\"SPAN\");\n      placeholder.className = \"ke-placeholder\";\n      placeholder.innerText = options.placeholder;\n    }\n\n    return {\n      bottomBar: {\n        resizingBar: resizingBar,\n        navigation: navigation,\n        charWrapper: charWrapper,\n        charCounter: charCounter\n      },\n      wysiwygFrame: wysiwygDiv,\n      codeView: textarea,\n      placeholder: placeholder\n    };\n  },\n\n  /**\r\n   * @description Initialize options\r\n   * @param {Element} element Options object\r\n   * @param {Object} options Options object\r\n   * @private\r\n   */\n  _initOptions: function _initOptions(element, options) {\n    /** Values */\n    options.lang = options.lang || _en.default;\n    options.defaultTag = typeof options.defaultTag === \"string\" ? options.defaultTag : \"p\";\n    var textTags = options.textTags = [{\n      bold: \"STRONG\",\n      underline: \"U\",\n      italic: \"EM\",\n      strike: \"DEL\",\n      sub: \"SUB\",\n      sup: \"SUP\"\n    }, options.textTags || {}].reduce(function (_default, _new) {\n      for (var key in _new) {\n        _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    options._textTagsMap = {\n      strong: textTags.bold.toLowerCase(),\n      b: textTags.bold.toLowerCase(),\n      u: textTags.underline.toLowerCase(),\n      ins: textTags.underline.toLowerCase(),\n      em: textTags.italic.toLowerCase(),\n      i: textTags.italic.toLowerCase(),\n      del: textTags.strike.toLowerCase(),\n      strike: textTags.strike.toLowerCase(),\n      s: textTags.strike.toLowerCase(),\n      sub: textTags.sub.toLowerCase(),\n      sup: textTags.sup.toLowerCase()\n    };\n    options.value = typeof options.value === \"string\" ? options.value : null;\n    options.historyStackDelayTime = typeof options.historyStackDelayTime === \"number\" ? options.historyStackDelayTime : 400;\n    /** Whitelist */\n\n    var whitelist = \"br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path\";\n    options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === \"string\" ? options._defaultTagsWhitelist : whitelist;\n    options._editorTagsWhitelist = this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === \"string\" && options.addTagsWhitelist.length > 0 ? \"|\" + options.addTagsWhitelist : \"\"), options.tagsBlacklist);\n    options.pasteTagsWhitelist = this._setWhitelist(typeof options.pasteTagsWhitelist === \"string\" ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\n    options.attributesWhitelist = !options.attributesWhitelist || _typeof(options.attributesWhitelist) !== \"object\" ? null : options.attributesWhitelist;\n    /** Layout */\n\n    options.mode = options.mode || \"classic\"; // classic, inline, balloon, balloon-always\n\n    options.rtl = !!options.rtl;\n    options._editableClass = \"kothing-editor-editable\" + (options.rtl ? \" ke-rtl\" : \"\");\n    options._printClass = typeof options._printClass === \"string\" ? options._printClass : null;\n    options.toolbarWidth = options.toolbarWidth ? _util.default.isNumber(options.toolbarWidth) ? options.toolbarWidth + \"px\" : options.toolbarWidth : \"auto\";\n    options.toolbarContainer = typeof options.toolbarContainer === \"string\" ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n    options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? _util.default.getNumber(options.stickyToolbar, 0) : -1;\n    options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : /^\\d+/.test(options.fullScreenOffset) ? _util.default.getNumber(options.fullScreenOffset, 0) : 0;\n    options.iframe = options.fullPage || options.iframe;\n    options.fullPage = !!options.fullPage;\n    options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === \"string\" ? [options.iframeCSSFileName] : options.iframeCSSFileName || [\"kothing-editor\"] : null;\n    options.previewTemplate = typeof options.previewTemplate === \"string\" ? options.previewTemplate : null;\n    options.printTemplate = typeof options.printTemplate === \"string\" ? options.printTemplate : null;\n    /** CodeMirror object */\n\n    options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n      src: options.codeMirror\n    } : null;\n    /** katex object (Math plugin) */\n\n    options.katex = options.katex ? options.katex.src ? options.katex : {\n      src: options.katex\n    } : null;\n    options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [{\n      text: \"1\",\n      value: \"1em\"\n    }, {\n      text: \"1.5\",\n      value: \"1.5em\"\n    }, {\n      text: \"2\",\n      value: \"2em\"\n    }, {\n      text: \"2.5\",\n      value: \"2.5em\"\n    }];\n    /** Display */\n\n    options.position = typeof options.position === \"string\" ? options.position : null;\n    options.display = options.display || (element.style.display === \"none\" || !element.style.display ? \"block\" : element.style.display);\n    options.popupDisplay = options.popupDisplay || \"full\";\n    /** Bottom resizing bar */\n\n    options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n    options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === \"boolean\" ? options.showPathLabel : true;\n    /** Character count */\n\n    options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === \"boolean\" ? options.charCounter : false;\n    options.charCounterType = typeof options.charCounterType === \"string\" ? options.charCounterType : \"char\";\n    options.charCounterLabel = typeof options.charCounterLabel === \"string\" ? options.charCounterLabel.trim() : null;\n    options.maxCharCount = _util.default.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n    /** Width size */\n\n    options.width = options.width ? _util.default.isNumber(options.width) ? options.width + \"px\" : options.width : element.clientWidth ? element.clientWidth + \"px\" : \"100%\";\n    options.minWidth = (_util.default.isNumber(options.minWidth) ? options.minWidth + \"px\" : options.minWidth) || \"\";\n    options.maxWidth = (_util.default.isNumber(options.maxWidth) ? options.maxWidth + \"px\" : options.maxWidth) || \"\";\n    /** Height size */\n\n    options.height = options.height ? _util.default.isNumber(options.height) ? options.height + \"px\" : options.height : element.clientHeight ? element.clientHeight + \"px\" : \"auto\";\n    options.minHeight = (_util.default.isNumber(options.minHeight) ? options.minHeight + \"px\" : options.minHeight) || \"\";\n    options.maxHeight = (_util.default.isNumber(options.maxHeight) ? options.maxHeight + \"px\" : options.maxHeight) || \"\";\n    /** Editing area default style */\n\n    options.defaultStyle = typeof options.defaultStyle === \"string\" ? options.defaultStyle : \"\";\n    /** Defining menu items */\n\n    options.font = !options.font ? null : options.font;\n    options.fontSize = !options.fontSize ? null : options.fontSize;\n    options.formats = !options.formats ? null : options.formats;\n    options.colorList = !options.colorList ? null : options.colorList;\n    options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n    options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n    options.textStyles = !options.textStyles ? null : options.textStyles;\n    options.fontSizeUnit = typeof options.fontSizeUnit === \"string\" ? options.fontSizeUnit.trim() || \"px\" : \"px\";\n    /** Image */\n\n    options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n    options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n    options.imageWidth = !options.imageWidth ? \"auto\" : _util.default.isNumber(options.imageWidth) ? options.imageWidth + \"px\" : options.imageWidth;\n    options.imageHeight = !options.imageHeight ? \"auto\" : _util.default.isNumber(options.imageHeight) ? options.imageHeight + \"px\" : options.imageHeight;\n    options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n    options._imageSizeUnit = options.imageSizeOnlyPercentage ? \"%\" : \"px\";\n    options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n    options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n    options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n    options.imageUploadHeader = options.imageUploadHeader || null;\n    options.imageUploadUrl = typeof options.imageUploadUrl === \"string\" ? options.imageUploadUrl : null;\n    options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? _util.default.getNumber(options.imageUploadSizeLimit, 0) : null;\n    options.imageMultipleFile = !!options.imageMultipleFile;\n    options.imageAccept = typeof options.imageAccept !== \"string\" || options.imageAccept.trim() === \"*\" ? \"image/*\" : options.imageAccept.trim() || \"image/*\";\n    /** Image - image gallery */\n\n    options.imageGalleryUrl = typeof options.imageGalleryUrl === \"string\" ? options.imageGalleryUrl : null;\n    options.imageGalleryHeader = options.imageGalleryHeader || null;\n    /** Video */\n\n    options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n    options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n    options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n    options.videoWidth = !options.videoWidth || !_util.default.getNumber(options.videoWidth, 0) ? \"\" : _util.default.isNumber(options.videoWidth) ? options.videoWidth + \"px\" : options.videoWidth;\n    options.videoHeight = !options.videoHeight || !_util.default.getNumber(options.videoHeight, 0) ? \"\" : _util.default.isNumber(options.videoHeight) ? options.videoHeight + \"px\" : options.videoHeight;\n    options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n    options._videoSizeUnit = options.videoSizeOnlyPercentage ? \"%\" : \"px\";\n    options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n    options.videoRatio = _util.default.getNumber(options.videoRatio, 4) || 0.5625;\n    options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n    options.youtubeQuery = (options.youtubeQuery || \"\").replace(\"?\", \"\");\n    options.videoFileInput = !!options.videoFileInput;\n    options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n    options.videoUploadHeader = options.videoUploadHeader || null;\n    options.videoUploadUrl = typeof options.videoUploadUrl === \"string\" ? options.videoUploadUrl : null;\n    options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? _util.default.getNumber(options.videoUploadSizeLimit, 0) : null;\n    options.videoMultipleFile = !!options.videoMultipleFile;\n    options.videoTagAttrs = options.videoTagAttrs || null;\n    options.videoIframeAttrs = options.videoIframeAttrs || null;\n    options.videoAccept = typeof options.videoAccept !== \"string\" || options.videoAccept.trim() === \"*\" ? \"video/*\" : options.videoAccept.trim() || \"video/*\";\n    /** Audio */\n\n    options.audioWidth = !options.audioWidth ? \"\" : _util.default.isNumber(options.audioWidth) ? options.audioWidth + \"px\" : options.audioWidth;\n    options.audioHeight = !options.audioHeight ? \"\" : _util.default.isNumber(options.audioHeight) ? options.audioHeight + \"px\" : options.audioHeight;\n    options.audioFileInput = !!options.audioFileInput;\n    options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n    options.audioUploadHeader = options.audioUploadHeader || null;\n    options.audioUploadUrl = typeof options.audioUploadUrl === \"string\" ? options.audioUploadUrl : null;\n    options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? _util.default.getNumber(options.audioUploadSizeLimit, 0) : null;\n    options.audioMultipleFile = !!options.audioMultipleFile;\n    options.audioTagAttrs = options.audioTagAttrs || null;\n    options.audioAccept = typeof options.audioAccept !== \"string\" || options.audioAccept.trim() === \"*\" ? \"audio/*\" : options.audioAccept.trim() || \"audio/*\";\n    /** Table */\n\n    options.tableCellControllerPosition = typeof options.tableCellControllerPosition === \"string\" ? options.tableCellControllerPosition.toLowerCase() : \"cell\";\n    /** Link */\n\n    options.linkProtocol = typeof options.linkProtocol === \"string\" ? options.linkProtocol : null;\n    options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\n    options.linkRelDefault = options.linkRelDefault || {};\n    /** Key actions */\n\n    options.tabDisable = !!options.tabDisable;\n    options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\n    options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n    /** Defining save button */\n\n    options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n    /** Templates Array */\n\n    options.templates = !options.templates ? null : options.templates;\n    /** ETC */\n\n    options.placeholder = typeof options.placeholder === \"string\" ? options.placeholder : null;\n    options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\n    /** Buttons */\n\n    options.toolbarItem = !!options.toolbarItem ? options.toolbarItem : [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n    /** RTL - buttons */\n\n    if (options.rtl) {\n      options.toolbarItem = options.toolbarItem.reverse();\n    }\n    /** --- Define icons --- */\n    // custom icons\n\n\n    options.icons = !options.icons || _typeof(options.icons) !== \"object\" ? _defaultIcons.default : [_defaultIcons.default, options.icons].reduce(function (_default, _new) {\n      for (var key in _new) {\n        if (_util.default.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {}); // rtl icons\n\n    options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\n      for (var key in _new) {\n        if (_util.default.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    /** _init options */\n\n    options._editorStyles = _util.default._setDefaultOptionStyle(options, options.defaultStyle);\n  },\n  _setWhitelist: function _setWhitelist(whitelist, blacklist) {\n    if (typeof blacklist !== \"string\") return whitelist;\n    blacklist = blacklist.split(\"|\");\n    whitelist = whitelist.split(\"|\");\n\n    for (var i = 0, len = blacklist.length, index; i < len; i++) {\n      index = whitelist.indexOf(blacklist[i]);\n      if (index > -1) whitelist.splice(index, 1);\n    }\n\n    return whitelist.join(\"|\");\n  },\n\n  /**\r\n   * @description KothingEditor's Default button list\r\n   * @param {Object} options options\r\n   * @private\r\n   */\n  _defaultButtons: function _defaultButtons(options) {\n    var icons = options.icons;\n    var lang = options.lang;\n    var cmd = _util.default.isOSX_IOS ? \"\" : \"CTRL\";\n    var addShift = _util.default.isOSX_IOS ? \"\" : \"+SHIFT\";\n    var shortcutsDisable = !options.shortcutsHint ? [\"bold\", \"strike\", \"underline\", \"italic\", \"undo\", \"indent\", \"save\"] : options.shortcutsDisable;\n    var indentKey = options.rtl ? [\"[\", \"]\"] : [\"]\", \"[\"];\n    return {\n      /** default command */\n      bold: [\"_ke_command_bold\", lang.toolbar.bold + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"bold\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">B</span>') + \"</span>\", \"bold\", \"\", icons.bold],\n      underline: [\"_ke_command_underline\", lang.toolbar.underline + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"underline\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">U</span>') + \"</span>\", \"underline\", \"\", icons.underline],\n      italic: [\"_ke_command_italic\", lang.toolbar.italic + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"italic\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">I</span>') + \"</span>\", \"italic\", \"\", icons.italic],\n      strike: [\"_ke_command_strike\", lang.toolbar.strike + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"strike\") > -1 ? \"\" : cmd + addShift + '+<span class=\"ke-shortcut-key\">S</span>') + \"</span>\", \"strike\", \"\", icons.strike],\n      subscript: [\"_ke_command_subscript\", lang.toolbar.subscript, \"SUB\", \"\", icons.subscript],\n      superscript: [\"_ke_command_superscript\", lang.toolbar.superscript, \"SUP\", \"\", icons.superscript],\n      removeFormat: [\"\", lang.toolbar.removeFormat, \"removeFormat\", \"\", icons.erase],\n      indent: [\"_ke_command_indent\", lang.toolbar.indent + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"indent\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">' + indentKey[0] + \"</span>\") + \"</span>\", \"indent\", \"\", icons.outdent],\n      outdent: [\"_ke_command_outdent\", lang.toolbar.outdent + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"indent\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">' + indentKey[1] + \"</span>\") + \"</span>\", \"outdent\", \"\", icons.indent],\n      fullScreen: [\"ke-code-view-enabled ke-resizing-enabled _ke_command_fullScreen\", lang.toolbar.fullScreen, \"fullScreen\", \"\", icons.expansion],\n      showBlocks: [\"_ke_command_showBlocks\", lang.toolbar.showBlocks, \"showBlocks\", \"\", icons.show_blocks],\n      codeView: [\"ke-code-view-enabled ke-resizing-enabled _ke_command_codeView\", lang.toolbar.codeView, \"codeView\", \"\", icons.code_view],\n      undo: [\"_ke_command_undo ke-resizing-enabled\", lang.toolbar.undo + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"undo\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">Z</span>') + \"</span>\", \"undo\", \"\", icons.undo],\n      redo: [\"_ke_command_redo ke-resizing-enabled\", lang.toolbar.redo + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"undo\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"ke-shortcut-key\">Z</span>') + \"</span>\", \"redo\", \"\", icons.redo],\n      preview: [\"ke-resizing-enabled\", lang.toolbar.preview, \"preview\", \"\", icons.preview],\n      print: [\"ke-resizing-enabled\", lang.toolbar.print, \"print\", \"\", icons.print],\n      save: [\"_ke_command_save ke-resizing-enabled\", lang.toolbar.save + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"save\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">S</span>') + \"</span>\", \"save\", \"\", icons.save],\n\n      /** plugins - command */\n      blockquote: [\"\", lang.toolbar.tag_blockquote, \"blockquote\", \"command\", icons.blockquote],\n\n      /** plugins - submenu */\n      font: [\"ke-btn-select ke-btn-tool-font\", lang.toolbar.font, \"font\", \"submenu\", \"<span class=\\\"txt\\\">\".concat(icons.font, \"</span> <span class=\\\"arrow-icon\\\">\").concat(icons.arrow_down, \"</span>\")],\n      formatBlock: [\"ke-btn-select ke-btn-tool-format\", lang.toolbar.formats, \"formatBlock\", \"submenu\", \"<span class=\\\"txt\\\">\".concat(icons.format_block, \"</span> <span class=\\\"arrow-icon\\\">\").concat(icons.arrow_down, \"</span>\")],\n      fontSize: [\"ke-btn-select ke-btn-tool-size\", lang.toolbar.fontSize, \"fontSize\", \"submenu\", \"<span class=\\\"txt\\\">\".concat(icons.font_size, \"</span> <span class=\\\"arrow-icon\\\">\").concat(icons.arrow_down, \"</span>\")],\n      fontColor: [\"\", lang.toolbar.fontColor, \"fontColor\", \"submenu\", icons.font_color],\n      hiliteColor: [\"\", lang.toolbar.hiliteColor, \"hiliteColor\", \"submenu\", icons.highlight_color],\n      align: [\"ke-btn-align\", lang.toolbar.align, \"align\", \"submenu\", options.rtl ? icons.align_right : icons.align_left],\n      list: [\"\", lang.toolbar.list, \"list\", \"submenu\", icons.list_number],\n      horizontalRule: [\"btn_line\", lang.toolbar.horizontalRule, \"horizontalRule\", \"submenu\", icons.horizontal_rule],\n      table: [\"\", lang.toolbar.table, \"table\", \"submenu\", icons.table],\n      lineHeight: [\"\", lang.toolbar.lineHeight, \"lineHeight\", \"submenu\", icons.line_height],\n      template: [\"\", lang.toolbar.template, \"template\", \"submenu\", icons.template],\n      paragraphStyle: [\"\", lang.toolbar.paragraphStyle, \"paragraphStyle\", \"submenu\", icons.paragraph_style],\n      textStyle: [\"\", lang.toolbar.textStyle, \"textStyle\", \"submenu\", icons.text_style],\n\n      /** plugins - dialog */\n      link: [\"\", lang.toolbar.link, \"link\", \"dialog\", icons.link],\n      image: [\"\", lang.toolbar.image, \"image\", \"dialog\", icons.image],\n      video: [\"\", lang.toolbar.video, \"video\", \"dialog\", icons.video],\n      audio: [\"\", lang.toolbar.audio, \"audio\", \"dialog\", icons.audio],\n      math: [\"\", lang.toolbar.math, \"math\", \"dialog\", icons.math],\n\n      /** plugins - fileBrowser */\n      imageGallery: [\"\", lang.toolbar.imageGallery, \"imageGallery\", \"fileBrowser\", icons.image_gallery]\n    };\n  },\n\n  /**\r\n   * @description Create a group div containing each module\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createModuleGroup: function _createModuleGroup() {\n    var oDiv = _util.default.createElement(\"DIV\");\n\n    oDiv.className = \"ke-btn-module ke-btn-module-border\";\n\n    var oUl = _util.default.createElement(\"UL\");\n\n    oUl.className = \"ke-menu-list\";\n    oDiv.appendChild(oUl);\n    return {\n      div: oDiv,\n      ul: oUl\n    };\n  },\n\n  /**\r\n   * @description Create a button element\r\n   * @param {string} buttonClass className in button\r\n   * @param {string} title Title in button\r\n   * @param {string} dataCommand The data-command property of the button\r\n   * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n   * @param {string} innerHTML Html in button\r\n   * @param {string} _disabled Button disabled\r\n   * @param {Object} _icons Icons\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createButton: function _createButton(buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n    var oLi = _util.default.createElement(\"LI\");\n\n    var oButton = _util.default.createElement(\"BUTTON\");\n\n    oButton.setAttribute(\"type\", \"button\");\n    oButton.setAttribute(\"class\", \"ke-btn\" + (buttonClass ? \" \" + buttonClass : \"\") + \" ke-tooltip\");\n    oButton.setAttribute(\"data-command\", dataCommand);\n    oButton.setAttribute(\"data-display\", dataDisplay);\n    oButton.setAttribute(\"tabindex\", \"-1\");\n    if (!innerHTML) innerHTML = '<span class=\"ke-icon-text\">!</span>';\n\n    if (/^default\\./i.test(innerHTML)) {\n      innerHTML = _icons[innerHTML.replace(/^default\\./i, \"\")];\n    }\n\n    if (/^text\\./i.test(innerHTML)) {\n      innerHTML = innerHTML.replace(/^text\\./i, \"\");\n      oButton.className += \" ke-btn-more-text\";\n    }\n\n    innerHTML += '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + (title || dataCommand) + \"</span></span>\";\n\n    if (_disabled) {\n      oButton.setAttribute(\"disabled\", true);\n    }\n\n    oButton.innerHTML = innerHTML;\n    oLi.appendChild(oButton);\n    return {\n      li: oLi,\n      button: oButton\n    };\n  },\n\n  /**\r\n   * @description Create editor HTML\r\n   * @param {Array} doc document object\r\n   * @param {Array} toolbarItem option.toolbarItem\r\n   * @param {Array|Object|null} _plugins Plugins\r\n   * @param {Array} options options\r\n   * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n   * @private\r\n   */\n  _createToolBar: function _createToolBar(doc, toolbarItem, _plugins, options) {\n    var separator_vertical = doc.createElement(\"DIV\");\n    separator_vertical.className = \"ke-toolbar-separator-vertical\";\n    var tool_bar = doc.createElement(\"DIV\");\n    tool_bar.className = \"ke-toolbar kothing-editor-common\";\n    var buttonTray = doc.createElement(\"DIV\");\n    buttonTray.className = \"ke-btn-tray\";\n    tool_bar.appendChild(buttonTray);\n    /** create button list */\n\n    toolbarItem = JSON.parse(JSON.stringify(toolbarItem));\n    var icons = options.icons;\n\n    var defaultToolbarItem = this._defaultButtons(options);\n\n    var pluginCallButtons = {};\n    var responsiveButtons = [];\n    var plugins = {};\n\n    if (_plugins) {\n      var pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n        return _plugins[name];\n      });\n\n      for (var i = 0, len = pluginsValues.length, p; i < len; i++) {\n        p = pluginsValues[i].default || pluginsValues[i];\n        plugins[p.name] = p;\n      }\n    }\n\n    var module = null;\n    var button = null;\n    var moduleElement = null;\n    var buttonElement = null;\n    var pluginName = \"\";\n    var vertical = false;\n\n    var moreLayer = _util.default.createElement(\"DIV\");\n\n    moreLayer.className = \"ke-toolbar-more-layer\";\n\n    buttonGroupLoop: for (var _i = 0, more, moreContainer, moreCommand, buttonGroup, align; _i < toolbarItem.length; _i++) {\n      more = false;\n      align = \"\";\n      buttonGroup = toolbarItem[_i];\n      moduleElement = this._createModuleGroup(); // button object\n\n      if (_typeof(buttonGroup) === \"object\") {\n        // buttons loop\n        for (var j = 0, moreButton; j < buttonGroup.length; j++) {\n          button = buttonGroup[j];\n          moreButton = false;\n\n          if (/^\\%\\d+/.test(button) && j === 0) {\n            buttonGroup[0] = button.replace(/[^\\d]/g, \"\");\n            responsiveButtons.push(buttonGroup);\n            toolbarItem.splice(_i--, 1);\n            continue buttonGroupLoop;\n          }\n\n          if (_typeof(button) === \"object\") {\n            if (typeof button.add === \"function\") {\n              pluginName = button.name;\n              module = defaultToolbarItem[pluginName];\n              plugins[pluginName] = button;\n            } else {\n              pluginName = button.name;\n              module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n            }\n          } else {\n            // align\n            if (/^\\-/.test(button)) {\n              align = button.substr(1);\n              moduleElement.div.style.float = align;\n              continue;\n            } // more button\n\n\n            if (/^\\:/.test(button)) {\n              moreButton = true;\n              var matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n              moreCommand = \"__ke__\" + matched[1].trim();\n              var title = matched[2].trim();\n              var innerHTML = matched[3].trim();\n              module = [\"ke-btn-more\", title, moreCommand, \"MORE\", innerHTML];\n            } // buttons\n            else {\n                module = defaultToolbarItem[button];\n              }\n\n            pluginName = button;\n\n            if (!module) {\n              var custom = plugins[pluginName];\n              if (!custom) throw Error(\"[KothingEditor.create.toolbar.fail] The button name of a plugin that does not exist. [\" + pluginName + \"]\");\n              module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n            }\n          }\n\n          buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n          (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n\n          if (plugins[pluginName]) {\n            pluginCallButtons[pluginName] = buttonElement.button;\n          } // more button\n\n\n          if (moreButton) {\n            more = true;\n            moreContainer = _util.default.createElement(\"DIV\");\n            moreContainer.className = \"ke-more-layer \" + moreCommand;\n            moreContainer.innerHTML = '<div class=\"ke-more-form\"><ul class=\"ke-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : \"\") + \"></ul></div>\";\n            moreLayer.appendChild(moreContainer);\n            moreContainer = moreContainer.firstElementChild.firstElementChild;\n          }\n        }\n\n        if (vertical) {\n          var sv = separator_vertical.cloneNode(false);\n          buttonTray.appendChild(sv);\n        }\n\n        buttonTray.appendChild(moduleElement.div);\n        vertical = true;\n      } else if (/^\\/$/.test(buttonGroup)) {\n        /** line break  */\n        var enterDiv = doc.createElement(\"DIV\");\n        enterDiv.className = \"ke-btn-module-enter\";\n        buttonTray.appendChild(enterDiv);\n        vertical = false;\n      }\n    }\n\n    switch (buttonTray.children.length) {\n      case 0:\n        buttonTray.style.display = \"none\";\n        break;\n\n      case 1:\n        _util.default.removeClass(buttonTray.firstElementChild, \"ke-btn-module-border\");\n\n        break;\n\n      default:\n        if (options.rtl) {\n          var _sv = separator_vertical.cloneNode(false);\n\n          _sv.style.float = buttonTray.lastElementChild.style.float;\n          buttonTray.appendChild(_sv);\n        }\n\n    }\n\n    if (responsiveButtons.length > 0) responsiveButtons.unshift(toolbarItem);\n    if (moreLayer.children.length > 0) buttonTray.appendChild(moreLayer); // menu tray\n\n    var menuTray = doc.createElement(\"DIV\");\n    menuTray.className = \"ke-menu-tray\";\n    tool_bar.appendChild(menuTray); // cover\n\n    var tool_cover = doc.createElement(\"DIV\");\n    tool_cover.className = \"ke-toolbar-cover\";\n    tool_bar.appendChild(tool_cover);\n    return {\n      element: tool_bar,\n      plugins: plugins,\n      pluginCallButtons: pluginCallButtons,\n      responsiveButtons: responsiveButtons,\n      menuTray: menuTray,\n      buttonTray: buttonTray\n    };\n  }\n};\nexports.default = _default2;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fileBrowser = _interopRequireDefault(require(\"../modules/fileBrowser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"imageGallery\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    core.addModule([_fileBrowser.default]);\n    var context = core.context;\n    context.imageGallery = {\n      title: core.lang.toolbar.imageGallery,\n      // @Required @Override fileBrowser - File browser window title.\n      url: core.options.imageGalleryUrl,\n      // @Required @Override fileBrowser - File server url.\n      header: core.options.imageGalleryHeader,\n      // @Required @Override fileBrowser - File server http header.\n      listClass: \"ke-image-list\",\n      // @Required @Override fileBrowser - Class name of list div.\n      itemTemplateHandler: this.drawItems,\n      // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n      selectorHandler: this.setImage.bind(core),\n      // @Required @Override fileBrowser - Function that action when item click.\n      columnSize: 4 // @Option @Override fileBrowser - Number of \"div.ke-file-item-column\" to be created (default: 4)\n\n    };\n  },\n\n  /**\r\n   * @Required @Override fileBrowser\r\n   * @description Open a file browser.\r\n   * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n   */\n  open: function open(selectorHandler) {\n    this.plugins.fileBrowser.open.call(this, \"imageGallery\", selectorHandler);\n  },\n\n  /**\r\n   * @Required @Override fileBrowser\r\n   * @description Define the HTML of the item to be put in \"div.ke-file-item-column\".\r\n   * Format: [\r\n   *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\r\n   * ]\r\n   * @param {Object} item Item of the response data's array\r\n   */\n  drawItems: function drawItems(item) {\n    var srcName = item.src.split(\"/\").pop();\n    return '<div class=\"ke-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' + '<div class=\"ke-file-img-name ke-file-name-back\"></div>' + '<div class=\"ke-file-img-name __ke__img_name\">' + (item.name || srcName) + \"</div>\" + \"</div>\";\n  },\n  setImage: function setImage(target) {\n    this.callPlugin(\"image\", function () {\n      var file = {\n        name: target.parentNode.querySelector(\".__ke__img_name\").textContent,\n        size: 0\n      };\n      this.context.image._altText = target.alt;\n      this.plugins.image.create_image.call(this, target.src, null, this.context.image._origin_w, this.context.image._origin_h, \"none\", file);\n    }.bind(this), null);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"es\",\n    toolbar: {\n      default: \"Valor por defecto\",\n      save: \"Guardar\",\n      font: \"Fuente\",\n      formats: \"Formato\",\n      fontSize: \"Tamao de fuente\",\n      bold: \"Negrita\",\n      underline: \"Subrayado\",\n      italic: \"Cursiva\",\n      strike: \"Tachado\",\n      subscript: \"Subndice\",\n      superscript: \"Superndice\",\n      removeFormat: \"Eliminar formato\",\n      fontColor: \"Color de fuente\",\n      hiliteColor: \"Color de resaltado\",\n      indent: \"Ms tabulacin\",\n      outdent: \"Menos tabulacin\",\n      align: \"Alinear\",\n      alignLeft: \"Alinear a la izquierda\",\n      alignRight: \"Alinear a la derecha\",\n      alignCenter: \"Alinear al centro\",\n      alignJustify: \"Justificar\",\n      list: \"Lista\",\n      orderList: \"Lista ordenada\",\n      unorderList: \"Lista desordenada\",\n      horizontalRule: \"Horizontal line\",\n      hr_solid: \"Lnea horizontal solida\",\n      hr_dotted: \"Lnea horizontal punteada\",\n      hr_dashed: \"Lnea horizontal discontinua\",\n      table: \"Tabla\",\n      link: \"Link\",\n      math: \"Matemticas\",\n      image: \"Imagen\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Pantalla completa\",\n      showBlocks: \"Ver bloques\",\n      codeView: \"Ver cdigo fuente\",\n      undo: \"UndoDeshacer ltima accin\",\n      redo: \"Rehacer ltima accin\",\n      preview: \"Vista previa\",\n      print: \"Imprimir\",\n      tag_p: \"Prrafo\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Header\",\n      tag_blockquote: \"Cita\",\n      tag_pre: \"Cdigo\",\n      template: \"Plantilla\",\n      lineHeight: \"Altura de la lnea\",\n      paragraphStyle: \"Estilo del parrafo\",\n      textStyle: \"Estilo del texto\",\n      imageGallery: \"Galera de imgenes\",\n      mention: \"Mencionar\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Insertar Link\",\n        url: \"Hacia que URL lleva el link?\",\n        text: \"Texto para mostrar\",\n        newWindowCheck: \"Abrir en una nueva ventana\",\n        downloadLinkCheck: \"Enlace de descarga\",\n        bookmark: \"Marcador\"\n      },\n      mathBox: {\n        title: \"Matemticas\",\n        inputLabel: \"Notacin Matemtica\",\n        fontSizeLabel: \"Tamao de fuente\",\n        previewLabel: \"Vista previa\"\n      },\n      imageBox: {\n        title: \"Insertar imagen\",\n        file: \"Seleccionar desde los archivos\",\n        url: \"URL de la imagen\",\n        altText: \"Texto alternativo\"\n      },\n      videoBox: {\n        title: \"Insertar Video\",\n        file: \"Seleccionar desde los archivos\",\n        url: \"URL del vdeo? Youtube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Insertar Audio\",\n        file: \"Seleccionar desde los archivos\",\n        url: \"URL de la audio\"\n      },\n      browser: {\n        tags: \"Etiquetas\",\n        search: \"Buscar\"\n      },\n      caption: \"Insertar descripcin\",\n      close: \"Cerrar\",\n      submitButton: \"Enviar\",\n      revertButton: \"revertir\",\n      proportion: \"Restringir las proporciones\",\n      basic: \"Basico\",\n      left: \"Izquierda\",\n      right: \"derecha\",\n      center: \"Centro\",\n      width: \"Ancho\",\n      height: \"Alto\",\n      size: \"Tamao\",\n      ratio: \"Proporcin\"\n    },\n    controller: {\n      edit: \"Editar\",\n      unlink: \"Desvincular\",\n      remove: \"RemoveQuitar\",\n      insertRowAbove: \"Insertar fila arriba\",\n      insertRowBelow: \"Insertar fila debajo\",\n      deleteRow: \"Eliminar fila\",\n      insertColumnBefore: \"Insertar columna antes\",\n      insertColumnAfter: \"Insertar columna despus\",\n      deleteColumn: \"Eliminar columna\",\n      fixedColumnWidth: \"Ancho de columna fijo\",\n      resize100: \"Redimensionar 100%\",\n      resize75: \"Redimensionar 75%\",\n      resize50: \"Redimensionar 50%\",\n      resize25: \"Redimensionar 25%\",\n      autoSize: \"Tamao automtico\",\n      mirrorHorizontal: \"Espejo, Horizontal\",\n      mirrorVertical: \"Espejo, Vertical\",\n      rotateLeft: \"Girar a la izquierda\",\n      rotateRight: \"Girar a la derecha\",\n      maxSize: \"Tamao mximo\",\n      minSize: \"Tamao minmo\",\n      tableHeader: \"Encabezado de tabla\",\n      mergeCells: \"Combinar celdas\",\n      splitCells: \"Dividir celdas\",\n      HorizontalSplit: \"Divisin horizontal\",\n      VerticalSplit: \"Divisin vertical\"\n    },\n    menu: {\n      spaced: \"Espaciado\",\n      bordered: \"Bordeado\",\n      neon: \"Nen\",\n      translucent: \"Translcido\",\n      shadow: \"Sombreado\",\n      code: \"Cdigo\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"es\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ja\",\n    toolbar: {\n      default: \"\",\n      save: \"\",\n      font: \"\",\n      formats: \"\",\n      fontSize: \"\",\n      bold: \"\",\n      underline: \"\",\n      italic: \"\",\n      strike: \"\",\n      subscript: \"\",\n      superscript: \"\",\n      removeFormat: \"\",\n      fontColor: \"\",\n      hiliteColor: \"\",\n      indent: \"\",\n      outdent: \"\",\n      align: \"\",\n      alignLeft: \"\",\n      alignRight: \"\",\n      alignCenter: \"\",\n      alignJustify: \"\",\n      list: \"\",\n      orderList: \"\",\n      unorderList: \"\",\n      horizontalRule: \"\",\n      hr_solid: \"\",\n      hr_dotted: \"\",\n      hr_dashed: \"\",\n      table: \"\",\n      link: \"\",\n      math: \"\",\n      image: \"\",\n      video: \"\",\n      audio: \"\",\n      fullScreen: \"\",\n      showBlocks: \"\",\n      codeView: \"HTML\",\n      undo: \"\",\n      redo: \"\",\n      preview: \"\",\n      print: \"\",\n      tag_p: \"\",\n      tag_div: \"DIV\",\n      tag_h: \"\",\n      tag_blockquote: \"\",\n      tag_pre: \"\",\n      template: \"\",\n      lineHeight: \"\",\n      paragraphStyle: \"\",\n      textStyle: \"\",\n      imageGallery: \"\",\n      mention: \"\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"\",\n        url: \"\",\n        text: \"\",\n        newWindowCheck: \"\",\n        downloadLinkCheck: \"\",\n        bookmark: \"\"\n      },\n      mathBox: {\n        title: \"\",\n        inputLabel: \"\",\n        fontSizeLabel: \"\",\n        previewLabel: \"\"\n      },\n      imageBox: {\n        title: \"\",\n        file: \"\",\n        url: \"\",\n        altText: \"\"\n      },\n      videoBox: {\n        title: \"\",\n        file: \"\",\n        url: \", YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"\",\n        file: \"\",\n        url: \"\"\n      },\n      browser: {\n        tags: \"\",\n        search: \"\"\n      },\n      caption: \"\",\n      close: \"\",\n      submitButton: \"\",\n      revertButton: \"\",\n      proportion: \"\",\n      basic: \"\",\n      left: \"\",\n      right: \"\",\n      center: \"\",\n      width: \"\",\n      height: \"\",\n      size: \"\",\n      ratio: \"\"\n    },\n    controller: {\n      edit: \"\",\n      unlink: \"\",\n      remove: \"\",\n      insertRowAbove: \"\",\n      insertRowBelow: \"\",\n      deleteRow: \"\",\n      insertColumnBefore: \"\",\n      insertColumnAfter: \"\",\n      deleteColumn: \"\",\n      fixedColumnWidth: \"\",\n      resize100: \"100 \",\n      resize75: \"75 \",\n      resize50: \"50 \",\n      resize25: \"25 \",\n      autoSize: \"\",\n      mirrorHorizontal: \"\",\n      mirrorVertical: \"\",\n      rotateLeft: \"\",\n      rotateRight: \"\",\n      maxSize: \"\",\n      minSize: \"\",\n      tableHeader: \"\",\n      mergeCells: \"\",\n      splitCells: \"\",\n      HorizontalSplit: \"\",\n      VerticalSplit: \"\"\n    },\n    menu: {\n      spaced: \"\",\n      bordered: \"\",\n      neon: \"\",\n      translucent: \"\",\n      shadow: \"\",\n      code: \"\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ja\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"he\",\n    toolbar: {\n      default: \" \",\n      save: \"\",\n      font: \"\",\n      formats: \"\",\n      fontSize: \"\",\n      bold: \"\",\n      underline: \" \",\n      italic: \"\",\n      strike: \" \",\n      subscript: \"\",\n      superscript: \"\",\n      removeFormat: \" \",\n      fontColor: \" \",\n      hiliteColor: \"  \",\n      indent: \" \",\n      outdent: \" \",\n      align: \"\",\n      alignLeft: \" \",\n      alignRight: \" \",\n      alignCenter: \"\",\n      alignJustify: \"  \",\n      list: \"\",\n      orderList: \"\",\n      unorderList: \"\",\n      horizontalRule: \" \",\n      hr_solid: \"\",\n      hr_dotted: \"\",\n      hr_dashed: \"\",\n      table: \"\",\n      link: \"\",\n      math: \"\",\n      image: \"\",\n      video: \"\",\n      audio: \"\",\n      fullScreen: \" \",\n      showBlocks: \" \",\n      codeView: \" \",\n      undo: \"\",\n      redo: \"\",\n      preview: \" \",\n      print: \"\",\n      tag_p: \"\",\n      tag_div: \" (DIV)\",\n      tag_h: \"\",\n      tag_blockquote: \"\",\n      tag_pre: \"\",\n      template: \"\",\n      lineHeight: \" \",\n      paragraphStyle: \" \",\n      textStyle: \" \",\n      imageGallery: \" \",\n      mention: \"\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \" \",\n        url: \" \",\n        text: \"\",\n        newWindowCheck: \"  \",\n        downloadLinkCheck: \" \",\n        bookmark: \"\"\n      },\n      mathBox: {\n        title: \"\",\n        inputLabel: \" \",\n        fontSizeLabel: \" \",\n        previewLabel: \" \"\n      },\n      imageBox: {\n        title: \" \",\n        file: \" \",\n        url: \" URL \",\n        altText: \" ( alt)\"\n      },\n      videoBox: {\n        title: \" \",\n        file: \" \",\n        url: \"  YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \" \",\n        file: \" \",\n        url: \" URL \"\n      },\n      browser: {\n        tags: \"\",\n        search: \"\"\n      },\n      caption: \" \",\n      close: \"\",\n      submitButton: \"\",\n      revertButton: \"\",\n      proportion: \" \",\n      basic: \"\",\n      left: \"\",\n      right: \"\",\n      center: \"\",\n      width: \"\",\n      height: \"\",\n      size: \"\",\n      ratio: \"\"\n    },\n    controller: {\n      edit: \"\",\n      unlink: \" \",\n      remove: \"\",\n      insertRowAbove: \"  \",\n      insertRowBelow: \"  \",\n      deleteRow: \" \",\n      insertColumnBefore: \"  \",\n      insertColumnAfter: \"  \",\n      deleteColumn: \" \",\n      fixedColumnWidth: \"  \",\n      resize100: \" \",\n      resize75: \" 75%\",\n      resize50: \" 50%\",\n      resize25: \" 25%\",\n      autoSize: \" \",\n      mirrorHorizontal: \" \",\n      mirrorVertical: \" \",\n      rotateLeft: \" \",\n      rotateRight: \" \",\n      maxSize: \" \",\n      minSize: \" \",\n      tableHeader: \" \",\n      mergeCells: \" \",\n      splitCells: \" \",\n      HorizontalSplit: \" \",\n      VerticalSplit: \" \"\n    },\n    menu: {\n      spaced: \"\",\n      bordered: \" \",\n      neon: \"\",\n      translucent: \" \",\n      shadow: \"\",\n      code: \"\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"he\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var resizing = {\n    name: \"resizing\",\n\n    /**\r\n         * @description Constructor\r\n         * Require context properties when resizing module\r\n            inputX: Element,\r\n            inputY: Element,\r\n            _container: null,\r\n            _cover: null,\r\n            _element: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: 'auto',\r\n            _defaultSizeY: 'auto',\r\n            _origin_w: core.options.imageWidth === 'auto' ? '' : core.options.imageWidth,\r\n            _origin_h: core.options.imageHeight === 'auto' ? '' : core.options.imageHeight,\r\n            _proportionChecked: true,\r\n            // -- select function --\r\n            _resizing: core.options.imageResizing,\r\n            _resizeDotHide: !core.options.imageHeightShow,\r\n            _rotation: core.options.imageRotation,\r\n            _onlyPercentage: core.options.imageSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1\r\n            _captionShow: true,\r\n            // -- when used caption (_captionShow: true) --\r\n            _caption: null,\r\n            _captionChecked: false,\r\n            captionCheckEl: null,\r\n         * @param {Object} core Core object \r\n         */\n    add: function add(core) {\n      var icons = core.icons;\n      var context = core.context;\n      context.resizing = {\n        _resizeClientX: 0,\n        _resizeClientY: 0,\n        _resize_plugin: \"\",\n        _resize_w: 0,\n        _resize_h: 0,\n        _origin_w: 0,\n        _origin_h: 0,\n        _rotateVertical: false,\n        _resize_direction: \"\",\n        _move_path: null,\n        _isChange: false,\n        alignIcons: {\n          basic: icons.align_justify,\n          left: icons.align_left,\n          right: icons.align_right,\n          center: icons.align_center\n        }\n      };\n      /** resize controller, button */\n\n      var resize_div_container = this.setController_resize(core);\n      context.resizing.resizeContainer = resize_div_container;\n      context.resizing.resizeDiv = resize_div_container.querySelector(\".ke-modal-resize\");\n      context.resizing.resizeDot = resize_div_container.querySelector(\".ke-resize-dot\");\n      context.resizing.resizeDisplay = resize_div_container.querySelector(\".ke-resize-display\");\n      var resize_button = this.setController_button(core);\n      context.resizing.resizeButton = resize_button;\n      var resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll(\"span\");\n      context.resizing.resizeButtonGroup = resize_button.querySelector(\"._ke_resizing_btn_group\");\n      context.resizing.rotationButtons = resize_button.querySelectorAll(\"._ke_resizing_btn_group ._ke_rotation\");\n      context.resizing.percentageButtons = resize_button.querySelectorAll(\"._ke_resizing_btn_group ._ke_percentage\");\n      context.resizing.alignMenu = resize_button.querySelector(\".ke-resizing-align-list\");\n      context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll(\"button\");\n      context.resizing.alignButton = resize_button.querySelector(\"._ke_resizing_align_button\");\n      context.resizing.autoSizeButton = resize_button.querySelector(\"._ke_resizing_btn_group ._ke_auto_size\");\n      context.resizing.captionButton = resize_button.querySelector(\"._ke_resizing_caption_button\");\n      /** add event listeners */\n\n      resize_div_container.addEventListener(\"mousedown\", function (e) {\n        e.preventDefault();\n      });\n      resize_handles[0].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[1].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[2].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[3].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[4].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[5].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[6].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[7].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_button.addEventListener(\"click\", this.onClick_resizeButton.bind(core));\n      /** append html */\n\n      context.element.relative.appendChild(resize_div_container);\n      context.element.relative.appendChild(resize_button);\n      /** empty memory */\n\n      resize_div_container = null, resize_button = null, resize_handles = null;\n    },\n\n    /** resize controller, button (image, iframe, video) */\n    setController_resize: function setController_resize(core) {\n      var resize_container = core.util.createElement(\"DIV\");\n      resize_container.className = \"ke-controller ke-resizing-container\";\n      resize_container.style.display = \"none\";\n      resize_container.innerHTML = \"\" + '<div class=\"ke-modal-resize\"></div>' + '<div class=\"ke-resize-dot\">' + '<span class=\"tl\"></span>' + '<span class=\"tr\"></span>' + '<span class=\"bl\"></span>' + '<span class=\"br\"></span>' + '<span class=\"lw\"></span>' + '<span class=\"th\"></span>' + '<span class=\"rw\"></span>' + '<span class=\"bh\"></span>' + '<div class=\"ke-resize-display\"></div>' + \"</div>\";\n      return resize_container;\n    },\n    setController_button: function setController_button(core) {\n      var lang = core.lang;\n      var icons = core.icons;\n      var resize_button = core.util.createElement(\"DIV\");\n      resize_button.className = \"ke-controller ke-controller-resizing\";\n      resize_button.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"ke-btn-group _ke_resizing_btn_group\">' + '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"ke-tooltip _ke_percentage\">' + \"<span>100%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize100 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"ke-tooltip _ke_percentage\">' + \"<span>75%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize75 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"ke-tooltip _ke_percentage\">' + \"<span>50%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize50 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"auto\" class=\"ke-btn ke-tooltip _ke_auto_size\">' + icons.auto_size + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.autoSize + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"ke-btn ke-tooltip _ke_rotation\">' + icons.rotate_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.rotateLeft + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"ke-btn ke-tooltip _ke_rotation\">' + icons.rotate_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.rotateRight + \"</span></span>\" + \"</button>\" + \"</div>\" + '<div class=\"ke-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"ke-btn ke-tooltip\">' + icons.mirror_horizontal + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mirrorHorizontal + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"ke-btn ke-tooltip\">' + icons.mirror_vertical + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mirrorVertical + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"onalign\" class=\"ke-btn ke-tooltip _ke_resizing_align_button\">' + icons.align_justify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.toolbar.align + \"</span></span>\" + \"</button>\" + '<div class=\"ke-btn-group-sub kothing-editor-common ke-list-layer ke-resizing-align-list\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"basic\">' + icons.align_justify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.basic + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"left\">' + icons.align_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.left + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"center\">' + icons.align_center + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.center + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"right\">' + icons.align_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.right + \"</span></span>\" + \"</button></li>\" + \"</ul>\" + \"</div>\" + \"</div>\" + '<button type=\"button\" data-command=\"caption\" class=\"ke-btn ke-tooltip _ke_resizing_caption_button\">' + icons.caption + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.caption + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"revert\" class=\"ke-btn ke-tooltip\">' + icons.revert + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.revertButton + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"update\" class=\"ke-btn ke-tooltip\">' + icons.modify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\";\n      return resize_button;\n    },\n\n    /**\r\n     * @description Gets the width size\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Element} element Target element\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {Element} container Container element (DIV.ke-component)\r\n     * @returns {String}\r\n     */\n    _module_getSizeX: function _module_getSizeX(contextPlugin, element, cover, container) {\n      if (!element) {\n        element = contextPlugin._element;\n      }\n\n      if (!cover) {\n        cover = contextPlugin._cover;\n      }\n\n      if (!container) {\n        container = contextPlugin._container;\n      }\n\n      if (!element) {\n        return \"\";\n      }\n\n      return !/%$/.test(element.style.width) ? element.style.width : (container && this.util.getNumber(container.style.width, 2) || 100) + \"%\";\n    },\n\n    /**\r\n     * @description Gets the height size\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Element} element Target element\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {Element} container Container element (DIV.ke-component)\r\n     * @returns {String}\r\n     */\n    _module_getSizeY: function _module_getSizeY(contextPlugin, element, cover, container) {\n      if (!element) {\n        element = contextPlugin._element;\n      }\n\n      if (!cover) {\n        cover = contextPlugin._cover;\n      }\n\n      if (!container) {\n        container = contextPlugin._container;\n      }\n\n      if (!container || !cover) {\n        return element && element.style.height || \"\";\n      }\n\n      return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : !/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (container && this.util.getNumber(container.style.height, 2) || 100) + \"%\";\n    },\n\n    /**\r\n     * @description Called at the \"openModify\" to put the size of the current target into the size input element.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Object} pluginObj Plugin object\r\n     */\n    _module_setModifyInputSize: function _module_setModifyInputSize(contextPlugin, pluginObj) {\n      var percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n      contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute(\"data-proportion\") !== \"false\";\n      var x = percentageRotation ? \"\" : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n      if (x === contextPlugin._defaultSizeX) {\n        x = \"\";\n      }\n\n      if (contextPlugin._onlyPercentage) {\n        x = this.util.getNumber(x, 2);\n      }\n\n      contextPlugin.inputX.value = x;\n      pluginObj.setInputSize.call(this, \"x\");\n\n      if (!contextPlugin._onlyPercentage) {\n        var y = percentageRotation ? \"\" : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n        if (y === contextPlugin._defaultSizeY) {\n          y = \"\";\n        }\n\n        if (contextPlugin._onlyPercentage) {\n          y = this.util.getNumber(y, 2);\n        }\n\n        contextPlugin.inputY.value = y;\n      }\n\n      contextPlugin.inputX.disabled = percentageRotation ? true : false;\n      contextPlugin.inputY.disabled = percentageRotation ? true : false;\n      contextPlugin.proportion.disabled = percentageRotation ? true : false;\n      pluginObj.setRatio.call(this);\n    },\n\n    /**\r\n     * @description It is called in \"setInputSize\" (input tag keyupEvent),\r\n     * checks the value entered in the input tag,\r\n     * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {String} xy 'x': width, 'y': height\r\n     */\n    _module_setInputSize: function _module_setInputSize(contextPlugin, xy) {\n      if (contextPlugin._onlyPercentage) {\n        if (xy === \"x\" && contextPlugin.inputX.value > 100) {\n          contextPlugin.inputX.value = 100;\n        }\n\n        return;\n      }\n\n      if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n        var xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n        var yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n\n        if (xUnit !== yUnit) {\n          return;\n        }\n\n        var dec = xUnit === \"%\" ? 2 : 0;\n\n        if (xy === \"x\") {\n          contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n        } else {\n          contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n        }\n      }\n    },\n\n    /**\r\n     * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent),\r\n     * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_setRatio: function _module_setRatio(contextPlugin) {\n      var xValue = contextPlugin.inputX.value;\n      var yValue = contextPlugin.inputY.value;\n\n      if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n        var xUnit = xValue.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n        var yUnit = yValue.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n\n        if (xUnit !== yUnit) {\n          contextPlugin._ratio = false;\n        } else if (!contextPlugin._ratio) {\n          var x = this.util.getNumber(xValue, 0);\n          var y = this.util.getNumber(yValue, 0);\n          contextPlugin._ratio = true;\n          contextPlugin._ratioX = x / y;\n          contextPlugin._ratioY = y / x;\n        }\n      } else {\n        contextPlugin._ratio = false;\n      }\n    },\n\n    /**\r\n     * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_sizeRevert: function _module_sizeRevert(contextPlugin) {\n      if (contextPlugin._onlyPercentage) {\n        contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n      } else {\n        contextPlugin.inputX.value = contextPlugin._origin_w;\n        contextPlugin.inputY.value = contextPlugin._origin_h;\n      }\n    },\n\n    /**\r\n     * @description Save the size data (element.setAttribute(\"data-size\"))\r\n     * Used at the \"setSize\" method\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_saveCurrentSize: function _module_saveCurrentSize(contextPlugin) {\n      var x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n      var y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n      contextPlugin._element.setAttribute(\"data-size\", x + \",\" + y);\n\n      if (contextPlugin._videoRatio) {\n        contextPlugin._videoRatio = y;\n      }\n    },\n\n    /**\r\n     * @description Call the resizing module\r\n     * @param {Element} targetElement Resizing target element\r\n     * @param {string} plugin Plugin name\r\n     * @returns {Object} Size of resizing div {w, h, t, l}\r\n     */\n    call_controller_resize: function call_controller_resize(targetElement, plugin) {\n      var contextResizing = this.context.resizing;\n      var contextPlugin = this.context[plugin];\n      contextResizing._resize_plugin = plugin;\n      var resizeContainer = contextResizing.resizeContainer;\n      var resizeDiv = contextResizing.resizeDiv;\n      var offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n      var isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute(\"data-rotate\")).toString());\n      var w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n      var h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n      var t = offset.top;\n      var l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n      resizeContainer.style.top = t + \"px\";\n      resizeContainer.style.left = l + \"px\";\n      resizeContainer.style.width = w + \"px\";\n      resizeContainer.style.height = h + \"px\";\n      resizeDiv.style.top = \"0px\";\n      resizeDiv.style.left = \"0px\";\n      resizeDiv.style.width = w + \"px\";\n      resizeDiv.style.height = h + \"px\";\n      var align = targetElement.getAttribute(\"data-align\") || \"basic\";\n      align = align === \"none\" ? \"basic\" : align; // text\n\n      var container = this.util.getParentElement(targetElement, this.util.isComponent);\n      var cover = this.util.getParentElement(targetElement, \"FIGURE\");\n      var displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || \"auto\";\n      var displayY = contextPlugin._onlyPercentage && plugin === \"image\" ? \"\" : \", \" + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || \"auto\");\n      this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + \" (\" + displayX + displayY + \")\"); // resizing display\n\n      contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? \"\" : \"none\";\n      var resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? \"flex\" : \"none\";\n      var resizeHandles = contextResizing.resizeHandles;\n\n      for (var i = 0, len = resizeHandles.length; i < len; i++) {\n        resizeHandles[i].style.display = resizeDotShow;\n      }\n\n      if (contextPlugin._resizing) {\n        var rotations = contextResizing.rotationButtons;\n        rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? \"\" : \"none\";\n      } // align icon\n\n\n      var alignList = contextResizing.alignMenuList;\n      this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n\n      for (var _i = 0, _len = alignList.length; _i < _len; _i++) {\n        if (alignList[_i].getAttribute(\"data-value\") === align) {\n          this.util.addClass(alignList[_i], \"on\");\n        } else {\n          this.util.removeClass(alignList[_i], \"on\");\n        }\n      } // percentage active\n\n\n      var pButtons = contextResizing.percentageButtons;\n      var value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? this.util.getNumber(container.style.width, 0) / 100 + \"\" : \"\";\n\n      for (var _i2 = 0, _len2 = pButtons.length; _i2 < _len2; _i2++) {\n        if (pButtons[_i2].getAttribute(\"data-value\") === value) {\n          this.util.addClass(pButtons[_i2], \"active\");\n        } else {\n          this.util.removeClass(pButtons[_i2], \"active\");\n        }\n      } // caption display, active\n\n\n      if (!contextPlugin._captionShow) {\n        contextResizing.captionButton.style.display = \"none\";\n      } else {\n        contextResizing.captionButton.style.display = \"\";\n\n        if (this.util.getChildElement(targetElement.parentNode, \"figcaption\")) {\n          this.util.addClass(contextResizing.captionButton, \"active\");\n          contextPlugin._captionChecked = true;\n        } else {\n          this.util.removeClass(contextResizing.captionButton, \"active\");\n          contextPlugin._captionChecked = false;\n        }\n      }\n\n      resizeContainer.style.display = \"block\";\n      var addOffset = {\n        left: 0,\n        top: 50\n      };\n\n      if (this.options.iframe) {\n        addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\n        addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\n      }\n\n      this.setControllerPosition(contextResizing.resizeButton, resizeContainer, \"bottom\", addOffset);\n      this.controllersOn(resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n      this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n      contextResizing._resize_w = w;\n      contextResizing._resize_h = h;\n      var originSize = (targetElement.getAttribute(\"origin-size\") || \"\").split(\",\");\n      contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n      contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n      return {\n        w: w,\n        h: h,\n        t: t,\n        l: l\n      };\n    },\n    _closeAlignMenu: null,\n\n    /**\r\n     * @description Open align submenu of module\r\n     */\n    openAlignMenu: function openAlignMenu() {\n      var alignButton = this.context.resizing.alignButton;\n      this.util.addClass(alignButton, \"on\");\n      this.context.resizing.alignMenu.style.top = alignButton.offsetTop + alignButton.offsetHeight + \"px\";\n      this.context.resizing.alignMenu.style.left = alignButton.offsetLeft - alignButton.offsetWidth / 2 + \"px\";\n      this.context.resizing.alignMenu.style.display = \"block\";\n\n      this.plugins.resizing._closeAlignMenu = function () {\n        this.util.removeClass(this.context.resizing.alignButton, \"on\");\n        this.context.resizing.alignMenu.style.display = \"none\";\n        this.removeDocEvent(\"click\", this.plugins.resizing._closeAlignMenu);\n        this.plugins.resizing._closeAlignMenu = null;\n      }.bind(this);\n\n      this.addDocEvent(\"click\", this.plugins.resizing._closeAlignMenu);\n    },\n\n    /**\r\n     * @description Click event of resizing toolbar\r\n     * Performs the action of the clicked toolbar button.\r\n     * @param {MouseEvent} e Event object\r\n     */\n    onClick_resizeButton: function onClick_resizeButton(e) {\n      e.stopPropagation();\n      var target = e.target;\n      var command = target.getAttribute(\"data-command\") || target.parentNode.getAttribute(\"data-command\");\n\n      if (!command) {\n        return;\n      }\n\n      var value = target.getAttribute(\"data-value\") || target.parentNode.getAttribute(\"data-value\");\n      var pluginName = this.context.resizing._resize_plugin;\n      var currentContext = this.context[pluginName];\n      var contextEl = currentContext._element;\n      var currentModule = this.plugins[pluginName];\n      e.preventDefault();\n\n      if (typeof this.plugins.resizing._closeAlignMenu === \"function\") {\n        this.plugins.resizing._closeAlignMenu();\n\n        if (command === \"onalign\") {\n          return;\n        }\n      }\n\n      switch (command) {\n        case \"auto\":\n          this.plugins.resizing.resetTransform.call(this, contextEl);\n          currentModule.setAutoSize.call(this);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"percent\":\n          var percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n\n          if (this.context.resizing._rotateVertical) {\n            var percentage = contextEl.getAttribute(\"data-percentage\");\n\n            if (percentage) {\n              percentY = percentage.split(\",\")[1];\n            }\n          }\n\n          this.plugins.resizing.resetTransform.call(this, contextEl);\n          currentModule.setPercentSize.call(this, value * 100, this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY) ? \"\" : percentY);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"mirror\":\n          var r = contextEl.getAttribute(\"data-rotate\") || \"0\";\n          var x = contextEl.getAttribute(\"data-rotateX\") || \"\";\n          var y = contextEl.getAttribute(\"data-rotateY\") || \"\";\n\n          if (value === \"h\" && !this.context.resizing._rotateVertical || value === \"v\" && this.context.resizing._rotateVertical) {\n            y = y ? \"\" : \"180\";\n          } else {\n            x = x ? \"\" : \"180\";\n          }\n\n          contextEl.setAttribute(\"data-rotateX\", x);\n          contextEl.setAttribute(\"data-rotateY\", y);\n\n          this.plugins.resizing._setTransForm(contextEl, r, x, y);\n\n          break;\n\n        case \"rotate\":\n          var contextResizing = this.context.resizing;\n          var slope = contextEl.getAttribute(\"data-rotate\") * 1 + value * 1;\n          var deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n          contextEl.setAttribute(\"data-rotate\", deg);\n          contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n          this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"onalign\":\n          this.plugins.resizing.openAlignMenu.call(this);\n          return;\n\n        case \"align\":\n          var alignValue = value === \"basic\" ? \"none\" : value;\n          currentModule.setAlign.call(this, alignValue, null, null, null);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"caption\":\n          var caption = !currentContext._captionChecked;\n          currentModule.openModify.call(this, true);\n          currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n          currentModule.update_image.call(this, false, false, false);\n\n          if (caption) {\n            var captionText = this.util.getChildElement(currentContext._caption, function (current) {\n              return current.nodeType === 3;\n            });\n\n            if (!captionText) {\n              currentContext._caption.focus();\n            } else {\n              this.setRange(captionText, 0, captionText, captionText.textContent.length);\n            }\n\n            this.controllersOff();\n          } else {\n            this.selectComponent(contextEl, pluginName);\n            currentModule.openModify.call(this, true);\n          }\n\n          break;\n\n        case \"revert\":\n          currentModule.setOriginSize.call(this);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"update\":\n          currentModule.openModify.call(this);\n          this.controllersOff();\n          break;\n\n        case \"delete\":\n          currentModule.destroy.call(this);\n          break;\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description Initialize the transform style (rotation) of the element.\r\n     * @param {Element} element Target element\r\n     */\n    resetTransform: function resetTransform(element) {\n      var size = (element.getAttribute(\"data-size\") || element.getAttribute(\"data-origin\") || \"\").split(\",\");\n      this.context.resizing._rotateVertical = false;\n      element.style.maxWidth = \"\";\n      element.style.transform = \"\";\n      element.style.transformOrigin = \"\";\n      element.setAttribute(\"data-rotate\", \"\");\n      element.setAttribute(\"data-rotateX\", \"\");\n      element.setAttribute(\"data-rotateY\", \"\");\n\n      this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : \"auto\", size[1] ? size[1] : \"\", true);\n    },\n\n    /**\r\n     * @description Set the transform style (rotation) of the element.\r\n     * @param {Element} element Target element\r\n     * @param {Number|null} width Element's width size\r\n     * @param {Number|null} height Element's height size\r\n     */\n    setTransformSize: function setTransformSize(element, width, height) {\n      var percentage = element.getAttribute(\"data-percentage\");\n      var isVertical = this.context.resizing._rotateVertical;\n      var deg = element.getAttribute(\"data-rotate\") * 1;\n      var transOrigin = \"\";\n\n      if (percentage && !isVertical) {\n        percentage = percentage.split(\",\");\n\n        if (percentage[0] === \"auto\" && percentage[1] === \"auto\") {\n          this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n        } else {\n          this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n        }\n      } else {\n        var cover = this.util.getParentElement(element, \"FIGURE\");\n        var offsetW = width || element.offsetWidth;\n        var offsetH = height || element.offsetHeight;\n        var w = (isVertical ? offsetH : offsetW) + \"px\";\n        var h = (isVertical ? offsetW : offsetH) + \"px\";\n\n        this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + \"px\", offsetH + \"px\", true);\n\n        cover.style.width = w;\n        cover.style.height = this.context[this.context.resizing._resize_plugin]._caption ? \"\" : h;\n\n        if (isVertical) {\n          var transW = offsetW / 2 + \"px \" + offsetW / 2 + \"px 0\";\n          var transH = offsetH / 2 + \"px \" + offsetH / 2 + \"px 0\";\n          transOrigin = deg === 90 || deg === -270 ? transH : transW;\n        }\n      }\n\n      element.style.transformOrigin = transOrigin;\n\n      this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute(\"data-rotateX\") || \"\", element.getAttribute(\"data-rotateY\") || \"\");\n\n      if (isVertical) {\n        element.style.maxWidth = \"none\";\n      } else {\n        element.style.maxWidth = \"\";\n      }\n\n      this.plugins.resizing.setCaptionPosition.call(this, element);\n    },\n    _setTransForm: function _setTransForm(element, r, x, y) {\n      var width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n      var translate = \"\";\n\n      if (/[1-9]/.test(r) && (x || y)) {\n        translate = x ? \"Y\" : \"X\";\n\n        switch (r) {\n          case \"90\":\n            translate = x && y ? \"X\" : y ? translate : \"\";\n            break;\n\n          case \"270\":\n            width *= -1;\n            translate = x && y ? \"Y\" : x ? translate : \"\";\n            break;\n\n          case \"-90\":\n            translate = x && y ? \"Y\" : x ? translate : \"\";\n            break;\n\n          case \"-270\":\n            width *= -1;\n            translate = x && y ? \"X\" : y ? translate : \"\";\n            break;\n\n          default:\n            translate = \"\";\n        }\n      }\n\n      if (r % 180 === 0) {\n        element.style.maxWidth = \"\";\n      }\n\n      element.style.transform = \"rotate(\" + r + \"deg)\" + (x ? \" rotateX(\" + x + \"deg)\" : \"\") + (y ? \" rotateY(\" + y + \"deg)\" : \"\") + (translate ? \" translate\" + translate + \"(\" + width + \"px)\" : \"\");\n    },\n\n    /**\r\n     * @description The position of the caption is set automatically.\r\n     * @param {Element} element Target element (not caption element)\r\n     */\n    setCaptionPosition: function setCaptionPosition(element) {\n      var figcaption = this.util.getChildElement(this.util.getParentElement(element, \"FIGURE\"), \"FIGCAPTION\");\n\n      if (figcaption) {\n        figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + \"px\";\n      }\n    },\n\n    /**\r\n     * @description Mouse down event of resize handles\r\n     * @param {MouseEvent} e Event object\r\n     */\n    onMouseDown_resize_handle: function onMouseDown_resize_handle(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var contextResizing = this.context.resizing;\n      var direction = contextResizing._resize_direction = e.target.classList[0];\n      contextResizing._resizeClientX = e.clientX;\n      contextResizing._resizeClientY = e.clientY;\n      this.context.element.resizeBackground.style.display = \"block\";\n      contextResizing.resizeButton.style.display = \"none\";\n      contextResizing.resizeDiv.style.float = /l/.test(direction) ? \"right\" : /r/.test(direction) ? \"left\" : \"none\";\n      var resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n\n      var closureFunc_bind = function closureFunc(e) {\n        if (e.type === \"keydown\" && e.keyCode !== 27) {\n          return;\n        }\n\n        var change = contextResizing._isChange;\n        contextResizing._isChange = false;\n        this.removeDocEvent(\"mousemove\", resizing_element_bind);\n        this.removeDocEvent(\"mouseup\", closureFunc_bind);\n        this.removeDocEvent(\"keydown\", closureFunc_bind);\n\n        if (e.type === \"keydown\") {\n          this.controllersOff();\n          this.context.element.resizeBackground.style.display = \"none\";\n\n          this.plugins[this.context.resizing._resize_plugin].init.call(this);\n        } else {\n          // element resize\n          this.plugins.resizing.cancel_controller_resize.call(this, direction); // history stack\n\n          if (change) {\n            this.history.push(false);\n          }\n        }\n      }.bind(this);\n\n      this.addDocEvent(\"mousemove\", resizing_element_bind);\n      this.addDocEvent(\"mouseup\", closureFunc_bind);\n      this.addDocEvent(\"keydown\", closureFunc_bind);\n    },\n\n    /**\r\n     * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\r\n     * The size of the module's \"div\" is adjusted according to the mouse move event.\r\n     * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\r\n     * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\r\n     * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\r\n     * @param {MouseEvent} e Event object\r\n     */\n    resizing_element: function resizing_element(contextResizing, direction, plugin, e) {\n      var clientX = e.clientX;\n      var clientY = e.clientY;\n      var resultW = plugin._element_w;\n      var resultH = plugin._element_h;\n      var w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n      var h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n      var wh = plugin._element_h / plugin._element_w * w;\n\n      if (/t/.test(direction)) {\n        contextResizing.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + \"px\";\n      }\n\n      if (/l/.test(direction)) {\n        contextResizing.resizeDiv.style.left = plugin._element_w - w + \"px\";\n      }\n\n      if (/r|l/.test(direction)) {\n        contextResizing.resizeDiv.style.width = w + \"px\";\n        resultW = w;\n      }\n\n      if (/^(t|b)[^h]$/.test(direction)) {\n        contextResizing.resizeDiv.style.height = wh + \"px\";\n        resultH = wh;\n      } else if (/^(t|b)h$/.test(direction)) {\n        contextResizing.resizeDiv.style.height = h + \"px\";\n        resultH = h;\n      }\n\n      contextResizing._resize_w = resultW;\n      contextResizing._resize_h = resultH;\n      this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + \" x \" + this._w.Math.round(resultH));\n      contextResizing._isChange = true;\n    },\n\n    /**\r\n     * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\r\n     * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\r\n     * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\r\n     */\n    cancel_controller_resize: function cancel_controller_resize(direction) {\n      var isVertical = this.context.resizing._rotateVertical;\n      this.controllersOff();\n      this.context.element.resizeBackground.style.display = \"none\";\n\n      var w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n\n      var h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n\n      if (!isVertical && !/%$/.test(w)) {\n        var padding = 16;\n        var limit = this.context.element.wysiwygFrame.clientWidth - padding * 2 - 2;\n\n        if (this.util.getNumber(w, 0) > limit) {\n          h = this._w.Math.round(h / w * limit);\n          w = limit;\n        }\n      }\n\n      var pluginName = this.context.resizing._resize_plugin;\n      this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n\n      if (isVertical) {\n        this.plugins.resizing.setTransformSize.call(this, this.context[this.context.resizing._resize_plugin]._element, w, h);\n      }\n\n      this.selectComponent(this.context[pluginName]._element, pluginName);\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"resizing\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: resizing\n    });\n  }\n\n  return resizing;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"zh_cn\",\n    toolbar: {\n      default: \"\",\n      save: \"\",\n      font: \"\",\n      formats: \"\",\n      fontSize: \"\",\n      bold: \"\",\n      underline: \"\",\n      italic: \"\",\n      strike: \"\",\n      subscript: \"\",\n      superscript: \"\",\n      removeFormat: \"\",\n      fontColor: \"\",\n      hiliteColor: \"\",\n      indent: \"\",\n      outdent: \"\",\n      align: \"\",\n      alignLeft: \"\",\n      alignRight: \"\",\n      alignCenter: \"\",\n      alignJustify: \"\",\n      list: \"\",\n      orderList: \"\",\n      unorderList: \"\",\n      horizontalRule: \"\",\n      hr_solid: \"\",\n      hr_dotted: \"\",\n      hr_dashed: \"\",\n      table: \"\",\n      link: \"\",\n      math: \"\",\n      image: \"\",\n      video: \"\",\n      audio: \"\",\n      fullScreen: \"\",\n      showBlocks: \"\",\n      codeView: \"\",\n      undo: \"\",\n      redo: \"\",\n      preview: \"\",\n      print: \"\",\n      tag_p: \"\",\n      tag_div: \" (DIV)\",\n      tag_h: \"\",\n      tag_blockquote: \"\",\n      tag_pre: \"\",\n      template: \"\",\n      lineHeight: \"\",\n      paragraphStyle: \"\",\n      textStyle: \"\",\n      imageGallery: \"\",\n      mention: \"\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"\",\n        url: \"\",\n        text: \"\",\n        newWindowCheck: \"\",\n        downloadLinkCheck: \"\",\n        bookmark: \"\"\n      },\n      mathBox: {\n        title: \"\",\n        inputLabel: \"\",\n        fontSizeLabel: \"\",\n        previewLabel: \"\"\n      },\n      imageBox: {\n        title: \"\",\n        file: \"\",\n        url: \"\",\n        altText: \"\"\n      },\n      videoBox: {\n        title: \"\",\n        file: \"\",\n        url: \", Youtube,Vimeo\"\n      },\n      audioBox: {\n        title: \"\",\n        file: \"\",\n        url: \"\"\n      },\n      browser: {\n        tags: \"\",\n        search: \"\"\n      },\n      caption: \"\",\n      close: \"\",\n      submitButton: \"\",\n      revertButton: \"\",\n      proportion: \"\",\n      basic: \"\",\n      left: \"\",\n      right: \"\",\n      center: \"\",\n      width: \"\",\n      height: \"\",\n      size: \"\",\n      ratio: \"\"\n    },\n    controller: {\n      edit: \"\",\n      unlink: \"\",\n      remove: \"\",\n      insertRowAbove: \"\",\n      insertRowBelow: \"\",\n      deleteRow: \"\",\n      insertColumnBefore: \"\",\n      insertColumnAfter: \"\",\n      deleteColumn: \"\",\n      fixedColumnWidth: \"\",\n      resize100: \" 100%\",\n      resize75: \" 75%\",\n      resize50: \" 50%\",\n      resize25: \" 25%\",\n      mirrorHorizontal: \"\",\n      mirrorVertical: \"\",\n      rotateLeft: \"\",\n      rotateRight: \"\",\n      maxSize: \"\",\n      minSize: \"\",\n      tableHeader: \"\",\n      mergeCells: \"\",\n      splitCells: \"\",\n      HorizontalSplit: \"\",\n      VerticalSplit: \"\"\n    },\n    menu: {\n      spaced: \"\",\n      bordered: \"\",\n      neon: \"\",\n      translucent: \"\",\n      shadow: \"\",\n      code: \"\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"zh_cn\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ko\",\n    toolbar: {\n      default: \"\",\n      save: \"\",\n      font: \"\",\n      formats: \" \",\n      fontSize: \"\",\n      bold: \"\",\n      underline: \"\",\n      italic: \"\",\n      strike: \"\",\n      subscript: \" \",\n      superscript: \" \",\n      removeFormat: \" \",\n      fontColor: \"\",\n      hiliteColor: \"\",\n      indent: \"\",\n      outdent: \"\",\n      align: \"\",\n      alignLeft: \" \",\n      alignRight: \" \",\n      alignCenter: \" \",\n      alignJustify: \" \",\n      list: \"\",\n      orderList: \" \",\n      unorderList: \" \",\n      horizontalRule: \"  \",\n      hr_solid: \"\",\n      hr_dotted: \"\",\n      hr_dashed: \"\",\n      table: \"\",\n      link: \"\",\n      math: \"\",\n      image: \"\",\n      video: \"\",\n      audio: \"\",\n      fullScreen: \" \",\n      showBlocks: \" \",\n      codeView: \"HTML \",\n      undo: \" \",\n      redo: \" \",\n      preview: \"\",\n      print: \"\",\n      tag_p: \"\",\n      tag_div: \" (DIV)\",\n      tag_h: \"\",\n      tag_blockquote: \"\",\n      tag_pre: \"\",\n      template: \"\",\n      lineHeight: \" \",\n      paragraphStyle: \" \",\n      textStyle: \" \",\n      imageGallery: \" \",\n      mention: \"\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \" \",\n        url: \" \",\n        text: \" \",\n        newWindowCheck: \" \",\n        downloadLinkCheck: \" \",\n        bookmark: \"\"\n      },\n      mathBox: {\n        title: \"\",\n        inputLabel: \" \",\n        fontSizeLabel: \" \",\n        previewLabel: \"\"\n      },\n      imageBox: {\n        title: \" \",\n        file: \" \",\n        url: \" \",\n        altText: \" \"\n      },\n      videoBox: {\n        title: \" \",\n        file: \" \",\n        url: \"  , /\"\n      },\n      audioBox: {\n        title: \" \",\n        file: \" \",\n        url: \"  \"\n      },\n      browser: {\n        tags: \"\",\n        search: \"\"\n      },\n      caption: \" \",\n      close: \"\",\n      submitButton: \"\",\n      revertButton: \"\",\n      proportion: \" \",\n      basic: \"\",\n      left: \"\",\n      right: \"\",\n      center: \"\",\n      width: \"\",\n      height: \"\",\n      size: \"\",\n      ratio: \"\"\n    },\n    controller: {\n      edit: \"\",\n      unlink: \" \",\n      remove: \"\",\n      insertRowAbove: \"  \",\n      insertRowBelow: \"  \",\n      deleteRow: \" \",\n      insertColumnBefore: \"  \",\n      insertColumnAfter: \"  \",\n      deleteColumn: \" \",\n      fixedColumnWidth: \"   \",\n      resize100: \"100% \",\n      resize75: \"75% \",\n      resize50: \"50% \",\n      resize25: \"25% \",\n      autoSize: \" \",\n      mirrorHorizontal: \" \",\n      mirrorVertical: \" \",\n      rotateLeft: \" \",\n      rotateRight: \" \",\n      maxSize: \"\",\n      minSize: \"\",\n      tableHeader: \" \",\n      mergeCells: \" \",\n      splitCells: \" \",\n      HorizontalSplit: \" \",\n      VerticalSplit: \" \"\n    },\n    menu: {\n      spaced: \" \",\n      bordered: \"\",\n      neon: \"\",\n      translucent: \"\",\n      shadow: \"\",\n      code: \"\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ko\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"de\",\n    toolbar: {\n      default: \"Standard\",\n      save: \"Speichern\",\n      font: \"Schriftart\",\n      formats: \"Format\",\n      fontSize: \"Schriftgre\",\n      bold: \"Fett\",\n      underline: \"Unterstrichen\",\n      italic: \"Kursiv\",\n      strike: \"Durchgestrichen\",\n      subscript: \"Tiefgestellt\",\n      superscript: \"Hochgestellt\",\n      removeFormat: \"Format entfernen\",\n      fontColor: \"Schriftfarbe\",\n      hiliteColor: \"Farbe fr Hervorhebungen\",\n      indent: \"Einzug vergrern\",\n      outdent: \"Einzug verkleinern\",\n      align: \"Ausrichtung\",\n      alignLeft: \"Links ausrichten\",\n      alignRight: \"Rechts ausrichten\",\n      alignCenter: \"Zentriert ausrichten\",\n      alignJustify: \"Blocksatz\",\n      list: \"Liste\",\n      orderList: \"Nummerierte Liste\",\n      unorderList: \"Aufzhlung\",\n      horizontalRule: \"Horizontale Linie\",\n      hr_solid: \"Strich\",\n      hr_dotted: \"Gepunktet\",\n      hr_dashed: \"Gestrichelt\",\n      table: \"Tabelle\",\n      link: \"Link\",\n      math: \"Mathematik\",\n      image: \"Bild\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Vollbild\",\n      showBlocks: \"Blockformatierungen anzeigen\",\n      codeView: \"Quelltext anzeigen\",\n      undo: \"Rckgngig\",\n      redo: \"Wiederholen\",\n      preview: \"Vorschau\",\n      print: \"Drucken\",\n      tag_p: \"Absatz\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Header\",\n      tag_blockquote: \"Zitat\",\n      tag_pre: \"Quellcode\",\n      template: \"Vorlage\",\n      lineHeight: \"Zeilenhhe\",\n      paragraphStyle: \"Absatzstil\",\n      textStyle: \"Textstil\",\n      imageGallery: \"Bildergalerie\",\n      mention: \"Erwhnen\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Link einfgen\",\n        url: \"Link-URL\",\n        text: \"Link-Text\",\n        newWindowCheck: \"In neuem Fenster anzeigen\",\n        downloadLinkCheck: \"Download-Link\",\n        bookmark: \"Lesezeichen\"\n      },\n      mathBox: {\n        title: \"Mathematik\",\n        inputLabel: \"Mathematische Notation\",\n        fontSizeLabel: \"Schriftgre\",\n        previewLabel: \"Vorschau\"\n      },\n      imageBox: {\n        title: \"Bild einfgen\",\n        file: \"Datei auswhlen\",\n        url: \"Bild-URL\",\n        altText: \"Alternativer Text\"\n      },\n      videoBox: {\n        title: \"Video enfgen\",\n        file: \"Datei auswhlen\",\n        url: \"Video-URL, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Audio enfgen\",\n        file: \"Datei auswhlen\",\n        url: \"Audio-URL\"\n      },\n      browser: {\n        tags: \"Stichworte\",\n        search: \"Suche\"\n      },\n      caption: \"Beschreibung eingeben\",\n      close: \"Schlieen\",\n      submitButton: \"bernehmen\",\n      revertButton: \"Rckgngig\",\n      proportion: \"Seitenverhltnis beibehalten\",\n      basic: \"Standard\",\n      left: \"Links\",\n      right: \"Rechts\",\n      center: \"Zentriert\",\n      width: \"Breite\",\n      height: \"Hhe\",\n      size: \"Gre\",\n      ratio: \"Verhltnis\"\n    },\n    controller: {\n      edit: \"Bearbeiten\",\n      unlink: \"Link entfernen\",\n      remove: \"Lschen\",\n      insertRowAbove: \"Zeile oberhalb einfgen\",\n      insertRowBelow: \"Zeile unterhalb einfgen\",\n      deleteRow: \"Zeile lschen\",\n      insertColumnBefore: \"Spalte links einfgen\",\n      insertColumnAfter: \"Spalte rechts einfgen\",\n      deleteColumn: \"Spalte lschen\",\n      fixedColumnWidth: \"Feste Spaltenbreite\",\n      resize100: \"Zoom 100%\",\n      resize75: \"Zoom 75%\",\n      resize50: \"Zoom 50%\",\n      resize25: \"Zoom 25%\",\n      autoSize: \"Automatische Grenanpassung\",\n      mirrorHorizontal: \"Horizontal spiegeln\",\n      mirrorVertical: \"Vertikal spiegeln\",\n      rotateLeft: \"Nach links drehen\",\n      rotateRight: \"Nach rechts drehen\",\n      maxSize: \"Maximale Gre\",\n      minSize: \"Mindestgre\",\n      tableHeader: \"Tabellenberschrift\",\n      mergeCells: \"Zellen verbinden\",\n      splitCells: \"Zellen teilen\",\n      HorizontalSplit: \"Horizontal teilen\",\n      VerticalSplit: \"Vertikal teilen\"\n    },\n    menu: {\n      spaced: \"Buchstabenabstand\",\n      bordered: \"Umrandet\",\n      neon: \"Neon\",\n      translucent: \"Durchscheinend\",\n      shadow: \"Schatten\",\n      code: \"Quellcode\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"de\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ua\",\n    toolbar: {\n      default: \" \",\n      save: \"\",\n      font: \"\",\n      formats: \" \",\n      fontSize: \" \",\n      bold: \"\",\n      underline: \"\",\n      italic: \"\",\n      strike: \"\",\n      subscript: \" \",\n      superscript: \" \",\n      removeFormat: \" \",\n      fontColor: \" \",\n      hiliteColor: \" \",\n      indent: \" \",\n      outdent: \" \",\n      align: \"\",\n      alignLeft: \"  \",\n      alignRight: \"  \",\n      alignCenter: \" \",\n      alignJustify: \" \",\n      list: \"\",\n      orderList: \"\",\n      unorderList: \"\",\n      horizontalRule: \" \",\n      hr_solid: \"\",\n      hr_dotted: \"\",\n      hr_dashed: \"\",\n      table: \"\",\n      link: \"\",\n      math: \"\",\n      image: \"\",\n      video: \"\",\n      audio: \"\",\n      fullScreen: \" \",\n      showBlocks: \" \",\n      codeView: \"  HTML\",\n      undo: \"\",\n      redo: \" \",\n      preview: \" \",\n      print: \"\",\n      tag_p: \"\",\n      tag_div: \"\",\n      tag_h: \"\",\n      tag_blockquote: \"\",\n      tag_pre: \"\",\n      template: \"\",\n      lineHeight: \" \",\n      paragraphStyle: \" \",\n      textStyle: \" \",\n      imageGallery: \"\",\n      mention: \"\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \" \",\n        url: \"\",\n        text: \"\",\n        newWindowCheck: \"   \",\n        downloadLinkCheck: \"  \",\n        bookmark: \"\"\n      },\n      mathBox: {\n        title: \"\",\n        inputLabel: \" \",\n        fontSizeLabel: \" \",\n        previewLabel: \" \"\n      },\n      imageBox: {\n        title: \" \",\n        file: \" \",\n        url: \"  \",\n        altText: \"  \"\n      },\n      videoBox: {\n        title: \" \",\n        file: \" \",\n        url: \"  , Youtube, Vimeo\"\n      },\n      audioBox: {\n        title: \" \",\n        file: \" \",\n        url: \"  \"\n      },\n      browser: {\n        tags: \"\",\n        search: \"\"\n      },\n      caption: \" \",\n      close: \"\",\n      submitButton: \"\",\n      revertButton: \"\",\n      proportion: \" \",\n      basic: \" \",\n      left: \"\",\n      right: \"\",\n      center: \" \",\n      width: \"\",\n      height: \"\",\n      size: \"\",\n      ratio: \"\"\n    },\n    controller: {\n      edit: \"\",\n      unlink: \" \",\n      remove: \"\",\n      insertRowAbove: \"  \",\n      insertRowBelow: \"  \",\n      deleteRow: \" \",\n      insertColumnBefore: \"  \",\n      insertColumnAfter: \"  \",\n      deleteColumn: \" \",\n      fixedColumnWidth: \"  \",\n      resize100: \" 100%\",\n      resize75: \" 75%\",\n      resize50: \" 50%\",\n      resize25: \" 25%\",\n      autoSize: \" \",\n      mirrorHorizontal: \"  \",\n      mirrorVertical: \"  \",\n      rotateLeft: \"   \",\n      rotateRight: \"   \",\n      maxSize: \"   \",\n      minSize: \"  \",\n      tableHeader: \" \",\n      mergeCells: \"' \",\n      splitCells: \" \",\n      HorizontalSplit: \" \",\n      VerticalSplit: \" \"\n    },\n    menu: {\n      spaced: \"\",\n      bordered: \" \",\n      neon: \"\",\n      translucent: \"\",\n      shadow: \"\",\n      code: \"\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ua\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"textStyle\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.textStyle = {\n      _styleList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.textStyle._styleList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var defaultList = {\n      code: {\n        name: core.lang.menu.code,\n        class: \"__ke__t-code\",\n        tag: \"code\"\n      },\n      translucent: {\n        name: core.lang.menu.translucent,\n        style: \"opacity: 0.5;\",\n        tag: \"span\"\n      },\n      shadow: {\n        name: core.lang.menu.shadow,\n        class: \"__ke__t-shadow\",\n        tag: \"span\"\n      }\n    };\n    var styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n      t = styleList[i];\n      attrs = \"\", value = \"\", command = [];\n\n      if (typeof t === \"string\") {\n        var defaultStyle = defaultList[t.toLowerCase()];\n\n        if (!defaultStyle) {\n          continue;\n        }\n\n        t = defaultStyle;\n      }\n\n      name = t.name;\n      tag = t.tag || \"span\";\n      _class = t._class;\n\n      if (t.style) {\n        attrs += ' style=\"' + t.style + '\"';\n        value += t.style.replace(/:[^;]+(;|$)\\s*/g, \",\");\n        command.push(\"style\");\n      }\n\n      if (t.class) {\n        attrs += ' class=\"' + t.class + '\"';\n        value += \".\" + t.class.trim().replace(/\\s+/g, \",.\");\n        command.push(\"class\");\n      }\n\n      value = value.replace(/,$/, \"\");\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list' + (_class ? \" \" + _class : \"\") + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' + \"<\" + tag + attrs + \">\" + name + \"</\" + tag + \">\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var util = this.util;\n    var textStyleContext = this.context.textStyle;\n    var styleToolbarItem = textStyleContext._styleList;\n    var selectionNode = this.getSelectionNode();\n\n    for (var i = 0, len = styleToolbarItem.length, btn, data, active; i < len; i++) {\n      btn = styleToolbarItem[i];\n      data = btn.getAttribute(\"data-value\").split(\",\");\n\n      for (var v = 0, node, value; v < data.length; v++) {\n        node = selectionNode;\n        active = false;\n\n        while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n          if (node.nodeName.toLowerCase() === btn.getAttribute(\"data-command\").toLowerCase()) {\n            value = data[v];\n\n            if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, \"\")) : !!node.style[value]) {\n              active = true;\n              break;\n            }\n          }\n\n          node = node.parentNode;\n        }\n\n        if (!active) {\n          break;\n        }\n      }\n\n      active ? util.addClass(btn, \"active\") : util.removeClass(btn, \"active\");\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = null,\n        tag = null;\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    }\n\n    var checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, \",\").split(\",\");\n    checkStyles.pop();\n    var classes = tag.classList;\n\n    for (var i = 0, len = classes.length; i < len; i++) {\n      checkStyles.push(\".\" + classes[i]);\n    }\n\n    var newNode = this.util.hasClass(target, \"active\") ? null : tag.cloneNode(false);\n    var removeNodes = newNode ? null : [tag.nodeName];\n    this.nodeChange(newNode, checkStyles, removeNodes, true);\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var component = {\n    name: \"component\",\n\n    /**\r\n     * @description Create a container for the resizing component and insert the element.\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {String} className Class name of container (fixed: ke-component)\r\n     * @returns {Element} Created container element\r\n     */\n    set_container: function set_container(cover, className) {\n      var container = this.util.createElement(\"DIV\");\n      container.className = \"ke-component \" + className;\n      container.setAttribute(\"contenteditable\", false);\n      container.appendChild(cover);\n      return container;\n    },\n\n    /**\r\n     * @description Cover the target element with a FIGURE element.\r\n     * @param {Element} element Target element\r\n     */\n    set_cover: function set_cover(element) {\n      var cover = this.util.createElement(\"FIGURE\");\n      cover.appendChild(element);\n      return cover;\n    },\n\n    /**\r\n     * @description Return HTML string of caption(FIGCAPTION) element\r\n     * @returns {String}\r\n     */\n    create_caption: function create_caption() {\n      var caption = this.util.createElement(\"FIGCAPTION\");\n      caption.setAttribute(\"contenteditable\", true);\n      caption.innerHTML = \"<div>\" + this.lang.dialogBox.caption + \"</div>\";\n      return caption;\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"component\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: component\n    });\n  }\n\n  return component;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nfunction _default(core, change) {\n  var _w = core._w;\n  var util = core.util;\n  var delayTime = core.options.historyStackDelayTime;\n  var editor = core.context.element;\n  var undo = core.context.tool.undo;\n  var redo = core.context.tool.redo;\n  var pushDelay = null;\n  var stackIndex = 0;\n  var stack = [];\n\n  function setContentsFromStack() {\n    var item = stack[stackIndex];\n    editor.wysiwyg.innerHTML = item.contents;\n    core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n    core.focus();\n\n    if (stackIndex === 0) {\n      if (undo) undo.setAttribute(\"disabled\", true);\n      if (redo) redo.removeAttribute(\"disabled\");\n    } else if (stackIndex === stack.length - 1) {\n      if (undo) undo.removeAttribute(\"disabled\");\n      if (redo) redo.setAttribute(\"disabled\", true);\n    } else {\n      if (undo) undo.removeAttribute(\"disabled\");\n      if (redo) redo.removeAttribute(\"disabled\");\n    }\n\n    core.controllersOff();\n\n    core._checkComponents();\n\n    core._setCharCount();\n\n    core._resourcesStateChange(); // onChange\n\n\n    change();\n  }\n\n  function pushStack() {\n    core._checkComponents();\n\n    var current = core.getContents(true);\n    if (!current || !!stack[stackIndex] && current === stack[stackIndex].contents) return;\n    stackIndex++;\n    var range = core._variable._range;\n\n    if (stack.length > stackIndex) {\n      stack = stack.slice(0, stackIndex);\n      if (redo) redo.setAttribute(\"disabled\", true);\n    }\n\n    if (!range) {\n      stack[stackIndex] = {\n        contents: current,\n        s: {\n          path: [0, 0],\n          offset: [0, 0]\n        },\n        e: {\n          path: 0,\n          offset: 0\n        }\n      };\n    } else {\n      stack[stackIndex] = {\n        contents: current,\n        s: {\n          path: util.getNodePath(range.startContainer, null, null),\n          offset: range.startOffset\n        },\n        e: {\n          path: util.getNodePath(range.endContainer, null, null),\n          offset: range.endOffset\n        }\n      };\n    }\n\n    if (stackIndex === 1 && undo) undo.removeAttribute(\"disabled\");\n\n    core._setCharCount(); // onChange\n\n\n    change();\n  }\n\n  return {\n    /**\r\n     * @description History stack\r\n     */\n    stack: stack,\n\n    /**\r\n     * @description Saving the current status to the history object stack\r\n     * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\r\n     * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\r\n     * You can specify the delay time by sending a number.\r\n     * @param {Boolean|Number} delay If true, Add stack without delay time.\r\n     */\n    push: function push(delay) {\n      _w.setTimeout(core._resourcesStateChange.bind(core));\n\n      var time = typeof delay === \"number\" ? delay > 0 ? delay : 0 : !delay ? 0 : delayTime;\n\n      if (!time || pushDelay) {\n        _w.clearTimeout(pushDelay);\n\n        if (!time) {\n          pushStack();\n          return;\n        }\n      }\n\n      pushDelay = _w.setTimeout(function () {\n        _w.clearTimeout(pushDelay);\n\n        pushDelay = null;\n        pushStack();\n      }, time);\n    },\n\n    /**\r\n     * @description Undo function\r\n     */\n    undo: function undo() {\n      if (stackIndex > 0) {\n        stackIndex--;\n        setContentsFromStack();\n      }\n    },\n\n    /**\r\n     * @description Redo function\r\n     */\n    redo: function redo() {\n      if (stack.length - 1 > stackIndex) {\n        stackIndex++;\n        setContentsFromStack();\n      }\n    },\n\n    /**\r\n     * @description Go to the history stack for that index.\r\n     * If \"index\" is -1, go to the last stack\r\n     * @param {Number} index Stack index\r\n     */\n    go: function go(index) {\n      stackIndex = index < 0 ? stack.length - 1 : index;\n      setContentsFromStack();\n    },\n\n    /**\r\n     * @description Reset the history object\r\n     */\n    reset: function reset(ignoreChangeEvent) {\n      if (undo) undo.setAttribute(\"disabled\", true);\n      if (redo) redo.setAttribute(\"disabled\", true);\n      core._variable.isChanged = false;\n      if (core.context.tool.save) core.context.tool.save.setAttribute(\"disabled\", true);\n      stack.splice(0);\n      stackIndex = 0; // pushStack\n\n      stack[stackIndex] = {\n        contents: core.getContents(true),\n        s: {\n          path: [0, 0],\n          offset: 0\n        },\n        e: {\n          path: [0, 0],\n          offset: 0\n        }\n      };\n      if (!ignoreChangeEvent) change();\n    },\n\n    /**\r\n     * @description Reset the disabled state of the buttons to fit the current stack.\r\n     * @private\r\n     */\n    _resetCachingButton: function _resetCachingButton() {\n      editor = core.context.element;\n      undo = core.context.tool.undo;\n      redo = core.context.tool.redo;\n\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute(\"disabled\", true);\n        if (redo && stackIndex === stack.length - 1) redo.setAttribute(\"disabled\", true);\n        core._variable.isChanged = false;\n        if (core.context.tool.save) core.context.tool.save.setAttribute(\"disabled\", true);\n      } else if (stackIndex === stack.length - 1) {\n        if (redo) redo.setAttribute(\"disabled\", true);\n      }\n    },\n\n    /**\r\n     * @description Remove all stacks and remove the timeout function.\r\n     * @private\r\n     */\n    _destroy: function _destroy() {\n      if (pushDelay) _w.clearTimeout(pushDelay);\n      stack = null;\n    }\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _constructor = _interopRequireDefault(require(\"./constructor\"));\n\nvar _context = _interopRequireDefault(require(\"./context\"));\n\nvar _history = _interopRequireDefault(require(\"./history\"));\n\nvar _util = _interopRequireDefault(require(\"./util\"));\n\nvar _notice = _interopRequireDefault(require(\"../plugins/modules/notice\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\r\n * @description KothingEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins\r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _responsiveButtons\r\n * @returns {Object} functions Object\r\n */\nfunction _default(context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\n  var _d = context.element.originElement.ownerDocument || document;\n\n  var _w = _d.defaultView || window;\n\n  var util = _util.default;\n  var icons = options.icons;\n  /**\r\n   * @description editor core object\r\n   * should always bind this object when registering an event in the plug-in.\r\n   */\n\n  var core = {\n    _d: _d,\n    _w: _w,\n    _parser: new _w.DOMParser(),\n\n    /**\r\n     * @description Document object of the iframe if created as an iframe || _d\r\n     * @private\r\n     */\n    _wd: null,\n\n    /**\r\n     * @description Window object of the iframe if created as an iframe || _w\r\n     * @private\r\n     */\n    _ww: null,\n\n    /**\r\n     * @description Closest ShadowRoot to editor if found\r\n     * @private\r\n     */\n    _shadowRoot: null,\n\n    /**\r\n     * @description Block controller mousedown events in \"shadowRoot\" environment\r\n     * @private\r\n     */\n    _shadowRootControllerEventTarget: null,\n\n    /**\r\n     * @description Util object\r\n     */\n    util: util,\n\n    /**\r\n     * @description Functions object\r\n     */\n    functions: null,\n\n    /**\r\n     * @description Editor options\r\n     */\n    options: null,\n\n    /**\r\n     * @description Computed style of the wysiwyg area (window.getComputedStyle(context.element.wysiwyg))\r\n     */\n    wwComputedStyle: _w.getComputedStyle(context.element.wysiwyg),\n\n    /**\r\n     * @description Notice object\r\n     */\n    notice: _notice.default,\n\n    /**\r\n     * @description Default icons object\r\n     */\n    icons: icons,\n\n    /**\r\n     * @description History object for undo, redo\r\n     */\n    history: null,\n\n    /**\r\n     * @description Elements and user options parameters of the KothingEditor\r\n     */\n    context: context,\n\n    /**\r\n     * @description Plugin buttons\r\n     */\n    pluginCallButtons: pluginCallButtons,\n\n    /**\r\n     * @description Loaded plugins\r\n     */\n    plugins: plugins || {},\n\n    /**\r\n     * @description Whether the plugin is initialized\r\n     */\n    initPlugins: {},\n\n    /**\r\n     * @description Object for managing submenu elements\r\n     * @private\r\n     */\n    _targetPlugins: {},\n\n    /**\r\n     * @description Save rendered submenus and containers\r\n     * @private\r\n     */\n    menuTray: {},\n\n    /**\r\n     * @description loaded language\r\n     */\n    lang: lang,\n\n    /**\r\n     * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n     */\n    effectNode: null,\n\n    /**\r\n     * @description submenu element\r\n     */\n    submenu: null,\n\n    /**\r\n     * @description container element\r\n     */\n    container: null,\n\n    /**\r\n     * @description current subment name\r\n     * @private\r\n     */\n    _submenuName: \"\",\n\n    /**\r\n     * @description binded submenuOff method\r\n     * @private\r\n     */\n    _bindedSubmenuOff: null,\n\n    /**\r\n     * @description binded containerOff method\r\n     * @private\r\n     */\n    _bindedContainerOff: null,\n\n    /**\r\n     * @description active button element in submenu\r\n     */\n    submenuActiveButton: null,\n\n    /**\r\n     * @description active button element in container\r\n     */\n    containerActiveButton: null,\n\n    /**\r\n     * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n     */\n    controllerArray: [],\n\n    /**\r\n     * @description The name of the plugin that called the currently active controller\r\n     */\n    currentControllerName: \"\",\n\n    /**\r\n     * @description The target element of current controller\r\n     */\n    currentControllerTarget: null,\n\n    /**\r\n     * @description The file component object of current selected file tag (getFileComponent)\r\n     */\n    currentFileComponentInfo: null,\n\n    /**\r\n     * @description An array of buttons whose class name is not \"ke-code-view-enabled\"\r\n     */\n    codeViewDisabledButtons: null,\n\n    /**\r\n     * @description An array of buttons whose class name is not \"ke-resizing-enabled\"\r\n     */\n    resizingDisabledButtons: null,\n\n    /**\r\n     * @description active more layer element in submenu\r\n     * @private\r\n     */\n    _moreLayerActiveButton: null,\n\n    /**\r\n     * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n     * ^(options._editorTagsWhitelist)$\r\n     * @private\r\n     */\n    _htmlCheckWhitelistRegExp: null,\n\n    /**\r\n     * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n     * @private\r\n     */\n    _disallowedTextTagsRegExp: null,\n\n    /**\r\n     * @description Editor tags whitelist (RegExp object)\r\n     * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n     */\n    editorTagsWhitelistRegExp: null,\n\n    /**\r\n     * @description Tag whitelist when pasting (RegExp object)\r\n     * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n     */\n    pasteTagsWhitelistRegExp: null,\n\n    /**\r\n     * @description Boolean value of whether the editor has focus\r\n     */\n    hasFocus: false,\n\n    /**\r\n     * @description Boolean value of whether the editor is disabled\r\n     */\n    isDisabled: false,\n\n    /**\r\n     * @description Attributes whitelist used by the cleanHTML method\r\n     * @private\r\n     */\n    _attributesWhitelistRegExp: null,\n\n    /**\r\n     * @description Attributes of tags whitelist used by the cleanHTML method\r\n     * @private\r\n     */\n    _attributesTagsWhitelist: null,\n\n    /**\r\n     * @description binded controllersOff method\r\n     * @private\r\n     */\n    _bindControllersOff: null,\n\n    /**\r\n     * @description Is inline mode?\r\n     * @private\r\n     */\n    _isInline: null,\n\n    /**\r\n     * @description Is balloon|balloon-always mode?\r\n     * @private\r\n     */\n    _isBalloon: null,\n\n    /**\r\n     * @description Is balloon-always mode?\r\n     * @private\r\n     */\n    _isBalloonAlways: null,\n\n    /**\r\n     * @description Required value when using inline mode to sticky toolbar\r\n     * @private\r\n     */\n    _inlineToolbarAttr: {\n      top: \"\",\n      width: \"\",\n      isShow: false\n    },\n\n    /**\r\n     * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n     * @private\r\n     */\n    _notHideToolbar: false,\n\n    /**\r\n     * @description Variable value that sticky toolbar mode\r\n     * @private\r\n     */\n    _sticky: false,\n\n    /**\r\n     * @description Variables for controlling focus and blur events\r\n     * @private\r\n     */\n    _antiBlur: false,\n\n    /**\r\n     * @description Component line breaker element\r\n     * @private\r\n     */\n    lineBreaker: null,\n    lineBreakerButton: null,\n\n    /**\r\n     * @description If true, (initialize, reset) all indexes of image, video information\r\n     * @private\r\n     */\n    _componentsInfoInit: true,\n    _componentsInfoReset: false,\n\n    /**\r\n     * @description Plugins array with \"active\" method.\r\n     * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n     */\n    activePlugins: null,\n\n    /**\r\n     * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n     * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n     * Basic Editor Actions:\r\n     * 1. All classes not starting with \"__ke__\" or \"ke-\" in the editor are removed.\r\n     * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n     * \"managedTagsInfo\" structure ex:\r\n     * managedTagsInfo: {\r\n     *   query: '.__ke__xxx, ke-xxx'\r\n     *   map: {\r\n     *     '__ke__xxx': method.bind(core),\r\n     *     'ke-xxx': method.bind(core),\r\n     *   }\r\n     * }\r\n     * @example\r\n     * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n     * managedTagInfo() => {\r\n     *  return {\r\n     *    className: 'string', // Class name to identify the tag. (\"__ke__xxx\", \"ke-xxx\")\r\n     *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n     *    // \"method\" is executed by binding \"core\".\r\n     *    method: function (element) {\r\n     *      // this === core\r\n     *      element.innerHTML = // (rendered html);\r\n     *    }\r\n     *  }\r\n     * }\r\n     */\n    managedTagsInfo: null,\n\n    /**\r\n     * @description cashing: options.charCounterType === 'byte-html'\r\n     * @private\r\n     */\n    _charTypeHTML: false,\n\n    /**\r\n     * @description Array of \"checkFileInfo\" functions with the core bound\r\n     * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n     * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n     * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n     * @private\r\n     */\n    _fileInfoPluginsCheck: null,\n\n    /**\r\n     * @description Array of \"resetFileInfo\" functions with the core bound\r\n     * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n     * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n     * @private\r\n     */\n    _fileInfoPluginsReset: null,\n\n    /**\r\n     * @description Variables for file component management\r\n     * @private\r\n     */\n    _fileManager: {\n      tags: null,\n      regExp: null,\n      queryString: null,\n      pluginRegExp: null,\n      pluginMap: null\n    },\n\n    /**\r\n     * @description Elements that need to change text or className for each selection change\r\n     * After creating the editor, \"activePlugins\" are added.\r\n     * @property {Element} STRONG bold button\r\n     * @property {Element} U underline button\r\n     * @property {Element} EM italic button\r\n     * @property {Element} DEL strike button\r\n     * @property {Element} SUB subscript button\r\n     * @property {Element} SUP superscript button\r\n     * @property {Element} OUTDENT outdent button\r\n     * @property {Element} INDENT indent button\r\n     */\n    commandMap: null,\n\n    /**\r\n     * @description Style button related to edit area\r\n     * @property {Element} fullScreen fullScreen button element\r\n     * @property {Element} showBlocks showBlocks button element\r\n     * @property {Element} codeView codeView button element\r\n     * @private\r\n     */\n    _styleCommandMap: null,\n\n    /**\r\n     * @description Map of default command\r\n     * @private\r\n     */\n    _defaultCommand: {\n      bold: options.textTags.bold,\n      underline: options.textTags.underline,\n      italic: options.textTags.italic,\n      strike: options.textTags.strike,\n      subscript: options.textTags.sub,\n      superscript: options.textTags.sup\n    },\n\n    /**\r\n     * @description Variables used internally in editor operation\r\n     * @property {Boolean} isCodeView State of code view\r\n     * @property {Boolean} isFullScreen State of full screen\r\n     * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n     * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n     * @property {Number} tabSize Indent size of tab (4)\r\n     * @property {Number} codeIndent Indent size of Code view mode (2)\r\n     * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.ke-wrapper-inner {min-height: 65px;} || 65)\r\n     * @property {Array} currentNodes  An array of the current cursor's node structure\r\n     * @private\r\n     */\n    _variable: {\n      isChanged: false,\n      isCodeView: false,\n      isFullScreen: false,\n      innerHeight_fullScreen: 0,\n      resizeClientY: 0,\n      tabSize: 4,\n      codeIndent: 2,\n      minResizingSize: util.getNumber(context.element.wysiwygFrame.style.minHeight || \"65\", 0),\n      currentNodes: [],\n      currentNodesMap: [],\n      _range: null,\n      _selectionNode: null,\n      _originCssText: context.element.topArea.style.cssText,\n      _bodyOverflow: \"\",\n      editorAreaOriginCssText: \"\",\n      _wysiwygOriginCssText: \"\",\n      _codeOriginCssText: \"\",\n      _fullScreenAttrs: {\n        sticky: false,\n        balloon: false,\n        inline: false\n      },\n      _lineBreakComp: null,\n      _lineBreakDir: \"\"\n    },\n\n    /**\r\n     * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n     * If the plugin is added call callBack function.\r\n     * @param {String} pluginName The name of the plugin to call\r\n     * @param {function} callBackFunction Function to be executed immediately after module call\r\n     * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n     */\n    callPlugin: function callPlugin(pluginName, callBackFunction, _target) {\n      _target = _target || pluginCallButtons[pluginName];\n\n      if (!this.plugins[pluginName]) {\n        throw Error('[KothingEditor.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\n      } else if (!this.initPlugins[pluginName]) {\n        this.plugins[pluginName].add(this, _target);\n        this.initPlugins[pluginName] = true;\n      } else if (_typeof(this._targetPlugins[pluginName]) === \"object\" && !!_target) {\n        this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\n      }\n\n      if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\n        this.commandMap[pluginName] = _target;\n        this.activePlugins.push(pluginName);\n      }\n\n      if (typeof callBackFunction === \"function\") callBackFunction();\n    },\n\n    /**\r\n     * @description If the module is not added, add the module and call the 'add' function\r\n     * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n     */\n    addModule: function addModule(moduleArray) {\n      for (var i = 0, len = moduleArray.length, moduleName; i < len; i++) {\n        moduleName = moduleArray[i].name;\n\n        if (!this.plugins[moduleName]) {\n          this.plugins[moduleName] = moduleArray[i];\n        }\n\n        if (!this.initPlugins[moduleName]) {\n          this.initPlugins[moduleName] = true;\n          if (typeof this.plugins[moduleName].add === \"function\") this.plugins[moduleName].add(this);\n        }\n      }\n    },\n\n    /**\r\n     * @description Gets the current editor-relative scroll offset.\r\n     * @returns {Object} {top, left}\r\n     */\n    getGlobalScrollOffset: function getGlobalScrollOffset() {\n      var t = 0,\n          l = 0;\n      var el = context.element.topArea;\n\n      while (el) {\n        t += el.scrollTop;\n        l += el.scrollLeft;\n        el = el.parentElement;\n      }\n\n      el = this._shadowRoot ? this._shadowRoot.host : null;\n\n      while (el) {\n        t += el.scrollTop;\n        l += el.scrollLeft;\n        el = el.parentElement;\n      }\n\n      return {\n        top: t,\n        left: l\n      };\n    },\n\n    /**\r\n     * @description Method for managing submenu element.\r\n     * You must add the \"submenu\" element using the this method at custom plugin.\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Element|null} target Target button\r\n     * @param {Element} menu Submenu element\r\n     */\n    initMenuTarget: function initMenuTarget(pluginName, target, menu) {\n      if (!target) {\n        this._targetPlugins[pluginName] = menu;\n      } else {\n        context.element.menuTray.appendChild(menu);\n        this._targetPlugins[pluginName] = true;\n        this.menuTray[target.getAttribute(\"data-command\")] = menu;\n      }\n    },\n\n    /**\r\n     * @description Enabled submenu\r\n     * @param {Element} element Submenu's button element to call\r\n     */\n    submenuOn: function submenuOn(element) {\n      if (this._bindedSubmenuOff) this._bindedSubmenuOff();\n      if (this._bindControllersOff) this.controllersOff();\n      var submenuName = this._submenuName = element.getAttribute(\"data-command\");\n      var menu = this.submenu = this.menuTray[submenuName];\n      this.submenuActiveButton = element;\n\n      this._setMenuPosition(element, menu);\n\n      this._bindedSubmenuOff = this.submenuOff.bind(this);\n      this.addDocEvent(\"mousedown\", this._bindedSubmenuOff, false);\n      if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\n      this._antiBlur = true;\n    },\n\n    /**\r\n     * @description Disable submenu\r\n     */\n    submenuOff: function submenuOff() {\n      this.removeDocEvent(\"mousedown\", this._bindedSubmenuOff);\n      this._bindedSubmenuOff = null;\n\n      if (this.submenu) {\n        this._submenuName = \"\";\n        this.submenu.style.display = \"none\";\n        this.submenu = null;\n        util.removeClass(this.submenuActiveButton, \"on\");\n        this.submenuActiveButton = null;\n        this._notHideToolbar = false;\n      }\n\n      this._antiBlur = false;\n    },\n\n    /**\r\n     * @description Enabled container\r\n     * @param {Element} element Container's button element to call\r\n     */\n    containerOn: function containerOn(element) {\n      if (this._bindedContainerOff) this._bindedContainerOff();\n      var containerName = this._containerName = element.getAttribute(\"data-command\");\n      var menu = this.container = this.menuTray[containerName];\n      this.containerActiveButton = element;\n\n      this._setMenuPosition(element, menu);\n\n      this._bindedContainerOff = this.containerOff.bind(this);\n      this.addDocEvent(\"mousedown\", this._bindedContainerOff, false);\n      if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\n      this._antiBlur = true;\n    },\n\n    /**\r\n     * @description Disable container\r\n     */\n    containerOff: function containerOff() {\n      this.removeDocEvent(\"mousedown\", this._bindedContainerOff);\n      this._bindedContainerOff = null;\n\n      if (this.container) {\n        this._containerName = \"\";\n        this.container.style.display = \"none\";\n        this.container = null;\n        util.removeClass(this.containerActiveButton, \"on\");\n        this.containerActiveButton = null;\n        this._notHideToolbar = false;\n      }\n\n      this._antiBlur = false;\n    },\n\n    /**\r\n     * @description Set the menu position. (submenu, container)\r\n     * @param {*} element Button element\r\n     * @param {*} menu Menu element\r\n     * @private\r\n     */\n    _setMenuPosition: function _setMenuPosition(element, menu) {\n      menu.style.visibility = \"hidden\";\n      menu.style.display = \"block\";\n      menu.style.height = \"\";\n      util.addClass(element, \"on\");\n      var toolbar = this.context.element.toolbar;\n      var toolbarW = toolbar.offsetWidth;\n\n      var toolbarOffset = event._getEditorOffsets(context.element.toolbar);\n\n      var menuW = menu.offsetWidth;\n      var l = element.parentElement.offsetLeft + 3; // rtl\n\n      if (options.rtl) {\n        var elementW = element.offsetWidth;\n        var rtlW = menuW > elementW ? menuW - elementW : 0;\n        var rtlL = rtlW > 0 ? 0 : elementW - menuW;\n        menu.style.left = l - rtlW + rtlL + \"px\";\n\n        if (toolbarOffset.left > event._getEditorOffsets(menu).left) {\n          menu.style.left = \"0px\";\n        }\n      } else {\n        var overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\n        if (overLeft < 0) menu.style.left = l + overLeft + \"px\";else menu.style.left = l + \"px\";\n      } // get element top\n\n\n      var t = 0;\n      var offsetEl = element;\n\n      while (offsetEl && offsetEl !== toolbar) {\n        t += offsetEl.offsetTop;\n        offsetEl = offsetEl.offsetParent;\n      }\n\n      var bt = t;\n\n      if (this._isBalloon) {\n        t += toolbar.offsetTop + element.offsetHeight;\n      } else {\n        t -= element.offsetHeight;\n      } // set menu position\n\n\n      var toolbarTop = toolbarOffset.top;\n      var menuHeight = menu.offsetHeight;\n      var scrollTop = this.getGlobalScrollOffset().top;\n      var menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\n\n      if (menuHeight_bottom < menuHeight) {\n        var menuTop = -1 * (menuHeight - bt + 3);\n        var insTop = toolbarTop - scrollTop + menuTop;\n        var menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\n\n        if (menuHeight_top > menuHeight_bottom) {\n          menu.style.height = menuHeight_top + \"px\";\n          menuTop = -1 * (menuHeight_top - bt + 3);\n        } else {\n          menu.style.height = menuHeight_bottom + \"px\";\n          menuTop = bt + element.parentElement.offsetHeight;\n        }\n\n        menu.style.top = menuTop + \"px\";\n      } else {\n        menu.style.top = bt + element.parentElement.offsetHeight + \"px\";\n      }\n\n      menu.style.visibility = \"\";\n    },\n\n    /**\r\n     * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n     * @param {*} arguments controller elements, functions..\r\n     */\n    controllersOn: function controllersOn() {\n      if (this._bindControllersOff) this._bindControllersOff();\n      this.controllerArray = [];\n\n      for (var i = 0, arg; i < arguments.length; i++) {\n        arg = arguments[i];\n        if (!arg) continue;\n\n        if (typeof arg === \"string\") {\n          this.currentControllerName = arg;\n          continue;\n        }\n\n        if (typeof arg === \"function\") {\n          this.controllerArray.push(arg);\n          continue;\n        }\n\n        if (!util.hasClass(arg, \"ke-controller\")) {\n          this.currentControllerTarget = arg;\n          this.currentFileComponentInfo = this.getFileComponent(arg);\n          continue;\n        }\n\n        if (arg.style) {\n          arg.style.display = \"block\";\n\n          if (this._shadowRoot && this._shadowRootControllerEventTarget.indexOf(arg) === -1) {\n            arg.addEventListener(\"mousedown\", function (e) {\n              e.preventDefault();\n              e.stopPropagation();\n            });\n\n            this._shadowRootControllerEventTarget.push(arg);\n          }\n        }\n\n        this.controllerArray.push(arg);\n      }\n\n      this._bindControllersOff = this.controllersOff.bind(this);\n      this.addDocEvent(\"mousedown\", this._bindControllersOff, false);\n      this.addDocEvent(\"keydown\", this._bindControllersOff, false);\n      this._antiBlur = true;\n      if (typeof functions.showController === \"function\") functions.showController(this.currentControllerName, this.controllerArray, this);\n    },\n\n    /**\r\n     * @description Hide controller at editor area (link button, image resize button..)\r\n     * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n     */\n    controllersOff: function controllersOff(e) {\n      this.lineBreaker.style.display = \"none\";\n      var len = this.controllerArray.length;\n\n      if (e && e.target && len > 0) {\n        for (var i = 0; i < len; i++) {\n          if (typeof this.controllerArray[i].contains === \"function\" && this.controllerArray[i].contains(e.target)) return;\n        }\n      }\n\n      if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === \"keydown\" && e.keyCode !== 27) return;\n      context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = \"none\";\n      this._variable._lineBreakComp = null;\n      this.currentControllerName = \"\";\n      this.currentControllerTarget = null;\n      this.currentFileComponentInfo = null;\n      this.effectNode = null;\n      if (!this._bindControllersOff) return;\n      this.removeDocEvent(\"mousedown\", this._bindControllersOff);\n      this.removeDocEvent(\"keydown\", this._bindControllersOff);\n      this._bindControllersOff = null;\n\n      if (len > 0) {\n        for (var _i = 0; _i < len; _i++) {\n          if (typeof this.controllerArray[_i] === \"function\") this.controllerArray[_i]();else this.controllerArray[_i].style.display = \"none\";\n        }\n\n        this.controllerArray = [];\n      }\n\n      this._antiBlur = false;\n    },\n\n    /**\r\n     * @description Specify the position of the controller.\r\n     * @param {Element} controller Controller element.\r\n     * @param {Element} referEl Element that is the basis of the controller's position.\r\n     * @param {String} position Type of position (\"top\" | \"bottom\")\r\n     * When using the \"top\" position, there should not be an arrow on the controller.\r\n     * When using the \"bottom\" position there should be an arrow on the controller.\r\n     * @param {Object} addOffset These are the left and top values that need to be added specially.\r\n     * This argument is required. - {left: 0, top: 0}\r\n     * Please enter the value based on ltr mode.\r\n     * Calculated automatically in rtl mode.\r\n     */\n    setControllerPosition: function setControllerPosition(controller, referEl, position, addOffset) {\n      if (options.rtl) addOffset.left *= -1;\n      var offset = util.getOffset(referEl, context.element.wysiwygFrame);\n      controller.style.visibility = \"hidden\";\n      controller.style.display = \"block\"; // Height value of the arrow element is 11px\n\n      var topMargin = position === \"top\" ? -(controller.offsetHeight + 2) : referEl.offsetHeight + 12;\n      controller.style.top = offset.top + topMargin + addOffset.top + \"px\";\n      var l = offset.left - context.element.wysiwygFrame.scrollLeft + addOffset.left;\n      var controllerW = controller.offsetWidth;\n      var referElW = referEl.offsetWidth;\n      var allow = util.hasClass(controller.firstElementChild, \"ke-arrow\") ? controller.firstElementChild : null; // rtl (Width value of the arrow element is 22px)\n\n      if (options.rtl) {\n        var rtlW = controllerW > referElW ? controllerW - referElW : 0;\n        var rtlL = rtlW > 0 ? 0 : referElW - controllerW;\n        controller.style.left = l - rtlW + rtlL + \"px\";\n\n        if (rtlW > 0) {\n          if (allow) allow.style.left = (controllerW - 14 < 10 + rtlW ? controllerW - 14 : 10 + rtlW) + \"px\";\n        }\n\n        var overSize = context.element.wysiwygFrame.offsetLeft - controller.offsetLeft;\n\n        if (overSize > 0) {\n          controller.style.left = \"0px\";\n          if (allow) allow.style.left = overSize + \"px\";\n        }\n      } else {\n        controller.style.left = l + \"px\";\n\n        var _overSize = context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controllerW);\n\n        if (_overSize < 0) {\n          controller.style.left = controller.offsetLeft + _overSize + \"px\";\n          if (allow) allow.style.left = 20 - _overSize + \"px\";\n        } else {\n          if (allow) allow.style.left = \"20px\";\n        }\n      }\n\n      controller.style.visibility = \"\";\n    },\n\n    /**\r\n     * @description javascript execCommand\r\n     * @param {String} command javascript execCommand function property\r\n     * @param {Boolean|undefined} showDefaultUI javascript execCommand function property\r\n     * @param {String|undefined} value javascript execCommand function property\r\n     */\n    execCommand: function execCommand(command, showDefaultUI, value) {\n      this._wd.execCommand(command, showDefaultUI, command === \"formatBlock\" ? \"<\" + value + \">\" : value); // history stack\n\n\n      this.history.push(true);\n    },\n\n    /**\r\n     * @description Focus to wysiwyg area using \"native focus function\"\r\n     */\n    nativeFocus: function nativeFocus() {\n      var caption = util.getParentElement(this.getSelectionNode(), \"figcaption\");\n\n      if (caption) {\n        caption.focus();\n      } else {\n        context.element.wysiwyg.focus();\n      }\n\n      this._editorRange();\n    },\n\n    /**\r\n     * @description Focus to wysiwyg area\r\n     */\n    focus: function focus() {\n      if (context.element.wysiwygFrame.style.display === \"none\") return;\n\n      if (options.iframe) {\n        this.nativeFocus();\n      } else {\n        try {\n          var range = this.getRange();\n\n          if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\n            var currentNode = range.commonAncestorContainer.children[range.startOffset];\n\n            if (!util.isFormatElement(currentNode) && !util.isComponent(currentNode)) {\n              var format = util.createElement(options.defaultTag);\n              var br = util.createElement(\"BR\");\n              format.appendChild(br);\n              context.element.wysiwyg.insertBefore(format, currentNode);\n              this.setRange(br, 0, br, 0);\n              return;\n            }\n          }\n\n          this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n        } catch (e) {\n          this.nativeFocus();\n        }\n      }\n\n      event._applyTagEffects();\n\n      if (this._isBalloon) event._toggleToolbarBalloon();\n    },\n\n    /**\r\n     * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n     * If \"focusEdge\" is null, then selected last element\r\n     * @param {Element|null} focusEl Focus element\r\n     */\n    focusEdge: function focusEdge(focusEl) {\n      if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\n      var fileComponentInfo = this.getFileComponent(focusEl);\n\n      if (fileComponentInfo) {\n        this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n      } else if (focusEl) {\n        focusEl = util.getChildElement(focusEl, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, true);\n        if (!focusEl) this.nativeFocus();else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\n      } else {\n        this.focus();\n      }\n    },\n\n    /**\r\n     * @description Focusout to wysiwyg area (.blur())\r\n     */\n    blur: function blur() {\n      if (options.iframe) {\n        context.element.wysiwygFrame.blur();\n      } else {\n        context.element.wysiwyg.blur();\n      }\n    },\n\n    /**\r\n     * @description Set current editor's range object and return.\r\n     * @param {Node} startCon The startContainer property of the selection object.\r\n     * @param {Number} startOff The startOffset property of the selection object.\r\n     * @param {Node} endCon The endContainer property of the selection object.\r\n     * @param {Number} endOff The endOffset property of the selection object.\r\n     * @returns {Object} Range object.\r\n     */\n    setRange: function setRange(startCon, startOff, endCon, endOff) {\n      if (!startCon || !endCon) return;\n      if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\n      if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\n\n      if (util.isFormatElement(startCon)) {\n        startCon = startCon.childNodes[startOff] || startCon;\n        startOff = 0;\n      }\n\n      if (util.isFormatElement(endCon)) {\n        endCon = endCon.childNodes[endOff] || endCon;\n        endOff = startOff > 1 ? startOff : 0;\n      }\n\n      var range = this._wd.createRange();\n\n      try {\n        range.setStart(startCon, startOff);\n        range.setEnd(endCon, endOff);\n      } catch (error) {\n        console.warn(\"[KothingEditor.core.focus.error] \" + error);\n        this.nativeFocus();\n        return;\n      }\n\n      var selection = this.getSelection();\n\n      if (selection.removeAllRanges) {\n        selection.removeAllRanges();\n      }\n\n      selection.addRange(range);\n\n      this._editorRange();\n\n      if (options.iframe) this.nativeFocus();\n      return range;\n    },\n\n    /**\r\n     * @description Remove range object and button effect\r\n     */\n    removeRange: function removeRange() {\n      this._variable._range = null;\n      this._variable._selectionNode = null;\n      if (this.hasFocus) this.getSelection().removeAllRanges();\n      var commandMap = this.commandMap;\n      var activePlugins = this.activePlugins;\n\n      for (var key in commandMap) {\n        if (!util.hasOwn(commandMap, key)) continue;\n\n        if (activePlugins.indexOf(key) > -1) {\n          plugins[key].active.call(this, null);\n        } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n          commandMap.OUTDENT.setAttribute(\"disabled\", true);\n        } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n          commandMap.INDENT.removeAttribute(\"disabled\");\n        } else {\n          util.removeClass(commandMap[key], \"active\");\n        }\n      }\n    },\n\n    /**\r\n     * @description Get current editor's range object\r\n     * @returns {Object}\r\n     */\n    getRange: function getRange() {\n      var range = this._variable._range || this._createDefaultRange();\n\n      var selection = this.getSelection();\n      if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\n\n      if (selection.rangeCount > 0) {\n        this._variable._range = selection.getRangeAt(0);\n        return this._variable._range;\n      } else {\n        var sc = selection.anchorNode,\n            ec = selection.focusNode,\n            so = selection.anchorOffset,\n            eo = selection.focusOffset;\n        var compareValue = util.compareElements(sc, ec);\n        var rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\n        return this.setRange(rightDir ? sc : ec, rightDir ? so : eo, rightDir ? ec : sc, rightDir ? eo : so);\n      }\n    },\n\n    /**\r\n     * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n     * Returns a new \"range\" or argument \"range\".\r\n     * @param {Object} range core.getRange()\r\n     * @param {Element|null} container If there is \"container\" argument, it creates a line in front of the container.\r\n     * @returns {Object} range\r\n     */\n    getRange_addLine: function getRange_addLine(range, container) {\n      if (this._selectionVoid(range)) {\n        var wysiwyg = context.element.wysiwyg;\n        var op = util.createElement(options.defaultTag);\n        op.innerHTML = \"<br>\";\n        wysiwyg.insertBefore(op, container && container !== wysiwyg ? container.nextElementSibling : wysiwyg.firstElementChild);\n        this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\n        range = this._variable._range;\n      }\n\n      return range;\n    },\n\n    /**\r\n     * @description Get window selection obejct\r\n     * @returns {Object}\r\n     */\n    getSelection: function getSelection() {\n      return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\n    },\n\n    /**\r\n     * @description Get current select node\r\n     * @returns {Node}\r\n     */\n    getSelectionNode: function getSelectionNode() {\n      if (!context.element.wysiwyg.contains(this._variable._selectionNode)) this._editorRange();\n\n      if (!this._variable._selectionNode) {\n        var selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, false);\n\n        if (!selectionNode) {\n          this._editorRange();\n        } else {\n          this._variable._selectionNode = selectionNode;\n          return selectionNode;\n        }\n      }\n\n      return this._variable._selectionNode;\n    },\n\n    /**\r\n     * @description Saving the range object and the currently selected node of editor\r\n     * @private\r\n     */\n    _editorRange: function _editorRange() {\n      var selection = this.getSelection();\n      if (!selection) return null;\n      var range = null;\n      var selectionNode = null;\n\n      if (selection.rangeCount > 0) {\n        range = selection.getRangeAt(0);\n      } else {\n        range = this._createDefaultRange();\n      }\n\n      this._variable._range = range;\n\n      if (range.collapsed) {\n        if (util.isWysiwygDiv(range.commonAncestorContainer)) selectionNode = range.commonAncestorContainer.children[range.startOffset] || range.commonAncestorContainer;else selectionNode = range.commonAncestorContainer;\n      } else {\n        selectionNode = selection.extentNode || selection.anchorNode;\n      }\n\n      this._variable._selectionNode = selectionNode;\n    },\n\n    /**\r\n     * @description Return the range object of editor's first child node\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createDefaultRange: function _createDefaultRange() {\n      var wysiwyg = context.element.wysiwyg;\n      wysiwyg.focus();\n\n      var range = this._wd.createRange();\n\n      var focusEl = wysiwyg.firstElementChild;\n\n      if (!focusEl) {\n        focusEl = util.createElement(options.defaultTag);\n        focusEl.innerHTML = \"<br>\";\n        wysiwyg.appendChild(focusEl);\n      }\n\n      range.setStart(focusEl, 0);\n      range.setEnd(focusEl, 0);\n      return range;\n    },\n\n    /**\r\n     * @description Returns true if there is no valid \"selection\".\r\n     * @param {Object} range core.getRange()\r\n     * @returns {Object} range\r\n     * @private\r\n     */\n    _selectionVoid: function _selectionVoid(range) {\n      var comm = range.commonAncestorContainer;\n      return util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\n    },\n\n    /**\r\n     * @description Reset range object to text node selected status.\r\n     * @returns {Boolean} Returns false if there is no valid selection.\r\n     * @private\r\n     */\n    _resetRangeToTextNode: function _resetRangeToTextNode() {\n      var range = this.getRange();\n      if (this._selectionVoid(range)) return false;\n      var startCon = range.startContainer;\n      var startOff = range.startOffset;\n      var endCon = range.endContainer;\n      var endOff = range.endOffset;\n      var tempCon, tempOffset, tempChild;\n\n      if (util.isFormatElement(startCon)) {\n        startCon = startCon.childNodes[startOff] || startCon.lastChild;\n        startOff = startCon.textContent.length;\n      }\n\n      if (util.isFormatElement(endCon)) {\n        endCon = endCon.childNodes[endOff] || endCon.lastChild;\n        endOff = endCon.textContent.length;\n      } // startContainer\n\n\n      tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\n      tempOffset = startOff;\n\n      if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n        var onlyBreak = util.isBreak(tempCon);\n\n        if (!onlyBreak) {\n          while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n            tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\n            tempOffset = 0;\n          }\n\n          var format = util.getFormatElement(tempCon, null);\n\n          if (format === util.getRangeFormatElement(format, null)) {\n            format = util.createElement(util.getParentElement(tempCon, util.isCell) ? \"DIV\" : options.defaultTag);\n            tempCon.parentNode.insertBefore(format, tempCon);\n            format.appendChild(tempCon);\n          }\n        }\n\n        if (util.isBreak(tempCon)) {\n          var emptyText = util.createTextNode(util.zeroWidthSpace);\n          tempCon.parentNode.insertBefore(emptyText, tempCon);\n          tempCon = emptyText;\n\n          if (onlyBreak) {\n            if (startCon === endCon) {\n              endCon = tempCon;\n              endOff = 1;\n            }\n          }\n        }\n      } // set startContainer\n\n\n      startCon = tempCon;\n      startOff = tempOffset; // endContainer\n\n      tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\n      tempOffset = endOff;\n\n      if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n        var _onlyBreak = util.isBreak(tempCon);\n\n        if (!_onlyBreak) {\n          while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n            tempChild = tempCon.childNodes;\n            if (tempChild.length === 0) break;\n            tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : tempCon.previousElementSibling || tempCon.previousSibling || startCon;\n            tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\n          }\n\n          var _format = util.getFormatElement(tempCon, null);\n\n          if (_format === util.getRangeFormatElement(_format, null)) {\n            _format = util.createElement(util.isCell(_format) ? \"DIV\" : options.defaultTag);\n            tempCon.parentNode.insertBefore(_format, tempCon);\n\n            _format.appendChild(tempCon);\n          }\n        }\n\n        if (util.isBreak(tempCon)) {\n          var _emptyText = util.createTextNode(util.zeroWidthSpace);\n\n          tempCon.parentNode.insertBefore(_emptyText, tempCon);\n          tempCon = _emptyText;\n          tempOffset = 1;\n\n          if (_onlyBreak && !tempCon.previousSibling) {\n            util.removeItem(endCon);\n          }\n        }\n      } // set endContainer\n\n\n      endCon = tempCon;\n      endOff = tempOffset; // set Range\n\n      this.setRange(startCon, startOff, endCon, endOff);\n      return true;\n    },\n\n    /**\r\n     * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n     * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n     * @returns {Array}\r\n     */\n    getSelectedElements: function getSelectedElements(validation) {\n      if (!this._resetRangeToTextNode()) return [];\n      var range = this.getRange();\n\n      if (util.isWysiwygDiv(range.startContainer)) {\n        var children = context.element.wysiwyg.children;\n        if (children.length === 0) return [];\n        this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\n        range = this.getRange();\n      }\n\n      var startCon = range.startContainer;\n      var endCon = range.endContainer;\n      var commonCon = range.commonAncestorContainer; // get line nodes\n\n      var lineNodes = util.getListChildren(commonCon, function (current) {\n        return validation ? validation(current) : util.isFormatElement(current);\n      });\n      if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\n      if (startCon === endCon || lineNodes.length === 1) return lineNodes;\n      var startLine = util.getFormatElement(startCon, null);\n      var endLine = util.getFormatElement(endCon, null);\n      var startIdx = null;\n      var endIdx = null;\n\n      var onlyTable = function onlyTable(current) {\n        return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\n      };\n\n      var startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\n      var endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\n      if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\n      if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\n      var sameRange = startRangeEl === endRangeEl;\n\n      for (var i = 0, len = lineNodes.length, line; i < len; i++) {\n        line = lineNodes[i];\n\n        if (startLine === line || !sameRange && line === startRangeEl) {\n          startIdx = i;\n          continue;\n        }\n\n        if (endLine === line || !sameRange && line === endRangeEl) {\n          endIdx = i;\n          break;\n        }\n      }\n\n      if (startIdx === null) startIdx = 0;\n      if (endIdx === null) endIdx = lineNodes.length - 1;\n      return lineNodes.slice(startIdx, endIdx + 1);\n    },\n\n    /**\r\n     * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n     * If some of the component are included in the selection, get the entire that component.\r\n     * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n     * @returns {Array}\r\n     */\n    getSelectedElementsAndComponents: function getSelectedElementsAndComponents(removeDuplicate) {\n      var commonCon = this.getRange().commonAncestorContainer;\n      var myComponent = util.getParentElement(commonCon, util.isComponent);\n      var selectedLines = util.isTable(commonCon) ? this.getSelectedElements(null) : this.getSelectedElements(function (current) {\n        var component = this.getParentElement(current, this.isComponent);\n        return this.isFormatElement(current) && (!component || component === myComponent) || this.isComponent(current) && !this.getFormatElement(current);\n      }.bind(util));\n\n      if (removeDuplicate) {\n        for (var i = 0, len = selectedLines.length; i < len; i++) {\n          for (var j = i - 1; j >= 0; j--) {\n            if (selectedLines[j].contains(selectedLines[i])) {\n              selectedLines.splice(i, 1);\n              i--;\n              len--;\n              break;\n            }\n          }\n        }\n      }\n\n      return selectedLines;\n    },\n\n    /**\r\n     * @description Determine if this offset is the edge offset of container\r\n     * @param {Node} container The node of the selection object. (range.startContainer..)\r\n     * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n     * @param {String|undefined} dir Select check point - Both edge, Front edge or End edge. (\"front\": Front edge, \"end\": End edge, undefined: Both edge)\r\n     * @returns {Boolean}\r\n     */\n    isEdgePoint: function isEdgePoint(container, offset, dir) {\n      return dir !== \"end\" && offset === 0 || (!dir || dir !== \"front\") && !container.nodeValue && offset === 1 || (!dir || dir === \"end\") && !!container.nodeValue && offset === container.nodeValue.length;\n    },\n\n    /**\r\n     * @description Check if the container and offset values are the edges of the format tag\r\n     * @param {Node} container The node of the selection object. (range.startContainer..)\r\n     * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n     * @param {String} dir Select check point - \"front\": Front edge, \"end\": End edge, undefined: Both edge.\r\n     * @returns {Array|null}\r\n     * @private\r\n     */\n    _isEdgeFormat: function _isEdgeFormat(node, offset, dir) {\n      if (!this.isEdgePoint(node, offset, dir)) return false;\n      var result = [];\n      dir = dir === \"front\" ? \"previousSibling\" : \"nextSibling\";\n\n      while (node && !util.isFormatElement(node) && !util.isWysiwygDiv(node)) {\n        if (!node[dir] || util.isBreak(node[dir]) && !node[dir][dir]) {\n          if (node.nodeType === 1) result.push(node.cloneNode(false));\n          node = node.parentNode;\n        } else {\n          return null;\n        }\n      }\n\n      return result;\n    },\n\n    /**\r\n     * @description Show loading box\r\n     */\n    showLoading: function showLoading() {\n      context.element.loading.style.display = \"block\";\n    },\n\n    /**\r\n     * @description Close loading box\r\n     */\n    closeLoading: function closeLoading() {\n      context.element.loading.style.display = \"none\";\n    },\n\n    /**\r\n     * @description Append format element to sibling node of argument element.\r\n     * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n     * If not, the currently selected format tag is inserted.\r\n     * @param {Element} element Insert as siblings of that element\r\n     * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n     * @returns {Element}\r\n     */\n    appendFormatTag: function appendFormatTag(element, formatNode) {\n      var currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\n      var oFormatName = formatNode ? typeof formatNode === \"string\" ? formatNode : formatNode.nodeName : util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl) ? currentFormatEl.nodeName : options.defaultTag;\n      var oFormat = util.createElement(oFormatName);\n      oFormat.innerHTML = \"<br>\";\n\n      if (formatNode && typeof formatNode !== \"string\" || !formatNode && util.isFormatElement(currentFormatEl)) {\n        util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\n      }\n\n      if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\n      return oFormat;\n    },\n\n    /**\r\n     * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n     * If \"element\" is \"HR\", insert and return the new line.\r\n     * @param {Element} element Element to be inserted\r\n     * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n     * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n     * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n     * @returns {Element}\r\n     */\n    insertComponent: function insertComponent(element, notHistoryPush, checkCharCount, notSelect) {\n      if (checkCharCount && !this.checkCharCount(element, null)) {\n        return null;\n      }\n\n      var r = this.removeNode();\n      this.getRange_addLine(this.getRange(), r.container);\n      var oNode = null;\n      var selectionNode = this.getSelectionNode();\n      var formatEl = util.getFormatElement(selectionNode, null);\n\n      if (util.isListCell(formatEl)) {\n        this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\n        if (!element.nextSibling) element.parentNode.appendChild(util.createElement(\"BR\"));\n      } else {\n        if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\n          var depthFormat = util.getParentElement(r.container, function (current) {\n            return this.isRangeFormatElement(current);\n          }.bind(util));\n          oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          if (oNode) formatEl = oNode.previousSibling;\n        }\n\n        this.insertNode(element, formatEl, false);\n        if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\n      }\n\n      this.setRange(element, 0, element, 0);\n\n      if (!notSelect) {\n        var fileComponentInfo = this.getFileComponent(element);\n\n        if (fileComponentInfo) {\n          this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n        } else if (oNode) {\n          oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\n          this.setRange(oNode, 0, oNode, 0);\n        }\n      } // history stack\n\n\n      if (!notHistoryPush) this.history.push(1);\n      return oNode || element;\n    },\n\n    /**\r\n     * @description Gets the file component and that plugin name\r\n     * return: {target, component, pluginName} | null\r\n     * @param {Element} element Target element (figure tag, component div, file tag)\r\n     * @returns {Object|null}\r\n     */\n    getFileComponent: function getFileComponent(element) {\n      if (!this._fileManager.queryString || !element) return null;\n      var target, pluginName;\n\n      if (/^FIGURE$/i.test(element.nodeName) || /ke-component/.test(element.className)) {\n        target = element.querySelector(this._fileManager.queryString);\n      }\n\n      if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\n        target = element;\n      }\n\n      if (target) {\n        pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\n\n        if (pluginName) {\n          return {\n            target: target,\n            component: util.getParentElement(target, util.isComponent),\n            pluginName: pluginName\n          };\n        }\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description The component(image, video) is selected and the resizing module is called.\r\n     * @param {Element} element Element tag (img, iframe, video)\r\n     * @param {String} pluginName Plugin name (image, video)\r\n     */\n    selectComponent: function selectComponent(element, pluginName) {\n      if (util.isUneditableComponent(util.getParentElement(element, util.isComponent)) || util.isUneditableComponent(element)) return false;\n      if (!this.hasFocus) this.focus();\n      var plugin = this.plugins[pluginName];\n      if (!plugin) return;\n\n      _w.setTimeout(function () {\n        if (typeof plugin.select === \"function\") this.callPlugin(pluginName, plugin.select.bind(this, element), null);\n\n        this._setComponentLineBreaker(element);\n      }.bind(this));\n    },\n\n    /**\r\n     * @description Set line breaker of component\r\n     * @param {Element} element Element tag (img, iframe, video)\r\n     * @private\r\n     */\n    _setComponentLineBreaker: function _setComponentLineBreaker(element) {\n      // line breaker\n      this.lineBreaker.style.display = \"none\";\n      var container = util.getParentElement(element, util.isComponent);\n      var t_style = context.element.lineBreaker_t.style;\n      var b_style = context.element.lineBreaker_b.style;\n      var target = this.context.resizing.resizeContainer.style.display === \"block\" ? this.context.resizing.resizeContainer : element;\n      var isList = util.isListCell(container.parentNode);\n      var componentTop, wScroll, w; // top\n\n      if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\n        this._variable._lineBreakComp = container;\n        wScroll = context.element.wysiwyg.scrollTop;\n        componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n        w = target.offsetWidth / 2 / 2;\n        t_style.top = componentTop - wScroll - 12 + \"px\";\n        t_style.left = util.getOffset(target).left + w + \"px\";\n        t_style.display = \"block\";\n      } else {\n        t_style.display = \"none\";\n      } // bottom\n\n\n      if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\n        if (!componentTop) {\n          this._variable._lineBreakComp = container;\n          wScroll = context.element.wysiwyg.scrollTop;\n          componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n          w = target.offsetWidth / 2 / 2;\n        }\n\n        b_style.top = componentTop + target.offsetHeight - wScroll - 12 + \"px\";\n        b_style.left = util.getOffset(target).left + target.offsetWidth - w - 24 + \"px\";\n        b_style.display = \"block\";\n      } else {\n        b_style.display = \"none\";\n      }\n    },\n\n    /**\r\n     * @description Delete selected node and insert argument value node and return.\r\n     * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n     * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n     * @param {Node} oNode Element to be inserted\r\n     * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n     * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n     * @returns {Object|Node|null}\r\n     */\n    insertNode: function insertNode(oNode, afterNode, checkCharCount) {\n      if (checkCharCount && !this.checkCharCount(oNode, null)) {\n        return null;\n      }\n\n      var freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\n      var isFormats = !freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) || util.isComponent(oNode);\n\n      if (!afterNode && (isFormats || util.isComponent(oNode) || util.isMedia(oNode))) {\n        var r = this.removeNode();\n\n        if (r.container.nodeType === 3 || util.isBreak(r.container)) {\n          var depthFormat = util.getParentElement(r.container, function (current) {\n            return this.isRangeFormatElement(current) || this.isListCell(current);\n          }.bind(util));\n          afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          if (afterNode) afterNode = afterNode.previousSibling;\n        }\n      }\n\n      var range = !afterNode && !isFormats ? this.getRange_addLine(this.getRange(), null) : this.getRange();\n      var commonCon = range.commonAncestorContainer;\n      var startOff = range.startOffset;\n      var endOff = range.endOffset;\n      var formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\n      var startCon = formatRange ? commonCon.childNodes[startOff] || commonCon.childNodes[0] : range.startContainer;\n      var endCon = formatRange ? commonCon.childNodes[endOff] || commonCon.childNodes[commonCon.childNodes.length - 1] : range.endContainer;\n      var parentNode,\n          originAfter = null;\n\n      if (!afterNode) {\n        parentNode = startCon;\n\n        if (startCon.nodeType === 3) {\n          parentNode = startCon.parentNode;\n        }\n        /** No Select range node */\n\n\n        if (range.collapsed) {\n          if (commonCon.nodeType === 3) {\n            if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);else afterNode = commonCon.nextSibling;\n          } else {\n            if (!util.isBreak(parentNode)) {\n              var c = parentNode.childNodes[startOff];\n              var focusNode = c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling) ? c.nextSibling : c;\n\n              if (focusNode) {\n                if (!focusNode.nextSibling) {\n                  parentNode.removeChild(focusNode);\n                  afterNode = null;\n                } else {\n                  afterNode = util.isBreak(focusNode) && !util.isBreak(oNode) ? focusNode : focusNode.nextSibling;\n                }\n              } else {\n                afterNode = null;\n              }\n            } else {\n              afterNode = parentNode;\n              parentNode = parentNode.parentNode;\n            }\n          }\n        } else {\n          /** Select range nodes */\n          var isSameContainer = startCon === endCon;\n\n          if (isSameContainer) {\n            if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;else afterNode = endCon.splitText(endOff);\n            var removeNode = startCon;\n            if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\n            parentNode.removeChild(removeNode);\n\n            if (parentNode.childNodes.length === 0 && isFormats) {\n              parentNode.innerHTML = \"<br>\";\n            }\n          } else {\n            var removedTag = this.removeNode();\n            var container = removedTag.container;\n            var prevContainer = removedTag.prevContainer;\n\n            if (container && container.childNodes.length === 0 && isFormats) {\n              if (util.isFormatElement(container)) {\n                container.innerHTML = \"<br>\";\n              } else if (util.isRangeFormatElement(container)) {\n                container.innerHTML = \"<\" + options.defaultTag + \"><br></\" + options.defaultTag + \">\";\n              }\n            }\n\n            if (!isFormats && prevContainer) {\n              parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\n\n              if (parentNode.contains(container)) {\n                var sameParent = true;\n                afterNode = container;\n\n                while (afterNode.parentNode !== parentNode) {\n                  afterNode = afterNode.parentNode;\n                  sameParent = false;\n                }\n\n                if (sameParent && container === prevContainer) afterNode = afterNode.nextSibling;\n              } else {\n                afterNode = null;\n              }\n            } else {\n              afterNode = isFormats ? endCon : container === prevContainer ? container.nextSibling : container;\n              parentNode = !afterNode || !afterNode.parentNode ? commonCon : afterNode.parentNode;\n            }\n\n            while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\n              afterNode = afterNode.parentNode;\n            }\n          }\n        }\n      } // has afterNode\n      else {\n          parentNode = afterNode.parentNode;\n          afterNode = afterNode.nextSibling;\n          originAfter = true;\n        } // --- insert node ---\n\n\n      try {\n        if (util.isWysiwygDiv(afterNode) || parentNode === context.element.wysiwyg.parentNode) {\n          parentNode = context.element.wysiwyg;\n          afterNode = null;\n        }\n\n        if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || !util.isListCell(parentNode) && util.isComponent(oNode)) {\n          var oldParent = parentNode;\n\n          if (util.isList(afterNode)) {\n            parentNode = afterNode;\n            afterNode = null;\n          } else if (util.isListCell(afterNode)) {\n            parentNode = afterNode.previousElementSibling || afterNode;\n          } else if (!originAfter && !afterNode) {\n            var _r = this.removeNode();\n\n            var _container = _r.container.nodeType === 3 ? util.isListCell(util.getFormatElement(_r.container, null)) ? _r.container : util.getFormatElement(_r.container, null) || _r.container.parentNode : _r.container;\n\n            var rangeCon = util.isWysiwygDiv(_container) || util.isRangeFormatElement(_container);\n            parentNode = rangeCon ? _container : _container.parentNode;\n            afterNode = rangeCon ? null : _container.nextSibling;\n          }\n\n          if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\n        }\n\n        if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\n          afterNode = parentNode.nextElementSibling;\n          parentNode = parentNode.parentNode;\n        }\n\n        if (util.isWysiwygDiv(parentNode) && (oNode.nodeType === 3 || util.isBreak(oNode))) {\n          var fNode = util.createElement(options.defaultTag);\n          fNode.appendChild(oNode);\n          oNode = fNode;\n        }\n\n        parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\n      } catch (e) {\n        parentNode.appendChild(oNode);\n      } finally {\n        if ((util.isFormatElement(oNode) || util.isComponent(oNode)) && startCon === endCon) {\n          var cItem = util.getFormatElement(commonCon, null);\n\n          if (cItem && cItem.nodeType === 1 && util.isEmptyLine(cItem)) {\n            util.removeItem(cItem);\n          }\n        }\n\n        if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\n          oNode = this._setIntoFreeFormat(oNode);\n        }\n\n        if (!util.isComponent(oNode)) {\n          var offset = 1;\n\n          if (oNode.nodeType === 3) {\n            var previous = oNode.previousSibling;\n            var next = oNode.nextSibling;\n            var previousText = !previous || previous.nodeType === 1 || util.onlyZeroWidthSpace(previous) ? \"\" : previous.textContent;\n            var nextText = !next || next.nodeType === 1 || util.onlyZeroWidthSpace(next) ? \"\" : next.textContent;\n\n            if (previous && previousText.length > 0) {\n              oNode.textContent = previousText + oNode.textContent;\n              util.removeItem(previous);\n            }\n\n            if (next && next.length > 0) {\n              oNode.textContent += nextText;\n              util.removeItem(next);\n            }\n\n            var newRange = {\n              container: oNode,\n              startOffset: previousText.length,\n              endOffset: oNode.textContent.length - nextText.length\n            };\n            this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\n            return newRange;\n          } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\n            var zeroWidth = null;\n\n            if (!oNode.previousSibling || util.isBreak(oNode.previousSibling)) {\n              zeroWidth = util.createTextNode(util.zeroWidthSpace);\n              oNode.parentNode.insertBefore(zeroWidth, oNode);\n            }\n\n            if (!oNode.nextSibling || util.isBreak(oNode.nextSibling)) {\n              zeroWidth = util.createTextNode(util.zeroWidthSpace);\n              oNode.parentNode.insertBefore(zeroWidth, oNode.nextSibling);\n            }\n\n            if (util._isIgnoreNodeChange(oNode)) {\n              oNode = oNode.nextSibling;\n              offset = 0;\n            }\n          }\n\n          this.setRange(oNode, offset, oNode, offset);\n        } // history stack\n\n\n        this.history.push(true);\n        return oNode;\n      }\n    },\n    _setIntoFreeFormat: function _setIntoFreeFormat(oNode) {\n      var parentNode = oNode.parentNode;\n      var oNodeChildren, lastONode;\n\n      while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\n        oNodeChildren = oNode.childNodes;\n        lastONode = null;\n\n        while (oNodeChildren[0]) {\n          lastONode = oNodeChildren[0];\n\n          if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\n            this._setIntoFreeFormat(lastONode);\n\n            if (!oNode.parentNode) break;\n            oNodeChildren = oNode.childNodes;\n            continue;\n          }\n\n          parentNode.insertBefore(lastONode, oNode);\n        }\n\n        if (oNode.childNodes.length === 0) util.removeItem(oNode);\n        oNode = util.createElement(\"BR\");\n        parentNode.insertBefore(oNode, lastONode.nextSibling);\n      }\n\n      return oNode;\n    },\n\n    /**\r\n     * @description Delete the currently selected nodes and reset selection range\r\n     * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n     * @returns {Object}\r\n     */\n    removeNode: function removeNode() {\n      this._resetRangeToTextNode();\n\n      var range = this.getRange();\n      var container,\n          offset = 0;\n      var startCon = range.startContainer;\n      var endCon = range.endContainer;\n      var startOff = range.startOffset;\n      var endOff = range.endOffset;\n      var commonCon = range.commonAncestorContainer.nodeType === 3 && range.commonAncestorContainer.parentNode === startCon.parentNode ? startCon.parentNode : range.commonAncestorContainer;\n\n      if (commonCon === startCon && commonCon === endCon) {\n        startCon = commonCon.children[startOff];\n        endCon = commonCon.children[endOff];\n        startOff = endOff = 0;\n      }\n\n      var beforeNode = null;\n      var afterNode = null;\n      var childNodes = util.getListChildNodes(commonCon, null);\n      var startIndex = util.getArrayIndex(childNodes, startCon);\n      var endIndex = util.getArrayIndex(childNodes, endCon);\n\n      if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\n        for (var i = startIndex + 1, startNode = startCon; i >= 0; i--) {\n          if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\n            startIndex = i;\n            startNode = startNode.parentNode;\n          }\n        }\n\n        for (var _i2 = endIndex - 1, endNode = endCon; _i2 > startIndex; _i2--) {\n          if (childNodes[_i2] === endNode.parentNode && childNodes[_i2].nodeType === 1) {\n            childNodes.splice(_i2, 1);\n            endNode = endNode.parentNode;\n            --endIndex;\n          }\n        }\n      } else {\n        if (childNodes.length === 0) {\n          if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\n            return {\n              container: commonCon,\n              offset: 0\n            };\n          } else if (commonCon.nodeType === 3) {\n            return {\n              container: commonCon,\n              offset: endOff\n            };\n          }\n\n          childNodes.push(commonCon);\n          startCon = endCon = commonCon;\n        } else {\n          startCon = endCon = childNodes[0];\n\n          if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\n            return {\n              container: util.isMedia(commonCon) ? commonCon : startCon,\n              offset: 0\n            };\n          }\n        }\n\n        startIndex = endIndex = 0;\n      }\n\n      function remove(item) {\n        var format = util.getFormatElement(item, null);\n        util.removeItem(item);\n\n        if (util.isListCell(format)) {\n          var list = util.getArrayItem(format.children, util.isList, false);\n\n          if (list) {\n            var child = list.firstElementChild;\n            var children = child.childNodes;\n\n            while (children[0]) {\n              format.insertBefore(children[0], list);\n            }\n\n            util.removeItemAllParents(child, null, null);\n          }\n        }\n      }\n\n      for (var _i3 = startIndex; _i3 <= endIndex; _i3++) {\n        var item = childNodes[_i3];\n\n        if (item.length === 0 || item.nodeType === 3 && item.data === undefined) {\n          remove(item);\n          continue;\n        }\n\n        if (item === startCon) {\n          if (startCon.nodeType === 1) {\n            if (util.isComponent(startCon)) continue;else beforeNode = util.createTextNode(startCon.textContent);\n          } else {\n            if (item === endCon) {\n              beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, endCon.length - endOff));\n              offset = startOff;\n            } else {\n              beforeNode = util.createTextNode(startCon.substringData(0, startOff));\n            }\n          }\n\n          if (beforeNode.length > 0) {\n            startCon.data = beforeNode.data;\n          } else {\n            remove(startCon);\n          }\n\n          if (item === endCon) break;\n          continue;\n        }\n\n        if (item === endCon) {\n          if (endCon.nodeType === 1) {\n            if (util.isComponent(endCon)) continue;else afterNode = util.createTextNode(endCon.textContent);\n          } else {\n            afterNode = util.createTextNode(endCon.substringData(endOff, endCon.length - endOff));\n          }\n\n          if (afterNode.length > 0) {\n            endCon.data = afterNode.data;\n          } else {\n            remove(endCon);\n          }\n\n          continue;\n        }\n\n        remove(item);\n      }\n\n      container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : range.endContainer || range.startContainer;\n\n      if (!util.isWysiwygDiv(container) && container.childNodes.length === 0) {\n        var rc = util.removeItemAllParents(container, function (current) {\n          if (this.isComponent(current)) return false;\n          var text = current.textContent;\n          return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n        }.bind(util), null);\n        if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\n      } // set range\n\n\n      this.setRange(container, offset, container, offset); // history stack\n\n      this.history.push(true);\n      return {\n        container: container,\n        offset: offset,\n        prevContainer: startCon && startCon.parentNode ? startCon : null\n      };\n    },\n\n    /**\r\n     * @description Appended all selected format Element to the argument element and insert\r\n     * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n     */\n    applyRangeFormatElement: function applyRangeFormatElement(rangeElement) {\n      this.getRange_addLine(this.getRange(), null);\n      var rangeLines = this.getSelectedElementsAndComponents(false);\n      if (!rangeLines || rangeLines.length === 0) return;\n\n      linesLoop: for (var i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\n        line = rangeLines[i];\n        if (!util.isListCell(line)) continue;\n        nested = line.lastElementChild;\n\n        if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\n          lEl = nested.lastElementChild;\n\n          if (rangeLines.indexOf(lEl) > -1) {\n            var list = null;\n\n            while (list = lEl.lastElementChild) {\n              if (util.isList(list)) {\n                if (rangeLines.indexOf(list.lastElementChild) > -1) {\n                  lEl = list.lastElementChild;\n                } else {\n                  continue linesLoop;\n                }\n              }\n            }\n\n            fEl = nested.firstElementChild;\n            f = rangeLines.indexOf(fEl);\n            l = rangeLines.indexOf(lEl);\n            rangeLines.splice(f, l - f + 1);\n            len = rangeLines.length;\n            continue;\n          }\n        }\n      }\n\n      var last = rangeLines[rangeLines.length - 1];\n      var standTag, beforeTag, pElement;\n\n      if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\n        standTag = last;\n      } else {\n        standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\n      }\n\n      if (util.isCell(standTag)) {\n        beforeTag = null;\n        pElement = standTag;\n      } else {\n        beforeTag = standTag.nextSibling;\n        pElement = standTag.parentNode;\n      }\n\n      var parentDepth = util.getElementDepth(standTag);\n      var listParent = null;\n      var lineArr = [];\n\n      var removeItems = function removeItems(parent, origin, before) {\n        var cc = null;\n\n        if (parent !== origin && !util.isTable(origin)) {\n          if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\n          cc = util.removeItemAllParents(origin, null, parent);\n        }\n\n        return cc ? cc.ec : before;\n      };\n\n      for (var _i4 = 0, _len = rangeLines.length, _line, originParent, depth, before, nextLine, nextList, _nested; _i4 < _len; _i4++) {\n        _line = rangeLines[_i4];\n        originParent = _line.parentNode;\n        if (!originParent || rangeElement.contains(originParent)) continue;\n        depth = util.getElementDepth(_line);\n\n        if (util.isList(originParent)) {\n          if (listParent === null) {\n            if (nextList) {\n              listParent = nextList;\n              _nested = true;\n              nextList = null;\n            } else {\n              listParent = originParent.cloneNode(false);\n            }\n          }\n\n          lineArr.push(_line);\n          nextLine = rangeLines[_i4 + 1];\n\n          if (_i4 === _len - 1 || nextLine && nextLine.parentNode !== originParent) {\n            // nested list\n            if (nextLine && _line.contains(nextLine.parentNode)) {\n              nextList = nextLine.parentNode.cloneNode(false);\n            }\n\n            var _list = originParent.parentNode,\n                p = void 0;\n\n            while (util.isList(_list)) {\n              p = util.createElement(_list.nodeName);\n              p.appendChild(listParent);\n              listParent = p;\n              _list = _list.parentNode;\n            }\n\n            var _edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\n\n            if (parentDepth >= depth) {\n              parentDepth = depth;\n              pElement = _edge.cc;\n              beforeTag = removeItems(pElement, originParent, _edge.ec);\n              if (beforeTag) pElement = beforeTag.parentNode;\n            } else if (pElement === _edge.cc) {\n              beforeTag = _edge.ec;\n            }\n\n            if (pElement !== _edge.cc) {\n              before = removeItems(pElement, _edge.cc, before);\n              if (before !== undefined) beforeTag = before;else beforeTag = _edge.cc;\n            }\n\n            for (var c = 0, cLen = _edge.removeArray.length; c < cLen; c++) {\n              listParent.appendChild(_edge.removeArray[c]);\n            }\n\n            if (!_nested) rangeElement.appendChild(listParent);\n            if (nextList) _edge.removeArray[_edge.removeArray.length - 1].appendChild(nextList);\n            listParent = null;\n            _nested = false;\n          }\n        } else {\n          if (parentDepth >= depth) {\n            parentDepth = depth;\n            pElement = originParent;\n            beforeTag = _line.nextSibling;\n          }\n\n          rangeElement.appendChild(_line);\n\n          if (pElement !== originParent) {\n            before = removeItems(pElement, originParent);\n            if (before !== undefined) beforeTag = before;\n          }\n        }\n      }\n\n      this.effectNode = null;\n      util.mergeSameTags(rangeElement, null, false);\n      util.mergeNestedTags(rangeElement, function (current) {\n        return this.isList(current);\n      }.bind(util)); // Nested list\n\n      if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\n        var depthFormat = util.getParentElement(beforeTag, function (current) {\n          return this.isRangeFormatElement(current) && !this.isList(current);\n        }.bind(util));\n        var splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n        splitRange.parentNode.insertBefore(rangeElement, splitRange);\n      } else {\n        // basic\n        pElement.insertBefore(rangeElement, beforeTag);\n        removeItems(rangeElement, beforeTag);\n      }\n\n      var edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\n\n      if (rangeLines.length > 1) {\n        this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\n      } else {\n        this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n     * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n     * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n     * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n     * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n     * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n     * @param {Boolean} remove If true, deleted without detached.\r\n     * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n     * @returns {Object}\r\n     */\n    detachRangeFormatElement: function detachRangeFormatElement(rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\n      var range = this.getRange();\n      var so = range.startOffset;\n      var eo = range.endOffset;\n      var children = util.getListChildNodes(rangeElement, function (current) {\n        return current.parentNode === rangeElement;\n      });\n      var parent = rangeElement.parentNode;\n      var firstNode = null;\n      var lastNode = null;\n      var rangeEl = rangeElement.cloneNode(false);\n      var removeArray = [];\n      var newList = util.isList(newRangeElement);\n      var insertedNew = false;\n      var reset = false;\n      var moveComplete = false;\n\n      function appendNode(parent, insNode, sibling, originNode) {\n        if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\n\n        if (insNode.nodeType === 3) {\n          parent.insertBefore(insNode, sibling);\n          return insNode;\n        }\n\n        var insChildren = (moveComplete ? insNode : originNode).childNodes;\n        var format = insNode.cloneNode(false);\n        var first = null;\n        var c = null;\n\n        while (insChildren[0]) {\n          c = insChildren[0];\n\n          if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\n            if (format.childNodes.length > 0) {\n              if (!first) first = format;\n              parent.insertBefore(format, sibling);\n              format = insNode.cloneNode(false);\n            }\n\n            parent.insertBefore(c, sibling);\n            if (!first) first = c;\n          } else {\n            format.appendChild(c);\n          }\n        }\n\n        if (format.childNodes.length > 0) {\n          if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\n            if (newList) {\n              first = sibling;\n\n              while (sibling) {\n                format.appendChild(sibling);\n                sibling = sibling.nextSibling;\n              }\n\n              parent.parentNode.insertBefore(format, parent.nextElementSibling);\n            } else {\n              var originNext = originNode.nextElementSibling;\n              var detachRange = util.detachNestedList(originNode, false);\n\n              if (rangeElement !== detachRange || originNext !== originNode.nextElementSibling) {\n                var fChildren = format.childNodes;\n\n                while (fChildren[0]) {\n                  originNode.appendChild(fChildren[0]);\n                }\n\n                rangeElement = detachRange;\n                reset = true;\n              }\n            }\n          } else {\n            parent.insertBefore(format, sibling);\n          }\n\n          if (!first) first = format;\n        }\n\n        return first;\n      } // detach loop\n\n\n      for (var i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\n        insNode = children[i];\n        if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\n        moveComplete = false;\n\n        if (remove && i === 0) {\n          if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\n            firstNode = rangeElement.previousSibling;\n          } else {\n            firstNode = rangeEl;\n          }\n        }\n\n        if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\n\n        if (selectedFormats && lineIndex === -1) {\n          if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\n          rangeEl.appendChild(insNode);\n        } else {\n          if (selectedFormats) next = selectedFormats[lineIndex + 1];\n\n          if (rangeEl && rangeEl.children.length > 0) {\n            parent.insertBefore(rangeEl, rangeElement);\n            rangeEl = null;\n          }\n\n          if (!newList && util.isListCell(insNode)) {\n            if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\n              var insNext = insNode.nextElementSibling;\n              var detachRange = util.detachNestedList(insNode, false);\n\n              if (rangeElement !== detachRange || insNext !== insNode.nextElementSibling) {\n                rangeElement = detachRange;\n                reset = true;\n              }\n            } else {\n              var inner = insNode;\n              insNode = util.createElement(remove ? inner.nodeName : util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode) ? \"LI\" : util.isCell(rangeElement.parentNode) ? \"DIV\" : options.defaultTag);\n              var isCell = util.isListCell(insNode);\n              var innerChildren = inner.childNodes;\n\n              while (innerChildren[0]) {\n                if (util.isList(innerChildren[0]) && !isCell) break;\n                insNode.appendChild(innerChildren[0]);\n              }\n\n              util.copyFormatAttributes(insNode, inner);\n              moveComplete = true;\n            }\n          } else {\n            insNode = insNode.cloneNode(false);\n          }\n\n          if (!reset) {\n            if (!remove) {\n              if (newRangeElement) {\n                if (!insertedNew) {\n                  parent.insertBefore(newRangeElement, rangeElement);\n                  insertedNew = true;\n                }\n\n                insNode = appendNode(newRangeElement, insNode, null, children[i]);\n              } else {\n                insNode = appendNode(parent, insNode, rangeElement, children[i]);\n              }\n\n              if (!reset) {\n                if (selectedFormats) {\n                  lastNode = insNode;\n\n                  if (!firstNode) {\n                    firstNode = insNode;\n                  }\n                } else if (!firstNode) {\n                  firstNode = lastNode = insNode;\n                }\n              }\n            } else {\n              removeArray.push(insNode);\n              util.removeItem(children[i]);\n            }\n\n            if (reset) {\n              reset = moveComplete = false;\n              children = util.getListChildNodes(rangeElement, function (current) {\n                return current.parentNode === rangeElement;\n              });\n              rangeEl = rangeElement.cloneNode(false);\n              parent = rangeElement.parentNode;\n              i = -1;\n              len = children.length;\n              continue;\n            }\n          }\n        }\n      }\n\n      var rangeParent = rangeElement.parentNode;\n      var rangeRight = rangeElement.nextSibling;\n\n      if (rangeEl && rangeEl.children.length > 0) {\n        rangeParent.insertBefore(rangeEl, rangeRight);\n      }\n\n      if (newRangeElement) firstNode = newRangeElement.previousSibling;else if (!firstNode) firstNode = rangeElement.previousSibling;\n      rangeRight = rangeElement.nextSibling;\n\n      if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\n        util.removeItem(rangeElement);\n      } else {\n        util.removeEmptyNode(rangeElement, null);\n      }\n\n      var edge = null;\n\n      if (remove) {\n        edge = {\n          cc: rangeParent,\n          sc: firstNode,\n          ec: rangeRight,\n          removeArray: removeArray\n        };\n      } else {\n        if (!firstNode) firstNode = lastNode;\n        if (!lastNode) lastNode = firstNode;\n        var childEdge = util.getEdgeChildNodes(firstNode, lastNode.parentNode ? firstNode : lastNode);\n        edge = {\n          cc: (childEdge.sc || childEdge.ec).parentNode,\n          sc: childEdge.sc,\n          ec: childEdge.ec\n        };\n      }\n\n      this.effectNode = null;\n      if (notHistoryPush) return edge;\n\n      if (!remove && edge) {\n        if (!selectedFormats) {\n          this.setRange(edge.sc, 0, edge.sc, 0);\n        } else {\n          this.setRange(edge.sc, so, edge.ec, eo);\n        }\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description \"selectedFormats\" array are detached from the list element.\r\n     * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n     * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n     * @param {Boolean} remove If true, deleted without detached.\r\n     * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n     */\n    detachList: function detachList(selectedFormats, remove) {\n      var rangeArr = {};\n      var listFirst = false;\n      var listLast = false;\n      var first = null;\n      var last = null;\n\n      var passComponent = function (current) {\n        return !this.isComponent(current);\n      }.bind(util);\n\n      for (var i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\n        lastIndex = i === len - 1;\n        o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n        isList = util.isList(o);\n\n        if (!r && isList) {\n          r = o;\n          rangeArr = {\n            r: r,\n            f: [util.getParentElement(selectedFormats[i], \"LI\")]\n          };\n          if (i === 0) listFirst = true;\n        } else if (r && isList) {\n          if (r !== o) {\n            var edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n            o = selectedFormats[i].parentNode;\n\n            if (listFirst) {\n              first = edge.sc;\n              listFirst = false;\n            }\n\n            if (lastIndex) last = edge.ec;\n\n            if (isList) {\n              r = o;\n              rangeArr = {\n                r: r,\n                f: [util.getParentElement(selectedFormats[i], \"LI\")]\n              };\n              if (lastIndex) listLast = true;\n            } else {\n              r = null;\n            }\n          } else {\n            rangeArr.f.push(util.getParentElement(selectedFormats[i], \"LI\"));\n            if (lastIndex) listLast = true;\n          }\n        }\n\n        if (lastIndex && util.isList(r)) {\n          var _edge2 = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n\n          if (listLast || len === 1) last = _edge2.ec;\n          if (listFirst) first = _edge2.sc || last;\n        }\n      }\n\n      return {\n        sc: first,\n        ec: last\n      };\n    },\n\n    /**\r\n     * @description Add, update, and delete nodes from selected text.\r\n     * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n     * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n     * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n     * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n     *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n     * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n     *    (The class name is preceded by \".\" [\".className\"])\r\n     * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n     * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n     * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n     * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n     *10. It won't work if the parent node has the same class and same value style.\r\n     *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n     * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n     * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n     * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n     * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n     */\n    nodeChange: function nodeChange(appendNode, styleArray, removeNodeArray, strictRemove) {\n      this._resetRangeToTextNode();\n\n      var range = this.getRange_addLine(this.getRange(), null);\n      styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\n      removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\n      var isRemoveNode = !appendNode;\n      var isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\n      var startCon = range.startContainer;\n      var startOff = range.startOffset;\n      var endCon = range.endContainer;\n      var endOff = range.endOffset;\n\n      if (isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode) || startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon)) {\n        return;\n      }\n\n      if (range.collapsed && !isRemoveFormat) {\n        if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\n          var afterNode = null;\n          var focusNode = startCon.childNodes[startOff];\n\n          if (focusNode) {\n            if (!focusNode.nextSibling) {\n              afterNode = null;\n            } else {\n              afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\n            }\n          }\n\n          var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          startCon.insertBefore(zeroWidth, afterNode);\n          this.setRange(zeroWidth, 1, zeroWidth, 1);\n          range = this.getRange();\n          startCon = range.startContainer;\n          startOff = range.startOffset;\n          endCon = range.endContainer;\n          endOff = range.endOffset;\n        }\n      }\n\n      if (util.isFormatElement(startCon)) {\n        startCon = startCon.childNodes[startOff] || startCon.firstChild;\n        startOff = 0;\n      }\n\n      if (util.isFormatElement(endCon)) {\n        endCon = endCon.childNodes[endOff] || endCon.lastChild;\n        endOff = endCon.textContent.length;\n      }\n\n      if (isRemoveNode) {\n        appendNode = util.createElement(\"DIV\");\n      }\n\n      var wRegExp = _w.RegExp;\n      var newNodeName = appendNode.nodeName;\n      /* checked same style property */\n\n      if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\n        var sNode = startCon;\n        var checkCnt = 0;\n        var checkAttrs = [];\n        var checkStyles = appendNode.style;\n\n        for (var i = 0, len = checkStyles.length; i < len; i++) {\n          checkAttrs.push(checkStyles[i]);\n        }\n\n        var ckeckClasses = appendNode.classList;\n\n        for (var _i5 = 0, _len2 = ckeckClasses.length; _i5 < _len2; _i5++) {\n          checkAttrs.push(\".\" + ckeckClasses[_i5]);\n        }\n\n        if (checkAttrs.length > 0) {\n          while (!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\n            for (var _i6 = 0; _i6 < checkAttrs.length; _i6++) {\n              if (sNode.nodeType === 1) {\n                var s = checkAttrs[_i6];\n                var classReg = /^\\./.test(s) ? new wRegExp(\"\\\\s*\" + s.replace(/^\\./, \"\") + \"(\\\\s+|$)\", \"ig\") : false;\n                var styleCheck = isRemoveNode ? !!sNode.style[s] : !!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s];\n                var classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\n\n                if (styleCheck || classCheck) {\n                  checkCnt++;\n                }\n              }\n            }\n\n            sNode = sNode.parentNode;\n          }\n\n          if (checkCnt >= checkAttrs.length) return;\n        }\n      }\n\n      var start = {},\n          end = {};\n      var newNode,\n          styleRegExp = \"\",\n          classRegExp = \"\",\n          removeNodeRegExp = \"\";\n\n      if (styleArray) {\n        for (var _i7 = 0, _len3 = styleArray.length, _s; _i7 < _len3; _i7++) {\n          _s = styleArray[_i7];\n\n          if (/^\\./.test(_s)) {\n            classRegExp += (classRegExp ? \"|\" : \"\\\\s*(?:\") + _s.replace(/^\\./, \"\");\n          } else {\n            styleRegExp += (styleRegExp ? \"|\" : \"(?:;|^|\\\\s)(?:\") + _s;\n          }\n        }\n\n        if (styleRegExp) {\n          styleRegExp += \")\\\\s*:[^;]*\\\\s*(?:;|$)\";\n          styleRegExp = new wRegExp(styleRegExp, \"ig\");\n        }\n\n        if (classRegExp) {\n          classRegExp += \")(?=\\\\s+|$)\";\n          classRegExp = new wRegExp(classRegExp, \"ig\");\n        }\n      }\n\n      if (removeNodeArray) {\n        removeNodeRegExp = \"^(?:\" + removeNodeArray[0];\n\n        for (var _i8 = 1; _i8 < removeNodeArray.length; _i8++) {\n          removeNodeRegExp += \"|\" + removeNodeArray[_i8];\n        }\n\n        removeNodeRegExp += \")$\";\n        removeNodeRegExp = new wRegExp(removeNodeRegExp, \"i\");\n      }\n      /** validation check function*/\n\n\n      var wBoolean = _w.Boolean;\n      var _removeCheck = {\n        v: false\n      };\n\n      var validation = function validation(checkNode) {\n        var vNode = checkNode.cloneNode(false); // all path\n\n        if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode; // all remove\n\n        if (isRemoveFormat) return null; // remove node check\n\n        var tagRemove = !removeNodeRegExp && isRemoveNode || removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName); // tag remove\n\n        if (tagRemove && !strictRemove) {\n          _removeCheck.v = true;\n          return null;\n        } // style regexp\n\n\n        var originStyle = vNode.style.cssText;\n        var style = \"\";\n\n        if (styleRegExp && originStyle.length > 0) {\n          style = originStyle.replace(styleRegExp, \"\").trim();\n          if (style !== originStyle) _removeCheck.v = true;\n        } // class check\n\n\n        var originClasses = vNode.className;\n        var classes = \"\";\n\n        if (classRegExp && originClasses.length > 0) {\n          classes = originClasses.replace(classRegExp, \"\").trim();\n          if (classes !== originClasses) _removeCheck.v = true;\n        } // remove only\n\n\n        if (isRemoveNode) {\n          if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\n            _removeCheck.v = true;\n            return null;\n          }\n        } // change\n\n\n        if (style || classes || vNode.nodeName !== newNodeName || wBoolean(styleRegExp) !== wBoolean(originStyle) || wBoolean(classRegExp) !== wBoolean(originClasses)) {\n          if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\n\n          if (!vNode.style.cssText) {\n            vNode.removeAttribute(\"style\");\n          }\n\n          if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\n\n          if (!vNode.className.trim()) {\n            vNode.removeAttribute(\"class\");\n          }\n\n          if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\n            _removeCheck.v = true;\n            return null;\n          }\n\n          return vNode;\n        }\n\n        _removeCheck.v = true;\n        return null;\n      }; // get line nodes\n\n\n      var lineNodes = this.getSelectedElements(null);\n      range = this.getRange();\n      startCon = range.startContainer;\n      startOff = range.startOffset;\n      endCon = range.endContainer;\n      endOff = range.endOffset;\n\n      if (!util.getFormatElement(startCon, null)) {\n        startCon = util.getChildElement(lineNodes[0], function (current) {\n          return current.nodeType === 3;\n        }, false);\n        startOff = 0;\n      }\n\n      if (!util.getFormatElement(endCon, null)) {\n        endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) {\n          return current.nodeType === 3;\n        }, false);\n        endOff = endCon.textContent.length;\n      }\n\n      var oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\n      var endLength = lineNodes.length - (oneLine ? 0 : 1); // node Changes\n\n      newNode = appendNode.cloneNode(false);\n\n      var isRemoveAnchor = isRemoveFormat || isRemoveNode && function (arr) {\n        for (var n = 0, _len4 = arr.length; n < _len4; n++) {\n          if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\n        }\n\n        return false;\n      }(removeNodeArray);\n\n      var isSizeNode = isRemoveNode || util._isSizeNode(newNode);\n\n      var _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\n\n      var _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode); // one line\n\n\n      if (oneLine) {\n        var newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n\n        start.container = newRange.startContainer;\n        start.offset = newRange.startOffset;\n        end.container = newRange.endContainer;\n        end.offset = newRange.endOffset;\n\n        if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\n          start.offset = end.offset = 1;\n        }\n\n        this._setCommonListStyle(newRange.ancestor, null);\n      } else {\n        // multi line\n        // end\n        if (endLength > 0) {\n          newNode = appendNode.cloneNode(false);\n          end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n        } // mid\n\n\n        for (var _i9 = endLength - 1, _newRange; _i9 > 0; _i9--) {\n          newNode = appendNode.cloneNode(false);\n          _newRange = this._nodeChange_middleLine(lineNodes[_i9], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\n\n          if (_newRange.endContainer) {\n            end.ancestor = null;\n            end.container = _newRange.endContainer;\n          }\n\n          this._setCommonListStyle(_newRange.ancestor, null);\n        } // start\n\n\n        newNode = appendNode.cloneNode(false);\n        start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\n\n        if (start.endContainer) {\n          end.ancestor = null;\n          end.container = start.endContainer;\n        }\n\n        if (endLength <= 0) {\n          end = start;\n        } else if (!end.container) {\n          end.ancestor = null;\n          end.container = start.container;\n          end.offset = start.container.textContent.length;\n        }\n\n        this._setCommonListStyle(start.ancestor, null);\n\n        this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\n      } // set range\n\n\n      this.controllersOff();\n      this.setRange(start.container, start.offset, end.container, end.offset); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n     * @param {Element} el List cell element. <li>\r\n     * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n     * @private\r\n     */\n    _setCommonListStyle: function _setCommonListStyle(el, child) {\n      if (!util.isListCell(el)) return;\n      if (!child) el.removeAttribute(\"style\");\n      var children = util.getArrayItem((child || el).childNodes, function (current) {\n        return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim());\n      }, true);\n\n      if (children[0] && children.length === 1) {\n        child = children[0];\n        if (!child || child.nodeType !== 1) return;\n        var childStyle = child.style;\n        var elStyle = el.style; // bold\n\n        if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = \"bold\"; // bold\n        else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight; // styles\n\n        if (childStyle.color) elStyle.color = childStyle.color; // color\n\n        if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\n\n        this._setCommonListStyle(el, child);\n      }\n    },\n\n    /**\r\n     * @description Strip remove node\r\n     * @param {Node} removeNode The remove node\r\n     * @private\r\n     */\n    _stripRemoveNode: function _stripRemoveNode(removeNode) {\n      var element = removeNode.parentNode;\n      if (!removeNode || removeNode.nodeType === 3 || !element) return;\n      var children = removeNode.childNodes;\n\n      while (children[0]) {\n        element.insertBefore(children[0], removeNode);\n      }\n\n      element.removeChild(removeNode);\n    },\n\n    /**\r\n     * @description Return the parent maintained tag. (bind and use a util object)\r\n     * @param {Element} element Element\r\n     * @returns {Element}\r\n     * @private\r\n     */\n    _util_getMaintainedNode: function _util_getMaintainedNode(_isRemove, _isSizeNode, element) {\n      if (!element || _isRemove) return null;\n      return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\n    },\n\n    /**\r\n     * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n     * @param {Element} element Element\r\n     * @returns {Element}\r\n     * @private\r\n     */\n    _util_isMaintainedNode: function _util_isMaintainedNode(_isRemove, _isSizeNode, element) {\n      if (!element || _isRemove || element.nodeType !== 1) return false;\n\n      var anchor = this._isMaintainedNode(element);\n\n      return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : anchor || (!_isSizeNode ? this._isSizeNode(element) : false);\n    },\n\n    /**\r\n     * @description wraps text nodes of line selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Node} startCon The startContainer property of the selection object.\r\n     * @param {Number} startOff The startOffset property of the selection object.\r\n     * @param {Node} endCon The endContainer property of the selection object.\r\n     * @param {Number} endOff The endOffset property of the selection object.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @param {Boolean} collapsed range.collapsed\r\n     * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n     * @private\r\n     */\n    _nodeChange_oneLine: function _nodeChange_oneLine(element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n      // not add tag\n      var parentCon = startCon.parentNode;\n\n      while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n        if (parentCon.nodeName === newInnerNode.nodeName) break;\n        parentCon = parentCon.parentNode;\n      }\n\n      if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\n        if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n          var children = parentCon.childNodes;\n          var sameTag = true;\n\n          for (var i = 0, len = children.length, c, s, e, z; i < len; i++) {\n            c = children[i];\n            z = !util.onlyZeroWidthSpace(c);\n\n            if (c === startCon) {\n              s = true;\n              continue;\n            }\n\n            if (c === endCon) {\n              e = true;\n              continue;\n            }\n\n            if (!s && z || s && e && z) {\n              sameTag = false;\n              break;\n            }\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              startContainer: startCon,\n              startOffset: startOff,\n              endContainer: endCon,\n              endOffset: endOff\n            };\n          }\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var el = element;\n      var nNodeArray = [newInnerNode];\n      var pNode = element.cloneNode(false);\n      var isSameNode = startCon === endCon;\n      var startContainer = startCon;\n      var startOffset = startOff;\n      var endContainer = endCon;\n      var endOffset = endOff;\n      var startPass = false;\n      var endPass = false;\n      var pCurrent, newNode, appendNode, cssText, anchorNode;\n      var wRegExp = _w.RegExp;\n\n      function checkCss(vNode) {\n        var regExp = new wRegExp(\"(?:;|^|\\\\s)(?:\" + cssText + \"null)\\\\s*:[^;]*\\\\s*(?:;|$)\", \"ig\");\n        var style = \"\";\n\n        if (regExp && vNode.style.cssText.length > 0) {\n          style = regExp.test(vNode.style.cssText);\n        }\n\n        return !style;\n      }\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var _i10 = 0, _len5 = childNodes.length, vNode; _i10 < _len5; _i10++) {\n          var child = childNodes[_i10];\n          if (!child) continue;\n          var coverNode = ancestor;\n          var cloneNode = void 0; // startContainer\n\n          if (!startPass && child === startContainer) {\n            var line = pNode;\n            anchorNode = _getMaintainedNode(child);\n            var prevNode = util.createTextNode(startContainer.nodeType === 1 ? \"\" : startContainer.substringData(0, startOffset));\n            var textNode = util.createTextNode(startContainer.nodeType === 1 ? \"\" : startContainer.substringData(startOffset, isSameNode ? endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset : startContainer.data.length - startOffset));\n\n            if (anchorNode) {\n              var a = _getMaintainedNode(ancestor);\n\n              if (a && a.parentNode !== line) {\n                var m = a;\n                var p = null;\n\n                while (m.parentNode !== line) {\n                  ancestor = p = m.parentNode.cloneNode(false);\n\n                  while (m.childNodes[0]) {\n                    p.appendChild(m.childNodes[0]);\n                  }\n\n                  m.appendChild(p);\n                  m = m.parentNode;\n                }\n\n                m.parentNode.appendChild(a);\n              }\n\n              anchorNode = anchorNode.cloneNode(false);\n            }\n\n            if (!util.onlyZeroWidthSpace(prevNode)) {\n              ancestor.appendChild(prevNode);\n            }\n\n            var prevAnchorNode = _getMaintainedNode(ancestor);\n\n            if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n            if (anchorNode) line = anchorNode;\n            newNode = child;\n            pCurrent = [];\n            cssText = \"\";\n\n            while (newNode !== line && newNode !== el && newNode !== null) {\n              vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n              if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                pCurrent.push(vNode);\n                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var childNode = pCurrent.pop() || textNode;\n            appendNode = newNode = childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            newInnerNode.appendChild(childNode);\n            line.appendChild(newInnerNode);\n\n            if (anchorNode && !_getMaintainedNode(endContainer)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            startContainer = textNode;\n            startOffset = 0;\n            startPass = true;\n            if (newNode !== textNode) newNode.appendChild(startContainer);\n            if (!isSameNode) continue;\n          } // endContainer\n\n\n          if (!endPass && child === endContainer) {\n            anchorNode = _getMaintainedNode(child);\n            var afterNode = util.createTextNode(endContainer.nodeType === 1 ? \"\" : endContainer.substringData(endOffset, endContainer.length - endOffset));\n\n            var _textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? \"\" : endContainer.substringData(0, endOffset));\n\n            if (anchorNode) {\n              anchorNode = anchorNode.cloneNode(false);\n            } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!util.onlyZeroWidthSpace(afterNode)) {\n              newNode = child;\n              cssText = \"\";\n              pCurrent = [];\n              var anchors = [];\n\n              while (newNode !== pNode && newNode !== el && newNode !== null) {\n                if (newNode.nodeType === 1 && checkCss(newNode)) {\n                  if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));else pCurrent.push(newNode.cloneNode(false));\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              pNode.appendChild(cloneNode);\n              newNode.textContent = afterNode.data;\n            }\n\n            if (anchorNode && cloneNode) {\n              var afterAnchorNode = _getMaintainedNode(cloneNode);\n\n              if (afterAnchorNode) {\n                anchorNode = afterAnchorNode;\n              }\n            }\n\n            newNode = child;\n            pCurrent = [];\n            cssText = \"\";\n\n            while (newNode !== pNode && newNode !== el && newNode !== null) {\n              vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n              if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                pCurrent.push(vNode);\n                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var _childNode = pCurrent.pop() || _textNode;\n\n            appendNode = newNode = _childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (anchorNode) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              newInnerNode.appendChild(_childNode);\n              anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n              pNode.appendChild(anchorNode);\n              nNodeArray.push(newInnerNode);\n              anchorNode = null;\n            } else {\n              newInnerNode.appendChild(_childNode);\n            }\n\n            endContainer = _textNode;\n            endOffset = _textNode.data.length;\n            endPass = true;\n\n            if (!isRemoveFormat && collapsed) {\n              newInnerNode = _textNode;\n              _textNode.textContent = util.zeroWidthSpace;\n            }\n\n            if (newNode !== _textNode) newNode.appendChild(endContainer);\n            continue;\n          } // other\n\n\n          if (startPass) {\n            if (child.nodeType === 1 && !util.isBreak(child)) {\n              if (util._isIgnoreNodeChange(child)) {\n                pNode.appendChild(child.cloneNode(true));\n\n                if (!collapsed) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  pNode.appendChild(newInnerNode);\n                  nNodeArray.push(newInnerNode);\n                }\n              } else {\n                recursionFunc(child, child);\n              }\n\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n            cssText = \"\";\n            var _anchors = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\n\n              if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\n                if (_isMaintainedNode(newNode)) {\n                  if (!anchorNode) _anchors.push(vNode);\n                } else {\n                  pCurrent.push(vNode);\n                }\n\n                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            pCurrent = pCurrent.concat(_anchors);\n\n            var _childNode2 = pCurrent.pop() || child;\n\n            appendNode = newNode = _childNode2;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(_childNode2) && !util.onlyZeroWidthSpace(newInnerNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!endPass && !anchorNode && _isMaintainedNode(_childNode2)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              var aChildren = _childNode2.childNodes;\n\n              for (var _a = 0, aLen = aChildren.length; _a < aLen; _a++) {\n                newInnerNode.appendChild(aChildren[_a]);\n              }\n\n              _childNode2.appendChild(newInnerNode);\n\n              pNode.appendChild(_childNode2);\n              nNodeArray.push(newInnerNode);\n              if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n            } else if (_childNode2 === child) {\n              if (!endPass) ancestor = newInnerNode;else ancestor = pNode;\n            } else if (endPass) {\n              pNode.appendChild(_childNode2);\n              ancestor = newNode;\n            } else {\n              newInnerNode.appendChild(_childNode2);\n              ancestor = newNode;\n            }\n\n            if (anchorNode && child.nodeType === 3) {\n              if (_getMaintainedNode(child)) {\n                var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                  return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                }.bind(util));\n                anchorNode.appendChild(ancestorAnchorNode);\n                newInnerNode = ancestorAnchorNode.cloneNode(false);\n                nNodeArray.push(newInnerNode);\n                pNode.appendChild(newInnerNode);\n              } else {\n                anchorNode = null;\n              }\n            }\n          }\n\n          cloneNode = child.cloneNode(false);\n          ancestor.appendChild(cloneNode);\n          if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode); // not remove tag\n\n\n      if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n        return {\n          ancestor: element,\n          startContainer: startCon,\n          startOffset: startOff,\n          endContainer: endCon,\n          endOffset: endOff\n        };\n      }\n\n      isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n      if (isRemoveFormat) {\n        for (var _i11 = 0; _i11 < nNodeArray.length; _i11++) {\n          var removeNode = nNodeArray[_i11];\n          var textNode = void 0,\n              textNode_s = void 0,\n              textNode_e = void 0;\n\n          if (collapsed) {\n            textNode = util.createTextNode(util.zeroWidthSpace);\n            pNode.replaceChild(textNode, removeNode);\n          } else {\n            var rChildren = removeNode.childNodes;\n            textNode_s = rChildren[0];\n\n            while (rChildren[0]) {\n              textNode_e = rChildren[0];\n              pNode.insertBefore(textNode_e, removeNode);\n            }\n\n            util.removeItem(removeNode);\n          }\n\n          if (_i11 === 0) {\n            if (collapsed) {\n              startContainer = endContainer = textNode;\n            } else {\n              startContainer = textNode_s;\n              endContainer = textNode_e;\n            }\n          }\n        }\n      } else {\n        if (isRemoveNode) {\n          for (var _i12 = 0; _i12 < nNodeArray.length; _i12++) {\n            this._stripRemoveNode(nNodeArray[_i12]);\n          }\n        }\n\n        if (collapsed) {\n          startContainer = endContainer = newInnerNode;\n        }\n      }\n\n      util.removeEmptyNode(pNode, newInnerNode);\n\n      if (collapsed) {\n        startOffset = startContainer.textContent.length;\n        endOffset = endContainer.textContent.length;\n      } // endContainer reset\n\n\n      var endConReset = isRemoveFormat || endContainer.textContent.length === 0;\n\n      if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\n        util.removeItem(endContainer);\n        endContainer = startContainer;\n      }\n\n      endOffset = endConReset ? endContainer.textContent.length : endOffset; // node change\n\n      var newStartOffset = {\n        s: 0,\n        e: 0\n      };\n      var startPath = util.getNodePath(startContainer, pNode, newStartOffset);\n      var mergeEndCon = !endContainer.parentNode;\n      if (mergeEndCon) endContainer = startContainer;\n      var newEndOffset = {\n        s: 0,\n        e: 0\n      };\n      var endPath = util.getNodePath(endContainer, pNode, !mergeEndCon && !endConReset ? newEndOffset : null);\n      startOffset += newStartOffset.s;\n      endOffset = collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s; // tag merge\n\n      var newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\n      element.parentNode.replaceChild(pNode, element);\n      startContainer = util.getNodeFromPath(startPath, pNode);\n      endContainer = util.getNodeFromPath(endPath, pNode);\n      return {\n        ancestor: pNode,\n        startContainer: startContainer,\n        startOffset: startOffset + newOffsets[0],\n        endContainer: endContainer,\n        endOffset: endOffset + newOffsets[1]\n      };\n    },\n\n    /**\r\n     * @description wraps first line selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Node} startCon The startContainer property of the selection object.\r\n     * @param {Number} startOff The startOffset property of the selection object.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @returns {null|Node} If end container is renewed, returned renewed node\r\n     * @returns {Object} { ancestor, container, offset, endContainer }\r\n     * @private\r\n     */\n    _nodeChange_startLine: function _nodeChange_startLine(element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\n      // not add tag\n      var parentCon = startCon.parentNode;\n\n      while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n        if (parentCon.nodeName === newInnerNode.nodeName) break;\n        parentCon = parentCon.parentNode;\n      }\n\n      if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\n        var sameTag = true;\n        var s = startCon.previousSibling;\n\n        while (s) {\n          if (!util.onlyZeroWidthSpace(s)) {\n            sameTag = false;\n            break;\n          }\n\n          s = s.previousSibling;\n        }\n\n        if (sameTag) {\n          util.copyTagAttributes(parentCon, newInnerNode);\n          return {\n            ancestor: element,\n            container: startCon,\n            offset: startOff\n          };\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var el = element;\n      var nNodeArray = [newInnerNode];\n      var pNode = element.cloneNode(false);\n      var container = startCon;\n      var offset = startOff;\n      var passNode = false;\n      var pCurrent, newNode, appendNode, anchorNode;\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n          var child = childNodes[i];\n          if (!child) continue;\n          var coverNode = ancestor;\n\n          if (passNode && !util.isBreak(child)) {\n            if (child.nodeType === 1) {\n              if (util._isIgnoreNodeChange(child)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                cloneChild = child.cloneNode(true);\n                pNode.appendChild(cloneChild);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode); // end container\n\n                if (_endContainer && child.contains(_endContainer)) {\n                  var endPath = util.getNodePath(_endContainer, child);\n                  _endContainer = util.getNodeFromPath(endPath, cloneChild);\n                }\n              } else {\n                recursionFunc(child, child);\n              }\n\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n            var anchors = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              vNode = validation(newNode);\n\n              if (newNode.nodeType === 1 && vNode) {\n                if (_isMaintainedNode(newNode)) {\n                  if (!anchorNode) anchors.push(vNode);\n                } else {\n                  pCurrent.push(vNode);\n                }\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            pCurrent = pCurrent.concat(anchors);\n            var isTopNode = pCurrent.length > 0;\n            var childNode = pCurrent.pop() || child;\n            appendNode = newNode = childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!anchorNode && _isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              var aChildren = childNode.childNodes;\n\n              for (var a = 0, aLen = aChildren.length; a < aLen; a++) {\n                newInnerNode.appendChild(aChildren[a]);\n              }\n\n              childNode.appendChild(newInnerNode);\n              pNode.appendChild(childNode);\n              ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\n              nNodeArray.push(newInnerNode);\n            } else if (isTopNode) {\n              newInnerNode.appendChild(childNode);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (anchorNode && child.nodeType === 3) {\n              if (_getMaintainedNode(child)) {\n                var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                  return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                }.bind(util));\n                anchorNode.appendChild(ancestorAnchorNode);\n                newInnerNode = ancestorAnchorNode.cloneNode(false);\n                nNodeArray.push(newInnerNode);\n                pNode.appendChild(newInnerNode);\n              } else {\n                anchorNode = null;\n              }\n            }\n          } // startContainer\n\n\n          if (!passNode && child === container) {\n            var line = pNode;\n            anchorNode = _getMaintainedNode(child);\n            var prevNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(0, offset));\n            var textNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(offset, container.length - offset));\n\n            if (anchorNode) {\n              var _a2 = _getMaintainedNode(ancestor);\n\n              if (_a2 && _a2.parentNode !== line) {\n                var m = _a2;\n                var p = null;\n\n                while (m.parentNode !== line) {\n                  ancestor = p = m.parentNode.cloneNode(false);\n\n                  while (m.childNodes[0]) {\n                    p.appendChild(m.childNodes[0]);\n                  }\n\n                  m.appendChild(p);\n                  m = m.parentNode;\n                }\n\n                m.parentNode.appendChild(_a2);\n              }\n\n              anchorNode = anchorNode.cloneNode(false);\n            }\n\n            if (!util.onlyZeroWidthSpace(prevNode)) {\n              ancestor.appendChild(prevNode);\n            }\n\n            var prevAnchorNode = _getMaintainedNode(ancestor);\n\n            if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n            if (anchorNode) line = anchorNode;\n            newNode = ancestor;\n            pCurrent = [];\n\n            while (newNode !== line && newNode !== null) {\n              vNode = validation(newNode);\n\n              if (newNode.nodeType === 1 && vNode) {\n                pCurrent.push(vNode);\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var _childNode3 = pCurrent.pop() || ancestor;\n\n            appendNode = newNode = _childNode3;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_childNode3 !== ancestor) {\n              newInnerNode.appendChild(_childNode3);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n            line.appendChild(newInnerNode);\n            container = textNode;\n            offset = 0;\n            passNode = true;\n            ancestor.appendChild(container);\n            continue;\n          }\n\n          vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n          if (vNode) {\n            ancestor.appendChild(vNode);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n          }\n\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode); // not remove tag\n\n\n      if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n        return {\n          ancestor: element,\n          container: startCon,\n          offset: startOff,\n          endContainer: _endContainer\n        };\n      }\n\n      isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n      if (isRemoveFormat) {\n        for (var i = 0; i < nNodeArray.length; i++) {\n          var removeNode = nNodeArray[i];\n          var rChildren = removeNode.childNodes;\n          var textNode = rChildren[0];\n\n          while (rChildren[0]) {\n            pNode.insertBefore(rChildren[0], removeNode);\n          }\n\n          util.removeItem(removeNode);\n          if (i === 0) container = textNode;\n        }\n      } else if (isRemoveNode) {\n        newInnerNode = newInnerNode.firstChild;\n\n        for (var _i13 = 0; _i13 < nNodeArray.length; _i13++) {\n          this._stripRemoveNode(nNodeArray[_i13]);\n        }\n      }\n\n      if (!isRemoveFormat && pNode.childNodes.length === 0) {\n        if (element.childNodes) {\n          container = element.childNodes[0];\n        } else {\n          container = util.createTextNode(util.zeroWidthSpace);\n          element.appendChild(container);\n        }\n      } else {\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (util.onlyZeroWidthSpace(pNode.textContent)) {\n          container = pNode.firstChild;\n          offset = 0;\n        } // node change\n\n\n        var offsets = {\n          s: 0,\n          e: 0\n        };\n        var path = util.getNodePath(container, pNode, offsets);\n        offset += offsets.s; // tag merge\n\n        var newOffsets = util.mergeSameTags(pNode, [path], true);\n        element.parentNode.replaceChild(pNode, element);\n        container = util.getNodeFromPath(path, pNode);\n        offset += newOffsets[0];\n      }\n\n      return {\n        ancestor: pNode,\n        container: container,\n        offset: offset,\n        endContainer: _endContainer\n      };\n    },\n\n    /**\r\n     * @description wraps mid lines selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n     * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n     * @private\r\n     */\n    _nodeChange_middleLine: function _nodeChange_middleLine(element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\n      // not add tag\n      if (!isRemoveNode) {\n        // end container path\n        var endPath = null;\n        if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\n        var tempNode = element.cloneNode(true);\n        var newNodeName = newInnerNode.nodeName;\n        var newCssText = newInnerNode.style.cssText;\n        var newClass = newInnerNode.className;\n        var children = tempNode.childNodes;\n        var i = 0,\n            len = children.length;\n\n        for (var child; i < len; i++) {\n          child = children[i];\n          if (child.nodeType === 3) break;\n\n          if (child.nodeName === newNodeName) {\n            child.style.cssText += newCssText;\n            util.addClass(child, newClass);\n          } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n            continue;\n          } else if (len === 1) {\n            children = child.childNodes;\n            len = children.length;\n            i = -1;\n            continue;\n          } else {\n            break;\n          }\n        }\n\n        if (len > 0 && i === len) {\n          element.innerHTML = tempNode.innerHTML;\n          return {\n            ancestor: element,\n            endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\n          };\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var pNode = element.cloneNode(false);\n      var nNodeArray = [newInnerNode];\n      var noneChange = true;\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var _i14 = 0, _len6 = childNodes.length, vNode, cloneChild; _i14 < _len6; _i14++) {\n          var _child = childNodes[_i14];\n          if (!_child) continue;\n          var coverNode = ancestor;\n\n          if (!util.isBreak(_child) && util._isIgnoreNodeChange(_child)) {\n            if (newInnerNode.childNodes.length > 0) {\n              pNode.appendChild(newInnerNode);\n              newInnerNode = newInnerNode.cloneNode(false);\n            }\n\n            cloneChild = _child.cloneNode(true);\n            pNode.appendChild(cloneChild);\n            pNode.appendChild(newInnerNode);\n            nNodeArray.push(newInnerNode);\n            ancestor = newInnerNode; // end container\n\n            if (_endContainer && _child.contains(_endContainer)) {\n              var _endPath = util.getNodePath(_endContainer, _child);\n\n              _endContainer = util.getNodeFromPath(_endPath, cloneChild);\n            }\n\n            continue;\n          } else {\n            vNode = validation(_child);\n\n            if (vNode) {\n              noneChange = false;\n              ancestor.appendChild(vNode);\n              if (_child.nodeType === 1) coverNode = vNode;\n            }\n          }\n\n          if (!util.isBreak(_child)) recursionFunc(_child, coverNode);\n        }\n      })(element, newInnerNode); // not remove tag\n\n\n      if (noneChange || isRemoveNode && !isRemoveFormat && !_removeCheck.v) return {\n        ancestor: element,\n        endContainer: _endContainer\n      };\n      pNode.appendChild(newInnerNode);\n\n      if (isRemoveFormat && isRemoveNode) {\n        for (var _i15 = 0; _i15 < nNodeArray.length; _i15++) {\n          var removeNode = nNodeArray[_i15];\n          var rChildren = removeNode.childNodes;\n\n          while (rChildren[0]) {\n            pNode.insertBefore(rChildren[0], removeNode);\n          }\n\n          util.removeItem(removeNode);\n        }\n      } else if (isRemoveNode) {\n        newInnerNode = newInnerNode.firstChild;\n\n        for (var _i16 = 0; _i16 < nNodeArray.length; _i16++) {\n          this._stripRemoveNode(nNodeArray[_i16]);\n        }\n      }\n\n      util.removeEmptyNode(pNode, newInnerNode);\n      util.mergeSameTags(pNode, null, true); // node change\n\n      element.parentNode.replaceChild(pNode, element);\n      return {\n        ancestor: pNode,\n        endContainer: _endContainer\n      };\n    },\n\n    /**\r\n     * @description wraps last line selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Node} endCon The endContainer property of the selection object.\r\n     * @param {Number} endOff The endOffset property of the selection object.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @returns {Object} { ancestor, container, offset }\r\n     * @private\r\n     */\n    _nodeChange_endLine: function _nodeChange_endLine(element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n      // not add tag\n      var parentCon = endCon.parentNode;\n\n      while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n        if (parentCon.nodeName === newInnerNode.nodeName) break;\n        parentCon = parentCon.parentNode;\n      }\n\n      if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n        var sameTag = true;\n        var e = endCon.nextSibling;\n\n        while (e) {\n          if (!util.onlyZeroWidthSpace(e)) {\n            sameTag = false;\n            break;\n          }\n\n          e = e.nextSibling;\n        }\n\n        if (sameTag) {\n          util.copyTagAttributes(parentCon, newInnerNode);\n          return {\n            ancestor: element,\n            container: endCon,\n            offset: endOff\n          };\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var el = element;\n      var nNodeArray = [newInnerNode];\n      var pNode = element.cloneNode(false);\n      var container = endCon;\n      var offset = endOff;\n      var passNode = false;\n      var pCurrent, newNode, appendNode, anchorNode;\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var i = childNodes.length - 1, vNode; 0 <= i; i--) {\n          var child = childNodes[i];\n          if (!child) continue;\n          var coverNode = ancestor;\n\n          if (passNode && !util.isBreak(child)) {\n            if (child.nodeType === 1) {\n              if (util._isIgnoreNodeChange(child)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                var cloneChild = child.cloneNode(true);\n                pNode.insertBefore(cloneChild, ancestor);\n                pNode.insertBefore(newInnerNode, cloneChild);\n                nNodeArray.push(newInnerNode);\n              } else {\n                recursionFunc(child, child);\n              }\n\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n            var anchors = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              vNode = validation(newNode);\n\n              if (vNode && newNode.nodeType === 1) {\n                if (_isMaintainedNode(newNode)) {\n                  if (!anchorNode) anchors.push(vNode);\n                } else {\n                  pCurrent.push(vNode);\n                }\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            pCurrent = pCurrent.concat(anchors);\n            var isTopNode = pCurrent.length > 0;\n            var childNode = pCurrent.pop() || child;\n            appendNode = newNode = childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.insertBefore(newInnerNode, pNode.firstChild);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!anchorNode && _isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              var aChildren = childNode.childNodes;\n\n              for (var a = 0, aLen = aChildren.length; a < aLen; a++) {\n                newInnerNode.appendChild(aChildren[a]);\n              }\n\n              childNode.appendChild(newInnerNode);\n              pNode.insertBefore(childNode, pNode.firstChild);\n              nNodeArray.push(newInnerNode);\n              if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n            } else if (isTopNode) {\n              newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (anchorNode && child.nodeType === 3) {\n              if (_getMaintainedNode(child)) {\n                var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                  return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                }.bind(util));\n                anchorNode.appendChild(ancestorAnchorNode);\n                newInnerNode = ancestorAnchorNode.cloneNode(false);\n                nNodeArray.push(newInnerNode);\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n              } else {\n                anchorNode = null;\n              }\n            }\n          } // endContainer\n\n\n          if (!passNode && child === container) {\n            anchorNode = _getMaintainedNode(child);\n            var afterNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(offset, container.length - offset));\n            var textNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(0, offset));\n\n            if (anchorNode) {\n              anchorNode = anchorNode.cloneNode(false);\n\n              var _a3 = _getMaintainedNode(ancestor);\n\n              if (_a3 && _a3.parentNode !== pNode) {\n                var m = _a3;\n                var p = null;\n\n                while (m.parentNode !== pNode) {\n                  ancestor = p = m.parentNode.cloneNode(false);\n\n                  while (m.childNodes[0]) {\n                    p.appendChild(m.childNodes[0]);\n                  }\n\n                  m.appendChild(p);\n                  m = m.parentNode;\n                }\n\n                m.parentNode.insertBefore(_a3, m.parentNode.firstChild);\n              }\n\n              anchorNode = anchorNode.cloneNode(false);\n            } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!util.onlyZeroWidthSpace(afterNode)) {\n              ancestor.insertBefore(afterNode, ancestor.firstChild);\n            }\n\n            newNode = ancestor;\n            pCurrent = [];\n\n            while (newNode !== pNode && newNode !== null) {\n              vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n              if (vNode && newNode.nodeType === 1) {\n                pCurrent.push(vNode);\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var _childNode4 = pCurrent.pop() || ancestor;\n\n            appendNode = newNode = _childNode4;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_childNode4 !== ancestor) {\n              newInnerNode.insertBefore(_childNode4, newInnerNode.firstChild);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n\n            if (anchorNode) {\n              anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n              pNode.insertBefore(anchorNode, pNode.firstChild);\n              anchorNode = null;\n            } else {\n              pNode.insertBefore(newInnerNode, pNode.firstChild);\n            }\n\n            container = textNode;\n            offset = textNode.data.length;\n            passNode = true;\n            ancestor.insertBefore(container, ancestor.firstChild);\n            continue;\n          }\n\n          vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n          if (vNode) {\n            ancestor.insertBefore(vNode, ancestor.firstChild);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n          }\n\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode); // not remove tag\n\n\n      if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n        return {\n          ancestor: element,\n          container: endCon,\n          offset: endOff\n        };\n      }\n\n      isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n      if (isRemoveFormat) {\n        for (var i = 0; i < nNodeArray.length; i++) {\n          var removeNode = nNodeArray[i];\n          var rChildren = removeNode.childNodes;\n          var textNode = null;\n\n          while (rChildren[0]) {\n            textNode = rChildren[0];\n            pNode.insertBefore(textNode, removeNode);\n          }\n\n          util.removeItem(removeNode);\n\n          if (i === nNodeArray.length - 1) {\n            container = textNode;\n            offset = textNode.textContent.length;\n          }\n        }\n      } else if (isRemoveNode) {\n        newInnerNode = newInnerNode.firstChild;\n\n        for (var _i17 = 0; _i17 < nNodeArray.length; _i17++) {\n          this._stripRemoveNode(nNodeArray[_i17]);\n        }\n      }\n\n      if (!isRemoveFormat && pNode.childNodes.length === 0) {\n        if (element.childNodes) {\n          container = element.childNodes[0];\n        } else {\n          container = util.createTextNode(util.zeroWidthSpace);\n          element.appendChild(container);\n        }\n      } else {\n        if (!isRemoveNode && newInnerNode.textContent.length === 0) {\n          util.removeEmptyNode(pNode, null);\n          return {\n            ancestor: null,\n            container: null,\n            offset: 0\n          };\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (util.onlyZeroWidthSpace(pNode.textContent)) {\n          container = pNode.firstChild;\n          offset = container.textContent.length;\n        } else if (util.onlyZeroWidthSpace(container)) {\n          container = newInnerNode;\n          offset = 1;\n        } // node change\n\n\n        var offsets = {\n          s: 0,\n          e: 0\n        };\n        var path = util.getNodePath(container, pNode, offsets);\n        offset += offsets.s; // tag merge\n\n        var newOffsets = util.mergeSameTags(pNode, [path], true);\n        element.parentNode.replaceChild(pNode, element);\n        container = util.getNodeFromPath(path, pNode);\n        offset += newOffsets[0];\n      }\n\n      return {\n        ancestor: pNode,\n        container: container,\n        offset: offset\n      };\n    },\n\n    /**\r\n     * @description Run plugin calls and basic commands.\r\n     * @param {String} command Command string\r\n     * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n     * @param {Element} target The element of command button\r\n     */\n    actionCall: function actionCall(command, display, target) {\n      // call plugins\n      if (display) {\n        if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\n          var layer = context.element.toolbar.querySelector(\".\" + command);\n\n          if (layer) {\n            if (this._moreLayerActiveButton) {\n              context.element.toolbar.querySelector(\".\" + this._moreLayerActiveButton.getAttribute(\"data-command\")).style.display = \"none\";\n              util.removeClass(this._moreLayerActiveButton, \"on\");\n            }\n\n            util.addClass(target, \"on\");\n            this._moreLayerActiveButton = target;\n            layer.style.display = \"block\";\n\n            event._showToolbarBalloon();\n\n            event._showToolbarInline();\n          }\n\n          return;\n        } else if (/submenu/.test(display) && (this.menuTray[command] === null || target !== this.submenuActiveButton)) {\n          this.callPlugin(command, this.submenuOn.bind(this, target), target);\n          return;\n        } else if (/dialog/.test(display)) {\n          this.callPlugin(command, this.plugins[command].open.bind(this), target);\n          return;\n        } else if (/command/.test(display)) {\n          this.callPlugin(command, this.plugins[command].action.bind(this), target);\n        } else if (/container/.test(display) && (this.menuTray[command] === null || target !== this.containerActiveButton)) {\n          this.callPlugin(command, this.containerOn.bind(this, target), target);\n          return;\n        } else if (/fileBrowser/.test(display)) {\n          this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\n        }\n      } // default command\n      else if (command) {\n          this.commandHandler(target, command);\n        }\n\n      if (/more/i.test(display)) {\n        var _layer = context.element.toolbar.querySelector(\".\" + this._moreLayerActiveButton.getAttribute(\"data-command\"));\n\n        if (_layer) {\n          util.removeClass(this._moreLayerActiveButton, \"on\");\n          this._moreLayerActiveButton = null;\n          _layer.style.display = \"none\";\n\n          event._showToolbarBalloon();\n\n          event._showToolbarInline();\n        }\n      } else if (/submenu/.test(display)) {\n        this.submenuOff();\n      } else if (!/command/.test(display)) {\n        this.submenuOff();\n        this.containerOff();\n      }\n    },\n\n    /**\r\n     * @description Execute command of command button(All Buttons except submenu and dialog)\r\n     * (selectAll, codeView, fullScreen, indent, outdent, undo, redo, removeFormat, print, preview, showBlocks, save, bold, underline, italic, strike, subscript, superscript, copy, cut, paste)\r\n     * @param {Element|null} target The element of command button\r\n     * @param {String} command Property of command button (data-value)\r\n     */\n    commandHandler: function commandHandler(target, command) {\n      switch (command) {\n        case \"copy\":\n        case \"cut\":\n          this.execCommand(command);\n          break;\n\n        case \"paste\":\n          break;\n\n        case \"selectAll\":\n          var wysiwyg = context.element.wysiwyg;\n          var first = util.getChildElement(wysiwyg.firstChild, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, false) || wysiwyg.firstChild;\n          var last = util.getChildElement(wysiwyg.lastChild, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, true) || wysiwyg.lastChild;\n          if (!first || !last) return;\n\n          if (util.isMedia(first)) {\n            var info = this.getFileComponent(first);\n            var br = util.createElement(\"BR\");\n            var format = util.createElement(options.defaultTag);\n            format.appendChild(br);\n            first = info ? info.component : first;\n            first.parentNode.insertBefore(format, first);\n            first = br;\n          }\n\n          if (util.isMedia(last)) {\n            var _br = util.createElement(\"BR\");\n\n            var _format2 = util.createElement(options.defaultTag);\n\n            _format2.appendChild(_br);\n\n            wysiwyg.appendChild(_format2);\n            last = _br;\n          }\n\n          this.setRange(first, 0, last, last.textContent.length);\n          break;\n\n        case \"codeView\":\n          this.toggleCodeView();\n          break;\n\n        case \"fullScreen\":\n          this.toggleFullScreen(target);\n          break;\n\n        case \"indent\":\n        case \"outdent\":\n          this.indent(command);\n          break;\n\n        case \"undo\":\n          this.history.undo();\n          break;\n\n        case \"redo\":\n          this.history.redo();\n          break;\n\n        case \"removeFormat\":\n          this.removeFormat();\n          this.focus();\n          break;\n\n        case \"print\":\n          this.print();\n          break;\n\n        case \"preview\":\n          this.preview();\n          break;\n\n        case \"showBlocks\":\n          this.toggleDisplayBlocks();\n          break;\n\n        case \"save\":\n          if (typeof options.callBackSave === \"function\") {\n            options.callBackSave(this.getContents(false), this._variable.isChanged);\n          } else if (this._variable.isChanged && typeof functions.save === \"function\") {\n            functions.save();\n          } else {\n            throw Error(\"[KothingEditor.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)\");\n          }\n\n          this._variable.isChanged = false;\n          if (context.tool.save) context.tool.save.setAttribute(\"disabled\", true);\n          break;\n\n        default:\n          // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\n          command = this._defaultCommand[command.toLowerCase()] || command;\n          if (!this.commandMap[command]) this.commandMap[command] = target;\n          var nodesMap = this._variable.currentNodesMap;\n          var cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\n          var removeNode = command;\n\n          if (/^SUB$/i.test(command) && nodesMap.indexOf(\"SUP\") > -1) {\n            removeNode = \"SUP\";\n          } else if (/^SUP$/i.test(command) && nodesMap.indexOf(\"SUB\") > -1) {\n            removeNode = \"SUB\";\n          }\n\n          this.nodeChange(cmd, null, [removeNode], false);\n          this.focus();\n      }\n    },\n\n    /**\r\n     * @description Remove format of the currently selected range\r\n     */\n    removeFormat: function removeFormat() {\n      this.nodeChange(null, null, null, null);\n    },\n\n    /**\r\n     * @description This method implements indentation to selected range.\r\n     * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n     * @param {String} command Separator (\"indent\" or \"outdent\")\r\n     */\n    indent: function indent(command) {\n      var range = this.getRange();\n      var rangeLines = this.getSelectedElements(null);\n      var cells = [];\n      var shift = \"indent\" !== command;\n      var marginDir = options.rtl ? \"marginRight\" : \"marginLeft\";\n      var sc = range.startContainer;\n      var ec = range.endContainer;\n      var so = range.startOffset;\n      var eo = range.endOffset;\n\n      for (var i = 0, len = rangeLines.length, f, margin; i < len; i++) {\n        f = rangeLines[i];\n\n        if (!util.isListCell(f) || !this.plugins.list) {\n          margin = /\\d+/.test(f.style[marginDir]) ? util.getNumber(f.style[marginDir], 0) : 0;\n\n          if (shift) {\n            margin -= 25;\n          } else {\n            margin += 25;\n          }\n\n          util.setStyle(f, marginDir, margin <= 0 ? \"\" : margin + \"px\");\n        } else {\n          if (shift || f.previousElementSibling) {\n            cells.push(f);\n          }\n        }\n      } // list cells\n\n\n      if (cells.length > 0) {\n        this.plugins.list.editInsideList.call(this, shift, cells);\n      }\n\n      this.effectNode = null;\n      this.setRange(sc, so, ec, eo); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description Add or remove the class name of \"body\" so that the code block is visible\r\n     */\n    toggleDisplayBlocks: function toggleDisplayBlocks() {\n      var wysiwyg = context.element.wysiwyg;\n      util.toggleClass(wysiwyg, \"ke-show-block\");\n\n      if (util.hasClass(wysiwyg, \"ke-show-block\")) {\n        util.addClass(this._styleCommandMap.showBlocks, \"active\");\n      } else {\n        util.removeClass(this._styleCommandMap.showBlocks, \"active\");\n      }\n\n      this._resourcesStateChange();\n    },\n\n    /**\r\n     * @description Changes to code view or wysiwyg view\r\n     */\n    toggleCodeView: function toggleCodeView() {\n      var isCodeView = this._variable.isCodeView;\n      this.controllersOff();\n      util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\n\n      if (isCodeView) {\n        this._setCodeDataToEditor();\n\n        context.element.wysiwygFrame.scrollTop = 0;\n        context.element.code.style.display = \"none\";\n        context.element.wysiwygFrame.style.display = \"block\";\n        this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: none\");\n        this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: block\");\n        if (options.height === \"auto\" && !options.codeMirrorEditor) context.element.code.style.height = \"0px\";\n        this._variable.isCodeView = false;\n\n        if (!this._variable.isFullScreen) {\n          this._notHideToolbar = false;\n\n          if (/balloon|balloon-always/i.test(options.mode)) {\n            context.element.arrow.style.display = \"\";\n            this._isInline = false;\n            this._isBalloon = true;\n\n            event._hideToolbar();\n          }\n        }\n\n        this.nativeFocus();\n        util.removeClass(this._styleCommandMap.codeView, \"active\"); // history stack\n\n        this.history.push(false);\n\n        this.history._resetCachingButton();\n      } else {\n        this._setEditorDataToCodeView();\n\n        this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: block\");\n        this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: none\");\n        if (options.height === \"auto\" && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? context.element.code.scrollHeight + \"px\" : \"auto\";\n        if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\n        this._variable.isCodeView = true;\n\n        if (!this._variable.isFullScreen) {\n          this._notHideToolbar = true;\n\n          if (this._isBalloon) {\n            context.element.arrow.style.display = \"none\";\n            context.element.toolbar.style.left = \"\";\n            this._isInline = true;\n            this._isBalloon = false;\n\n            event._showToolbarInline();\n          }\n        }\n\n        this._variable._range = null;\n        context.element.code.focus();\n        util.addClass(this._styleCommandMap.codeView, \"active\");\n      }\n\n      this._checkPlaceholder(); // user event\n\n\n      if (typeof functions.toggleCodeView === \"function\") functions.toggleCodeView(this._variable.isCodeView, this);\n    },\n\n    /**\r\n     * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n     * @private\r\n     */\n    _setCodeDataToEditor: function _setCodeDataToEditor() {\n      var code_html = this._getCodeView();\n\n      if (options.fullPage) {\n        var parseDocument = this._parser.parseFromString(code_html, \"text/html\");\n\n        var headChildren = parseDocument.head.children;\n\n        for (var i = 0, len = headChildren.length; i < len; i++) {\n          if (/^script$/i.test(headChildren[i].tagName)) {\n            parseDocument.head.removeChild(headChildren[i]);\n            i--, len--;\n          }\n        }\n\n        this._wd.head.innerHTML = parseDocument.head.innerHTML;\n        this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\n        var attrs = parseDocument.body.attributes;\n\n        for (var _i18 = 0, _len7 = attrs.length; _i18 < _len7; _i18++) {\n          if (attrs[_i18].name === \"contenteditable\") continue;\n\n          this._wd.body.setAttribute(attrs[_i18].name, attrs[_i18].value);\n        }\n\n        if (!util.hasClass(this._wd.body, \"kothing-editor-editable\")) {\n          var editableClasses = options._editableClass.split(\" \");\n\n          for (var _i19 = 0; _i19 < editableClasses.length; _i19++) {\n            util.addClass(this._wd.body, options._editableClass[_i19]);\n          }\n        }\n      } else {\n        context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : \"<\" + options.defaultTag + \"><br></\" + options.defaultTag + \">\";\n      }\n    },\n\n    /**\r\n     * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n     * @private\r\n     */\n    _setEditorDataToCodeView: function _setEditorDataToCodeView() {\n      var codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\n      var codeValue = \"\";\n\n      if (options.fullPage) {\n        var attrs = util.getAttributesToString(this._wd.body, null);\n        codeValue = \"<!DOCTYPE html>\\n<html>\\n\" + this._wd.head.outerHTML.replace(/>(?!\\n)/g, \">\\n\") + \"<body \" + attrs + \">\\n\" + codeContents + \"</body>\\n</html>\";\n      } else {\n        codeValue = codeContents;\n      }\n\n      context.element.code.style.display = \"block\";\n      context.element.wysiwygFrame.style.display = \"none\";\n\n      this._setCodeView(codeValue);\n    },\n\n    /**\r\n     * @description Changes to full screen or default screen\r\n     * @param {Element} element full screen button\r\n     */\n    toggleFullScreen: function toggleFullScreen(element) {\n      var topArea = context.element.topArea;\n      var toolbar = context.element.toolbar;\n      var editorArea = context.element.editorArea;\n      var wysiwygFrame = context.element.wysiwygFrame;\n      var code = context.element.code;\n      var _var = this._variable;\n      this.controllersOff();\n\n      if (!_var.isFullScreen) {\n        _var.isFullScreen = true;\n        _var._fullScreenAttrs.inline = this._isInline;\n        _var._fullScreenAttrs.balloon = this._isBalloon;\n\n        if (this._isInline || this._isBalloon) {\n          this._isInline = false;\n          this._isBalloon = false;\n        }\n\n        if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\n        topArea.style.position = \"fixed\";\n        topArea.style.top = \"0\";\n        topArea.style.left = \"0\";\n        topArea.style.width = \"100%\";\n        topArea.style.maxWidth = \"100%\";\n        topArea.style.height = \"100%\";\n        topArea.style.zIndex = \"2147483647\";\n\n        if (context.element.stickyDummy.style.display !== (\"none\" && \"\")) {\n          _var._fullScreenAttrs.sticky = true;\n          context.element.stickyDummy.style.display = \"none\";\n          util.removeClass(toolbar, \"ke-toolbar-sticky\");\n        }\n\n        _var._bodyOverflow = _d.body.style.overflow;\n        _d.body.style.overflow = \"hidden\";\n        _var.editorAreaOriginCssText = editorArea.style.cssText;\n        _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\n        _var._codeOriginCssText = code.style.cssText;\n        editorArea.style.cssText = toolbar.style.cssText = \"\";\n        wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [\"\"])[0];\n        code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [\"\"])[0];\n        toolbar.style.width = wysiwygFrame.style.height = code.style.height = \"100%\";\n        toolbar.style.position = \"relative\";\n        toolbar.style.display = \"block\";\n        _var.innerHeight_fullScreen = _w.innerHeight - toolbar.offsetHeight;\n        editorArea.style.height = _var.innerHeight_fullScreen - options.fullScreenOffset + \"px\";\n        util.changeElement(element.firstElementChild, icons.reduction);\n\n        if (options.iframe && options.height === \"auto\") {\n          editorArea.style.overflow = \"auto\";\n\n          this._iframeAutoHeight();\n        }\n\n        context.element.topArea.style.marginTop = options.fullScreenOffset + \"px\";\n        util.addClass(this._styleCommandMap.fullScreen, \"active\");\n      } else {\n        _var.isFullScreen = false;\n        wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\n        code.style.cssText = _var._codeOriginCssText;\n        toolbar.style.cssText = \"\";\n        editorArea.style.cssText = _var.editorAreaOriginCssText;\n        topArea.style.cssText = _var._originCssText;\n        _d.body.style.overflow = _var._bodyOverflow;\n        if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\n\n        if (options.stickyToolbar > -1) {\n          util.removeClass(toolbar, \"ke-toolbar-sticky\");\n        }\n\n        if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\n          _var._fullScreenAttrs.sticky = false;\n          context.element.stickyDummy.style.display = \"block\";\n          util.addClass(toolbar, \"ke-toolbar-sticky\");\n        }\n\n        this._isInline = _var._fullScreenAttrs.inline;\n        this._isBalloon = _var._fullScreenAttrs.balloon;\n        if (this._isInline) event._showToolbarInline();\n        if (!!options.toolbarContainer) util.removeClass(toolbar, \"ke-toolbar-balloon\");\n        event.onScroll_window();\n        util.changeElement(element.firstElementChild, icons.expansion);\n        context.element.topArea.style.marginTop = \"\";\n        util.removeClass(this._styleCommandMap.fullScreen, \"active\");\n      } // user event\n\n\n      if (typeof functions.toggleFullScreen === \"function\") functions.toggleFullScreen(this._variable.isFullScreen, this);\n    },\n\n    /**\r\n     * @description Prints the current contents of the editor.\r\n     */\n    print: function print() {\n      var iframe = util.createElement(\"IFRAME\");\n      iframe.style.display = \"none\";\n\n      _d.body.appendChild(iframe);\n\n      var contentsHTML = options.printTemplate ? options.printTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\n      var printDocument = util.getIframeDocument(iframe);\n      var wDoc = this._wd;\n\n      if (options.iframe) {\n        var arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, [\"contenteditable\"]) : 'class=\"' + options._editableClass + '\"';\n        printDocument.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + wDoc.head.innerHTML + \"</head>\" + \"<body \" + arrts + \">\" + contentsHTML + \"</body>\" + \"</html>\");\n      } else {\n        var links = _d.head.getElementsByTagName(\"link\");\n\n        var styles = _d.head.getElementsByTagName(\"style\");\n\n        var linkHTML = \"\";\n\n        for (var i = 0, len = links.length; i < len; i++) {\n          linkHTML += links[i].outerHTML;\n        }\n\n        for (var _i20 = 0, _len8 = styles.length; _i20 < _len8; _i20++) {\n          linkHTML += styles[_i20].outerHTML;\n        }\n\n        printDocument.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + linkHTML + \"</head>\" + '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\">' + contentsHTML + \"</body>\" + \"</html>\");\n      }\n\n      this.showLoading();\n\n      _w.setTimeout(function () {\n        try {\n          iframe.focus(); // IE or Edge\n\n          if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\n            try {\n              iframe.contentWindow.document.execCommand(\"print\", false, null);\n            } catch (e) {\n              iframe.contentWindow.print();\n            }\n          } else {\n            // Other browsers\n            iframe.contentWindow.print();\n          }\n        } catch (error) {\n          throw Error(\"[KothingEditor.core.print.fail] error: \" + error);\n        } finally {\n          core.closeLoading();\n          util.removeItem(iframe);\n        }\n      }, 1000);\n    },\n\n    /**\r\n     * @description Open the preview window.\r\n     */\n    preview: function preview() {\n      core.submenuOff();\n      core.containerOff();\n      core.controllersOff();\n      var contentsHTML = options.previewTemplate ? options.previewTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\n\n      var windowObject = _w.open(\"\", \"_blank\");\n\n      windowObject.mimeType = \"text/html\";\n      var wDoc = this._wd;\n\n      if (options.iframe) {\n        var arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, [\"contenteditable\"]) : 'class=\"' + options._editableClass + '\"';\n        windowObject.document.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + wDoc.head.innerHTML + \"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style>\" + \"</head>\" + \"<body \" + arrts + \">\" + contentsHTML + \"</body>\" + \"</html>\");\n      } else {\n        var links = _d.head.getElementsByTagName(\"link\");\n\n        var styles = _d.head.getElementsByTagName(\"style\");\n\n        var linkHTML = \"\";\n\n        for (var i = 0, len = links.length; i < len; i++) {\n          linkHTML += links[i].outerHTML;\n        }\n\n        for (var _i21 = 0, _len9 = styles.length; _i21 < _len9; _i21++) {\n          linkHTML += styles[_i21].outerHTML;\n        }\n\n        windowObject.document.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + \"<title>\" + lang.toolbar.preview + \"</title>\" + linkHTML + \"</head>\" + '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\" style=\"margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;\">' + contentsHTML + \"</body>\" + \"</html>\");\n      }\n    },\n\n    /**\r\n     * @description Sets the HTML string\r\n     * @param {String|undefined} html HTML string\r\n     */\n    setContents: function setContents(html) {\n      this.removeRange();\n      var convertValue = html === null || html === undefined ? \"\" : this.convertContentsForEditor(html);\n\n      this._resetComponents();\n\n      if (!this._variable.isCodeView) {\n        context.element.wysiwyg.innerHTML = convertValue; // history stack\n\n        this.history.push(false);\n      } else {\n        var value = this.convertHTMLForCodeView(convertValue);\n\n        this._setCodeView(value);\n      }\n    },\n\n    /**\r\n     * @description Sets the contents of the iframe's head tag and body tag when using the \"iframe\" or \"fullPage\" option.\r\n     * @param {Object} ctx { head: HTML string, body: HTML string}\r\n     */\n    setIframeContents: function setIframeContents(ctx) {\n      if (!options.iframe) return false;\n      if (ctx.head) this._wd.head.innerHTML = ctx.head.replace(/<script[\\s\\S]*>[\\s\\S]*<\\/script>/gi, \"\");\n      if (ctx.body) this._wd.body.innerHTML = this.convertContentsForEditor(ctx.body);\n    },\n\n    /**\r\n     * @description Gets the current contents\r\n     * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n     * @returns {Object}\r\n     */\n    getContents: function getContents(onlyContents) {\n      var contents = context.element.wysiwyg.innerHTML;\n      var renderHTML = util.createElement(\"DIV\");\n      renderHTML.innerHTML = contents;\n      var figcaptions = util.getListChildren(renderHTML, function (current) {\n        return /FIGCAPTION/i.test(current.nodeName);\n      });\n\n      for (var i = 0, len = figcaptions.length; i < len; i++) {\n        figcaptions[i].removeAttribute(\"contenteditable\");\n      }\n\n      if (options.fullPage && !onlyContents) {\n        var attrs = util.getAttributesToString(this._wd.body, [\"contenteditable\"]);\n        return \"<!DOCTYPE html><html>\" + this._wd.head.outerHTML + \"<body \" + attrs + \">\" + renderHTML.innerHTML + \"</body></html>\";\n      } else {\n        return renderHTML.innerHTML;\n      }\n    },\n\n    /**\r\n     * @description Returns HTML string according to tag type and configuration.\r\n     * Use only \"cleanHTML\"\r\n     * @param {Node} node Node\r\n     * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n     * @private\r\n     */\n    _makeLine: function _makeLine(node, requireFormat) {\n      var defaultTag = options.defaultTag; // element\n\n      if (node.nodeType === 1) {\n        if (util._disallowedTags(node)) return \"\";\n\n        if (!requireFormat || util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || util.isAnchor(node) && util.isMedia(node.firstElementChild)) {\n          return node.outerHTML;\n        } else {\n          return \"<\" + defaultTag + \">\" + node.outerHTML + \"</\" + defaultTag + \">\";\n        }\n      } // text\n\n\n      if (node.nodeType === 3) {\n        if (!requireFormat) return util._HTMLConvertor(node.textContent);\n        var textArray = node.textContent.split(/\\n/g);\n        var html = \"\";\n\n        for (var i = 0, tLen = textArray.length, text; i < tLen; i++) {\n          text = textArray[i].trim();\n          if (text.length > 0) html += \"<\" + defaultTag + \">\" + util._HTMLConvertor(text) + \"</\" + defaultTag + \">\";\n        }\n\n        return html;\n      } // comments\n\n\n      if (node.nodeType === 8 && this._allowHTMLComments) {\n        return \"<!--\" + node.textContent.trim() + \"-->\";\n      }\n\n      return \"\";\n    },\n\n    /**\r\n     * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n     * @param {String} text\r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\n    _tagConvertor: function _tagConvertor(text) {\n      if (!this._disallowedTextTagsRegExp) return text;\n      var ec = options._textTagsMap;\n      return text.replace(this._disallowedTextTagsRegExp, function (m, t, n, p) {\n        return t + (typeof ec[n] === \"string\" ? ec[n] : n) + (p ? \" \" + p : \"\");\n      });\n    },\n\n    /**\r\n     * @description Delete disallowed tags\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     * @private\r\n     */\n    _deleteDisallowedTags: function _deleteDisallowedTags(html) {\n      return html.replace(/\\n/g, \"\").replace(/<(script|style)[\\s\\S]*>[\\s\\S]*<\\/(script|style)>/gi, \"\").replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, \"\").replace(this.editorTagsWhitelistRegExp, \"\");\n    },\n\n    /**\r\n     * @description Tag and tag attribute check RegExp function. (used by \"cleanHTML\" and \"convertContentsForEditor\")\r\n     * @param {Boolean} rowLevelCheck Row level check\r\n     * @param {String} m RegExp value\r\n     * @param {String} t RegExp value\r\n     * @returns {String}\r\n     * @private\r\n     */\n    _cleanTags: function _cleanTags(rowLevelCheck, m, t) {\n      if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\n      var v = null;\n\n      var tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9\\-]+/)[0].toLowerCase()];\n\n      if (tAttr) v = m.match(tAttr);else v = m.match(this._attributesWhitelistRegExp);\n\n      if ((rowLevelCheck || /<span/i.test(t)) && (!v || !/style=/i.test(v.toString()))) {\n        var sv = m.match(/style\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\n\n        if (sv) {\n          if (!v) v = [];\n          v.push(sv[0]);\n        }\n      }\n\n      if (/<a\\b/i.test(t)) {\n        var _sv = m.match(/id\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\n\n        if (_sv) {\n          if (!v) v = [];\n          v.push(_sv[0]);\n        }\n      }\n\n      if (v) {\n        for (var i = 0, len = v.length; i < len; i++) {\n          if (!rowLevelCheck && /^class=\"(?!(__ke__|ke-|katex))/.test(v[i])) continue;\n          t += \" \" + (/^href\\s*=\\s*('|\"|\\s)*javascript\\s*\\:/i.test(v[i]) ? \"\" : v[i]);\n        }\n      }\n\n      return t;\n    },\n\n    /**\r\n     * @description Gets the clean HTML code for editor\r\n     * @param {String} html HTML string\r\n     * @param {String|RegExp|null} whitelist Regular expression of allowed tags.\r\n     * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n     * @returns {String}\r\n     */\n    cleanHTML: function cleanHTML(html, whitelist) {\n      html = this._deleteDisallowedTags(this._parser.parseFromString(html, \"text/html\").body.innerHTML).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, false));\n\n      var dom = _d.createRange().createContextualFragment(html);\n\n      try {\n        util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n      } catch (error) {\n        console.warn(\"[KothingEditor.cleanHTML.consistencyCheck.fail] \" + error);\n      }\n\n      if (this.managedTagsInfo && this.managedTagsInfo.query) {\n        var textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n        for (var i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n          classList = [].slice.call(textCompList[i].classList);\n\n          for (var c = 0, cLen = classList.length; c < cLen; c++) {\n            initMethod = this.managedTagsInfo.map[classList[c]];\n\n            if (initMethod) {\n              initMethod(textCompList[i]);\n              break;\n            }\n          }\n        }\n      }\n\n      var domTree = dom.childNodes;\n      var cleanHTML = \"\";\n      var requireFormat = false;\n\n      for (var _i22 = 0, _len10 = domTree.length, t; _i22 < _len10; _i22++) {\n        t = domTree[_i22];\n\n        if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\n          requireFormat = true;\n          break;\n        }\n      }\n\n      for (var _i23 = 0, _len11 = domTree.length; _i23 < _len11; _i23++) {\n        cleanHTML += this._makeLine(domTree[_i23], requireFormat);\n      }\n\n      cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n      return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === \"string\" ? util.createTagsWhitelist(whitelist) : whitelist, \"\"));\n    },\n\n    /**\r\n     * @description Converts contents into a format that can be placed in an editor\r\n     * @param {String} contents contents\r\n     * @returns {String}\r\n     */\n    convertContentsForEditor: function convertContentsForEditor(contents) {\n      contents = this._deleteDisallowedTags(this._parser.parseFromString(contents, \"text/html\").body.innerHTML).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, true));\n\n      var dom = _d.createRange().createContextualFragment(contents);\n\n      try {\n        util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n      } catch (error) {\n        console.warn(\"[KothingEditor.convertContentsForEditor.consistencyCheck.fail] \" + error);\n      }\n\n      if (this.managedTagsInfo && this.managedTagsInfo.query) {\n        var textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n        for (var i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n          classList = [].slice.call(textCompList[i].classList);\n\n          for (var c = 0, cLen = classList.length; c < cLen; c++) {\n            initMethod = this.managedTagsInfo.map[classList[c]];\n\n            if (initMethod) {\n              initMethod(textCompList[i]);\n              break;\n            }\n          }\n        }\n      }\n\n      var domTree = dom.childNodes;\n      var cleanHTML = \"\";\n\n      for (var _i24 = 0, _len12 = domTree.length; _i24 < _len12; _i24++) {\n        cleanHTML += this._makeLine(domTree[_i24], true);\n      }\n\n      if (cleanHTML.length === 0) return \"<\" + options.defaultTag + \"><br></\" + options.defaultTag + \">\";\n      cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n      return this._tagConvertor(cleanHTML);\n    },\n\n    /**\r\n     * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n     * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n     * @returns {String}\r\n     */\n    convertHTMLForCodeView: function convertHTMLForCodeView(html) {\n      var returnHTML = \"\";\n      var wRegExp = _w.RegExp;\n      var brReg = new wRegExp(\"^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$\", \"i\");\n      var wDoc = typeof html === \"string\" ? _d.createRange().createContextualFragment(html) : html;\n\n      var isFormat = function (current) {\n        return this.isFormatElement(current) || this.isComponent(current);\n      }.bind(util);\n\n      var indentSize = this._variable.codeIndent * 1;\n      indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(\" \") : \"\";\n\n      (function recursionFunc(element, indent, lineBR) {\n        var children = element.childNodes;\n        var elementRegTest = brReg.test(element.nodeName);\n        var elementIndent = elementRegTest ? indent : \"\";\n\n        for (var i = 0, len = children.length, node, br, nodeRegTest, tag, tagIndent; i < len; i++) {\n          node = children[i];\n          nodeRegTest = brReg.test(node.nodeName);\n          br = nodeRegTest ? \"\\n\" : \"\";\n          lineBR = isFormat(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? \"\\n\" : \"\";\n\n          if (node.nodeType === 8) {\n            returnHTML += \"\\n<!-- \" + node.textContent.trim() + \" -->\" + br;\n            continue;\n          }\n\n          if (node.nodeType === 3) {\n            if (!util.isList(node.parentElement)) returnHTML += util._HTMLConvertor(/^\\n+$/.test(node.data) ? \"\" : node.data);\n            continue;\n          }\n\n          if (node.childNodes.length === 0) {\n            returnHTML += (/^HR$/i.test(node.nodeName) ? \"\\n\" : \"\") + (/^PRE$/i.test(node.parentElement.nodeName) && /^BR$/i.test(node.nodeName) ? \"\" : elementIndent) + node.outerHTML + br;\n            continue;\n          }\n\n          if (!node.outerHTML) {\n            // IE\n            returnHTML += new _w.XMLSerializer().serializeToString(node);\n          } else {\n            tag = node.nodeName.toLowerCase();\n            tagIndent = elementIndent || nodeRegTest ? indent : \"\";\n            returnHTML += (lineBR || (elementRegTest ? \"\" : br)) + tagIndent + node.outerHTML.match(wRegExp(\"<\" + tag + \"[^>]*>\", \"i\"))[0] + br;\n            recursionFunc(node, indent + indentSize, \"\");\n            returnHTML += (/\\n$/.test(returnHTML) ? tagIndent : \"\") + \"</\" + tag + \">\" + (lineBR || br || elementRegTest ? \"\\n\" : \"\" || /^(TH|TD)$/i.test(node.nodeName) ? \"\\n\" : \"\");\n          }\n        }\n      })(wDoc, \"\", \"\\n\");\n\n      return returnHTML.trim() + \"\\n\";\n    },\n\n    /**\r\n     * @description Add an event to document.\r\n     * When created as an Iframe, the same event is added to the document in the Iframe.\r\n     * @param {String} type Event type\r\n     * @param {Function} listener Event listener\r\n     * @param {Boolean} useCapture Use event capture\r\n     */\n    addDocEvent: function addDocEvent(type, listener, useCapture) {\n      _d.addEventListener(type, listener, useCapture);\n\n      if (options.iframe) {\n        this._wd.addEventListener(type, listener);\n      }\n    },\n\n    /**\r\n     * @description Remove events from document.\r\n     * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n     * @param {String} type Event type\r\n     * @param {Function} listener Event listener\r\n     */\n    removeDocEvent: function removeDocEvent(type, listener) {\n      _d.removeEventListener(type, listener);\n\n      if (options.iframe) {\n        this._wd.removeEventListener(type, listener);\n      }\n    },\n\n    /**\r\n     * @description The current number of characters is counted and displayed.\r\n     * @param {String} inputText Text added.\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _charCount: function _charCount(inputText) {\n      var maxCharCount = options.maxCharCount;\n      var countType = options.charCounterType;\n      var nextCharCount = 0;\n      if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\n\n      this._setCharCount();\n\n      if (maxCharCount > 0) {\n        var over = false;\n        var count = functions.getCharCount(countType);\n\n        if (count > maxCharCount) {\n          over = true;\n\n          if (nextCharCount > 0) {\n            this._editorRange();\n\n            var range = this.getRange();\n            var endOff = range.endOffset - 1;\n            var text = this.getSelectionNode().textContent;\n            var slicePosition = range.endOffset - (count - maxCharCount);\n            this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\n            this.setRange(range.endContainer, endOff, range.endContainer, endOff);\n          }\n        } else if (count + nextCharCount > maxCharCount) {\n          over = true;\n        }\n\n        if (over) {\n          this._callCounterBlink();\n\n          if (nextCharCount > 0) return false;\n        }\n      }\n\n      return true;\n    },\n\n    /**\r\n     * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n     * @param {Node|String} element Element node or String.\r\n     * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n     * @returns {Boolean}\r\n     */\n    checkCharCount: function checkCharCount(element, charCounterType) {\n      if (options.maxCharCount) {\n        var countType = charCounterType || options.charCounterType;\n        var length = this.getCharLength(typeof element === \"string\" ? element : this._charTypeHTML && element.nodeType === 1 ? element.outerHTML : element.textContent, countType);\n\n        if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\n          this._callCounterBlink();\n\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    /**\r\n     * @description Get the length of the content.\r\n     * Depending on the option, the length of the character is taken. (charCounterType)\r\n     * @param {String} content Content to count\r\n     * @param {String} charCounterType options.charCounterType\r\n     * @returns {Number}\r\n     */\n    getCharLength: function getCharLength(content, charCounterType) {\n      return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\n    },\n\n    /**\r\n     * @description Set the char count to charCounter element textContent.\r\n     * @private\r\n     */\n    _setCharCount: function _setCharCount() {\n      if (context.element.charCounter) {\n        _w.setTimeout(function () {\n          context.element.charCounter.textContent = functions.getCharCount(options.charCounterType);\n        });\n      }\n    },\n\n    /**\r\n     * @description The character counter blinks.\r\n     * @private\r\n     */\n    _callCounterBlink: function _callCounterBlink() {\n      var charWrapper = context.element.charWrapper;\n\n      if (charWrapper && !util.hasClass(charWrapper, \"ke-blink\")) {\n        util.addClass(charWrapper, \"ke-blink\");\n\n        _w.setTimeout(function () {\n          util.removeClass(charWrapper, \"ke-blink\");\n        }, 600);\n      }\n    },\n\n    /**\r\n     * @description Check the components such as image and video and modify them according to the format.\r\n     * @private\r\n     */\n    _checkComponents: function _checkComponents() {\n      for (var i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\n        this._fileInfoPluginsCheck[i]();\n      }\n    },\n\n    /**\r\n     * @description Initialize the information of the components.\r\n     * @private\r\n     */\n    _resetComponents: function _resetComponents() {\n      for (var i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\n        this._fileInfoPluginsReset[i]();\n      }\n    },\n\n    /**\r\n     * @description Set method in the code view area\r\n     * @param {String} value HTML string\r\n     * @private\r\n     */\n    _setCodeView: function _setCodeView(value) {\n      if (options.codeMirrorEditor) {\n        options.codeMirrorEditor.getDoc().setValue(value);\n      } else {\n        context.element.code.value = value;\n      }\n    },\n\n    /**\r\n     * @description Get method in the code view area\r\n     * @private\r\n     */\n    _getCodeView: function _getCodeView() {\n      return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\n    },\n\n    /**\r\n     * @description Initializ core variable\r\n     * @param {Boolean} reload Is relooad?\r\n     * @param {String} _initHTML initial html string\r\n     * @private\r\n     */\n    _init: function _init(reload, _initHTML) {\n      var wRegExp = _w.RegExp;\n      this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\n      this._wd = _d;\n      this._charTypeHTML = options.charCounterType === \"byte-html\";\n\n      if (!options.iframe && typeof _w.ShadowRoot === \"function\") {\n        var child = context.element.wysiwygFrame;\n\n        while (child) {\n          if (child.shadowRoot) {\n            this._shadowRoot = child.shadowRoot;\n            break;\n          } else if (child instanceof _w.ShadowRoot) {\n            this._shadowRoot = child;\n            break;\n          }\n\n          child = child.parentNode;\n        }\n\n        if (this._shadowRoot) this._shadowRootControllerEventTarget = [];\n      } // set disallow text nodes\n\n\n      var disallowTextTags = _w.Object.keys(options._textTagsMap);\n\n      var allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split(\"|\").filter(function (v) {\n        return /b|i|ins|s|strike/i.test(v);\n      });\n\n      for (var i = 0; i < allowTextTags.length; i++) {\n        disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\n      }\n\n      this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp(\"(<\\\\/?)(\" + disallowTextTags.join(\"|\") + \")\\\\b\\\\s*([^>^<]+)?\\\\s*(?=>)\", \"gi\"); // set whitelist\n\n      var defaultAttr = \"contenteditable|id|colspan|rowspan|target|href|download|rel|src|alt|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size\";\n      this._allowHTMLComments = options._editorTagsWhitelist.indexOf(\"//\") > -1;\n      this._htmlCheckWhitelistRegExp = new wRegExp(\"^(\" + options._editorTagsWhitelist.replace(\"|//\", \"\") + \")$\", \"i\");\n      this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace(\"|//\", \"|<!--|-->\"));\n      this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\n      var regEndStr = '\\\\s*=\\\\s*(\")[^\"]*\\\\1';\n      var _attr = options.attributesWhitelist;\n      var tagsAttr = {};\n      var allAttr = \"\";\n\n      if (!!_attr) {\n        for (var k in _attr) {\n          if (!util.hasOwn(_attr, k) || /^on[a-z]+$/i.test(_attr[k])) continue;\n\n          if (k === \"all\") {\n            allAttr = _attr[k] + \"|\";\n          } else {\n            tagsAttr[k] = new wRegExp(\"(?:\" + _attr[k] + \"|\" + defaultAttr + \")\" + regEndStr, \"ig\");\n          }\n        }\n      }\n\n      this._attributesWhitelistRegExp = new wRegExp(\"(?:\" + allAttr + defaultAttr + \")\" + regEndStr, \"ig\");\n      this._attributesTagsWhitelist = tagsAttr; // set modes\n\n      this._isInline = /inline/i.test(options.mode);\n      this._isBalloon = /balloon|balloon-always/i.test(options.mode);\n      this._isBalloonAlways = /balloon-always/i.test(options.mode); // caching buttons\n\n      this._cachingButtons(); // file components\n\n\n      this._fileInfoPluginsCheck = [];\n      this._fileInfoPluginsReset = []; // text components\n\n      this.managedTagsInfo = {\n        query: \"\",\n        map: {}\n      };\n      var managedClass = []; // Command and file plugins registration\n\n      this.activePlugins = [];\n      this._fileManager.tags = [];\n      this._fileManager.pluginMap = {};\n      var filePluginRegExp = [];\n      var plugin, button;\n\n      for (var key in plugins) {\n        if (!util.hasOwn(plugins, key)) continue;\n        plugin = plugins[key];\n        button = pluginCallButtons[key];\n\n        if (plugin.active && button) {\n          this.callPlugin(key, null, button);\n        }\n\n        if (typeof plugin.checkFileInfo === \"function\" && typeof plugin.resetFileInfo === \"function\") {\n          this.callPlugin(key, null, button);\n\n          this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\n\n          this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\n        }\n\n        if (_w.Array.isArray(plugin.fileTags)) {\n          var fileTags = plugin.fileTags;\n          this.callPlugin(key, null, button);\n          this._fileManager.tags = this._fileManager.tags.concat(fileTags);\n          filePluginRegExp.push(key);\n\n          for (var tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\n            this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\n          }\n        }\n\n        if (plugin.managedTags) {\n          var info = plugin.managedTags();\n          managedClass.push(\".\" + info.className);\n          this.managedTagsInfo.map[info.className] = info.method.bind(this);\n        }\n      }\n\n      this.managedTagsInfo.query = managedClass.toString();\n      this._fileManager.queryString = this._fileManager.tags.join(\",\");\n      this._fileManager.regExp = new wRegExp(\"^(\" + this._fileManager.tags.join(\"|\") + \")$\", \"i\");\n      this._fileManager.pluginRegExp = new wRegExp(\"^(\" + (filePluginRegExp.length === 0 ? \"undefined\" : filePluginRegExp.join(\"|\")) + \")$\", \"i\"); // cache editor's element\n\n      this._variable._originCssText = context.element.topArea.style.cssText;\n      this.placeholder = context.element.placeholder;\n      this.lineBreaker = context.element.lineBreaker;\n      this.lineBreakerButton = this.lineBreaker.querySelector(\"button\"); // Excute history function\n\n      this.history = (0, _history.default)(this, this._onChange_historyStack.bind(this)); // register notice module\n\n      this.addModule([_notice.default]); // Init, validate\n\n      if (options.iframe) {\n        this._wd = context.element.wysiwygFrame.contentDocument;\n        context.element.wysiwyg = this._wd.body;\n        if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\n        if (options.height === \"auto\") this._iframeAuto = this._wd.body;\n      }\n\n      this._initWysiwygArea(reload, _initHTML);\n    },\n\n    /**\r\n     * @description Caching basic buttons to use\r\n     * @private\r\n     */\n    _cachingButtons: function _cachingButtons() {\n      _w.setTimeout(function () {\n        this.codeViewDisabledButtons = context.element.buttonTray.querySelectorAll('.ke-menu-list button[data-display]:not([class~=\"ke-code-view-enabled\"])');\n        this.resizingDisabledButtons = context.element.buttonTray.querySelectorAll('.ke-menu-list button[data-display]:not([class~=\"ke-resizing-enabled\"]):not([data-display=\"MORE\"])');\n      }.bind(this));\n\n      var tool = context.tool;\n      this.commandMap = {\n        SUB: tool.subscript,\n        SUP: tool.superscript,\n        OUTDENT: tool.outdent,\n        INDENT: tool.indent\n      };\n      this.commandMap[options.textTags.bold.toUpperCase()] = tool.bold;\n      this.commandMap[options.textTags.underline.toUpperCase()] = tool.underline;\n      this.commandMap[options.textTags.italic.toUpperCase()] = tool.italic;\n      this.commandMap[options.textTags.strike.toUpperCase()] = tool.strike;\n      this._styleCommandMap = {\n        fullScreen: tool.fullScreen,\n        showBlocks: tool.showBlocks,\n        codeView: tool.codeView\n      };\n    },\n\n    /**\r\n     * @description Initializ wysiwyg area (Only called from core._init)\r\n     * @param {Boolean} reload Is relooad?\r\n     * @param {String} _initHTML initial html string\r\n     * @private\r\n     */\n    _initWysiwygArea: function _initWysiwygArea(reload, _initHTML) {\n      context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === \"string\" ? _initHTML : context.element.originElement.value);\n    },\n\n    /**\r\n     * @description Called when there are changes to tags in the wysiwyg region.\r\n     * @private\r\n     */\n    _resourcesStateChange: function _resourcesStateChange() {\n      this._iframeAutoHeight();\n\n      this._checkPlaceholder();\n    },\n\n    /**\r\n     * @description Called when after execute \"history.push\"\r\n     * @private\r\n     */\n    _onChange_historyStack: function _onChange_historyStack() {\n      if (this.hasFocus) event._applyTagEffects();\n      this._variable.isChanged = true;\n      if (context.tool.save) context.tool.save.removeAttribute(\"disabled\"); // user event\n\n      if (functions.onChange) functions.onChange(this.getContents(true), this);\n      if (context.element.toolbar.style.display === \"block\") event._showToolbarBalloon();\n    },\n\n    /**\r\n     * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n     * @private\r\n     */\n    _iframeAutoHeight: function _iframeAutoHeight() {\n      if (this._iframeAuto) {\n        _w.setTimeout(function () {\n          context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + \"px\";\n        });\n      }\n    },\n\n    /**\r\n     * @description Set display property when there is placeholder.\r\n     * @private\r\n     */\n    _checkPlaceholder: function _checkPlaceholder() {\n      if (this.placeholder) {\n        if (this._variable.isCodeView) {\n          this.placeholder.style.display = \"none\";\n          return;\n        }\n\n        var wysiwyg = context.element.wysiwyg;\n\n        if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector(util._allowedEmptyNodeList) || (wysiwyg.innerText.match(/\\n/g) || \"\").length > 1) {\n          this.placeholder.style.display = \"none\";\n        } else {\n          this.placeholder.style.display = \"block\";\n        }\n      }\n    },\n\n    /**\r\n     * @description If there is no default format, add a format and move \"selection\".\r\n     * @param {String|null} formatName Format tag name (default: 'P')\r\n     * @private\r\n     */\n    _setDefaultFormat: function _setDefaultFormat(formatName) {\n      if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\n      var range = this.getRange();\n      var commonCon = range.commonAncestorContainer;\n      var startCon = range.startContainer;\n      var rangeEl = util.getRangeFormatElement(commonCon, null);\n      var focusNode, offset, format;\n      var fileComponent = util.getParentElement(commonCon, util.isComponent);\n      if (fileComponent && !util.isTable(fileComponent)) return;\n      if ((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && (util.isComponent(startCon.children[range.startOffset]) || util.isComponent(startCon.children[range.startOffset - 1]))) return;\n\n      if (rangeEl) {\n        format = util.createElement(formatName || options.defaultTag);\n        format.innerHTML = rangeEl.innerHTML;\n        if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\n        rangeEl.innerHTML = format.outerHTML;\n        format = rangeEl.firstChild;\n        focusNode = util.getEdgeChildNodes(format, null).sc;\n\n        if (!focusNode) {\n          focusNode = util.createTextNode(util.zeroWidthSpace);\n          format.insertBefore(focusNode, format.firstChild);\n        }\n\n        offset = focusNode.textContent.length;\n        this.setRange(focusNode, offset, focusNode, offset);\n        return;\n      }\n\n      if (util.isRangeFormatElement(commonCon) && commonCon.childNodes.length <= 1) {\n        var br = null;\n\n        if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\n          br = commonCon.firstChild;\n        } else {\n          br = util.createTextNode(util.zeroWidthSpace);\n          commonCon.appendChild(br);\n        }\n\n        this.setRange(br, 1, br, 1);\n        return;\n      }\n\n      this.execCommand(\"formatBlock\", false, formatName || options.defaultTag);\n      focusNode = util.getEdgeChildNodes(commonCon, commonCon);\n      focusNode = focusNode ? focusNode.ec : commonCon;\n      format = util.getFormatElement(focusNode, null);\n\n      if (!format) {\n        this.removeRange();\n\n        this._editorRange();\n\n        return;\n      }\n\n      if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\n      if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\n\n      if (util.isBreak(focusNode)) {\n        var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n        focusNode.parentNode.insertBefore(zeroWidth, focusNode);\n        focusNode = zeroWidth;\n      }\n\n      this.effectNode = null;\n      this.nativeFocus();\n    },\n\n    /**\r\n     * @description Initialization after \"setOptions\"\r\n     * @param {Object} el context.element\r\n     * @param {String} _initHTML Initial html string\r\n     * @private\r\n     */\n    _setOptionsInit: function _setOptionsInit(el, _initHTML) {\n      this.context = context = (0, _context.default)(el.originElement, this._getConstructed(el), options);\n      this._componentsInfoReset = true;\n\n      this._editorInit(true, _initHTML);\n    },\n\n    /**\r\n     * @description Initializ editor\r\n     * @param {Boolean} reload Is relooad?\r\n     * @param {String} _initHTML initial html string\r\n     * @private\r\n     */\n    _editorInit: function _editorInit(reload, _initHTML) {\n      // initialize core and add event listeners\n      this._init(reload, _initHTML);\n\n      event._addEvent();\n\n      this._setCharCount();\n\n      event._offStickyToolbar();\n\n      event.onResize_window(); // toolbar visibility\n\n      context.element.toolbar.style.visibility = \"\";\n\n      this._checkComponents();\n\n      this._componentsInfoInit = false;\n      this._componentsInfoReset = false;\n      this.history.reset(true);\n\n      this._resourcesStateChange();\n\n      _w.setTimeout(function () {\n        // user event\n        if (typeof functions.onload === \"function\") functions.onload(core, reload);\n      });\n    },\n\n    /**\r\n     * @description Create and return an object to cache the new context.\r\n     * @param {Element} contextEl context.element\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _getConstructed: function _getConstructed(contextEl) {\n      return {\n        top: contextEl.topArea,\n        relative: contextEl.relative,\n        toolBar: contextEl.toolbar,\n        menuTray: contextEl.menuTray,\n        editorArea: contextEl.editorArea,\n        wysiwygArea: contextEl.wysiwygFrame,\n        codeArea: contextEl.code,\n        placeholder: contextEl.placeholder,\n        resizingBar: contextEl.resizingBar,\n        navigation: contextEl.navigation,\n        charCounter: contextEl.charCounter,\n        charWrapper: contextEl.charWrapper,\n        loading: contextEl.loading,\n        lineBreaker: contextEl.lineBreaker,\n        lineBreaker_t: contextEl.lineBreaker_t,\n        lineBreaker_b: contextEl.lineBreaker_b,\n        resizeBack: contextEl.resizeBackground,\n        stickyDummy: contextEl.stickyDummy,\n        arrow: contextEl.arrow\n      };\n    }\n  };\n  /**\r\n   * @description event function\r\n   */\n\n  var event = {\n    _IEisComposing: false,\n    // In IE, there is no \"e.isComposing\" in the key-up event.\n    lineBreakerBind: null,\n    _responsiveCurrentSize: \"default\",\n    _responsiveButtonSize: null,\n    _responsiveButtons: null,\n    _directionKeyCode: new _w.RegExp(\"^(8|13|3[2-9]|40|46)$\"),\n    _nonTextKeyCode: new _w.RegExp(\"^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$\"),\n    $historyIgnoreKeyCode: new _w.RegExp(\"^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$\"),\n    _onButtonsCheck: new _w.RegExp(\"^(\" + _w.Object.keys(options._textTagsMap).join(\"|\") + \")$\", \"i\"),\n    _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + \"+\", \"\"),\n    _keyCodeShortcut: {\n      65: \"A\",\n      66: \"B\",\n      83: \"S\",\n      85: \"U\",\n      73: \"I\",\n      89: \"Y\",\n      90: \"Z\",\n      219: \"[\",\n      221: \"]\"\n    },\n    _shortcutCommand: function _shortcutCommand(keyCode, shift) {\n      var command = null;\n      var keyStr = event._keyCodeShortcut[keyCode];\n\n      switch (keyStr) {\n        case \"A\":\n          command = \"selectAll\";\n          break;\n\n        case \"B\":\n          if (options.shortcutsDisable.indexOf(\"bold\") === -1) {\n            command = \"bold\";\n          }\n\n          break;\n\n        case \"S\":\n          if (shift && options.shortcutsDisable.indexOf(\"strike\") === -1) {\n            command = \"strike\";\n          } else if (!shift && options.shortcutsDisable.indexOf(\"save\") === -1) {\n            command = \"save\";\n          }\n\n          break;\n\n        case \"U\":\n          if (options.shortcutsDisable.indexOf(\"underline\") === -1) {\n            command = \"underline\";\n          }\n\n          break;\n\n        case \"I\":\n          if (options.shortcutsDisable.indexOf(\"italic\") === -1) {\n            command = \"italic\";\n          }\n\n          break;\n\n        case \"Z\":\n          if (options.shortcutsDisable.indexOf(\"undo\") === -1) {\n            if (shift) {\n              command = \"redo\";\n            } else {\n              command = \"undo\";\n            }\n          }\n\n          break;\n\n        case \"Y\":\n          if (options.shortcutsDisable.indexOf(\"undo\") === -1) {\n            command = \"redo\";\n          }\n\n          break;\n\n        case \"[\":\n          if (options.shortcutsDisable.indexOf(\"indent\") === -1) {\n            command = options.rtl ? \"indent\" : \"outdent\";\n          }\n\n          break;\n\n        case \"]\":\n          if (options.shortcutsDisable.indexOf(\"indent\") === -1) {\n            command = options.rtl ? \"outdent\" : \"indent\";\n          }\n\n          break;\n      }\n\n      if (!command) return false;\n      core.commandHandler(core.commandMap[command], command);\n      return true;\n    },\n    _applyTagEffects: function _applyTagEffects() {\n      var selectionNode = core.getSelectionNode();\n      if (selectionNode === core.effectNode) return;\n      core.effectNode = selectionNode;\n      var marginDir = options.rtl ? \"marginRight\" : \"marginLeft\";\n      var commandMap = core.commandMap;\n      var classOnCheck = this._onButtonsCheck;\n      var commandMapNodes = [];\n      var currentNodes = [];\n      var activePlugins = core.activePlugins;\n      var cLen = activePlugins.length;\n      var nodeName = \"\";\n\n      while (selectionNode.firstChild) {\n        selectionNode = selectionNode.firstChild;\n      }\n\n      for (var element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\n        if (!element) break;\n        if (element.nodeType !== 1 || util.isBreak(element)) continue;\n        nodeName = element.nodeName.toUpperCase();\n        currentNodes.push(nodeName);\n        /* Active plugins */\n\n        for (var c = 0, name; c < cLen; c++) {\n          name = activePlugins[c];\n\n          if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\n            commandMapNodes.push(name);\n          }\n        }\n\n        if (util.isFormatElement(element)) {\n          /* Outdent */\n          if (commandMapNodes.indexOf(\"OUTDENT\") === -1 && commandMap.OUTDENT) {\n            if (util.isListCell(element) || element.style[marginDir] && util.getNumber(element.style[marginDir], 0) > 0) {\n              commandMapNodes.push(\"OUTDENT\");\n              commandMap.OUTDENT.removeAttribute(\"disabled\");\n            }\n          }\n          /* Indent */\n\n\n          if (commandMapNodes.indexOf(\"INDENT\") === -1 && commandMap.INDENT) {\n            commandMapNodes.push(\"INDENT\");\n\n            if (util.isListCell(element) && !element.previousElementSibling) {\n              commandMap.INDENT.setAttribute(\"disabled\", true);\n            } else {\n              commandMap.INDENT.removeAttribute(\"disabled\");\n            }\n          }\n\n          continue;\n        }\n        /** default active buttons [strong, ins, em, del, sub, sup] */\n\n\n        if (classOnCheck.test(nodeName)) {\n          commandMapNodes.push(nodeName);\n          util.addClass(commandMap[nodeName], \"active\");\n        }\n      }\n      /** remove class, display text */\n\n\n      for (var key in commandMap) {\n        if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\n\n        if (activePlugins.indexOf(key) > -1) {\n          plugins[key].active.call(core, null);\n        } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n          commandMap.OUTDENT.setAttribute(\"disabled\", true);\n        } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n          commandMap.INDENT.removeAttribute(\"disabled\");\n        } else {\n          util.removeClass(commandMap[key], \"active\");\n        }\n      }\n      /** save current nodes */\n\n\n      core._variable.currentNodes = currentNodes.reverse();\n      core._variable.currentNodesMap = commandMapNodes;\n      /**  Displays the current node structure to resizingBar */\n\n      if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(\" > \");\n    },\n    _cancelCaptionEdit: function _cancelCaptionEdit() {\n      this.setAttribute(\"contenteditable\", false);\n      this.removeEventListener(\"blur\", event._cancelCaptionEdit);\n    },\n    _buttonsEventHandler: function _buttonsEventHandler(e) {\n      var target = e.target;\n      if (core._bindControllersOff) e.stopPropagation();\n\n      if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\n        core._antiBlur = false;\n      } else {\n        e.preventDefault();\n      }\n\n      if (util.getParentElement(target, \".ke-submenu\")) {\n        e.stopPropagation();\n        core._notHideToolbar = true;\n      } else {\n        var command = target.getAttribute(\"data-command\");\n        var className = target.className;\n\n        while (!command && !/ke-menu-list/.test(className) && !/kothing-editor-common/.test(className)) {\n          target = target.parentNode;\n          command = target.getAttribute(\"data-command\");\n          className = target.className;\n        }\n\n        if (command === core._submenuName || command === core._containerName) {\n          e.stopPropagation();\n        }\n      }\n    },\n    onClick_toolbar: function onClick_toolbar(e) {\n      var target = e.target;\n      var display = target.getAttribute(\"data-display\");\n      var command = target.getAttribute(\"data-command\");\n      var className = target.className;\n      core.controllersOff();\n\n      while (target.parentNode && !command && !/ke-menu-list/.test(className) && !/ke-toolbar/.test(className)) {\n        target = target.parentNode;\n        command = target.getAttribute(\"data-command\");\n        display = target.getAttribute(\"data-display\");\n        className = target.className;\n      }\n\n      if (!command && !display) return;\n      if (target.disabled) return;\n      if (!core.hasFocus) core.nativeFocus();\n      if (!core._variable.isCodeView) core._editorRange();\n      core.actionCall(command, display, target);\n    },\n    onMouseDown_wysiwyg: function onMouseDown_wysiwyg(e) {\n      if (util.isNonEditable(context.element.wysiwyg)) return; // user event\n\n      if (typeof functions.onMouseDown === \"function\" && functions.onMouseDown(e, core) === false) return;\n      var tableCell = util.getParentElement(e.target, util.isCell);\n\n      if (tableCell) {\n        var tablePlugin = core.plugins.table;\n\n        if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\n          core.callPlugin(\"table\", function () {\n            tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\n          }, null);\n        }\n      }\n\n      if (core._isBalloon) {\n        event._hideToolbar();\n      }\n\n      if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\n    },\n    onClick_wysiwyg: function onClick_wysiwyg(e) {\n      var targetElement = e.target;\n      if (util.isNonEditable(context.element.wysiwyg)) return; // user event\n\n      if (typeof functions.onClick === \"function\" && functions.onClick(e, core) === false) return;\n      var fileComponentInfo = core.getFileComponent(targetElement);\n\n      if (fileComponentInfo) {\n        e.preventDefault();\n        core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n        return;\n      }\n\n      var figcaption = util.getParentElement(targetElement, \"FIGCAPTION\");\n\n      if (util.isNonEditable(figcaption)) {\n        e.preventDefault();\n        figcaption.setAttribute(\"contenteditable\", true);\n        figcaption.focus();\n\n        if (core._isInline && !core._inlineToolbarAttr.isShow) {\n          event._showToolbarInline();\n\n          var hideToolbar = function hideToolbar() {\n            event._hideToolbar();\n\n            figcaption.removeEventListener(\"blur\", hideToolbar);\n          };\n\n          figcaption.addEventListener(\"blur\", hideToolbar);\n        }\n      }\n\n      _w.setTimeout(core._editorRange.bind(core));\n\n      core._editorRange();\n\n      var selectionNode = core.getSelectionNode();\n      var formatEl = util.getFormatElement(selectionNode, null);\n      var rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n      if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\n        var range = core.getRange();\n\n        if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\n          if (util.isList(rangeEl)) {\n            e.preventDefault();\n            var oLi = util.createElement(\"LI\");\n            var prevLi = selectionNode.nextElementSibling;\n            oLi.appendChild(selectionNode);\n            rangeEl.insertBefore(oLi, prevLi);\n            core.focus();\n          } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\n            e.preventDefault();\n\n            core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? \"DIV\" : options.defaultTag);\n\n            core.focus();\n          } else {\n            event._applyTagEffects();\n          }\n        }\n      } else {\n        event._applyTagEffects();\n      }\n\n      if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\n    },\n    _balloonDelay: null,\n    _showToolbarBalloonDelay: function _showToolbarBalloonDelay() {\n      if (event._balloonDelay) {\n        _w.clearTimeout(event._balloonDelay);\n      }\n\n      event._balloonDelay = _w.setTimeout(function () {\n        _w.clearTimeout(this._balloonDelay);\n\n        this._balloonDelay = null;\n\n        this._showToolbarBalloon();\n      }.bind(event), 350);\n    },\n    _toggleToolbarBalloon: function _toggleToolbarBalloon() {\n      core._editorRange();\n\n      var range = core.getRange();\n      if (core._bindControllersOff || !core._isBalloonAlways && range.collapsed) event._hideToolbar();else event._showToolbarBalloon(range);\n    },\n    _showToolbarBalloon: function _showToolbarBalloon(rangeObj) {\n      if (!core._isBalloon) return;\n      var range = rangeObj || core.getRange();\n      var toolbar = context.element.toolbar;\n      var topArea = context.element.topArea;\n      var selection = core.getSelection();\n      var isDirTop;\n\n      if (core._isBalloonAlways && range.collapsed) {\n        isDirTop = true;\n      } else if (selection.focusNode === selection.anchorNode) {\n        isDirTop = selection.focusOffset < selection.anchorOffset;\n      } else {\n        var childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\n        isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\n      }\n\n      var rects = range.getClientRects();\n      rects = rects[isDirTop ? 0 : rects.length - 1];\n      var globalScroll = core.getGlobalScrollOffset();\n      var scrollLeft = globalScroll.left;\n      var scrollTop = globalScroll.top;\n      var editorWidth = topArea.offsetWidth;\n\n      var offsets = event._getEditorOffsets(null);\n\n      var stickyTop = offsets.top;\n      var editorLeft = offsets.left;\n      toolbar.style.top = \"-10000px\";\n      toolbar.style.visibility = \"hidden\";\n      toolbar.style.display = \"block\";\n\n      if (!rects) {\n        var node = core.getSelectionNode();\n\n        if (util.isFormatElement(node)) {\n          var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          core.insertNode(zeroWidth, null, false);\n          core.setRange(zeroWidth, 1, zeroWidth, 1);\n\n          core._editorRange();\n\n          rects = core.getRange().getClientRects();\n          rects = rects[isDirTop ? 0 : rects.length - 1];\n        }\n\n        if (!rects) {\n          var nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\n          rects = {\n            left: nodeOffset.left,\n            top: nodeOffset.top,\n            right: nodeOffset.left,\n            bottom: nodeOffset.top + node.offsetHeight,\n            noText: true\n          };\n          scrollLeft = 0;\n          scrollTop = 0;\n        }\n\n        isDirTop = true;\n      }\n\n      var arrowMargin = _w.Math.round(context.element.arrow.offsetWidth / 2);\n\n      var toolbarWidth = toolbar.offsetWidth;\n      var toolbarHeight = toolbar.offsetHeight;\n      var iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\n\n      if (iframeRects) {\n        rects = {\n          left: rects.left + iframeRects.left,\n          top: rects.top + iframeRects.top,\n          right: rects.right + iframeRects.right - iframeRects.width,\n          bottom: rects.bottom + iframeRects.bottom - iframeRects.height\n        };\n      }\n\n      event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n\n      if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\n        event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n      }\n\n      if (options.toolbarContainer) {\n        var editorParent = topArea.parentElement;\n        var container = options.toolbarContainer;\n        var left = container.offsetLeft;\n        var top = container.offsetTop;\n\n        while (!container.parentElement.contains(editorParent) || !/^(BODY|HTML)$/i.test(container.parentElement.nodeName)) {\n          container = container.offsetParent;\n          left += container.offsetLeft;\n          top += container.offsetTop;\n        }\n\n        toolbar.style.left = toolbar.offsetLeft - left + topArea.offsetLeft + \"px\";\n        toolbar.style.top = toolbar.offsetTop - top + topArea.offsetTop + \"px\";\n      }\n\n      toolbar.style.visibility = \"\";\n    },\n    _setToolbarOffset: function _setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\n      var padding = 1;\n      var toolbarWidth = toolbar.offsetWidth;\n      var toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\n      var absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - toolbarWidth / 2 + scrollLeft;\n      var overRight = absoluteLeft + toolbarWidth - editorWidth;\n      var t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n      var l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\n      var resetTop = false;\n      var space = t + (isDirTop ? event._getEditorOffsets(null).top : toolbar.offsetHeight - context.element.wysiwyg.offsetHeight);\n\n      if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\n        isDirTop = true;\n        resetTop = true;\n      } else if (isDirTop && _d.documentElement.offsetTop > space) {\n        isDirTop = false;\n        resetTop = true;\n      }\n\n      if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n      toolbar.style.left = _w.Math.floor(l) + \"px\";\n      toolbar.style.top = _w.Math.floor(t) + \"px\";\n\n      if (isDirTop) {\n        util.removeClass(context.element.arrow, \"ke-arrow-up\");\n        util.addClass(context.element.arrow, \"ke-arrow-down\");\n        context.element.arrow.style.top = toolbarHeight + \"px\";\n      } else {\n        util.removeClass(context.element.arrow, \"ke-arrow-down\");\n        util.addClass(context.element.arrow, \"ke-arrow-up\");\n        context.element.arrow.style.top = -arrowMargin + \"px\";\n      }\n\n      var arrow_left = _w.Math.floor(toolbarWidth / 2 + (absoluteLeft - l));\n\n      context.element.arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + \"px\";\n    },\n    _showToolbarInline: function _showToolbarInline() {\n      if (!core._isInline) return;\n      var toolbar = context.element.toolbar;\n      if (options.toolbarContainer) toolbar.style.position = \"relative\";else toolbar.style.position = \"absolute\";\n      toolbar.style.visibility = \"hidden\";\n      toolbar.style.display = \"block\";\n      core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\n      core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : -1 - toolbar.offsetHeight) + \"px\";\n      if (typeof functions.showInline === \"function\") functions.showInline(toolbar, context, core);\n      event.onScroll_window();\n      core._inlineToolbarAttr.isShow = true;\n      toolbar.style.visibility = \"\";\n    },\n    _hideToolbar: function _hideToolbar() {\n      if (!core._notHideToolbar && !core._variable.isFullScreen) {\n        context.element.toolbar.style.display = \"none\";\n        core._inlineToolbarAttr.isShow = false;\n      }\n    },\n    onInput_wysiwyg: function onInput_wysiwyg(e) {\n      core._editorRange(); // user event\n\n\n      if (typeof functions.onInput === \"function\" && functions.onInput(e, core) === false) return;\n      var data = (e.data === null ? \"\" : e.data === undefined ? \" \" : e.data) || \"\";\n\n      if (!core._charCount(data)) {\n        e.preventDefault();\n        e.stopPropagation();\n      } // history stack\n\n\n      core.history.push(true);\n    },\n    _isUneditableNode: function _isUneditableNode(range, isFront) {\n      var container = isFront ? range.startContainer : range.endContainer;\n      var offset = isFront ? range.startOffset : range.endOffset;\n      var siblingKey = isFront ? \"previousSibling\" : \"nextSibling\";\n      var isElement = container.nodeType === 1;\n      var siblingNode;\n\n      if (isElement) {\n        siblingNode = event._isUneditableNode_getSibling(container.childNodes[offset], siblingKey, container);\n        return siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute(\"contenteditable\") === \"false\";\n      } else {\n        siblingNode = event._isUneditableNode_getSibling(container, siblingKey, container);\n        return core.isEdgePoint(container, offset, isFront ? \"front\" : \"end\") && siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute(\"contenteditable\") === \"false\";\n      }\n    },\n    _isUneditableNode_getSibling: function _isUneditableNode_getSibling(selectNode, siblingKey, container) {\n      if (!selectNode) return null;\n      var siblingNode = selectNode[siblingKey];\n\n      if (!siblingNode) {\n        siblingNode = util.getFormatElement(container);\n        siblingNode = siblingNode ? siblingNode[siblingKey] : null;\n        if (siblingNode && !util.isComponent(siblingNode)) siblingNode = siblingKey === \"previousSibling\" ? siblingNode.firstElementChild : siblingNode.lastElementChild;else return null;\n      }\n\n      return siblingNode;\n    },\n    _onShortcutKey: false,\n    onKeyDown_wysiwyg: function onKeyDown_wysiwyg(e) {\n      var keyCode = e.keyCode;\n      var shift = e.shiftKey;\n      var ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n      var alt = e.altKey;\n      event._IEisComposing = keyCode === 229;\n      core.submenuOff();\n\n      if (core._isBalloon) {\n        event._hideToolbar();\n      } // user event\n\n\n      if (typeof functions.onKeyDown === \"function\" && functions.onKeyDown(e, core) === false) return;\n      /** Shortcuts */\n\n      if (ctrl && event._shortcutCommand(keyCode, shift)) {\n        event._onShortcutKey = true;\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      } else if (event._onShortcutKey) {\n        event._onShortcutKey = false;\n      }\n      /** default key action */\n\n\n      var selectionNode = core.getSelectionNode();\n      var range = core.getRange();\n      var selectRange = !range.collapsed || range.startContainer !== range.endContainer;\n      var fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : \"\";\n      var formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\n      var rangeEl = util.getRangeFormatElement(formatEl, null);\n\n      switch (keyCode) {\n        case 8\n        /** backspace key */\n        :\n          if (!selectRange) {\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.plugins[fileComponentName].destroy.call(core);\n              break;\n            }\n          }\n\n          if (selectRange && event._hardDelete()) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          }\n\n          if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            core._setDefaultFormat(options.defaultTag);\n\n            return false;\n          }\n\n          if (!selectRange && !formatEl.previousElementSibling && range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))) {\n            // closure range\n            if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\n              e.preventDefault();\n              e.stopPropagation();\n              return false;\n            } // maintain default format\n\n\n            if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              if (formatEl.nodeName.toUpperCase() === options.defaultTag.toUpperCase()) {\n                formatEl.innerHTML = \"<br>\";\n                var attrs = formatEl.attributes;\n\n                while (attrs[0]) {\n                  formatEl.removeAttribute(attrs[0].name);\n                }\n              } else {\n                var defaultFormat = util.createElement(options.defaultTag);\n                defaultFormat.innerHTML = \"<br>\";\n                formatEl.parentElement.replaceChild(defaultFormat, formatEl);\n              }\n\n              core.nativeFocus();\n              return false;\n            }\n          } // clean remove tag\n\n\n          if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\n            if (range.collapsed ? selectionNode.textContent.length === 1 : range.endOffset - range.startOffset === selectionNode.textContent.length) {\n              e.preventDefault();\n              var offset = null;\n              var prev = selectionNode.parentNode.previousSibling;\n              var next = selectionNode.parentNode.nextSibling;\n\n              if (!prev) {\n                if (!next) {\n                  prev = util.createElement(\"BR\");\n                  formatEl.appendChild(prev);\n                } else {\n                  prev = next;\n                  offset = 0;\n                }\n              }\n\n              selectionNode.textContent = \"\";\n              util.removeItemAllParents(selectionNode, null, formatEl);\n              offset = typeof offset === \"number\" ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\n              core.setRange(prev, offset, prev, offset);\n              break;\n            }\n          } // tag[contenteditable=\"false\"]\n\n\n          if (event._isUneditableNode(range, true)) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          } // nested list\n\n\n          var commonCon = range.commonAncestorContainer;\n          formatEl = util.getFormatElement(range.startContainer, null);\n          rangeEl = util.getRangeFormatElement(formatEl, null);\n\n          if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n            if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling))) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : range.startOffset === 0 && range.collapsed)) {\n              if (range.startContainer !== range.endContainer) {\n                e.preventDefault();\n                core.removeNode();\n\n                if (range.startContainer.nodeType === 3) {\n                  core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\n                } // history stack\n\n\n                core.history.push(true);\n              } else {\n                var _prev = formatEl.previousElementSibling || rangeEl.parentNode;\n\n                if (util.isListCell(_prev)) {\n                  e.preventDefault();\n                  var prevLast = _prev;\n\n                  if (!_prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                    prevLast = prevLast.lastElementChild.lastElementChild;\n\n                    while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                      prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\n                    }\n\n                    _prev = prevLast;\n                  }\n\n                  var con = _prev === rangeEl.parentNode ? rangeEl.previousSibling : _prev.lastChild;\n\n                  if (!con) {\n                    con = util.createTextNode(util.zeroWidthSpace);\n                    rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\n                  }\n\n                  var _offset = con.nodeType === 3 ? con.textContent.length : 1;\n\n                  var children = formatEl.childNodes;\n                  var after = con;\n                  var child = children[0];\n\n                  while (child = children[0]) {\n                    _prev.insertBefore(child, after.nextSibling);\n\n                    after = child;\n                  }\n\n                  util.removeItem(formatEl);\n                  if (rangeEl.children.length === 0) util.removeItem(rangeEl);\n                  core.setRange(con, _offset, con, _offset); // history stack\n\n                  core.history.push(true);\n                }\n              }\n\n              break;\n            } // detach range\n\n\n            if (!selectRange && range.startOffset === 0) {\n              var detach = true;\n              var comm = commonCon;\n\n              while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\n                if (comm.previousSibling) {\n                  if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\n                    detach = false;\n                    break;\n                  }\n                }\n\n                comm = comm.parentNode;\n              }\n\n              if (detach && rangeEl.parentNode) {\n                e.preventDefault();\n                core.detachRangeFormatElement(rangeEl, util.isListCell(formatEl) ? [formatEl] : null, null, false, false); // history stack\n\n                core.history.push(true);\n                break;\n              }\n            }\n          } // component\n\n\n          if (!selectRange && formatEl && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n            var sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\n            var _prev2 = formatEl.previousSibling; // select file component\n\n            var ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\n\n            if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || ignoreZWS && util.isComponent(_prev2))) {\n              var fileComponentInfo = core.getFileComponent(_prev2);\n\n              if (fileComponentInfo) {\n                e.preventDefault();\n                e.stopPropagation();\n                if (formatEl.textContent.length === 0) util.removeItem(formatEl);\n                if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\n              } else if (util.isComponent(_prev2)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(_prev2);\n              }\n\n              break;\n            } // delete nonEditable\n\n\n            if (util.isNonEditable(sel.previousSibling)) {\n              e.preventDefault();\n              e.stopPropagation();\n              util.removeItem(sel.previousSibling);\n              break;\n            }\n          }\n\n          break;\n\n        case 46\n        /** delete key */\n        :\n          if (fileComponentName) {\n            e.preventDefault();\n            e.stopPropagation();\n            core.plugins[fileComponentName].destroy.call(core);\n            break;\n          }\n\n          if (selectRange && event._hardDelete()) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          } // tag[contenteditable=\"false\"]\n\n\n          if (event._isUneditableNode(range, false)) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          } // component\n\n\n          if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null) && range.startOffset === selectionNode.textContent.length) {\n            var nextEl = formatEl.nextElementSibling;\n            if (!nextEl) break;\n\n            if (util.isComponent(nextEl)) {\n              e.preventDefault();\n\n              if (util.onlyZeroWidthSpace(formatEl)) {\n                util.removeItem(formatEl); // table component\n\n                if (util.isTable(nextEl)) {\n                  var cell = util.getChildElement(nextEl, util.isCell, false);\n                  cell = cell.firstElementChild || cell;\n                  core.setRange(cell, 0, cell, 0);\n                  break;\n                }\n              } // select file component\n\n\n              var _fileComponentInfo = core.getFileComponent(nextEl);\n\n              if (_fileComponentInfo) {\n                e.stopPropagation();\n                if (core.selectComponent(_fileComponentInfo.target, _fileComponentInfo.pluginName) === false) core.blur();\n              } else if (util.isComponent(nextEl)) {\n                e.stopPropagation();\n                util.removeItem(nextEl);\n              }\n\n              break;\n            }\n          }\n\n          if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n            var _sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode; // delete nonEditable\n\n\n            if (util.isNonEditable(_sel.nextSibling)) {\n              e.preventDefault();\n              e.stopPropagation();\n              util.removeItem(_sel.nextSibling);\n              break;\n            }\n          } // nested list\n\n\n          formatEl = util.getFormatElement(range.startContainer, null);\n          rangeEl = util.getRangeFormatElement(formatEl, null);\n\n          if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : range.endOffset === selectionNode.textContent.length && range.collapsed))) {\n            if (range.startContainer !== range.endContainer) core.removeNode();\n\n            var _next = util.getArrayItem(formatEl.children, util.isList, false);\n\n            _next = _next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\n\n            if (_next && (util.isList(_next) || util.getArrayItem(_next.children, util.isList, false))) {\n              e.preventDefault();\n\n              var _con, _children;\n\n              if (util.isList(_next)) {\n                var _child2 = _next.firstElementChild;\n                _children = _child2.childNodes;\n                _con = _children[0];\n\n                while (_children[0]) {\n                  formatEl.insertBefore(_children[0], _next);\n                }\n\n                util.removeItem(_child2);\n              } else {\n                _con = _next.firstChild;\n                _children = _next.childNodes;\n\n                while (_children[0]) {\n                  formatEl.appendChild(_children[0]);\n                }\n\n                util.removeItem(_next);\n              }\n\n              core.setRange(_con, 0, _con, 0); // history stack\n\n              core.history.push(true);\n            }\n\n            break;\n          }\n\n          break;\n\n        case 9\n        /** tab key */\n        :\n          if (fileComponentName || options.tabDisable) break;\n          e.preventDefault();\n          if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\n          var isEdge = !range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset);\n          var selectedFormats = core.getSelectedElements(null);\n          selectionNode = core.getSelectionNode();\n          var cells = [];\n          var lines = [];\n          var fc = util.isListCell(selectedFormats[0]),\n              lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\n          var r = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n          };\n\n          for (var i = 0, len = selectedFormats.length, f; i < len; i++) {\n            f = selectedFormats[i];\n\n            if (util.isListCell(f)) {\n              if (!f.previousElementSibling && !shift) {\n                continue;\n              } else {\n                cells.push(f);\n              }\n            } else {\n              lines.push(f);\n            }\n          } // Nested list\n\n\n          if (cells.length > 0 && isEdge && core.plugins.list) {\n            r = core.plugins.list.editInsideList.call(core, shift, cells);\n          } else {\n            // table\n            var tableCell = util.getParentElement(selectionNode, util.isCell);\n\n            if (tableCell && isEdge) {\n              var table = util.getParentElement(tableCell, \"table\");\n\n              var _cells = util.getListChildren(table, util.isCell);\n\n              var idx = shift ? util.prevIdx(_cells, tableCell) : util.nextIdx(_cells, tableCell);\n              if (idx === _cells.length && !shift) idx = 0;\n              if (idx === -1 && shift) idx = _cells.length - 1;\n              var moveCell = _cells[idx];\n              if (!moveCell) break;\n              moveCell = moveCell.firstElementChild || moveCell;\n              core.setRange(moveCell, 0, moveCell, 0);\n              break;\n            }\n\n            lines = lines.concat(cells);\n            fc = lc = null;\n          } // Lines tab(4)\n\n\n          if (lines.length > 0) {\n            if (!shift) {\n              var tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join(\"\\xA0\"));\n\n              if (lines.length === 1) {\n                var textRange = core.insertNode(tabText, null, true);\n                if (!textRange) return false;\n\n                if (!fc) {\n                  r.sc = tabText;\n                  r.so = textRange.endOffset;\n                }\n\n                if (!lc) {\n                  r.ec = tabText;\n                  r.eo = textRange.endOffset;\n                }\n              } else {\n                var _len13 = lines.length - 1;\n\n                for (var _i25 = 0, _child3; _i25 <= _len13; _i25++) {\n                  _child3 = lines[_i25].firstChild;\n                  if (!_child3) continue;\n\n                  if (util.isBreak(_child3)) {\n                    lines[_i25].insertBefore(tabText.cloneNode(false), _child3);\n                  } else {\n                    _child3.textContent = tabText.textContent + _child3.textContent;\n                  }\n                }\n\n                var firstChild = util.getChildElement(lines[0], \"text\", false);\n                var endChild = util.getChildElement(lines[_len13], \"text\", true);\n\n                if (!fc && firstChild) {\n                  r.sc = firstChild;\n                  r.so = 0;\n                }\n\n                if (!lc && endChild) {\n                  r.ec = endChild;\n                  r.eo = endChild.textContent.length;\n                }\n              }\n            } else {\n              var _len14 = lines.length - 1;\n\n              for (var _i26 = 0, line; _i26 <= _len14; _i26++) {\n                line = lines[_i26].childNodes;\n\n                for (var c = 0, cLen = line.length, _child4; c < cLen; c++) {\n                  _child4 = line[c];\n                  if (!_child4) break;\n                  if (util.onlyZeroWidthSpace(_child4)) continue;\n\n                  if (/^\\s{1,4}$/.test(_child4.textContent)) {\n                    util.removeItem(_child4);\n                  } else if (/^\\s{1,4}/.test(_child4.textContent)) {\n                    _child4.textContent = _child4.textContent.replace(/^\\s{1,4}/, \"\");\n                  }\n\n                  break;\n                }\n              }\n\n              var _firstChild = util.getChildElement(lines[0], \"text\", false);\n\n              var _endChild = util.getChildElement(lines[_len14], \"text\", true);\n\n              if (!fc && _firstChild) {\n                r.sc = _firstChild;\n                r.so = 0;\n              }\n\n              if (!lc && _endChild) {\n                r.ec = _endChild;\n                r.eo = _endChild.textContent.length;\n              }\n            }\n          }\n\n          core.setRange(r.sc, r.so, r.ec, r.eo); // history stack\n\n          core.history.push(false);\n          break;\n\n        case 13\n        /** enter key */\n        :\n          var freeFormatEl = util.getFreeFormatElement(selectionNode, null);\n\n          if (core._charTypeHTML) {\n            var enterHTML = \"\";\n\n            if (!shift && freeFormatEl || shift) {\n              enterHTML = \"<br>\";\n            } else {\n              enterHTML = \"<\" + formatEl.nodeName + \"><br></\" + formatEl.nodeName + \">\";\n            }\n\n            if (!core.checkCharCount(enterHTML, \"byte-html\")) {\n              e.preventDefault();\n              return false;\n            }\n          }\n\n          if (!shift) {\n            var formatInners = core._isEdgeFormat(range.endContainer, range.endOffset, \"end\");\n\n            if (formatInners && /^H[1-6]$/i.test(formatEl.nodeName) || /^HR$/i.test(formatEl.nodeName)) {\n              e.preventDefault();\n              var temp = null;\n              var newFormat = core.appendFormatTag(formatEl, options.defaultTag);\n\n              if (formatInners && formatInners.length > 0) {\n                temp = formatInners.pop();\n                var innerNode = temp;\n\n                while (formatInners.length > 0) {\n                  temp = temp.appendChild(formatInners.pop());\n                }\n\n                newFormat.appendChild(innerNode);\n              }\n\n              temp = !temp ? newFormat.firstChild : temp.appendChild(newFormat.firstChild);\n              core.setRange(temp, 0, temp, 0);\n              break;\n            }\n\n            if (freeFormatEl) {\n              e.preventDefault();\n              var selectionFormat = selectionNode === freeFormatEl;\n              var wSelection = core.getSelection();\n              var _children2 = selectionNode.childNodes,\n                  _offset2 = wSelection.focusOffset,\n                  _prev3 = selectionNode.previousElementSibling,\n                  _next2 = selectionNode.nextSibling;\n\n              if (!util.isClosureFreeFormatElement(freeFormatEl) && !!_children2 && (selectionFormat && range.collapsed && _children2.length - 1 <= _offset2 + 1 && util.isBreak(_children2[_offset2]) && (!_children2[_offset2 + 1] || (!_children2[_offset2 + 2] || util.onlyZeroWidthSpace(_children2[_offset2 + 2].textContent)) && _children2[_offset2 + 1].nodeType === 3 && util.onlyZeroWidthSpace(_children2[_offset2 + 1].textContent)) && _offset2 > 0 && util.isBreak(_children2[_offset2 - 1]) || !selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(_prev3) && (util.isBreak(_prev3.previousSibling) || !util.onlyZeroWidthSpace(_prev3.previousSibling.textContent)) && (!_next2 || !util.isBreak(_next2) && util.onlyZeroWidthSpace(_next2.textContent)))) {\n                if (selectionFormat) util.removeItem(_children2[_offset2 - 1]);else util.removeItem(selectionNode);\n                var newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\n                util.copyFormatAttributes(newEl, freeFormatEl);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n\n              if (selectionFormat) {\n                functions.insertHTML(range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1]) ? \"<br>\" : \"<br><br>\", true, false);\n                var focusNode = wSelection.focusNode;\n                var wOffset = wSelection.focusOffset;\n\n                if (freeFormatEl === focusNode) {\n                  focusNode = focusNode.childNodes[wOffset - _offset2 > 1 ? wOffset - 1 : wOffset];\n                }\n\n                core.setRange(focusNode, 1, focusNode, 1);\n              } else {\n                var focusNext = wSelection.focusNode.nextSibling;\n                var br = util.createElement(\"BR\");\n                core.insertNode(br, null, false);\n                var brPrev = br.previousSibling,\n                    brNext = br.nextSibling;\n\n                if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\n                  br.parentNode.insertBefore(br.cloneNode(false), br);\n                  core.setRange(br, 1, br, 1);\n                } else {\n                  core.setRange(brNext, 0, brNext, 0);\n                }\n              }\n\n              event._onShortcutKey = true;\n              break;\n            }\n          }\n\n          if (selectRange) break;\n\n          if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n            var _range = core.getRange();\n\n            if (core.isEdgePoint(_range.endContainer, _range.endOffset) && util.isList(selectionNode.nextSibling)) {\n              e.preventDefault();\n\n              var _newEl = util.createElement(\"LI\");\n\n              var _br2 = util.createElement(\"BR\");\n\n              _newEl.appendChild(_br2);\n\n              formatEl.parentNode.insertBefore(_newEl, formatEl.nextElementSibling);\n\n              _newEl.appendChild(selectionNode.nextSibling);\n\n              core.setRange(_br2, 1, _br2, 1);\n              break;\n            }\n\n            if ((_range.commonAncestorContainer.nodeType === 3 ? !_range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\n              e.preventDefault();\n              var _newEl2 = null;\n\n              if (util.isListCell(rangeEl.parentNode)) {\n                rangeEl = formatEl.parentNode.parentNode.parentNode;\n                _newEl2 = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\n\n                if (!_newEl2) {\n                  var newListCell = util.createElement(\"LI\");\n                  newListCell.innerHTML = \"<br>\";\n                  rangeEl.insertBefore(newListCell, _newEl2);\n                  _newEl2 = newListCell;\n                }\n              } else {\n                var _newFormat = util.isCell(rangeEl.parentNode) ? \"DIV\" : util.isList(rangeEl.parentNode) ? \"LI\" : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : options.defaultTag;\n\n                _newEl2 = util.createElement(_newFormat);\n                var edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\n                edge.cc.insertBefore(_newEl2, edge.ec);\n              }\n\n              _newEl2.innerHTML = \"<br>\";\n              util.copyFormatAttributes(_newEl2, formatEl);\n              util.removeItemAllParents(formatEl, null, null);\n              core.setRange(_newEl2, 1, _newEl2, 1);\n              break;\n            }\n          }\n\n          if (rangeEl && util.getParentElement(rangeEl, \"FIGCAPTION\") && util.getParentElement(rangeEl, util.isList)) {\n            e.preventDefault();\n            formatEl = core.appendFormatTag(formatEl, null);\n            core.setRange(formatEl, 0, formatEl, 0);\n          }\n\n          if (fileComponentName) {\n            e.preventDefault();\n            e.stopPropagation();\n            var compContext = context[fileComponentName];\n            var container = compContext._container;\n            var sibling = container.previousElementSibling || container.nextElementSibling;\n            var _newEl3 = null;\n\n            if (util.isListCell(container.parentNode)) {\n              _newEl3 = util.createElement(\"BR\");\n            } else {\n              _newEl3 = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : options.defaultTag);\n              _newEl3.innerHTML = \"<br>\";\n            }\n\n            container.parentNode.insertBefore(_newEl3, container);\n            core.callPlugin(fileComponentName, function () {\n              if (core.selectComponent(compContext._element, fileComponentName) === false) core.blur();\n            }, null);\n          }\n\n          break;\n\n        case 27:\n          if (fileComponentName) {\n            e.preventDefault();\n            e.stopPropagation();\n            core.controllersOff();\n            return false;\n          }\n\n          break;\n      }\n\n      if (shift && keyCode === 16) {\n        e.preventDefault();\n        e.stopPropagation();\n        var tablePlugin = core.plugins.table;\n\n        if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\n          var _cell = util.getParentElement(formatEl, util.isCell);\n\n          if (_cell) {\n            tablePlugin.onTableCellMultiSelect.call(core, _cell, true);\n            return;\n          }\n        }\n      } else if (shift && (util.isOSX_IOS ? alt : ctrl) && keyCode === 32) {\n        e.preventDefault();\n        e.stopPropagation();\n        var nbsp = core.insertNode(util.createTextNode(\"\\xA0\"));\n\n        if (nbsp && nbsp.container) {\n          core.setRange(nbsp.container, nbsp.endOffset, nbsp.container, nbsp.endOffset);\n          return;\n        }\n      }\n\n      var textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\n\n      if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\n        var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n        core.insertNode(zeroWidth, null, false);\n        core.setRange(zeroWidth, 1, zeroWidth, 1);\n      }\n    },\n    onKeyUp_wysiwyg: function onKeyUp_wysiwyg(e) {\n      if (event._onShortcutKey) return;\n\n      core._editorRange();\n\n      var range = core.getRange();\n      var keyCode = e.keyCode;\n      var ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n      var alt = e.altKey;\n      var selectionNode = core.getSelectionNode();\n\n      if (core._isBalloon && (core._isBalloonAlways && keyCode !== 27 || !range.collapsed)) {\n        if (core._isBalloonAlways) {\n          if (keyCode !== 27) event._showToolbarBalloonDelay();\n        } else {\n          event._showToolbarBalloon();\n\n          return;\n        }\n      } // user event\n\n\n      if (typeof functions.onKeyUp === \"function\" && functions.onKeyUp(e, core) === false) return;\n      /** when format tag deleted */\n\n      if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === \"\" && selectionNode.children.length === 0) {\n        e.preventDefault();\n        e.stopPropagation();\n        selectionNode.innerHTML = \"\";\n        var oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : options.defaultTag);\n        oFormatTag.innerHTML = \"<br>\";\n        selectionNode.appendChild(oFormatTag);\n        core.setRange(oFormatTag, 0, oFormatTag, 0);\n\n        event._applyTagEffects();\n\n        core.history.push(false);\n        return;\n      }\n\n      var formatEl = util.getFormatElement(selectionNode, null);\n      var rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n      if ((!formatEl && range.collapsed || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\n        core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? \"DIV\" : options.defaultTag);\n\n        selectionNode = core.getSelectionNode();\n      }\n\n      if (event._directionKeyCode.test(keyCode)) {\n        event._applyTagEffects();\n      }\n\n      var textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\n\n      if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\n        var so = range.startOffset,\n            eo = range.endOffset;\n        var frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || \"\").length;\n        so = range.startOffset - frontZeroWidthCnt;\n        eo = range.endOffset - frontZeroWidthCnt;\n        selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, \"\");\n        core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\n      }\n\n      core._charCount(\"\"); // history stack\n\n\n      core.history.push(true);\n    },\n    onScroll_wysiwyg: function onScroll_wysiwyg(e) {\n      core.controllersOff();\n      if (core._isBalloon) event._hideToolbar(); // user event\n\n      if (typeof functions.onScroll === \"function\") functions.onScroll(e, core);\n    },\n    onFocus_wysiwyg: function onFocus_wysiwyg(e) {\n      if (core._antiBlur) return;\n      core.hasFocus = true;\n\n      event._applyTagEffects();\n\n      if (core._isInline) event._showToolbarInline(); // user event\n\n      if (typeof functions.onFocus === \"function\") functions.onFocus(e, core);\n    },\n    onBlur_wysiwyg: function onBlur_wysiwyg(e) {\n      if (core._antiBlur || core._variable.isCodeView) return;\n      core.hasFocus = false;\n      core.controllersOff();\n      if (core._isInline || core._isBalloon) event._hideToolbar(); // user event\n\n      if (typeof functions.onBlur === \"function\") functions.onBlur(e, core); // active class reset of buttons\n\n      var commandMap = core.commandMap;\n      var activePlugins = core.activePlugins;\n\n      for (var key in commandMap) {\n        if (!util.hasOwn(commandMap, key)) continue;\n\n        if (activePlugins.indexOf(key) > -1) {\n          plugins[key].active.call(core, null);\n        } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n          commandMap.OUTDENT.setAttribute(\"disabled\", true);\n        } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n          commandMap.INDENT.removeAttribute(\"disabled\");\n        } else {\n          util.removeClass(commandMap[key], \"active\");\n        }\n      }\n\n      core._variable.currentNodes = [];\n      core._variable.currentNodesMap = [];\n      if (options.showPathLabel) context.element.navigation.textContent = \"\";\n    },\n    onMouseDown_resizingBar: function onMouseDown_resizingBar(e) {\n      e.stopPropagation();\n      core.submenuOff();\n      core.controllersOff();\n      var prevHeight = util.getNumber(context.element.wysiwygFrame.style.height, 0);\n      core._variable.resizeClientY = e.clientY;\n      context.element.resizeBackground.style.display = \"block\";\n\n      function closureFunc() {\n        context.element.resizeBackground.style.display = \"none\";\n\n        _d.removeEventListener(\"mousemove\", event._resize_editor);\n\n        _d.removeEventListener(\"mouseup\", closureFunc);\n\n        if (typeof functions.onResizeEditor === \"function\") functions.onResizeEditor(util.getNumber(context.element.wysiwygFrame.style.height, 0), prevHeight, core);\n      }\n\n      _d.addEventListener(\"mousemove\", event._resize_editor);\n\n      _d.addEventListener(\"mouseup\", closureFunc);\n    },\n    _resize_editor: function _resize_editor(e) {\n      var resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\n      context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + \"px\";\n      core._variable.resizeClientY = e.clientY;\n    },\n    onResize_window: function onResize_window() {\n      core.controllersOff();\n      var responsiveSize = event._responsiveButtonSize;\n\n      if (responsiveSize) {\n        var w = 0;\n\n        if ((core._isBalloon || core._isInline) && options.toolbarWidth === \"auto\") {\n          w = context.element.topArea.offsetWidth;\n        } else {\n          w = context.element.toolbar.offsetWidth;\n        }\n\n        var responsiveWidth = \"default\";\n\n        for (var i = 1, len = responsiveSize.length; i < len; i++) {\n          if (w < responsiveSize[i]) {\n            responsiveWidth = responsiveSize[i] + \"\";\n            break;\n          }\n        }\n\n        if (event._responsiveCurrentSize !== responsiveWidth) {\n          event._responsiveCurrentSize = responsiveWidth;\n          functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\n        }\n      }\n\n      if (context.element.toolbar.offsetWidth === 0) return;\n\n      if (context.fileBrowser && context.fileBrowser.area.style.display === \"block\") {\n        context.fileBrowser.body.style.maxHeight = _w.innerHeight - context.fileBrowser.header.offsetHeight - 50 + \"px\";\n      }\n\n      if (core.submenuActiveButton && core.submenu) {\n        core._setMenuPosition(core.submenuActiveButton, core.submenu);\n      }\n\n      if (core._variable.isFullScreen) {\n        core._variable.innerHeight_fullScreen += _w.innerHeight - context.element.toolbar.offsetHeight - core._variable.innerHeight_fullScreen;\n        context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + \"px\";\n        return;\n      }\n\n      if (core._variable.isCodeView && core._isInline) {\n        event._showToolbarInline();\n\n        return;\n      }\n\n      core._iframeAutoHeight();\n\n      if (core._sticky) {\n        context.element.toolbar.style.width = context.element.topArea.offsetWidth - 2 + \"px\";\n        event.onScroll_window();\n      }\n    },\n    onScroll_window: function onScroll_window() {\n      if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\n      var element = context.element;\n      var editorHeight = element.editorArea.offsetHeight;\n      var y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\n      var editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\n      var inlineOffset = core._isInline && y - editorTop > 0 ? y - editorTop - context.element.toolbar.offsetHeight : 0;\n\n      if (y < editorTop) {\n        event._offStickyToolbar();\n      } else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\n        if (!core._sticky) event._onStickyToolbar(inlineOffset);\n        element.toolbar.style.top = inlineOffset + editorHeight + editorTop + options.stickyToolbar - y - core._variable.minResizingSize + \"px\";\n      } else if (y >= editorTop) {\n        event._onStickyToolbar(inlineOffset);\n      }\n    },\n    _getEditorOffsets: function _getEditorOffsets(container) {\n      var offsetEl = container || context.element.topArea;\n      var t = 0,\n          l = 0,\n          s = 0;\n\n      while (offsetEl) {\n        t += offsetEl.offsetTop;\n        l += offsetEl.offsetLeft;\n        s += offsetEl.scrollTop;\n        offsetEl = offsetEl.offsetParent;\n      }\n\n      return {\n        top: t,\n        left: l,\n        scroll: s\n      };\n    },\n    _getPageBottomSpace: function _getPageBottomSpace() {\n      return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\n    },\n    _onStickyToolbar: function _onStickyToolbar(inlineOffset) {\n      var element = context.element;\n\n      if (!core._isInline && !options.toolbarContainer) {\n        element.stickyDummy.style.height = element.toolbar.offsetHeight + \"px\";\n        element.stickyDummy.style.display = \"block\";\n      }\n\n      element.toolbar.style.top = options.stickyToolbar + inlineOffset + \"px\";\n      element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + \"px\";\n      util.addClass(element.toolbar, \"ke-toolbar-sticky\");\n      core._sticky = true;\n    },\n    _offStickyToolbar: function _offStickyToolbar() {\n      var element = context.element;\n      element.stickyDummy.style.display = \"none\";\n      element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : \"\";\n      element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : \"\";\n      element.editorArea.style.marginTop = \"\";\n      util.removeClass(element.toolbar, \"ke-toolbar-sticky\");\n      core._sticky = false;\n    },\n    _codeViewAutoHeight: function _codeViewAutoHeight() {\n      context.element.code.style.height = context.element.code.scrollHeight + \"px\";\n    },\n    // FireFox - table delete, Chrome - image, video, audio\n    _hardDelete: function _hardDelete() {\n      var range = core.getRange();\n      var sc = range.startContainer;\n      var ec = range.endContainer; // table\n\n      var sCell = util.getRangeFormatElement(sc);\n      var eCell = util.getRangeFormatElement(ec);\n      var sIsCell = util.isCell(sCell);\n      var eIsCell = util.isCell(eCell);\n\n      if ((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling || eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling) && sCell !== eCell) {\n        if (!sIsCell) {\n          util.removeItem(util.getParentElement(eCell, util.isComponent));\n        } else if (!eIsCell) {\n          util.removeItem(util.getParentElement(sCell, util.isComponent));\n        } else {\n          util.removeItem(util.getParentElement(sCell, util.isComponent));\n          core.nativeFocus();\n          return true;\n        }\n      } // component\n\n\n      var sComp = sc.nodeType === 1 ? util.getParentElement(sc, \".ke-component\") : null;\n      var eComp = ec.nodeType === 1 ? util.getParentElement(ec, \".ke-component\") : null;\n      if (sComp) util.removeItem(sComp);\n      if (eComp) util.removeItem(eComp);\n      return false;\n    },\n    onPaste_wysiwyg: function onPaste_wysiwyg(e) {\n      var clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n      if (!clipboardData) return true;\n      return event._dataTransferAction(\"paste\", e, clipboardData);\n    },\n    _setClipboardComponent: function _setClipboardComponent(e, info, clipboardData) {\n      e.preventDefault();\n      e.stopPropagation();\n      clipboardData.setData(\"text/html\", info.component.outerHTML);\n    },\n    onCopy_wysiwyg: function onCopy_wysiwyg(e) {\n      var clipboardData = util.isIE ? _w.clipboardData : e.clipboardData; // user event\n\n      if (typeof functions.onCopy === \"function\" && !functions.onCopy(e, clipboardData, core)) {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }\n\n      var info = core.currentFileComponentInfo;\n\n      if (info && !util.isIE) {\n        event._setClipboardComponent(e, info, clipboardData);\n\n        util.addClass(info.component, \"ke-component-copy\"); // copy effect\n\n        _w.setTimeout(function () {\n          util.removeClass(info.component, \"ke-component-copy\");\n        }, 150);\n      }\n    },\n    onCut_wysiwyg: function onCut_wysiwyg(e) {\n      var clipboardData = util.isIE ? _w.clipboardData : e.clipboardData; // user event\n\n      if (typeof functions.onCut === \"function\" && !functions.onCut(e, clipboardData, core)) {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }\n\n      var info = core.currentFileComponentInfo;\n\n      if (info && !util.isIE) {\n        event._setClipboardComponent(e, info, clipboardData);\n\n        util.removeItem(info.component);\n        core.controllersOff();\n      }\n\n      _w.setTimeout(function () {\n        // history stack\n        core.history.push(false);\n      });\n    },\n    onDrop_wysiwyg: function onDrop_wysiwyg(e) {\n      var dataTransfer = e.dataTransfer;\n      if (!dataTransfer) return true;\n\n      if (util.isIE) {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }\n\n      core.removeNode();\n\n      event._setDropLocationSelection(e);\n\n      return event._dataTransferAction(\"drop\", e, dataTransfer);\n    },\n    _setDropLocationSelection: function _setDropLocationSelection(e) {\n      if (e.rangeParent) {\n        core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\n      } else if (core._wd.caretRangeFromPoint) {\n        var r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\n\n        core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n      } else {\n        var _r2 = core.getRange();\n\n        core.setRange(_r2.startContainer, _r2.startOffset, _r2.endContainer, _r2.endOffset);\n      }\n    },\n    _dataTransferAction: function _dataTransferAction(type, e, data) {\n      var plainText, cleanData;\n\n      if (util.isIE) {\n        plainText = data.getData(\"Text\");\n        var range = core.getRange();\n        var tempDiv = util.createElement(\"DIV\");\n        var tempRange = {\n          sc: range.startContainer,\n          so: range.startOffset,\n          ec: range.endContainer,\n          eo: range.endOffset\n        };\n        tempDiv.setAttribute(\"contenteditable\", true);\n        tempDiv.style.cssText = \"position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;\";\n        context.element.relative.appendChild(tempDiv);\n        tempDiv.focus();\n\n        _w.setTimeout(function () {\n          cleanData = tempDiv.innerHTML;\n          util.removeItem(tempDiv);\n          core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\n\n          event._setClipboardData(type, e, plainText, cleanData, data);\n        });\n\n        return true;\n      } else {\n        plainText = data.getData(\"text/plain\");\n        cleanData = data.getData(\"text/html\");\n\n        if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n      }\n    },\n    _setClipboardData: function _setClipboardData(type, e, plainText, cleanData, data) {\n      // MS word, OneNode, Excel\n      var MSData = /class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData) || /content=[\"']*Excel.Sheet/i.test(cleanData);\n      var onlyText = !cleanData;\n\n      if (!onlyText) {\n        if (MSData) {\n          cleanData = cleanData.replace(/\\n/g, \" \");\n          plainText = plainText.replace(/\\n/g, \" \");\n        } else {\n          cleanData = (plainText === cleanData ? plainText : cleanData).replace(/\\n/g, \"<br>\");\n        }\n\n        cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\n      } else {\n        cleanData = util._HTMLConvertor(plainText).replace(/\\n/g, \"<br>\");\n      }\n\n      var maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText); // user event - paste\n\n\n      if (type === \"paste\" && typeof functions.onPaste === \"function\") {\n        var value = functions.onPaste(e, cleanData, maxCharCount, core);\n        if (!value) return false;\n        if (typeof value === \"string\") cleanData = value;\n      } // user event - drop\n\n\n      if (type === \"drop\" && typeof functions.onDrop === \"function\") {\n        var _value = functions.onDrop(e, cleanData, maxCharCount, core);\n\n        if (!_value) return false;\n        if (typeof _value === \"string\") cleanData = _value;\n      } // files\n\n\n      var files = data.files;\n\n      if (files.length > 0 && !MSData) {\n        if (/^image/.test(files[0].type) && core.plugins.image) {\n          functions.insertImage(files);\n        }\n\n        return false;\n      }\n\n      if (!maxCharCount) {\n        return false;\n      }\n\n      if (cleanData) {\n        functions.insertHTML(cleanData, true, false);\n        return false;\n      }\n    },\n    onMouseMove_wysiwyg: function onMouseMove_wysiwyg(e) {\n      if (core.isDisabled) return;\n      var component = util.getParentElement(e.target, util.isComponent);\n      var lineBreakerStyle = core.lineBreaker.style;\n\n      if (component && !core.currentControllerName) {\n        var ctxEl = context.element;\n        var scrollTop = 0;\n        var el = ctxEl.wysiwyg;\n\n        do {\n          scrollTop += el.scrollTop;\n          el = el.parentElement;\n        } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\n\n        var wScroll = ctxEl.wysiwyg.scrollTop;\n\n        var offsets = event._getEditorOffsets(null);\n\n        var componentTop = util.getOffset(component, ctxEl.wysiwygFrame).top + wScroll;\n        var y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? ctxEl.toolbar.offsetHeight : 0);\n        var c = componentTop + (options.iframe ? scrollTop : offsets.top);\n        var isList = util.isListCell(component.parentNode);\n        var dir = \"\",\n            top = \"\";\n\n        if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < c + 20) {\n          top = componentTop;\n          dir = \"t\";\n        } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > c + component.offsetHeight - 20) {\n          top = componentTop + component.offsetHeight;\n          dir = \"b\";\n        } else {\n          lineBreakerStyle.display = \"none\";\n          return;\n        }\n\n        core._variable._lineBreakComp = component;\n        core._variable._lineBreakDir = dir;\n        lineBreakerStyle.top = top - wScroll + \"px\";\n        core.lineBreakerButton.style.left = util.getOffset(component).left + component.offsetWidth / 2 - 15 + \"px\";\n        lineBreakerStyle.display = \"block\";\n      } // off line breaker\n      else if (lineBreakerStyle.display !== \"none\") {\n          lineBreakerStyle.display = \"none\";\n        }\n    },\n    _onMouseDown_lineBreak: function _onMouseDown_lineBreak(e) {\n      e.preventDefault();\n    },\n    _onLineBreak: function _onLineBreak(e) {\n      e.preventDefault();\n      var component = core._variable._lineBreakComp;\n      var dir = !this ? core._variable._lineBreakDir : this;\n      var isList = util.isListCell(component.parentNode);\n      var format = util.createElement(isList ? \"BR\" : util.isCell(component.parentNode) ? \"DIV\" : options.defaultTag);\n      if (!isList) format.innerHTML = \"<br>\";\n      if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, \"byte-html\")) return;\n      component.parentNode.insertBefore(format, dir === \"t\" ? component : component.nextSibling);\n      core.lineBreaker.style.display = \"none\";\n      core._variable._lineBreakComp = null;\n      var focusEl = isList ? format : format.firstChild;\n      core.setRange(focusEl, 1, focusEl, 1); // history stack\n\n      core.history.push(false);\n    },\n    _addEvent: function _addEvent() {\n      var eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n      /** toolbar event */\n\n      context.element.toolbar.addEventListener(\"mousedown\", event._buttonsEventHandler, false);\n      context.element.menuTray.addEventListener(\"mousedown\", event._buttonsEventHandler, false);\n      context.element.toolbar.addEventListener(\"click\", event.onClick_toolbar, false);\n      /** editor area */\n\n      eventWysiwyg.addEventListener(\"mousedown\", event.onMouseDown_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"click\", event.onClick_wysiwyg, false);\n      eventWysiwyg.addEventListener(util.isIE ? \"textinput\" : \"input\", event.onInput_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"keydown\", event.onKeyDown_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"keyup\", event.onKeyUp_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"paste\", event.onPaste_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"copy\", event.onCopy_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"cut\", event.onCut_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"drop\", event.onDrop_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"scroll\", event.onScroll_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"focus\", event.onFocus_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"blur\", event.onBlur_wysiwyg, false);\n      /** line breaker */\n\n      event.lineBreakerBind = {\n        a: event._onLineBreak.bind(\"\"),\n        t: event._onLineBreak.bind(\"t\"),\n        b: event._onLineBreak.bind(\"b\")\n      };\n      eventWysiwyg.addEventListener(\"mousemove\", event.onMouseMove_wysiwyg, false);\n      core.lineBreakerButton.addEventListener(\"mousedown\", event._onMouseDown_lineBreak, false);\n      core.lineBreakerButton.addEventListener(\"click\", event.lineBreakerBind.a, false);\n      context.element.lineBreaker_t.addEventListener(\"mousedown\", event.lineBreakerBind.t, false);\n      context.element.lineBreaker_b.addEventListener(\"mousedown\", event.lineBreakerBind.b, false);\n      /** Events are registered only when there is a table plugin.  */\n\n      if (core.plugins.table) {\n        eventWysiwyg.addEventListener(\"touchstart\", event.onMouseDown_wysiwyg, {\n          passive: true,\n          useCapture: false\n        });\n      }\n      /** code view area auto line */\n\n\n      if (options.height === \"auto\" && !options.codeMirrorEditor) {\n        context.element.code.addEventListener(\"keydown\", event._codeViewAutoHeight, false);\n        context.element.code.addEventListener(\"keyup\", event._codeViewAutoHeight, false);\n        context.element.code.addEventListener(\"paste\", event._codeViewAutoHeight, false);\n      }\n      /** resizingBar */\n\n\n      if (context.element.resizingBar) {\n        if (/\\d+/.test(options.height)) {\n          context.element.resizingBar.addEventListener(\"mousedown\", event.onMouseDown_resizingBar, false);\n        } else {\n          util.addClass(context.element.resizingBar, \"ke-resizing-none\");\n        }\n      }\n      /** window event */\n\n\n      event._setResponsiveToolbar();\n\n      _w.removeEventListener(\"resize\", event.onResize_window);\n\n      _w.removeEventListener(\"scroll\", event.onScroll_window);\n\n      _w.addEventListener(\"resize\", event.onResize_window, false);\n\n      if (options.stickyToolbar > -1) {\n        _w.addEventListener(\"scroll\", event.onScroll_window, false);\n      }\n    },\n    _removeEvent: function _removeEvent() {\n      var eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n      context.element.toolbar.removeEventListener(\"mousedown\", event._buttonsEventHandler);\n      context.element.menuTray.removeEventListener(\"mousedown\", event._buttonsEventHandler);\n      context.element.toolbar.removeEventListener(\"click\", event.onClick_toolbar);\n      eventWysiwyg.removeEventListener(\"mousedown\", event.onMouseDown_wysiwyg);\n      eventWysiwyg.removeEventListener(\"click\", event.onClick_wysiwyg);\n      eventWysiwyg.removeEventListener(util.isIE ? \"textinput\" : \"input\", event.onInput_wysiwyg);\n      eventWysiwyg.removeEventListener(\"keydown\", event.onKeyDown_wysiwyg);\n      eventWysiwyg.removeEventListener(\"keyup\", event.onKeyUp_wysiwyg);\n      eventWysiwyg.removeEventListener(\"paste\", event.onPaste_wysiwyg);\n      eventWysiwyg.removeEventListener(\"copy\", event.onCopy_wysiwyg);\n      eventWysiwyg.removeEventListener(\"cut\", event.onCut_wysiwyg);\n      eventWysiwyg.removeEventListener(\"drop\", event.onDrop_wysiwyg);\n      eventWysiwyg.removeEventListener(\"scroll\", event.onScroll_wysiwyg);\n      eventWysiwyg.removeEventListener(\"mousemove\", event.onMouseMove_wysiwyg);\n      core.lineBreakerButton.removeEventListener(\"mousedown\", event._onMouseDown_lineBreak);\n      core.lineBreakerButton.removeEventListener(\"click\", event.lineBreakerBind.a);\n      context.element.lineBreaker_t.removeEventListener(\"mousedown\", event.lineBreakerBind.t);\n      context.element.lineBreaker_b.removeEventListener(\"mousedown\", event.lineBreakerBind.b);\n      event.lineBreakerBind = null;\n      eventWysiwyg.removeEventListener(\"touchstart\", event.onMouseDown_wysiwyg, {\n        passive: true,\n        useCapture: false\n      });\n      eventWysiwyg.removeEventListener(\"focus\", event.onFocus_wysiwyg);\n      eventWysiwyg.removeEventListener(\"blur\", event.onBlur_wysiwyg);\n      context.element.code.removeEventListener(\"keydown\", event._codeViewAutoHeight);\n      context.element.code.removeEventListener(\"keyup\", event._codeViewAutoHeight);\n      context.element.code.removeEventListener(\"paste\", event._codeViewAutoHeight);\n\n      if (context.element.resizingBar) {\n        context.element.resizingBar.removeEventListener(\"mousedown\", event.onMouseDown_resizingBar);\n      }\n\n      _w.removeEventListener(\"resize\", event.onResize_window);\n\n      _w.removeEventListener(\"scroll\", event.onScroll_window);\n    },\n    _setResponsiveToolbar: function _setResponsiveToolbar() {\n      if (_responsiveButtons.length === 0) {\n        _responsiveButtons = null;\n        return;\n      }\n\n      event._responsiveCurrentSize = \"default\";\n      var sizeArray = event._responsiveButtonSize = [];\n      var buttonsObj = event._responsiveButtons = {\n        default: _responsiveButtons[0]\n      };\n\n      for (var i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\n        buttonGroup = _responsiveButtons[i];\n        size = buttonGroup[0] * 1;\n        sizeArray.push(size);\n        buttonsObj[size] = buttonGroup[1];\n      }\n\n      sizeArray.sort(function (a, b) {\n        return a - b;\n      }).unshift(\"default\");\n    }\n  };\n  /** functions */\n\n  var functions = {\n    /**\r\n     * @description Core, Util object\r\n     */\n    core: core,\n    util: util,\n\n    /**\r\n     * @description Event functions\r\n     * @param {Object} e Event Object\r\n     * @param {Object} core Core object\r\n     */\n    onload: null,\n    onScroll: null,\n    onMouseDown: null,\n    onClick: null,\n    onInput: null,\n    onKeyDown: null,\n    onKeyUp: null,\n    onCopy: null,\n    onCut: null,\n    onFocus: null,\n    onBlur: null,\n\n    /**\r\n     * @description Event functions\r\n     * @param {String} contents Current contents\r\n     * @param {Object} core Core object\r\n     */\n    onChange: null,\n\n    /**\r\n     * @description Event functions (drop, paste)\r\n     * When false is returned, the default behavior is stopped.\r\n     * If the string is returned, the cleanData value is modified to the return value.\r\n     * @param {Object} e Event object.\r\n     * @param {String} cleanData HTML string modified for editor format.\r\n     * @param {Boolean} maxChartCount option (true if max character is exceeded)\r\n     * @param {Object} core Core object\r\n     * @returns {Boolean|String}\r\n     */\n    onDrop: null,\n    onPaste: null,\n\n    /**\r\n     * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n     * @param {Element} toolbar Toolbar Element\r\n     * @param {Object} context The editor's context object (editor.getContext())\r\n     * @param {Object} core Core object\r\n     */\n    showInline: null,\n\n    /**\r\n     * @description Called just after the controller is positioned and displayed on the screen.\r\n     * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n     * @param {String} name The name of the plugin that called the controller\r\n     * @param {Array} controllers Array of Controller elements\r\n     * @param {Object} core Core object\r\n     */\n    showController: null,\n\n    /**\r\n     * @description An event when toggling between code view and wysiwyg view.\r\n     * @param {Boolean} isCodeView Whether the current code view mode\r\n     * @param {Object} core Core object\r\n     */\n    toggleCodeView: null,\n\n    /**\r\n     * @description An event when toggling full screen.\r\n     * @param {Boolean} isFullScreen Whether the current full screen mode\r\n     * @param {Object} core Core object\r\n     */\n    toggleFullScreen: null,\n\n    /**\r\n     * @description It replaces the default callback function of the image upload\r\n     * @param {Object} response Response object\r\n     * @param {Object} info Input information\r\n     * - linkValue: Link url value\r\n     * - linkNewWindow: Open in new window Check Value\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update image if true, create image if false\r\n     * - element: If isUpdate is true, the currently selected image.\r\n     * @param {Object} core Core object\r\n     */\n    imageUploadHandler: null,\n\n    /**\r\n     * @description It replaces the default callback function of the video upload\r\n     * @param xmlHttp xmlHttpRequest object\r\n     * @param info Input information\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update video if true, create video if false\r\n     * - element: If isUpdate is true, the currently selected video.\r\n     * @param core Core object\r\n     */\n    videoUploadHandler: null,\n\n    /**\r\n     * @description It replaces the default callback function of the audio upload\r\n     * @param xmlHttp xmlHttpRequest object\r\n     * @param info Input information\r\n     * - isUpdate: Update audio if true, create audio if false\r\n     * - element: If isUpdate is true, the currently selected audio.\r\n     * @param core Core object\r\n     */\n    audioUploadHandler: null,\n\n    /**\r\n     * @description Called before the image is uploaded\r\n     * If true is returned, the internal upload process runs normally.\r\n     * If false is returned, no image upload is performed.\r\n     * If new fileList are returned,  replaced the previous fileList\r\n     * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     * @param {Array} files Files array\r\n     * @param {Object} info info: {\r\n     * - linkValue: Link url value\r\n     * - linkNewWindow: Open in new window Check Value\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update image if true, create image if false\r\n     * - element: If isUpdate is true, the currently selected image.\r\n     * }\r\n     * @param {Object} core Core object\r\n     * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n     *                [upload files] : uploadHandler(files or [new File(...),])\r\n     *                [error]        : uploadHandler(\"Error message\")\r\n     *                [Just finish]  : uploadHandler()\r\n     *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n     *                                   ex) {\r\n     *                                      // \"errorMessage\": \"insert error message\",\r\n     *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n     *                                   }\r\n     * @returns {Boolean|Array|undefined}\r\n     */\n    onImageUploadBefore: null,\n\n    /**\r\n     * @description Called before the video is uploaded\r\n     * If true is returned, the internal upload process runs normally.\r\n     * If false is returned, no video(iframe, video) upload is performed.\r\n     * If new fileList are returned,  replaced the previous fileList\r\n     * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     * @param {Array} files Files array\r\n     * @param {Object} info info: {\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update video if true, create video if false\r\n     * - element: If isUpdate is true, the currently selected video.\r\n     * }\r\n     * @param {Object} core Core object\r\n     * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n     *                [upload files] : uploadHandler(files or [new File(...),])\r\n     *                [error]        : uploadHandler(\"Error message\")\r\n     *                [Just finish]  : uploadHandler()\r\n     *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n     *                                   ex) {\r\n     *                                      // \"errorMessage\": \"insert error message\",\r\n     *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n     *                                   }\r\n     * @returns {Boolean|Array|undefined}\r\n     */\n    onVideoUploadBefore: null,\n\n    /**\r\n     * @description Called before the audio is uploaded\r\n     * If true is returned, the internal upload process runs normally.\r\n     * If false is returned, no audio upload is performed.\r\n     * If new fileList are returned,  replaced the previous fileList\r\n     * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     * @param {Array} files Files array\r\n     * @param {Object} info info: {\r\n     * - isUpdate: Update audio if true, create audio if false\r\n     * - element: If isUpdate is true, the currently selected audio.\r\n     * }\r\n     * @param {Object} core Core object\r\n     * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n     *                [upload files] : uploadHandler(files or [new File(...),])\r\n     *                [error]        : uploadHandler(\"Error message\")\r\n     *                [Just finish]  : uploadHandler()\r\n     *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n     *                                   ex) {\r\n     *                                      // \"errorMessage\": \"insert error message\",\r\n     *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n     *                                   }\r\n     * @returns {Boolean|Array|undefined}\r\n     */\n    onAudioUploadBefore: null,\n\n    /**\r\n     * @description Called when the image is uploaded, updated, deleted\r\n     * @param {Element} targetElement Target element\r\n     * @param {Number} index Uploaded index\r\n     * @param {String} state Upload status ('create', 'update', 'delete')\r\n     * @param {Object} info Image info object\r\n     * - index: data index\r\n     * - name: file name\r\n     * - size: file size\r\n     * - select: select function\r\n     * - delete: delete function\r\n     * - element: target element\r\n     * - src: src attribute of tag\r\n     * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n     * @param {Object} core Core object\r\n     */\n    onImageUpload: null,\n\n    /**\r\n     * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n     * -- arguments is same \"onImageUpload\" --\r\n     */\n    onVideoUpload: null,\n\n    /**\r\n     * @description Called when the audio is is uploaded, updated, deleted\r\n     * -- arguments is same \"onImageUpload\" --\r\n     */\n    onAudioUpload: null,\n\n    /**\r\n     * @description Called when the image is upload failed\r\n     * @param {String} errorMessage Error message\r\n     * @param {Object} result Response Object\r\n     * @param {Object} core Core object\r\n     * @returns {Boolean}\r\n     */\n    onImageUploadError: null,\n\n    /**\r\n     * @description Called when the video(iframe, video) upload failed\r\n     * -- arguments is same \"onImageUploadError\" --\r\n     */\n    onVideoUploadError: null,\n\n    /**\r\n     * @description Called when the audio upload failed\r\n     * -- arguments is same \"onImageUploadError\" --\r\n     */\n    onAudioUploadError: null,\n\n    /**\r\n     * @description Called when the editor is resized using the bottom bar\r\n     */\n    onResizeEditor: null,\n\n    /**\r\n     * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n     * You cannot set a new plugin for the button.\r\n     * @param {Array} toolbarItem Button list\r\n     */\n    setToolbarButtons: function setToolbarButtons(toolbarItem) {\n      core.submenuOff();\n      core.containerOff();\n\n      var newToolbar = _constructor.default._createToolBar(_d, toolbarItem, core.plugins, options);\n\n      _responsiveButtons = newToolbar.responsiveButtons;\n      core._moreLayerActiveButton = null;\n\n      event._setResponsiveToolbar();\n\n      context.element.toolbar.replaceChild(newToolbar.buttonTray, context.element.buttonTray);\n      var newContext = (0, _context.default)(context.element.originElement, core._getConstructed(context.element), options);\n      context.element = newContext.element;\n      context.tool = newContext.tool;\n      if (options.iframe) context.element.wysiwyg = core._wd.body;\n\n      core._cachingButtons();\n\n      core.history._resetCachingButton();\n\n      core.activePlugins = [];\n      var oldCallButtons = pluginCallButtons;\n      pluginCallButtons = newToolbar.pluginCallButtons;\n      var plugin, button, oldButton;\n\n      for (var key in pluginCallButtons) {\n        if (!util.hasOwn(pluginCallButtons, key)) continue;\n        plugin = plugins[key];\n        button = pluginCallButtons[key];\n\n        if (plugin.active && button) {\n          oldButton = oldCallButtons[key];\n          core.callPlugin(key, null, oldButton || button);\n\n          if (oldButton) {\n            button.parentElement.replaceChild(oldButton, button);\n            pluginCallButtons[key] = oldButton;\n          }\n        }\n      }\n\n      if (core.hasFocus) event._applyTagEffects();\n      if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, \"active\");\n      if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, \"active\");\n      if (util.hasClass(context.element.wysiwyg, \"ke-show-block\")) util.addClass(core._styleCommandMap.showBlocks, \"active\");\n    },\n\n    /**\r\n     * @description Add or reset option property (Editor is reloaded)\r\n     * @param {Object} _options Options\r\n     */\n    setOptions: function setOptions(_options) {\n      event._removeEvent();\n\n      core._resetComponents();\n\n      util.removeClass(core._styleCommandMap.showBlocks, \"active\");\n      util.removeClass(core._styleCommandMap.codeView, \"active\");\n      core._variable.isCodeView = false;\n      core._iframeAuto = null;\n      core.plugins = _options.plugins || core.plugins;\n      var mergeOptions = [options, _options].reduce(function (init, option) {\n        for (var key in option) {\n          if (!util.hasOwn(option, key)) continue;\n\n          if (key === \"plugins\" && option[key] && init[key]) {\n            (function () {\n              var i = init[key],\n                  o = option[key];\n              i = i.length ? i : _w.Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : _w.Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            })();\n          } else {\n            init[key] = option[key];\n          }\n        }\n\n        return init;\n      }, {});\n      var el = context.element;\n      var _initHTML = el.wysiwyg.innerHTML; // set option\n\n      var cons = _constructor.default._setOptions(mergeOptions, context, options);\n\n      if (cons.callButtons) {\n        pluginCallButtons = cons.callButtons;\n        core.initPlugins = {};\n      }\n\n      if (cons.plugins) {\n        core.plugins = plugins = cons.plugins;\n      } // reset context\n\n\n      if (el.menuTray.children.length === 0) this.menuTray = {};\n      _responsiveButtons = cons.toolbar.responsiveButtons;\n      core.options = options = mergeOptions;\n      core.lang = lang = options.lang;\n\n      if (options.iframe) {\n        el.wysiwygFrame.addEventListener(\"load\", function () {\n          util._setIframeDocument(this, options);\n\n          core._setOptionsInit(el, _initHTML);\n        });\n      }\n\n      el.editorArea.appendChild(el.wysiwygFrame);\n\n      if (!options.iframe) {\n        core._setOptionsInit(el, _initHTML);\n      }\n    },\n\n    /**\r\n     * @description Set \"options.defaultStyle\" style.\r\n     * Define the style of the edit area\r\n     * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n     * @param {String} style Style string\r\n     */\n    setDefaultStyle: function setDefaultStyle(style) {\n      var newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\n\n      var el = context.element; // top area\n\n      el.topArea.style.cssText = newStyles.top; // code view\n\n      el.code.style.cssText = options._editorStyles.frame;\n      el.code.style.display = \"none\";\n\n      if (options.height === \"auto\") {\n        el.code.style.overflow = \"hidden\";\n      } else {\n        el.code.style.overflow = \"\";\n      } // wysiwyg frame\n\n\n      if (!options.iframe) {\n        el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\n      } else {\n        el.wysiwygFrame.style.cssText = newStyles.frame;\n        el.wysiwyg.style.cssText = newStyles.editor;\n      }\n    },\n\n    /**\r\n     * @description Open a notice area\r\n     * @param {String} message Notice message\r\n     */\n    noticeOpen: function noticeOpen(message) {\n      core.notice.open.call(core, message);\n    },\n\n    /**\r\n     * @description Close a notice area\r\n     */\n    noticeClose: function noticeClose() {\n      core.notice.close.call(core);\n    },\n\n    /**\r\n     * @description Copying the contents of the editor to the original textarea\r\n     */\n    save: function save() {\n      context.element.originElement.value = core.getContents(false);\n    },\n\n    /**\r\n     * @description Gets the KothingEditor's context object. Contains settings, plugins, and cached element objects\r\n     * @returns {Object}\r\n     */\n    getContext: function getContext() {\n      return context;\n    },\n\n    /**\r\n     * @description Gets the contents of the KothingEditor\r\n     * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n     * @returns {String}\r\n     */\n    getContents: function getContents(onlyContents) {\n      return core.getContents(onlyContents);\n    },\n\n    /**\r\n     * @description Gets only the text of the KothingEditor contents\r\n     * @returns {String}\r\n     */\n    getText: function getText() {\n      return context.element.wysiwyg.textContent;\n    },\n\n    /**\r\n     * @description Get the editor's number of characters or binary data size.\r\n     * You can use the \"charCounterType\" option format.\r\n     * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n     * If argument is no value, the currently set \"charCounterType\" option is used.\r\n     * @returns {Number}\r\n     */\n    getCharCount: function getCharCount(charCounterType) {\n      charCounterType = typeof charCounterType === \"string\" ? charCounterType : options.charCounterType;\n      return core.getCharLength(core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent, charCounterType);\n    },\n\n    /**\r\n     * @description Gets uploaded images informations\r\n     * - index: data index\r\n     * - name: file name\r\n     * - size: file size\r\n     * - select: select function\r\n     * - delete: delete function\r\n     * - element: target element\r\n     * - src: src attribute of tag\r\n     * @returns {Array}\r\n     */\n    getImagesInfo: function getImagesInfo() {\n      return context.image ? context.image._infoList : [];\n    },\n\n    /**\r\n     * @description Gets uploaded files(plugin using fileManager) information list.\r\n     * image: [img], video: [video, iframe], audio: [audio]\r\n     * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n     * - index: data index\r\n     * - name: file name\r\n     * - size: file size\r\n     * - select: select function\r\n     * - delete: delete function\r\n     * - element: target element\r\n     * - src: src attribute of tag\r\n     * @param {String} pluginName Plugin name (image, video, audio)\r\n     * @returns {Array}\r\n     */\n    getFilesInfo: function getFilesInfo(pluginName) {\n      return context[pluginName] ? context[pluginName]._infoList : [];\n    },\n\n    /**\r\n     * @description Upload images using image plugin\r\n     * @param {FileList} files FileList\r\n     */\n    insertImage: function insertImage(files) {\n      if (!core.plugins.image || !files) return;\n      if (!core.initPlugins.image) core.callPlugin(\"image\", core.plugins.image.submitAction.bind(core, files), null);else core.plugins.image.submitAction.call(core, files);\n      core.focus();\n    },\n\n    /**\r\n     * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n     * @param {Element|String} html HTML Element or HTML string or plain string\r\n     * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n     * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n     * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n     */\n    insertHTML: function insertHTML(html, notCleaningData, checkCharCount, rangeSelection) {\n      if (typeof html === \"string\") {\n        if (!notCleaningData) html = core.cleanHTML(html, null);\n\n        try {\n          var dom = _d.createRange().createContextualFragment(html);\n\n          var domTree = dom.childNodes;\n\n          if (checkCharCount) {\n            var type = core._charTypeHTML ? \"outerHTML\" : \"textContent\";\n            var checkHTML = \"\";\n\n            for (var i = 0, len = domTree.length; i < len; i++) {\n              checkHTML += domTree[i][type];\n            }\n\n            if (!core.checkCharCount(checkHTML, null)) return;\n          }\n\n          var c, a, t, prev, firstCon;\n\n          while (c = domTree[0]) {\n            if (prev && prev.nodeType === 3 && a && a.nodeType === 1 && util.isBreak(c)) {\n              prev = c;\n              util.removeItem(c);\n              continue;\n            }\n\n            t = core.insertNode(c, a, false);\n            a = t.container || t;\n            if (!firstCon) firstCon = t;\n            prev = c;\n          }\n\n          if (prev.nodeType === 3 && a.nodeType === 1) a = prev;\n          var offset = a.nodeType === 3 ? t.endOffset || a.textContent.length : a.childNodes.length;\n          if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);else core.setRange(a, offset, a, offset);\n        } catch (error) {\n          console.warn(\"[KothingEditor.insertHTML.fail] \" + error);\n          core.execCommand(\"insertHTML\", false, html);\n        }\n      } else {\n        if (util.isComponent(html)) {\n          core.insertComponent(html, false, checkCharCount, false);\n        } else {\n          var afterNode = null;\n\n          if (util.isFormatElement(html) || util.isMedia(html)) {\n            afterNode = util.getFormatElement(core.getSelectionNode(), null);\n          }\n\n          core.insertNode(html, afterNode, checkCharCount);\n        }\n      }\n\n      core.effectNode = null;\n      core.focus(); // history stack\n\n      core.history.push(false);\n    },\n\n    /**\r\n     * @description Change the contents of the KothingEditor\r\n     * @param {String|undefined} contents Contents to Input\r\n     */\n    setContents: function setContents(contents) {\n      core.setContents(contents);\n    },\n\n    /**\r\n     * @description Add contents to the KothingEditor\r\n     * @param {String} contents Contents to Input\r\n     */\n    appendContents: function appendContents(contents) {\n      var convertValue = core.convertContentsForEditor(contents);\n\n      if (!core._variable.isCodeView) {\n        var temp = util.createElement(\"DIV\");\n        temp.innerHTML = convertValue;\n        var wysiwyg = context.element.wysiwyg;\n        var children = temp.children;\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          wysiwyg.appendChild(children[i]);\n        }\n      } else {\n        core._setCodeView(core._getCodeView() + \"\\n\" + core.convertHTMLForCodeView(convertValue));\n      } // history stack\n\n\n      core.history.push(false);\n    },\n\n    /**\r\n     * @description Disable the KothingEditor\r\n     */\n    disabled: function disabled() {\n      context.tool.cover.style.display = \"block\";\n      context.element.wysiwyg.setAttribute(\"contenteditable\", false);\n      core.isDisabled = true;\n\n      if (options.codeMirrorEditor) {\n        options.codeMirrorEditor.setOption(\"readOnly\", true);\n      } else {\n        context.element.code.setAttribute(\"disabled\", \"disabled\");\n      }\n    },\n\n    /**\r\n     * @description Enable the KothingEditor\r\n     */\n    enabled: function enabled() {\n      context.tool.cover.style.display = \"none\";\n      context.element.wysiwyg.setAttribute(\"contenteditable\", true);\n      core.isDisabled = false;\n\n      if (options.codeMirrorEditor) {\n        options.codeMirrorEditor.setOption(\"readOnly\", false);\n      } else {\n        context.element.code.removeAttribute(\"disabled\");\n      }\n    },\n\n    /**\r\n     * @description Show the KothingEditor\r\n     */\n    show: function show() {\n      var topAreaStyle = context.element.topArea.style;\n      if (topAreaStyle.display === \"none\") topAreaStyle.display = options.display;\n    },\n\n    /**\r\n     * @description Hide the KothingEditor\r\n     */\n    hide: function hide() {\n      context.element.topArea.style.display = \"none\";\n    },\n\n    /**\r\n     * @description Destroy the KothingEditor\r\n     */\n    destroy: function destroy() {\n      /** off menus */\n      core.submenuOff();\n      core.containerOff();\n      core.controllersOff();\n      if (core.notice) core.notice.close.call(core);\n      if (core.modalForm) core.plugins.dialog.close.call(core);\n      /** remove history */\n\n      core.history._destroy();\n      /** remove event listeners */\n\n\n      event._removeEvent();\n      /** remove element */\n\n\n      util.removeItem(context.element.toolbar);\n      util.removeItem(context.element.topArea);\n      /** remove object reference */\n\n      for (var k in core.functions) {\n        if (util.hasOwn(core, k)) delete core.functions[k];\n      }\n\n      for (var _k in core) {\n        if (util.hasOwn(core, _k)) delete core[_k];\n      }\n\n      for (var _k2 in event) {\n        if (util.hasOwn(event, _k2)) delete event[_k2];\n      }\n\n      for (var _k3 in context) {\n        if (util.hasOwn(context, _k3)) delete context[_k3];\n      }\n\n      for (var _k4 in pluginCallButtons) {\n        if (util.hasOwn(pluginCallButtons, _k4)) delete pluginCallButtons[_k4];\n      }\n      /** remove user object */\n\n\n      for (var _k5 in this) {\n        if (util.hasOwn(this, _k5)) delete this[_k5];\n      }\n    },\n\n    /**\r\n     * @description Toolbar methods\r\n     */\n    toolbar: {\n      /**\r\n       * @description Disable the toolbar\r\n       */\n      disabled: function disabled() {\n        context.tool.cover.style.display = \"block\";\n      },\n\n      /**\r\n       * @description Enable the toolbar\r\n       */\n      enabled: function enabled() {\n        context.tool.cover.style.display = \"none\";\n      },\n\n      /**\r\n       * @description Show the toolbar\r\n       */\n      show: function show() {\n        if (core._isInline) {\n          event._showToolbarInline();\n        } else {\n          context.element.toolbar.style.display = \"\";\n          context.element.stickyDummy.style.display = \"\";\n        }\n      },\n\n      /**\r\n       * @description Hide the toolbar\r\n       */\n      hide: function hide() {\n        if (core._isInline) {\n          event._hideToolbar();\n        } else {\n          context.element.toolbar.style.display = \"none\";\n          context.element.stickyDummy.style.display = \"none\";\n        }\n      }\n    }\n  };\n  /************ Core init ************/\n  // functions\n\n  core.functions = functions;\n  core.options = options; // Create to sibling node\n\n  var contextEl = context.element;\n  var originEl = contextEl.originElement;\n  var topEl = contextEl.topArea;\n  originEl.style.display = \"none\";\n  topEl.style.display = \"block\"; // init\n\n  if (options.iframe) {\n    contextEl.wysiwygFrame.addEventListener(\"load\", function () {\n      util._setIframeDocument(this, options);\n\n      core._editorInit(false, options.value);\n\n      options.value = null;\n    });\n  } // insert editor element\n\n\n  if (_typeof(originEl.nextElementSibling) === \"object\") {\n    originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\n  } else {\n    originEl.parentNode.appendChild(topEl);\n  }\n\n  contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\n  contextEl = originEl = topEl = null; // init\n\n  if (!options.iframe) {\n    core._editorInit(false, options.value);\n\n    options.value = null;\n  }\n\n  return functions;\n}","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _core = _interopRequireDefault(require(\"./lib/core\"));\n\nvar _util = _interopRequireDefault(require(\"./lib/util\"));\n\nvar _constructor = _interopRequireDefault(require(\"./lib/constructor\"));\n\nvar _context = _interopRequireDefault(require(\"./lib/context\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  /**\r\n   * @description Returns the create function with preset options.\r\n   * If the options overlap, the options of the 'create' function take precedence.\r\n   * @param {Json} options Initialization options\r\n   * @returns {Object}\r\n   */\n  init: function init(init_options) {\n    return {\n      create: function (idOrElement, options) {\n        return this.create(idOrElement, options, init_options);\n      }.bind(this)\n    };\n  },\n\n  /**\r\n   * @description Create the KothingEditor\r\n   * @param {String|Element} idOrElement textarea Id or textarea element\r\n   * @param {JSON|Object} options user options\r\n   * @returns {Object}\r\n   */\n  create: function create(idOrElement, options, _init_options) {\n    _util.default._propertiesInit();\n\n    if (_typeof(options) !== \"object\") {\n      options = {};\n    }\n\n    if (_init_options) {\n      options = [_init_options, options].reduce(function (init, option) {\n        for (var key in option) {\n          if (!_util.default.hasOwn(option, key)) {\n            continue;\n          }\n\n          if (key === \"plugins\" && option[key] && init[key]) {\n            (function () {\n              var i = init[key],\n                  o = option[key];\n              i = i.length ? i : Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            })();\n          } else {\n            init[key] = option[key];\n          }\n        }\n\n        return init;\n      }, {});\n    }\n\n    var element = typeof idOrElement === \"string\" ? document.getElementById(idOrElement) : idOrElement;\n\n    if (!element) {\n      if (typeof idOrElement === \"string\") {\n        throw Error(\"[KothingEditor.create.fail] The element for that id was not found (ID:\\\"\".concat(idOrElement, \"\\\")\"));\n      }\n\n      throw Error(\"[KothingEditor.create.fail] KothingEditor requires textarea's element or id value\");\n    }\n\n    var cons = _constructor.default.init(element, options);\n\n    if (cons.constructed.top.id && document.getElementById(cons.constructed.top.id)) {\n      throw Error(\"[KothingEditor.create.fail] The ID of the KothingEditor you are trying to create already exists (ID:\\\"\".concat(cons.constructed.top.id, \"\\\")\"));\n    }\n\n    return (0, _core.default)((0, _context.default)(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"lineHeight\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.lineHeight = {\n      _sizeList: null,\n      currentSize: -1\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.lineHeight._sizeList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    var sizeList = !option.lineHeights ? [{\n      text: \"1\",\n      value: 1\n    }, {\n      text: \"1.15\",\n      value: 1.15\n    }, {\n      text: \"1.5\",\n      value: 1.5\n    }, {\n      text: \"2\",\n      value: 2\n    }] : option.lineHeights;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (var i = 0, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var lineHeightContext = this.context.lineHeight;\n    var sizeList = lineHeightContext._sizeList;\n    var format = this.util.getFormatElement(this.getSelectionNode());\n    var currentSize = !format ? \"\" : format.style.lineHeight + \"\";\n\n    if (currentSize !== lineHeightContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(sizeList[i], \"active\");\n        } else {\n          this.util.removeClass(sizeList[i], \"active\");\n        }\n      }\n\n      lineHeightContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\") || \"\";\n    var formats = this.getSelectedElements();\n\n    for (var i = 0, len = formats.length; i < len; i++) {\n      formats[i].style.lineHeight = value;\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ru\",\n    toolbar: {\n      default: \" \",\n      save: \"\",\n      font: \"\",\n      formats: \" \",\n      fontSize: \" \",\n      bold: \"\",\n      underline: \"\",\n      italic: \"\",\n      strike: \"\",\n      subscript: \" \",\n      superscript: \" \",\n      removeFormat: \" \",\n      fontColor: \" \",\n      hiliteColor: \" \",\n      indent: \" \",\n      outdent: \" \",\n      align: \"\",\n      alignLeft: \"\",\n      alignRight: \"\",\n      alignCenter: \" \",\n      alignJustify: \" \",\n      list: \"\",\n      orderList: \"\",\n      unorderList: \"\",\n      horizontalRule: \" \",\n      hr_solid: \"\",\n      hr_dotted: \"\",\n      hr_dashed: \"\",\n      table: \"\",\n      link: \"\",\n      math: \"\",\n      image: \"\",\n      video: \"\",\n      audio: \"\",\n      fullScreen: \" \",\n      showBlocks: \" \",\n      codeView: \" HTML\",\n      undo: \"\",\n      redo: \"\",\n      preview: \" \",\n      print: \"\",\n      tag_p: \"\",\n      tag_div: \"\",\n      tag_h: \"\",\n      tag_blockquote: \"\",\n      tag_pre: \"\",\n      template: \"\",\n      lineHeight: \" \",\n      paragraphStyle: \" \",\n      textStyle: \" \",\n      imageGallery: \"\",\n      mention: \"\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \" \",\n        url: \"\",\n        text: \"\",\n        newWindowCheck: \"   \",\n        downloadLinkCheck: \"  \",\n        bookmark: \"\"\n      },\n      mathBox: {\n        title: \"\",\n        inputLabel: \" \",\n        fontSizeLabel: \"\",\n        previewLabel: \" \"\n      },\n      imageBox: {\n        title: \" \",\n        file: \" \",\n        url: \" \",\n        altText: \"  \"\n      },\n      videoBox: {\n        title: \" \",\n        file: \" \",\n        url: \"  , Youtube,Vimeo\"\n      },\n      audioBox: {\n        title: \" \",\n        file: \" \",\n        url: \" \"\n      },\n      browser: {\n        tags: \"\",\n        search: \"\"\n      },\n      caption: \" \",\n      close: \"\",\n      submitButton: \"\",\n      revertButton: \"\",\n      proportion: \" \",\n      basic: \" \",\n      left: \"\",\n      right: \"\",\n      center: \" \",\n      width: \"\",\n      height: \"\",\n      size: \"\",\n      ratio: \"\"\n    },\n    controller: {\n      edit: \"\",\n      unlink: \" \",\n      remove: \"\",\n      insertRowAbove: \"  \",\n      insertRowBelow: \"  \",\n      deleteRow: \" \",\n      insertColumnBefore: \"  \",\n      insertColumnAfter: \"  \",\n      deleteColumn: \" \",\n      fixedColumnWidth: \"  \",\n      resize100: \" 100%\",\n      resize75: \" 75%\",\n      resize50: \" 50%\",\n      resize25: \" 25%\",\n      autoSize: \" \",\n      mirrorHorizontal: \"  \",\n      mirrorVertical: \"  \",\n      rotateLeft: \"   \",\n      rotateRight: \"   \",\n      maxSize: \"   \",\n      minSize: \"  \",\n      tableHeader: \" \",\n      mergeCells: \" \",\n      splitCells: \" \",\n      HorizontalSplit: \" \",\n      VerticalSplit: \" \"\n    },\n    menu: {\n      spaced: \"\",\n      bordered: \" \",\n      neon: \"\",\n      translucent: \"\",\n      shadow: \"\",\n      code: \"\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ru\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"fontSize\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.fontSize = {\n      targetText: targetElement.querySelector(\".txt\"),\n      _sizeList: null,\n      currentSize: \"\",\n      icon: icons.font_size\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.fontSize._sizeList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-font-size\";\n    var sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (var i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var target = this.context.fontSize.targetText.firstElementChild;\n    var icon = this.context.fontSize.icon;\n\n    if (!element) {\n      // this.util.changeTxt(\n      //   this.context.fontSize.targetText,\n      //   this.hasFocus\n      //     ? this.wwComputedStyle.fontSize\n      //     : this.lang.toolbar.fontSize\n      // );\n      var sizeIcon = this.hasFocus ? this.wwComputedStyle.fontSize ? \"<span>\".concat(this.wwComputedStyle.fontSize, \"</span>\") : \"\" : icon;\n      this.util.changeElement(target, sizeIcon);\n    } else if (element.style && element.style.fontSize.length > 0) {\n      // this.util.changeTxt(\n      //   this.context.fontSize.targetText,\n      //   element.style.fontSize\n      // );\n      this.util.changeElement(target, \"<span>\".concat(element.style.fontSize, \"</span>\"));\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var fontSizeContext = this.context.fontSize;\n    var sizeList = fontSizeContext._sizeList;\n    var currentSize = fontSizeContext.targetText.textContent;\n\n    if (currentSize !== fontSizeContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(sizeList[i], \"active\");\n        } else {\n          this.util.removeClass(sizeList[i], \"active\");\n        }\n      }\n\n      fontSizeContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\");\n\n    if (value) {\n      var newNode = this.util.createElement(\"SPAN\");\n      newNode.style.fontSize = value;\n      this.nodeChange(newNode, [\"font-size\"], null, null);\n    } else {\n      this.nodeChange(null, [\"font-size\"], [\"span\"], true);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"da\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Gem\",\n      font: \"Skrifttype\",\n      formats: \"Format\",\n      fontSize: \"Skriftstrrelse\",\n      bold: \"Fed\",\n      underline: \"Understreget\",\n      italic: \"Skrskrift\",\n      strike: \"Overstreget\",\n      subscript: \"Snket skrift\",\n      superscript: \"Hvet skrift\",\n      removeFormat: \"Fjern formatering\",\n      fontColor: \"Skriftfarve\",\n      hiliteColor: \"Baggrundsfarve\",\n      indent: \"Ryk ind\",\n      outdent: \"Ryk ud\",\n      align: \"Justering\",\n      alignLeft: \"Venstrejustering\",\n      alignRight: \"Hjrejustering\",\n      alignCenter: \"Midterjustering\",\n      alignJustify: \"Tilpas margin\",\n      list: \"Lister\",\n      orderList: \"Nummereret liste\",\n      unorderList: \"Uordnet liste\",\n      horizontalRule: \"Horisontal linie\",\n      hr_solid: \"Almindelig\",\n      hr_dotted: \"Punkteret\",\n      hr_dashed: \"Streget\",\n      table: \"Tabel\",\n      link: \"Link\",\n      math: \"Math\",\n      image: \"Billede\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Fuld skrm\",\n      showBlocks: \"Vis blokke\",\n      codeView: \"Vis koder\",\n      undo: \"Undo\",\n      redo: \"Redo\",\n      preview: \"Preview\",\n      print: \"Print\",\n      tag_p: \"Paragraph\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Overskrift\",\n      tag_blockquote: \"Citer\",\n      tag_pre: \"Code\",\n      template: \"Schablone\",\n      lineHeight: \"Linjehjde\",\n      paragraphStyle: \"Afsnitstil\",\n      textStyle: \"Tekststil\",\n      imageGallery: \"Billedgalleri\",\n      mention: \"Nvne\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Indst link\",\n        url: \"URL til link\",\n        text: \"Tekst for link\",\n        newWindowCheck: \"ben i nyt faneblad\",\n        downloadLinkCheck: \"Download link\",\n        bookmark: \"Bogmrke\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Matematisk notation\",\n        fontSizeLabel: \"Skriftstrrelse\",\n        previewLabel: \"Preview\"\n      },\n      imageBox: {\n        title: \"Indst billede\",\n        file: \"Indst fra fil\",\n        url: \"Indst fra URL\",\n        altText: \"Alternativ tekst\"\n      },\n      videoBox: {\n        title: \"Indst Video\",\n        file: \"Indst fra fil\",\n        url: \"Indlejr video / YouTube,Vimeo\"\n      },\n      audioBox: {\n        title: \"Indst Audio\",\n        file: \"Indst fra fil\",\n        url: \"Indst fra URL\"\n      },\n      browser: {\n        tags: \"Tags\",\n        search: \"Sg\"\n      },\n      caption: \"Indst beskrivelse\",\n      close: \"Luk\",\n      submitButton: \"Gennemfr\",\n      revertButton: \"Gendan\",\n      proportion: \"Bevar proportioner\",\n      basic: \"Basis\",\n      left: \"Venstre\",\n      right: \"Hjre\",\n      center: \"Center\",\n      width: \"Bredde\",\n      height: \"Hjde\",\n      size: \"Strrelse\",\n      ratio: \"Forhold\"\n    },\n    controller: {\n      edit: \"Rediger\",\n      unlink: \"Fjern link\",\n      remove: \"Fjern\",\n      insertRowAbove: \"Indst rkke foroven\",\n      insertRowBelow: \"Indst rkke nedenfor\",\n      deleteRow: \"Slet rkke\",\n      insertColumnBefore: \"Indst kolonne fr\",\n      insertColumnAfter: \"Indst kolonne efter\",\n      deleteColumn: \"Slet kolonne\",\n      fixedColumnWidth: \"Fast sjlebredde\",\n      resize100: \"Forstr 100%\",\n      resize75: \"Forstr 75%\",\n      resize50: \"Forstr 50%\",\n      resize25: \"Forstr 25%\",\n      autoSize: \"Auto strrelse\",\n      mirrorHorizontal: \"Spejling, horisontal\",\n      mirrorVertical: \"Spejling, vertikal\",\n      rotateLeft: \"Roter til venstre\",\n      rotateRight: \"Toter til hjre\",\n      maxSize: \"Max strrelse\",\n      minSize: \"Min strrelse\",\n      tableHeader: \"Tabel overskrift\",\n      mergeCells: \"Sammenlg celler (merge)\",\n      splitCells: \"Opdel celler\",\n      HorizontalSplit: \"Opdel horisontalt\",\n      VerticalSplit: \"Opdel vertikalt\"\n    },\n    menu: {\n      spaced: \"Brev Afstand\",\n      bordered: \"Afgrnsningslinje\",\n      neon: \"Neon\",\n      translucent: \"Gennemsigtig\",\n      shadow: \"Skygge\",\n      code: \"Code\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"da\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"fr\",\n    toolbar: {\n      default: \"Dfaut\",\n      save: \"Sauvegarder\",\n      font: \"Police\",\n      formats: \"Formats\",\n      fontSize: \"Taille\",\n      bold: \"Gras\",\n      underline: \"Soulign\",\n      italic: \"Italique\",\n      strike: \"Barr\",\n      subscript: \"Indice\",\n      superscript: \"Exposant\",\n      removeFormat: \"ffacer  le Formatage\",\n      fontColor: \"Couleur du texte\",\n      hiliteColor: \"Couleur en arrire plan\",\n      indent: \"Indenter\",\n      outdent: \"Dsindenter\",\n      align: \"Alignenement\",\n      alignLeft: \" gauche\",\n      alignRight: \" droite\",\n      alignCenter: \"Centr\",\n      alignJustify: \"Justifi\",\n      list: \"Liste\",\n      orderList: \"Ordonne\",\n      unorderList: \"Non-ordonne\",\n      horizontalRule: \"Ligne horizontale\",\n      hr_solid: \"Solide\",\n      hr_dotted: \"Points\",\n      hr_dashed: \"Tirets\",\n      table: \"Table\",\n      link: \"Lien\",\n      math: \"Math\",\n      image: \"Image\",\n      video: \"Video\",\n      audio: \"l'audio\",\n      fullScreen: \"Plein cran\",\n      showBlocks: \"Voir les blocs\",\n      codeView: \"Voir le code\",\n      undo: \"Annuler\",\n      redo: \"Rtablir\",\n      preview: \"Previsualiser\",\n      print: \"Imprimer\",\n      tag_p: \"Paragraphe\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Titre\",\n      tag_blockquote: \"Citation\",\n      tag_pre: \"Code\",\n      template: \"Template\",\n      lineHeight: \"Hauteur de la ligne\",\n      paragraphStyle: \"Style de paragraphe\",\n      textStyle: \"Style de texte\",\n      imageGallery: \"Galerie d'images\",\n      mention: \"Mention\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Insrer un lien\",\n        url: \"Adresse URL du lien\",\n        text: \"Texte  afficher\",\n        newWindowCheck: \"Ouvrir dans une nouvelle fentre\",\n        downloadLinkCheck: \"Lien de tlchargement\",\n        bookmark: \"Signet\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Notation mathmatique\",\n        fontSizeLabel: \"Taille\",\n        previewLabel: \"Previsualiser\"\n      },\n      imageBox: {\n        title: \"Insrer une image\",\n        file: \"Slectionner le fichier\",\n        url: \"Adresse URL du fichier\",\n        altText: \"Texte Alternatif\"\n      },\n      videoBox: {\n        title: \"Insrer une Vido\",\n        file: \"Slectionner le fichier\",\n        url: \"URL dintgration du mdia, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Insertar une l'audio\",\n        file: \"Slectionner le fichier\",\n        url: \"Adresse URL du fichier\"\n      },\n      browser: {\n        tags: \"Mots cls\",\n        search: \"Chercher\"\n      },\n      caption: \"Insrer une description\",\n      close: \"Fermer\",\n      submitButton: \"Appliquer\",\n      revertButton: \"Revenir en arrire\",\n      proportion: \"Maintenir le rapport hauteur/largeur\",\n      basic: \"Basique\",\n      left: \"Gauche\",\n      right: \"Droite\",\n      center: \"Centr\",\n      width: \"Largeur\",\n      height: \"Hauteur\",\n      size: \"La taille\",\n      ratio: \"Rapport\"\n    },\n    controller: {\n      edit: \"Modifier\",\n      unlink: \"Supprimer un lien\",\n      remove: \"Effacer\",\n      insertRowAbove: \"Insrer une ligne en dessous\",\n      insertRowBelow: \"Insrer une ligne au dessus\",\n      deleteRow: \"Effacer la ligne\",\n      insertColumnBefore: \"Insrer une colonne avant\",\n      insertColumnAfter: \"Insrer une colonne aprs\",\n      deleteColumn: \"Effacer la colonne\",\n      fixedColumnWidth: \"Largeur de colonne fixe\",\n      resize100: \"Redimensionner  100%\",\n      resize75: \"Redimensionner  75%\",\n      resize50: \"Redimensionner  50%\",\n      resize25: \"Redimensionner  25%\",\n      autoSize: \"Taille automatique\",\n      mirrorHorizontal: \"Mirroir, Horizontal\",\n      mirrorVertical: \"Mirroir, Vertical\",\n      rotateLeft: \"Rotation  gauche\",\n      rotateRight: \"Rotation  droite\",\n      maxSize: \"Taille max\",\n      minSize: \"Taille min\",\n      tableHeader: \"En-tte de table\",\n      mergeCells: \"Fusionner les cellules\",\n      splitCells: \"Diviser les Cellules\",\n      HorizontalSplit: \"Scission horizontale\",\n      VerticalSplit: \"Scission verticale\"\n    },\n    menu: {\n      spaced: \"Espacement\",\n      bordered: \"Ligne de dmarcation\",\n      neon: \"Non\",\n      translucent: \"Translucide\",\n      shadow: \"L'ombre\",\n      code: \"Code\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"fr\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"template\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.template = {};\n    /** set submenu */\n\n    var templateDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    templateDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickup.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, templateDiv);\n    /** empty memory */\n\n    templateDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var templateList = core.options.templates;\n\n    if (!templateList || templateList.length === 0) {\n      throw Error('[KothingEditor.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n    }\n\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-list-layer\";\n    var list = '<div class=\"ke-submenu ke-list-inner\">' + '<ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = templateList.length, t; i < len; i++) {\n      t = templateList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var temp = this.options.templates[e.target.getAttribute(\"data-value\")];\n\n    if (temp.html) {\n      this.setContents(temp.html);\n    } else {\n      this.submenuOff();\n      throw Error('[KothingEditor.template.fail] cause : \"templates[i].html not found\"');\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"table\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var contextTable = context.table = {\n      _element: null,\n      _tdElement: null,\n      _trElement: null,\n      _trElements: null,\n      _tableXY: [],\n      _maxWidth: true,\n      _fixedColumn: false,\n      _rtl: core.options.rtl,\n      cellControllerTop: core.options.tableCellControllerPosition === \"top\",\n      resizeText: null,\n      headerButton: null,\n      mergeButton: null,\n      splitButton: null,\n      splitMenu: null,\n      maxText: core.lang.controller.maxSize,\n      minText: core.lang.controller.minSize,\n      _physical_cellCnt: 0,\n      _logical_cellCnt: 0,\n      _rowCnt: 0,\n      _rowIndex: 0,\n      _physical_cellIndex: 0,\n      _logical_cellIndex: 0,\n      _current_colSpan: 0,\n      _current_rowSpan: 0,\n      icons: {\n        expansion: core.icons.expansion,\n        reduction: core.icons.reduction\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var tablePicker = listDiv.querySelector(\".ke-controller-table-picker\");\n    contextTable.tableHighlight = listDiv.querySelector(\".ke-table-size-highlighted\");\n    contextTable.tableUnHighlight = listDiv.querySelector(\".ke-table-size-unhighlighted\");\n    contextTable.tableDisplay = listDiv.querySelector(\".ke-table-size-display\");\n\n    if (core.options.rtl) {\n      contextTable.tableHighlight.style.left = 10 * 18 - 13 + \"px\";\n    }\n    /** set table controller */\n\n\n    var tableController = this.setController_table(core);\n    contextTable.tableController = tableController;\n    contextTable.resizeButton = tableController.querySelector(\"._ke_table_resize\");\n    contextTable.resizeText = tableController.querySelector(\"._ke_table_resize > span > span\");\n    contextTable.columnFixedButton = tableController.querySelector(\"._ke_table_fixed_column\");\n    contextTable.headerButton = tableController.querySelector(\"._ke_table_header\");\n    /** set resizing */\n\n    var resizeDiv = this.setController_tableEditor(core, contextTable.cellControllerTop);\n    contextTable.resizeDiv = resizeDiv;\n    contextTable.splitMenu = resizeDiv.querySelector(\".ke-btn-group-sub\");\n    contextTable.mergeButton = resizeDiv.querySelector(\"._ke_table_merge_button\");\n    contextTable.splitButton = resizeDiv.querySelector(\"._ke_table_split_button\");\n    contextTable.insertRowAboveButton = resizeDiv.querySelector(\"._ke_table_insert_row_a\");\n    contextTable.insertRowBelowButton = resizeDiv.querySelector(\"._ke_table_insert_row_b\");\n    /** add event listeners */\n\n    tablePicker.addEventListener(\"mousemove\", this.onMouseMove_tablePicker.bind(core, contextTable));\n    tablePicker.addEventListener(\"click\", this.appendTable.bind(core));\n    resizeDiv.addEventListener(\"click\", this.onClick_tableController.bind(core));\n    tableController.addEventListener(\"click\", this.onClick_tableController.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** append controller */\n\n    context.element.relative.appendChild(resizeDiv);\n    context.element.relative.appendChild(tableController);\n    /** empty memory */\n\n    listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-selector-table\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-table-size\">' + '<div class=\"ke-table-size-picker ke-controller-table-picker\"></div>' + '<div class=\"ke-table-size-highlighted\"></div>' + '<div class=\"ke-table-size-unhighlighted\"></div>' + \"</div>\" + '<div class=\"ke-table-size-display\">1 x 1</div>';\n    return listDiv;\n  },\n  setController_table: function setController_table(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var tableResize = core.util.createElement(\"DIV\");\n    tableResize.className = \"ke-controller ke-controller-table\";\n    tableResize.innerHTML = \"\" + \"<div>\" + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"resize\" class=\"ke-btn ke-tooltip _ke_table_resize\">' + icons.expansion + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.maxSize + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"layout\" class=\"ke-btn ke-tooltip _ke_table_fixed_column\">' + icons.fixed_column_width + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.fixedColumnWidth + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"header\" class=\"ke-btn ke-tooltip _ke_table_header\">' + icons.table_header + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.tableHeader + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"remove\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return tableResize;\n  },\n  setController_tableEditor: function setController_tableEditor(core, cellControllerTop) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var tableResize = core.util.createElement(\"DIV\");\n    tableResize.className = \"ke-controller ke-controller-table-cell\";\n    tableResize.innerHTML = (cellControllerTop ? \"\" : '<div class=\"ke-arrow ke-arrow-up\"></div>') + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"ke-btn ke-tooltip _ke_table_insert_row_a\">' + icons.insert_row_above + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertRowAbove + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"ke-btn ke-tooltip _ke_table_insert_row_b\">' + icons.insert_row_below + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertRowBelow + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"ke-btn ke-tooltip\">' + icons.delete_row + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.deleteRow + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"merge\" class=\"_ke_table_merge_button ke-btn ke-tooltip\" disabled>' + icons.merge_cell + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mergeCells + \"</span></span>\" + \"</button>\" + \"</div>\" + '<div class=\"ke-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"ke-btn ke-tooltip\">' + icons.insert_column_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertColumnBefore + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"ke-btn ke-tooltip\">' + icons.insert_column_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertColumnAfter + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"ke-btn ke-tooltip\">' + icons.delete_column + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.deleteColumn + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"onsplit\" class=\"_ke_table_split_button ke-btn ke-tooltip\">' + icons.split_cell + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.splitCells + \"</span></span>\" + \"</button>\" + '<div class=\"ke-btn-group-sub kothing-editor-common ke-list-layer ke-table-split\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li class=\"ke-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + lang.controller.VerticalSplit + \"</li>\" + '<li class=\"ke-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + lang.controller.HorizontalSplit + \"</li>\" + \"</ul>\" + \"</div>\" + \"</div>\" + \"</div>\";\n    return tableResize;\n  },\n  appendTable: function appendTable() {\n    var oTable = this.util.createElement(\"TABLE\");\n    var createCells = this.plugins.table.createCells;\n    var x = this.context.table._tableXY[0];\n    var y = this.context.table._tableXY[1];\n    var tableHTML = \"<tbody>\";\n\n    while (y > 0) {\n      tableHTML += \"<tr>\" + createCells.call(this, \"td\", x) + \"</tr>\";\n      --y;\n    }\n\n    tableHTML += \"</tbody>\";\n    oTable.innerHTML = tableHTML;\n    var changed = this.insertComponent(oTable, false, true, false);\n\n    if (changed) {\n      var firstTd = oTable.querySelector(\"td div\");\n      this.setRange(firstTd, 0, firstTd, 0);\n      this.plugins.table.reset_table_picker.call(this);\n    }\n  },\n  createCells: function createCells(nodeName, cnt, returnElement) {\n    nodeName = nodeName.toLowerCase();\n\n    if (!returnElement) {\n      var cellsHTML = \"\";\n\n      while (cnt > 0) {\n        cellsHTML += \"<\" + nodeName + \"><div><br></div></\" + nodeName + \">\";\n        cnt--;\n      }\n\n      return cellsHTML;\n    } else {\n      var cell = this.util.createElement(nodeName);\n      cell.innerHTML = \"<div><br></div>\";\n      return cell;\n    }\n  },\n  onMouseMove_tablePicker: function onMouseMove_tablePicker(contextTable, e) {\n    e.stopPropagation();\n\n    var x = this._w.Math.ceil(e.offsetX / 18);\n\n    var y = this._w.Math.ceil(e.offsetY / 18);\n\n    x = x < 1 ? 1 : x;\n    y = y < 1 ? 1 : y;\n\n    if (contextTable._rtl) {\n      contextTable.tableHighlight.style.left = x * 18 - 13 + \"px\";\n      x = 11 - x;\n    }\n\n    contextTable.tableHighlight.style.width = x + \"em\";\n    contextTable.tableHighlight.style.height = y + \"em\"; // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n    // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n    // contextTable.tableUnHighlight.style.width = x_u + 'em';\n    // contextTable.tableUnHighlight.style.height = y_u + 'em';\n\n    this.util.changeTxt(contextTable.tableDisplay, x + \" x \" + y);\n    contextTable._tableXY = [x, y];\n  },\n  reset_table_picker: function reset_table_picker() {\n    if (!this.context.table.tableHighlight) {\n      return;\n    }\n\n    var highlight = this.context.table.tableHighlight.style;\n    var unHighlight = this.context.table.tableUnHighlight.style;\n    highlight.width = \"1em\";\n    highlight.height = \"1em\";\n    unHighlight.width = \"10em\";\n    unHighlight.height = \"10em\";\n    this.util.changeTxt(this.context.table.tableDisplay, \"1 x 1\");\n    this.submenuOff();\n  },\n  init: function init() {\n    var contextTable = this.context.table;\n    var tablePlugin = this.plugins.table;\n\n    tablePlugin._removeEvents.call(this);\n\n    if (tablePlugin._selectedTable) {\n      var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n      for (var i = 0, len = selectedCells.length; i < len; i++) {\n        this.util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n      }\n    }\n\n    tablePlugin._toggleEditor.call(this, true);\n\n    contextTable._element = null;\n    contextTable._tdElement = null;\n    contextTable._trElement = null;\n    contextTable._trElements = null;\n    contextTable._tableXY = [];\n    contextTable._maxWidth = true;\n    contextTable._fixedColumn = false;\n    contextTable._physical_cellCnt = 0;\n    contextTable._logical_cellCnt = 0;\n    contextTable._rowCnt = 0;\n    contextTable._rowIndex = 0;\n    contextTable._physical_cellIndex = 0;\n    contextTable._logical_cellIndex = 0;\n    contextTable._current_colSpan = 0;\n    contextTable._current_rowSpan = 0;\n    tablePlugin._shift = false;\n    tablePlugin._selectedCells = null;\n    tablePlugin._selectedTable = null;\n    tablePlugin._ref = null;\n    tablePlugin._fixedCell = null;\n    tablePlugin._selectedCell = null;\n    tablePlugin._fixedCellName = null;\n  },\n\n  /** table edit controller */\n  call_controller_tableEdit: function call_controller_tableEdit(tdElement) {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n\n    if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\n      this.controllersOff();\n      this.util.removeClass(tdElement, \"ke-table-selected-cell\");\n      return;\n    }\n\n    var tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, \"TABLE\");\n    contextTable._maxWidth = this.util.hasClass(tableElement, \"ke-table-size-100\") || tableElement.style.width === \"100%\" || !tableElement.style.width && !this.util.hasClass(tableElement, \"ke-table-size-auto\");\n    contextTable._fixedColumn = this.util.hasClass(tableElement, \"ke-table-layout-fixed\") || tableElement.style.tableLayout === \"fixed\";\n    tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? \"width|column\" : \"width\");\n    tablePlugin.setPositionControllerTop.call(this, tableElement);\n    tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\n\n    if (!tablePlugin._shift) {\n      this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, \"table\");\n    }\n  },\n  setPositionControllerTop: function setPositionControllerTop(tableElement) {\n    this.setControllerPosition(this.context.table.tableController, tableElement, \"top\", {\n      left: 0,\n      top: 0\n    });\n  },\n  setPositionControllerDiv: function setPositionControllerDiv(tdElement, reset) {\n    var contextTable = this.context.table;\n    var resizeDiv = contextTable.resizeDiv;\n    this.plugins.table.setCellInfo.call(this, tdElement, reset);\n\n    if (contextTable.cellControllerTop) {\n      this.setControllerPosition(resizeDiv, contextTable._element, \"top\", {\n        left: contextTable.tableController.offsetWidth,\n        top: 0\n      });\n    } else {\n      this.setControllerPosition(resizeDiv, tdElement, \"bottom\", {\n        left: 0,\n        top: 0\n      });\n    }\n  },\n  setCellInfo: function setCellInfo(tdElement, reset) {\n    var contextTable = this.context.table;\n    var table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, \"TABLE\");\n\n    if (/THEAD/i.test(table.firstElementChild.nodeName)) {\n      this.util.addClass(contextTable.headerButton, \"active\");\n    } else {\n      this.util.removeClass(contextTable.headerButton, \"active\");\n    }\n\n    if (reset || contextTable._physical_cellCnt === 0) {\n      if (contextTable._tdElement !== tdElement) {\n        contextTable._tdElement = tdElement;\n        contextTable._trElement = tdElement.parentNode;\n      }\n\n      var rows = contextTable._trElements = table.rows;\n      var cellIndex = tdElement.cellIndex;\n      var cellCnt = 0;\n\n      for (var i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\n        cellCnt += cells[i].colSpan;\n      } // row cnt, row index\n\n\n      var rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\n      contextTable._rowCnt = rows.length; // cell cnt, physical cell index\n\n      contextTable._physical_cellCnt = contextTable._trElement.cells.length;\n      contextTable._logical_cellCnt = cellCnt;\n      contextTable._physical_cellIndex = cellIndex; // span\n\n      contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\n      contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1; // find logcal cell index\n\n      var rowSpanArr = [];\n      var spanIndex = [];\n\n      for (var _i = 0, _cells, colSpan; _i <= rowIndex; _i++) {\n        _cells = rows[_i].cells;\n        colSpan = 0;\n\n        for (var c = 0, cLen = _cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n          cell = _cells[c];\n          cs = cell.colSpan - 1;\n          rs = cell.rowSpan - 1;\n          logcalIndex = c + colSpan;\n\n          if (spanIndex.length > 0) {\n            for (var r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n\n              if (arr.row > _i) {\n                continue;\n              }\n\n              if (logcalIndex >= arr.index) {\n                colSpan += arr.cs;\n                logcalIndex += arr.cs;\n                arr.rs -= 1;\n                arr.row = _i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              } else if (c === cLen - 1) {\n                arr.rs -= 1;\n                arr.row = _i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n            }\n          } // logcal cell index\n\n\n          if (_i === rowIndex && c === cellIndex) {\n            contextTable._logical_cellIndex = logcalIndex;\n            break;\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              index: logcalIndex,\n              cs: cs + 1,\n              rs: rs,\n              row: -1\n            });\n          }\n\n          colSpan += cs;\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n      }\n\n      rowSpanArr = null;\n      spanIndex = null;\n    }\n  },\n  editTable: function editTable(type, option) {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n    var table = contextTable._element;\n    var isRow = type === \"row\";\n\n    if (isRow) {\n      var tableAttr = contextTable._trElement.parentNode;\n\n      if (/^THEAD$/i.test(tableAttr.nodeName)) {\n        if (option === \"up\") {\n          return;\n        } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\n          table.innerHTML += \"<tbody><tr>\" + tablePlugin.createCells.call(this, \"td\", contextTable._logical_cellCnt, false) + \"</tr></tbody>\";\n          return;\n        }\n      }\n    } // multi\n\n\n    if (tablePlugin._ref) {\n      var positionCell = contextTable._tdElement;\n      var selectedCells = tablePlugin._selectedCells; // multi - row\n\n      if (isRow) {\n        // remove row\n        if (!option) {\n          var row = selectedCells[0].parentNode;\n          var removeCells = [selectedCells[0]];\n\n          for (var i = 1, len = selectedCells.length, cell; i < len; i++) {\n            cell = selectedCells[i];\n\n            if (row !== cell.parentNode) {\n              removeCells.push(cell);\n              row = cell.parentNode;\n            }\n          }\n\n          for (var _i2 = 0, _len = removeCells.length; _i2 < _len; _i2++) {\n            tablePlugin.setCellInfo.call(this, removeCells[_i2], true);\n            tablePlugin.editRow.call(this, option);\n          }\n        } else {\n          // edit row\n          tablePlugin.setCellInfo.call(this, option === \"up\" ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\n          tablePlugin.editRow.call(this, option, positionCell);\n        }\n      } else {\n        // multi - cell\n        var firstRow = selectedCells[0].parentNode; // remove cell\n\n        if (!option) {\n          var _removeCells = [selectedCells[0]];\n\n          for (var _i3 = 1, _len2 = selectedCells.length, _cell; _i3 < _len2; _i3++) {\n            _cell = selectedCells[_i3];\n\n            if (firstRow === _cell.parentNode) {\n              _removeCells.push(_cell);\n            } else {\n              break;\n            }\n          }\n\n          for (var _i4 = 0, _len3 = _removeCells.length; _i4 < _len3; _i4++) {\n            tablePlugin.setCellInfo.call(this, _removeCells[_i4], true);\n            tablePlugin.editCell.call(this, option);\n          }\n        } else {\n          // edit cell\n          var rightCell = null;\n\n          for (var _i5 = 0, _len4 = selectedCells.length - 1; _i5 < _len4; _i5++) {\n            if (firstRow !== selectedCells[_i5 + 1].parentNode) {\n              rightCell = selectedCells[_i5];\n              break;\n            }\n          }\n\n          tablePlugin.setCellInfo.call(this, option === \"left\" ? selectedCells[0] : rightCell || selectedCells[0], true);\n          tablePlugin.editCell.call(this, option, positionCell);\n        }\n      }\n\n      if (!option) {\n        tablePlugin.init.call(this);\n      }\n    } else {\n      // one\n      tablePlugin[isRow ? \"editRow\" : \"editCell\"].call(this, option);\n    } // after remove\n\n\n    if (!option) {\n      var children = table.children;\n\n      for (var _i6 = 0; _i6 < children.length; _i6++) {\n        if (children[_i6].children.length === 0) {\n          this.util.removeItem(children[_i6]);\n          _i6--;\n        }\n      }\n\n      if (table.children.length === 0) {\n        this.util.removeItem(table);\n      }\n    }\n  },\n  editRow: function editRow(option, positionResetElement) {\n    var contextTable = this.context.table;\n    var remove = !option;\n    var up = option === \"up\";\n    var originRowIndex = contextTable._rowIndex;\n    var rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\n    var sign = remove ? -1 : 1;\n    var rows = contextTable._trElements;\n    var cellCnt = contextTable._logical_cellCnt;\n\n    for (var i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\n      cell = rows[i].cells;\n\n      if (cell.length === 0) {\n        return;\n      }\n\n      for (var c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\n        rs = cell[c].rowSpan;\n        cs = cell[c].colSpan;\n\n        if (rs < 2 && cs < 2) {\n          continue;\n        }\n\n        if (rs + i > rowIndex && rowIndex > i) {\n          cell[c].rowSpan = rs + sign;\n          cellCnt -= cs;\n        }\n      }\n    }\n\n    if (remove) {\n      var next = rows[originRowIndex + 1];\n\n      if (next) {\n        var spanCells = [];\n        var cells = rows[originRowIndex].cells;\n        var colSpan = 0;\n\n        for (var _i7 = 0, _len5 = cells.length, _cell2, logcalIndex; _i7 < _len5; _i7++) {\n          _cell2 = cells[_i7];\n          logcalIndex = _i7 + colSpan;\n          colSpan += _cell2.colSpan - 1;\n\n          if (_cell2.rowSpan > 1) {\n            _cell2.rowSpan -= 1;\n            spanCells.push({\n              cell: _cell2.cloneNode(false),\n              index: logcalIndex\n            });\n          }\n        }\n\n        if (spanCells.length > 0) {\n          var spanCell = spanCells.shift();\n          cells = next.cells;\n          colSpan = 0;\n\n          for (var _i8 = 0, _len6 = cells.length, _cell3, _logcalIndex; _i8 < _len6; _i8++) {\n            _cell3 = cells[_i8];\n            _logcalIndex = _i8 + colSpan;\n            colSpan += _cell3.colSpan - 1;\n\n            if (_logcalIndex >= spanCell.index) {\n              _i8--, colSpan--;\n              colSpan += spanCell.cell.colSpan - 1;\n              next.insertBefore(spanCell.cell, _cell3);\n              spanCell = spanCells.shift();\n\n              if (!spanCell) {\n                break;\n              }\n            }\n          }\n\n          if (spanCell) {\n            next.appendChild(spanCell.cell);\n\n            for (var _i9 = 0, _len7 = spanCells.length; _i9 < _len7; _i9++) {\n              next.appendChild(spanCells[_i9].cell);\n            }\n          }\n        }\n      }\n\n      contextTable._element.deleteRow(rowIndex);\n    } else {\n      var newRow = contextTable._element.insertRow(rowIndex);\n\n      newRow.innerHTML = this.plugins.table.createCells.call(this, \"td\", cellCnt, false);\n    }\n\n    if (!remove) {\n      this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n    } else {\n      this.controllersOff();\n    }\n  },\n  editCell: function editCell(option, positionResetElement) {\n    var contextTable = this.context.table;\n    var util = this.util;\n    var remove = !option;\n    var left = option === \"left\";\n    var colSpan = contextTable._current_colSpan;\n    var cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\n    var rows = contextTable._trElements;\n    var rowSpanArr = [];\n    var spanIndex = [];\n    var passCell = 0;\n    var removeCell = [];\n    var removeSpanArr = [];\n\n    for (var i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\n      row = rows[i];\n      insertIndex = cellIndex;\n      applySpan = false;\n      cells = row.cells;\n      cellColSpan = 0;\n\n      for (var c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\n        cell = cells[c];\n\n        if (!cell) {\n          break;\n        }\n\n        rs = cell.rowSpan - 1;\n        cs = cell.colSpan - 1;\n\n        if (!remove) {\n          if (c >= insertIndex) {\n            break;\n          }\n\n          if (cs > 0) {\n            if (passCell < 1 && cs + c >= insertIndex) {\n              cell.colSpan += 1;\n              insertIndex = null;\n              passCell = rs + 1;\n              break;\n            }\n\n            insertIndex -= cs;\n          }\n\n          if (!applySpan) {\n            for (var r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n              insertIndex -= arr.cs;\n              arr.rs -= 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            }\n\n            applySpan = true;\n          }\n        } else {\n          removeIndex = c + cellColSpan;\n\n          if (spanIndex.length > 0) {\n            var lastCell = !cells[c + 1];\n\n            for (var _r = 0, _arr; _r < spanIndex.length; _r++) {\n              _arr = spanIndex[_r];\n\n              if (_arr.row > i) {\n                continue;\n              }\n\n              if (removeIndex >= _arr.index) {\n                cellColSpan += _arr.cs;\n                removeIndex = c + cellColSpan;\n                _arr.rs -= 1;\n                _arr.row = i + 1;\n\n                if (_arr.rs < 1) {\n                  spanIndex.splice(_r, 1);\n                  _r--;\n                }\n              } else if (lastCell) {\n                _arr.rs -= 1;\n                _arr.row = i + 1;\n\n                if (_arr.rs < 1) {\n                  spanIndex.splice(_r, 1);\n                  _r--;\n                }\n              }\n            }\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              rs: rs,\n              cs: cs + 1,\n              index: removeIndex,\n              row: -1\n            });\n          }\n\n          if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\n            removeCell.push(cell);\n          } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\n            cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs);\n          } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\n            removeSpanArr.push({\n              cell: cell,\n              i: i,\n              rs: i + rs\n            });\n          }\n\n          cellColSpan += cs;\n        }\n      }\n\n      spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n        return a.index - b.index;\n      });\n      rowSpanArr = [];\n\n      if (!remove) {\n        if (passCell > 0) {\n          passCell -= 1;\n          continue;\n        }\n\n        if (insertIndex !== null && cells.length > 0) {\n          newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\n          newCell = row.insertBefore(newCell, cells[insertIndex]);\n        }\n      }\n    }\n\n    if (remove) {\n      var removeFirst, removeEnd;\n\n      for (var _r2 = 0, rLen = removeCell.length, _row; _r2 < rLen; _r2++) {\n        _row = removeCell[_r2].parentNode;\n        util.removeItem(removeCell[_r2]);\n\n        if (_row.cells.length === 0) {\n          if (!removeFirst) {\n            removeFirst = util.getArrayIndex(rows, _row);\n          }\n\n          removeEnd = util.getArrayIndex(rows, _row);\n          util.removeItem(_row);\n        }\n      }\n\n      for (var _c = 0, _cLen = removeSpanArr.length, rowSpanCell; _c < _cLen; _c++) {\n        rowSpanCell = removeSpanArr[_c];\n        rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\n      }\n\n      this.controllersOff();\n    } else {\n      this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n    }\n  },\n  _closeSplitMenu: null,\n  openSplitMenu: function openSplitMenu() {\n    this.util.addClass(this.context.table.splitButton, \"on\");\n    this.context.table.splitMenu.style.display = \"inline-table\";\n\n    this.plugins.table._closeSplitMenu = function () {\n      this.util.removeClass(this.context.table.splitButton, \"on\");\n      this.context.table.splitMenu.style.display = \"none\";\n      this.removeDocEvent(\"click\", this.plugins.table._closeSplitMenu);\n      this.plugins.table._closeSplitMenu = null;\n    }.bind(this);\n\n    this.addDocEvent(\"click\", this.plugins.table._closeSplitMenu);\n  },\n  splitCells: function splitCells(direction) {\n    var util = this.util;\n    var vertical = direction === \"vertical\";\n    var contextTable = this.context.table;\n    var currentCell = contextTable._tdElement;\n    var rows = contextTable._trElements;\n    var currentRow = contextTable._trElement;\n    var index = contextTable._logical_cellIndex;\n    var rowIndex = contextTable._rowIndex;\n    var newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true); // vertical\n\n    if (vertical) {\n      var currentColSpan = currentCell.colSpan;\n      newCell.rowSpan = currentCell.rowSpan; // colspan > 1\n\n      if (currentColSpan > 1) {\n        newCell.colSpan = this._w.Math.floor(currentColSpan / 2);\n        currentCell.colSpan = currentColSpan - newCell.colSpan;\n        currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n      } else {\n        // colspan - 1\n        var rowSpanArr = [];\n        var spanIndex = [];\n\n        for (var i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\n          cells = rows[i].cells;\n          colSpan = 0;\n\n          for (var c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n            cell = cells[c];\n            cs = cell.colSpan - 1;\n            rs = cell.rowSpan - 1;\n            logcalIndex = c + colSpan;\n\n            if (spanIndex.length > 0) {\n              for (var r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n\n                if (arr.row > i) {\n                  continue;\n                }\n\n                if (logcalIndex >= arr.index) {\n                  colSpan += arr.cs;\n                  logcalIndex += arr.cs;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (c === cLen - 1) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            }\n\n            if (logcalIndex <= index && rs > 0) {\n              rowSpanArr.push({\n                index: logcalIndex,\n                cs: cs + 1,\n                rs: rs,\n                row: -1\n              });\n            }\n\n            if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\n              cell.colSpan += 1;\n              break;\n            }\n\n            if (logcalIndex > index) {\n              break;\n            }\n\n            colSpan += cs;\n          }\n\n          spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n            return a.index - b.index;\n          });\n          rowSpanArr = [];\n        }\n\n        currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n      }\n    } else {\n      // horizontal\n      var currentRowSpan = currentCell.rowSpan;\n      newCell.colSpan = currentCell.colSpan; // rowspan > 1\n\n      if (currentRowSpan > 1) {\n        newCell.rowSpan = this._w.Math.floor(currentRowSpan / 2);\n        var newRowSpan = currentRowSpan - newCell.rowSpan;\n        var _rowSpanArr = [];\n        var nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\n\n        for (var _i10 = 0, _cells2, _colSpan; _i10 < nextRowIndex; _i10++) {\n          _cells2 = rows[_i10].cells;\n          _colSpan = 0;\n\n          for (var _c2 = 0, _cLen2 = _cells2.length, _cell4, _cs, _logcalIndex2; _c2 < _cLen2; _c2++) {\n            _logcalIndex2 = _c2 + _colSpan;\n\n            if (_logcalIndex2 >= index) {\n              break;\n            }\n\n            _cell4 = _cells2[_c2];\n            _cs = _cell4.rowSpan - 1;\n\n            if (_cs > 0 && _cs + _i10 >= nextRowIndex && _logcalIndex2 < index) {\n              _rowSpanArr.push({\n                index: _logcalIndex2,\n                cs: _cell4.colSpan\n              });\n            }\n\n            _colSpan += _cell4.colSpan - 1;\n          }\n        }\n\n        var nextRow = rows[nextRowIndex];\n        var nextCells = nextRow.cells;\n\n        var _rs = _rowSpanArr.shift();\n\n        for (var _c3 = 0, _cLen3 = nextCells.length, _colSpan2 = 0, _cell5, _cs2, _logcalIndex3, insertIndex; _c3 < _cLen3; _c3++) {\n          _logcalIndex3 = _c3 + _colSpan2;\n          _cell5 = nextCells[_c3];\n          _cs2 = _cell5.colSpan - 1;\n          insertIndex = _logcalIndex3 + _cs2 + 1;\n\n          if (_rs && insertIndex >= _rs.index) {\n            _colSpan2 += _rs.cs;\n            insertIndex += _rs.cs;\n            _rs = _rowSpanArr.shift();\n          }\n\n          if (insertIndex >= index || _c3 === _cLen3 - 1) {\n            nextRow.insertBefore(newCell, _cell5.nextElementSibling);\n            break;\n          }\n\n          _colSpan2 += _cs2;\n        }\n\n        currentCell.rowSpan = newRowSpan;\n      } else {\n        // rowspan - 1\n        newCell.rowSpan = currentCell.rowSpan;\n        var newRow = util.createElement(\"TR\");\n        newRow.appendChild(newCell);\n\n        for (var _i11 = 0, _cells4; _i11 < rowIndex; _i11++) {\n          _cells4 = rows[_i11].cells;\n\n          if (_cells4.length === 0) {\n            return;\n          }\n\n          for (var _c4 = 0, _cLen4 = _cells4.length; _c4 < _cLen4; _c4++) {\n            if (_i11 + _cells4[_c4].rowSpan - 1 >= rowIndex) {\n              _cells4[_c4].rowSpan += 1;\n            }\n          }\n        }\n\n        var physicalIndex = contextTable._physical_cellIndex;\n        var _cells3 = currentRow.cells;\n\n        for (var _c5 = 0, _cLen5 = _cells3.length; _c5 < _cLen5; _c5++) {\n          if (_c5 === physicalIndex) {\n            continue;\n          }\n\n          _cells3[_c5].rowSpan += 1;\n        }\n\n        currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\n      }\n    }\n\n    this.focusEdge(currentCell);\n    this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\n  },\n  mergeCells: function mergeCells() {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n    var util = this.util;\n    var ref = tablePlugin._ref;\n    var selectedCells = tablePlugin._selectedCells;\n    var mergeCell = selectedCells[0];\n    var emptyRowFirst = null;\n    var emptyRowLast = null;\n    var cs = ref.ce - ref.cs + 1;\n    var rs = ref.re - ref.rs + 1;\n    var mergeHTML = \"\";\n    var row = null;\n\n    for (var i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\n      cell = selectedCells[i];\n\n      if (row !== cell.parentNode) {\n        row = cell.parentNode;\n      }\n\n      ch = cell.children;\n\n      for (var c = 0, cLen = ch.length; c < cLen; c++) {\n        if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\n          util.removeItem(ch[c]);\n        }\n      }\n\n      mergeHTML += cell.innerHTML;\n      util.removeItem(cell);\n\n      if (row.cells.length === 0) {\n        if (!emptyRowFirst) {\n          emptyRowFirst = row;\n        } else {\n          emptyRowLast = row;\n        }\n\n        rs -= 1;\n      }\n    }\n\n    if (emptyRowFirst) {\n      var rows = contextTable._trElements;\n      var rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\n      var rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\n      var removeRows = [];\n\n      for (var _i12 = 0, cells; _i12 <= rowIndexLast; _i12++) {\n        cells = rows[_i12].cells;\n\n        if (cells.length === 0) {\n          removeRows.push(rows[_i12]);\n          continue;\n        }\n\n        for (var _c6 = 0, _cLen6 = cells.length, _cell6, _rs2; _c6 < _cLen6; _c6++) {\n          _cell6 = cells[_c6];\n          _rs2 = _cell6.rowSpan - 1;\n\n          if (_rs2 > 0 && _i12 + _rs2 >= rowIndexFirst) {\n            _cell6.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, _i12, _i12 + _rs2);\n          }\n        }\n      }\n\n      for (var _i13 = 0, _len8 = removeRows.length; _i13 < _len8; _i13++) {\n        util.removeItem(removeRows[_i13]);\n      }\n    }\n\n    mergeCell.innerHTML += mergeHTML;\n    mergeCell.colSpan = cs;\n    mergeCell.rowSpan = rs;\n    this.controllersOff();\n    tablePlugin.setActiveButton.call(this, true, false);\n    tablePlugin.call_controller_tableEdit.call(this, mergeCell);\n    util.addClass(mergeCell, \"ke-table-selected-cell\");\n    this.focusEdge(mergeCell);\n  },\n  toggleHeader: function toggleHeader() {\n    var util = this.util;\n    var headerButton = this.context.table.headerButton;\n    var active = util.hasClass(headerButton, \"active\");\n    var table = this.context.table._element;\n\n    if (!active) {\n      var header = util.createElement(\"THEAD\");\n      header.innerHTML = \"<tr>\" + this.plugins.table.createCells.call(this, \"th\", this.context.table._logical_cellCnt, false) + \"</tr>\";\n      table.insertBefore(header, table.firstElementChild);\n    } else {\n      util.removeItem(table.querySelector(\"thead\"));\n    }\n\n    util.toggleClass(headerButton, \"active\");\n\n    if (/TH/i.test(this.context.table._tdElement.nodeName)) {\n      this.controllersOff();\n    } else {\n      this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\n    }\n  },\n  setTableStyle: function setTableStyle(styles) {\n    var contextTable = this.context.table;\n    var tableElement = contextTable._element;\n    var icon, span, sizeIcon, text;\n\n    if (styles.indexOf(\"width\") > -1) {\n      icon = contextTable.resizeButton.firstElementChild;\n      span = contextTable.resizeText;\n\n      if (!contextTable._maxWidth) {\n        sizeIcon = contextTable.icons.expansion;\n        text = contextTable.maxText;\n        contextTable.columnFixedButton.style.display = \"none\";\n        this.util.removeClass(tableElement, \"ke-table-size-100\");\n        this.util.addClass(tableElement, \"ke-table-size-auto\");\n      } else {\n        sizeIcon = contextTable.icons.reduction;\n        text = contextTable.minText;\n        contextTable.columnFixedButton.style.display = \"block\";\n        this.util.removeClass(tableElement, \"ke-table-size-auto\");\n        this.util.addClass(tableElement, \"ke-table-size-100\");\n      }\n\n      this.util.changeElement(icon, sizeIcon);\n      this.util.changeTxt(span, text);\n    }\n\n    if (styles.indexOf(\"column\") > -1) {\n      if (!contextTable._fixedColumn) {\n        this.util.removeClass(tableElement, \"ke-table-layout-fixed\");\n        this.util.addClass(tableElement, \"ke-table-layout-auto\");\n        this.util.removeClass(contextTable.columnFixedButton, \"active\");\n      } else {\n        this.util.removeClass(tableElement, \"ke-table-layout-auto\");\n        this.util.addClass(tableElement, \"ke-table-layout-fixed\");\n        this.util.addClass(contextTable.columnFixedButton, \"active\");\n      }\n    }\n  },\n  setActiveButton: function setActiveButton(fixedCell, selectedCell) {\n    var contextTable = this.context.table;\n\n    if (/^TH$/i.test(fixedCell.nodeName)) {\n      contextTable.insertRowAboveButton.setAttribute(\"disabled\", true);\n      contextTable.insertRowBelowButton.setAttribute(\"disabled\", true);\n    } else {\n      contextTable.insertRowAboveButton.removeAttribute(\"disabled\");\n      contextTable.insertRowBelowButton.removeAttribute(\"disabled\");\n    }\n\n    if (!selectedCell || fixedCell === selectedCell) {\n      contextTable.splitButton.removeAttribute(\"disabled\");\n      contextTable.mergeButton.setAttribute(\"disabled\", true);\n    } else {\n      contextTable.splitButton.setAttribute(\"disabled\", true);\n      contextTable.mergeButton.removeAttribute(\"disabled\");\n    }\n  },\n  // multi selecte\n  _bindOnSelect: null,\n  _bindOffSelect: null,\n  _bindOffShift: null,\n  _selectedCells: null,\n  _shift: false,\n  _fixedCell: null,\n  _fixedCellName: null,\n  _selectedCell: null,\n  _selectedTable: null,\n  _ref: null,\n  _toggleEditor: function _toggleEditor(enabled) {\n    this.context.element.wysiwyg.setAttribute(\"contenteditable\", enabled);\n\n    if (enabled) {\n      this.util.removeClass(this.context.element.wysiwyg, \"ke-disabled\");\n    } else {\n      this.util.addClass(this.context.element.wysiwyg, \"ke-disabled\");\n    }\n  },\n  _offCellMultiSelect: function _offCellMultiSelect(e) {\n    e.stopPropagation();\n    var tablePlugin = this.plugins.table;\n\n    if (!tablePlugin._shift) {\n      tablePlugin._removeEvents.call(this);\n\n      tablePlugin._toggleEditor.call(this, true);\n    } else if (tablePlugin._initBind) {\n      this._wd.removeEventListener(\"touchmove\", tablePlugin._initBind);\n\n      tablePlugin._initBind = null;\n    }\n\n    if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) {\n      return;\n    }\n\n    tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\n    tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\n    tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    if (tablePlugin._selectedCell && tablePlugin._fixedCell) {\n      this.focusEdge(tablePlugin._selectedCell);\n    }\n\n    if (!tablePlugin._shift) {\n      tablePlugin._fixedCell = null;\n      tablePlugin._selectedCell = null;\n      tablePlugin._fixedCellName = null;\n    }\n  },\n  _onCellMultiSelect: function _onCellMultiSelect(e) {\n    this._antiBlur = true;\n    var tablePlugin = this.plugins.table;\n    var target = this.util.getParentElement(e.target, this.util.isCell);\n\n    if (tablePlugin._shift) {\n      if (target === tablePlugin._fixedCell) {\n        tablePlugin._toggleEditor.call(this, true);\n      } else {\n        tablePlugin._toggleEditor.call(this, false);\n      }\n    } else if (!tablePlugin._ref) {\n      if (target === tablePlugin._fixedCell) {\n        return;\n      } else {\n        tablePlugin._toggleEditor.call(this, false);\n      }\n    }\n\n    if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || tablePlugin._selectedTable !== this.util.getParentElement(target, \"TABLE\")) {\n      return;\n    }\n\n    tablePlugin._selectedCell = target;\n\n    tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\n  },\n  _setMultiCells: function _setMultiCells(startCell, endCell) {\n    var tablePlugin = this.plugins.table;\n    var rows = tablePlugin._selectedTable.rows;\n    var util = this.util;\n\n    var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    for (var i = 0, len = selectedCells.length; i < len; i++) {\n      util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n    }\n\n    if (startCell === endCell) {\n      util.addClass(startCell, \"ke-table-selected-cell\");\n\n      if (!tablePlugin._shift) {\n        return;\n      }\n    }\n\n    var findSelectedCell = true;\n    var spanIndex = [];\n    var rowSpanArr = [];\n    var ref = tablePlugin._ref = {\n      _i: 0,\n      cs: null,\n      ce: null,\n      rs: null,\n      re: null\n    };\n\n    for (var _i14 = 0, _len9 = rows.length, cells, colSpan; _i14 < _len9; _i14++) {\n      cells = rows[_i14].cells;\n      colSpan = 0;\n\n      for (var c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\n        cell = cells[c];\n        cs = cell.colSpan - 1;\n        rs = cell.rowSpan - 1;\n        logcalIndex = c + colSpan;\n\n        if (spanIndex.length > 0) {\n          for (var r = 0, arr; r < spanIndex.length; r++) {\n            arr = spanIndex[r];\n\n            if (arr.row > _i14) {\n              continue;\n            }\n\n            if (logcalIndex >= arr.index) {\n              colSpan += arr.cs;\n              logcalIndex += arr.cs;\n              arr.rs -= 1;\n              arr.row = _i14 + 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            } else if (c === cLen - 1) {\n              arr.rs -= 1;\n              arr.row = _i14 + 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            }\n          }\n        }\n\n        if (findSelectedCell) {\n          if (cell === startCell || cell === endCell) {\n            ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\n            ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n            ref.rs = ref.rs !== null && ref.rs < _i14 ? ref.rs : _i14;\n            ref.re = ref.re !== null && ref.re > _i14 + rs ? ref.re : _i14 + rs;\n            ref._i += 1;\n          }\n\n          if (ref._i === 2) {\n            findSelectedCell = false;\n            spanIndex = [];\n            rowSpanArr = [];\n            _i14 = -1;\n            break;\n          }\n        } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, _i14, _i14 + rs)) {\n          var newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\n          var newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n          var newRs = ref.rs < _i14 ? ref.rs : _i14;\n          var newRe = ref.re > _i14 + rs ? ref.re : _i14 + rs;\n\n          if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\n            ref.cs = newCs;\n            ref.ce = newCe;\n            ref.rs = newRs;\n            ref.re = newRe;\n            _i14 = -1;\n            spanIndex = [];\n            rowSpanArr = [];\n            break;\n          }\n\n          util.addClass(cell, \"ke-table-selected-cell\");\n        }\n\n        if (rs > 0) {\n          rowSpanArr.push({\n            index: logcalIndex,\n            cs: cs + 1,\n            rs: rs,\n            row: -1\n          });\n        }\n\n        colSpan += cell.colSpan - 1;\n      }\n\n      spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n        return a.index - b.index;\n      });\n      rowSpanArr = [];\n    }\n  },\n  _removeEvents: function _removeEvents() {\n    var tablePlugin = this.plugins.table;\n\n    if (tablePlugin._initBind) {\n      this._wd.removeEventListener(\"touchmove\", tablePlugin._initBind);\n\n      tablePlugin._initBind = null;\n    }\n\n    if (tablePlugin._bindOnSelect) {\n      this._wd.removeEventListener(\"mousedown\", tablePlugin._bindOnSelect);\n\n      this._wd.removeEventListener(\"mousemove\", tablePlugin._bindOnSelect);\n\n      tablePlugin._bindOnSelect = null;\n    }\n\n    if (tablePlugin._bindOffSelect) {\n      this._wd.removeEventListener(\"mouseup\", tablePlugin._bindOffSelect);\n\n      tablePlugin._bindOffSelect = null;\n    }\n\n    if (tablePlugin._bindOffShift) {\n      this._wd.removeEventListener(\"keyup\", tablePlugin._bindOffShift);\n\n      tablePlugin._bindOffShift = null;\n    }\n  },\n  _initBind: null,\n  onTableCellMultiSelect: function onTableCellMultiSelect(tdElement, shift) {\n    var tablePlugin = this.plugins.table;\n\n    tablePlugin._removeEvents.call(this);\n\n    this.controllersOff();\n    tablePlugin._shift = shift;\n    tablePlugin._fixedCell = tdElement;\n    tablePlugin._fixedCellName = tdElement.nodeName;\n    tablePlugin._selectedTable = this.util.getParentElement(tdElement, \"TABLE\");\n\n    var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    for (var i = 0, len = selectedCells.length; i < len; i++) {\n      this.util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n    }\n\n    this.util.addClass(tdElement, \"ke-table-selected-cell\");\n    tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\n    tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\n\n    if (!shift) {\n      this._wd.addEventListener(\"mousemove\", tablePlugin._bindOnSelect, false);\n    } else {\n      tablePlugin._bindOffShift = function () {\n        this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, \"table\");\n\n        if (!tablePlugin._ref) {\n          this.controllersOff();\n        }\n      }.bind(this);\n\n      this._wd.addEventListener(\"keyup\", tablePlugin._bindOffShift, false);\n\n      this._wd.addEventListener(\"mousedown\", tablePlugin._bindOnSelect, false);\n    }\n\n    this._wd.addEventListener(\"mouseup\", tablePlugin._bindOffSelect, false);\n\n    tablePlugin._initBind = tablePlugin.init.bind(this);\n\n    this._wd.addEventListener(\"touchmove\", tablePlugin._initBind, false);\n  },\n  onClick_tableController: function onClick_tableController(e) {\n    e.stopPropagation();\n    var target = e.target.getAttribute(\"data-command\") ? e.target : e.target.parentNode;\n\n    if (target.getAttribute(\"disabled\")) {\n      return;\n    }\n\n    var command = target.getAttribute(\"data-command\");\n    var value = target.getAttribute(\"data-value\");\n    var option = target.getAttribute(\"data-option\");\n    var tablePlugin = this.plugins.table;\n\n    if (typeof tablePlugin._closeSplitMenu === \"function\") {\n      tablePlugin._closeSplitMenu();\n\n      if (command === \"onsplit\") {\n        return;\n      }\n    }\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n    var contextTable = this.context.table;\n\n    switch (command) {\n      case \"insert\":\n      case \"delete\":\n        tablePlugin.editTable.call(this, value, option);\n        break;\n\n      case \"header\":\n        tablePlugin.toggleHeader.call(this);\n        break;\n\n      case \"onsplit\":\n        tablePlugin.openSplitMenu.call(this);\n        break;\n\n      case \"split\":\n        tablePlugin.splitCells.call(this, value);\n        break;\n\n      case \"merge\":\n        tablePlugin.mergeCells.call(this);\n        break;\n\n      case \"resize\":\n        contextTable._maxWidth = !contextTable._maxWidth;\n        tablePlugin.setTableStyle.call(this, \"width\");\n        tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n        tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n        break;\n\n      case \"layout\":\n        contextTable._fixedColumn = !contextTable._fixedColumn;\n        tablePlugin.setTableStyle.call(this, \"column\");\n        tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n        tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n        break;\n\n      case \"remove\":\n        var emptyDiv = contextTable._element.parentNode;\n        this.util.removeItem(contextTable._element);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) {\n          this.util.removeItemAllParents(emptyDiv, function (current) {\n            return current.childNodes.length === 0;\n          }, null);\n        }\n\n        this.focus();\n    } // history stack\n\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"formatBlock\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.formatBlock = {\n      targetText: targetElement.querySelector(\".txt\"),\n      targetTooltip: targetElement.parentNode.querySelector(\".ke-tooltip-text\"),\n      _formatList: null,\n      currentFormat: \"\",\n      icon: icons.format_block\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickUp.bind(core));\n    context.formatBlock._formatList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang_toolbar = core.lang.toolbar;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var defaultFormats = [\"p\", \"div\", \"blockquote\", \"pre\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\n    var formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n      format = formatList[i];\n\n      if (typeof format === \"string\" && defaultFormats.indexOf(format) > -1) {\n        tagName = format.toLowerCase();\n        command = tagName === \"blockquote\" ? \"range\" : tagName === \"pre\" ? \"free\" : \"replace\";\n        h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : \"\";\n        name = lang_toolbar[\"tag_\" + (h ? \"h\" : tagName)] + h;\n        className = \"\";\n        attrs = \"\";\n      } else {\n        tagName = format.tag.toLowerCase();\n        command = format.command;\n        name = format.name || tagName;\n        className = format.class;\n        attrs = className ? ' class=\"' + className + '\"' : \"\";\n      }\n\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' + \"<\" + tagName + attrs + \">\" + name + \"</\" + tagName + \">\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var formatTitle = this.lang.toolbar.formats; // const target = this.context.formatBlock.targetText;\n\n    var target = this.context.formatBlock.targetText.firstElementChild;\n    var icon = this.context.formatBlock.icon;\n\n    if (!element) {\n      // this.util.changeTxt(target, formatTitle);\n      this.util.changeElement(target, icon);\n    } else if (this.util.isFormatElement(element)) {\n      var formatContext = this.context.formatBlock;\n      var formatList = formatContext._formatList;\n      var nodeName = element.nodeName.toLowerCase();\n      var className = (element.className.match(/(\\s|^)__ke__format__[^\\s]+/) || [\"\"])[0].trim();\n\n      for (var i = 0, len = formatList.length, f; i < len; i++) {\n        f = formatList[i];\n\n        if (nodeName === f.getAttribute(\"data-value\") && className === f.getAttribute(\"data-class\")) {\n          formatTitle = f.title;\n          break;\n        }\n      } // this.util.changeTxt(target, formatTitle);\n\n\n      this.util.changeElement(target, \"<span>\".concat(formatTitle, \"</span>\"));\n      target.setAttribute(\"data-value\", nodeName);\n      target.setAttribute(\"data-class\", className);\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var formatContext = this.context.formatBlock;\n    var formatList = formatContext._formatList;\n    var target = formatContext.targetText;\n    var currentFormat = (target.getAttribute(\"data-value\") || \"\") + (target.getAttribute(\"data-class\") || \"\");\n\n    if (currentFormat !== formatContext.currentFormat) {\n      for (var i = 0, len = formatList.length, f; i < len; i++) {\n        f = formatList[i];\n\n        if (currentFormat === f.getAttribute(\"data-value\") + f.getAttribute(\"data-class\")) {\n          this.util.addClass(f, \"active\");\n        } else {\n          this.util.removeClass(f, \"active\");\n        }\n      }\n\n      formatContext.currentFormat = currentFormat;\n    }\n  },\n  pickUp: function pickUp(e) {\n    var _this = this;\n\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = null,\n        value = null,\n        tag = null,\n        className = \"\";\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n      value = target.getAttribute(\"data-value\");\n      className = target.getAttribute(\"data-class\");\n\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    } // blockquote\n\n\n    if (command === \"range\") {\n      var rangeElement = tag.cloneNode(false);\n      this.applyRangeFormatElement(rangeElement);\n    } else {\n      // free, replace\n      var range = this.getRange();\n      var selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n      if (selectedFormsts.length === 0) {\n        range = this.getRange_addLine(range, null);\n        selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n        if (selectedFormsts.length === 0) {\n          return;\n        }\n      }\n\n      var startOffset = range.startOffset;\n      var endOffset = range.endOffset;\n      var util = this.util;\n      var first = selectedFormsts[0];\n      var last = selectedFormsts[selectedFormsts.length - 1];\n      var firstPath = util.getNodePath(range.startContainer, first, null, null);\n      var lastPath = util.getNodePath(range.endContainer, last, null, null); // remove selected list\n\n      var rlist = this.detachList(selectedFormsts, false);\n\n      if (rlist.sc) {\n        first = rlist.sc;\n      }\n\n      if (rlist.ec) {\n        last = rlist.ec;\n      } // change format tag\n\n\n      this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n      var modifiedFormsts = this.getSelectedElementsAndComponents(false); // free format\n\n      if (command === \"free\") {\n        (function () {\n          var len = modifiedFormsts.length - 1;\n          var parentNode = modifiedFormsts[len].parentNode;\n          var freeElement = tag.cloneNode(false);\n          var focusElement = freeElement;\n\n          for (var i = len, f, html, before, next, inner, isComp, _first = true; i >= 0; i--) {\n            f = modifiedFormsts[i];\n\n            if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) {\n              continue;\n            }\n\n            isComp = util.isComponent(f);\n            html = isComp ? \"\" : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, \" \");\n            before = util.getParentElement(f, function (current) {\n              return current.parentNode === parentNode;\n            });\n\n            if (parentNode !== f.parentNode || isComp) {\n              if (util.isFormatElement(parentNode)) {\n                parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                parentNode = parentNode.parentNode;\n              } else {\n                parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                parentNode = f.parentNode;\n              }\n\n              next = freeElement.nextSibling;\n\n              if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                freeElement.innerHTML += \"<BR>\" + next.innerHTML;\n                util.removeItem(next);\n              }\n\n              freeElement = tag.cloneNode(false);\n              _first = true;\n            }\n\n            inner = freeElement.innerHTML;\n            freeElement.innerHTML = (_first || !html || !inner || /<br>$/i.test(html) ? html : html + \"<BR>\") + inner;\n\n            if (i === 0) {\n              parentNode.insertBefore(freeElement, f);\n              next = f.nextSibling;\n\n              if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                freeElement.innerHTML += \"<BR>\" + next.innerHTML;\n                util.removeItem(next);\n              }\n\n              var prev = freeElement.previousSibling;\n\n              if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                prev.innerHTML += \"<BR>\" + freeElement.innerHTML;\n                util.removeItem(freeElement);\n              }\n            }\n\n            if (!isComp) {\n              util.removeItem(f);\n            }\n\n            if (html) {\n              _first = false;\n            }\n          }\n\n          _this.setRange(focusElement, 0, focusElement, 0);\n        })();\n      } else {\n        // replace format\n        for (var i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n          node = modifiedFormsts[i];\n\n          if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__ke__format__[^\\s]+/) || [\"\"])[0].trim() !== className) && !util.isComponent(node)) {\n            newFormat = tag.cloneNode(false);\n            util.copyFormatAttributes(newFormat, node);\n            newFormat.innerHTML = node.innerHTML;\n            node.parentNode.replaceChild(newFormat, node);\n          }\n\n          if (i === 0) {\n            first = newFormat || node;\n          }\n\n          if (i === len - 1) {\n            last = newFormat || node;\n          }\n\n          newFormat = null;\n        }\n\n        this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n      } // history stack\n\n\n      this.history.push(false);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"font\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.font = {\n      targetText: targetElement.querySelector(\".txt\"),\n      targetTooltip: targetElement.parentNode.querySelector(\".ke-tooltip-text\"),\n      _fontList: null,\n      currentFont: \"\",\n      icon: icons.font\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\".ke-list-inner\").addEventListener(\"click\", this.pickup.bind(core));\n    context.font._fontList = listDiv.querySelectorAll(\"ul li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-font-family\";\n    var font, text, i, len;\n    var fontList = !option.font ? [\"Arial\", \"Comic Sans MS\", \"Courier New\", \"Impact\", \"Georgia\", \"tahoma\", \"Trebuchet MS\", \"Verdana\"] : option.font;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (i = 0, len = fontList.length; i < len; i++) {\n      font = fontList[i];\n      text = font.split(\",\")[0];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    // const target = this.context.font.targetText;\n    var target = this.context.font.targetText.firstElementChild;\n    var tooltip = this.context.font.targetTooltip;\n    var icon = this.context.font.icon;\n\n    if (!element) {\n      var fontElement = this.hasFocus ? this.wwComputedStyle.fontFamily ? \"<span>\".concat(JSON.parse(this.wwComputedStyle.fontFamily), \"</span>\") : \"\" : icon;\n      this.util.changeElement(target, fontElement);\n      var font = this.hasFocus ? this.wwComputedStyle.fontFamily ? JSON.parse(this.wwComputedStyle.fontFamily) : \"\" : this.lang.toolbar.font;\n      this.util.changeTxt(tooltip, this.hasFocus ? this.lang.toolbar.font + \" (\" + font + \")\" : font);\n    } else if (element.style && element.style.fontFamily.length > 0) {\n      var selectFont = element.style.fontFamily.replace(/[\"']/g, \"\");\n      this.util.changeElement(target, \"<span>\".concat(selectFont, \"</span>\"));\n      this.util.changeTxt(tooltip, this.lang.toolbar.font + \" (\" + selectFont + \")\");\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var fontContext = this.context.font;\n    var fontList = fontContext._fontList;\n    var currentFont = fontContext.targetText.textContent;\n\n    if (currentFont !== fontContext.currentFont) {\n      for (var i = 0, len = fontList.length; i < len; i++) {\n        if (currentFont === fontList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(fontList[i], \"active\");\n        } else {\n          this.util.removeClass(fontList[i], \"active\");\n        }\n      }\n\n      fontContext.currentFont = currentFont;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\");\n\n    if (value) {\n      var newNode = this.util.createElement(\"SPAN\");\n      newNode.style.fontFamily = value;\n      this.nodeChange(newNode, [\"font-family\"], null, null);\n    } else {\n      this.nodeChange(null, [\"font-family\"], [\"span\"], true);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"notice\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    var context = core.context;\n    context.notice = {};\n    /** dialog */\n\n    var notice_div = core.util.createElement(\"DIV\");\n    var notice_span = core.util.createElement(\"SPAN\");\n    var notice_button = core.util.createElement(\"BUTTON\");\n    notice_div.className = \"ke-notice\";\n    notice_button.className = \"close\";\n    notice_button.setAttribute(\"aria-label\", \"Close\");\n    notice_button.setAttribute(\"title\", core.lang.dialogBox.close);\n    notice_button.innerHTML = core.icons.cancel;\n    notice_div.appendChild(notice_span);\n    notice_div.appendChild(notice_button);\n    context.notice.modal = notice_div;\n    context.notice.message = notice_span;\n    /** add event listeners */\n\n    notice_button.addEventListener(\"click\", this.onClick_cancel.bind(core));\n    /** append html */\n\n    context.element.editorArea.appendChild(notice_div);\n    /** empty memory */\n\n    notice_div = null;\n  },\n\n  /**\r\n   * @description Event when clicking the cancel button\r\n   * @param {MouseEvent} e Event object\r\n   */\n  onClick_cancel: function onClick_cancel(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.notice.close.call(this);\n  },\n\n  /**\r\n   * @description  Open the notice panel\r\n   * @param {String} text Notice message\r\n   */\n  open: function open(text) {\n    this.context.notice.message.textContent = text;\n    this.context.notice.modal.style.display = \"block\";\n  },\n\n  /**\r\n   * @description  Open the notice panel\r\n   */\n  close: function close() {\n    this.context.notice.modal.style.display = \"none\";\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  name: \"audio\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _component.default, _fileManager.default]);\n    var context = core.context;\n    var contextAudio = context.audio = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      targetSelect: null,\n      _origin_w: core.options.audioWidth,\n      _origin_h: core.options.audioHeight,\n      _linkValue: \"\",\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null\n    };\n    /** dialog */\n\n    var audio_dialog = this.setDialog(core);\n    contextAudio.modal = audio_dialog;\n    contextAudio.audioInputFile = audio_dialog.querySelector(\"._ke_audio_files\");\n    contextAudio.audioUrlFile = audio_dialog.querySelector(\".ke-input-url\");\n    contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n    contextAudio.preview = audio_dialog.querySelector(\".ke-link-preview\");\n    /** controller */\n\n    var audio_controller = this.setController(core);\n    contextAudio.controller = audio_controller;\n    /** add event listeners */\n\n    audio_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextAudio.audioInputFile) {\n      audio_dialog.querySelector(\".ke-dialog-files-edge-button\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n    }\n\n    if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n      contextAudio.audioInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextAudio));\n    }\n\n    audio_controller.addEventListener(\"click\", this.onClick_controller.bind(core));\n\n    if (contextAudio.audioUrlFile) {\n      contextAudio.audioUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextAudio.preview, contextAudio, core.options.linkProtocol));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(audio_dialog);\n    /** append controller */\n\n    context.element.relative.appendChild(audio_controller);\n    /** empty memory */\n\n    audio_dialog = null, audio_controller = null;\n  },\n\n  /** HTML - dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.audioBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">';\n\n    if (option.audioFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.audioBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" data-command=\"filesRemove\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.audioUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.audioBox.url + \"</label>\" + '<input class=\"ke-input-form ke-input-url\" type=\"text\" />' + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    html += \"\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** HTML - controller */\n  setController: function setController(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var link_btn = core.util.createElement(\"DIV\");\n    link_btn.className = \"ke-controller ke-controller-link\";\n    link_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-tooltip\">' + icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return link_btn;\n  },\n  // Disable url input when uploading files\n  _fileInputChange: function _fileInputChange() {\n    if (!this.audioInputFile.value) {\n      this.audioUrlFile.removeAttribute(\"disabled\");\n      this.preview.style.textDecoration = \"\";\n    } else {\n      this.audioUrlFile.setAttribute(\"disabled\", true);\n      this.preview.style.textDecoration = \"line-through\";\n    }\n  },\n  // Disable url input when uploading files\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, preview) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      preview.style.textDecoration = \"\";\n    }\n  },\n  // create new audio tag\n  _createAudioTag: function _createAudioTag() {\n    var oAudio = this.util.createElement(\"AUDIO\");\n\n    this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n    var w = this.context.audio._origin_w;\n    var h = this.context.audio._origin_h;\n    oAudio.setAttribute(\"origin-size\", w + \",\" + h);\n    oAudio.style.cssText = (w ? \"width:\" + w + \"; \" : \"\") + (h ? \"height:\" + h + \";\" : \"\");\n    return oAudio;\n  },\n  _setTagAttrs: function _setTagAttrs(element) {\n    element.setAttribute(\"controls\", true);\n    var attrs = this.options.audioTagAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n    context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n  },\n\n  /**\r\n   * @Required @Override fileManager\r\n   */\n  fileTags: [\"audio\"],\n\n  /**\r\n   * @Override core, fileManager, resizing\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.audio.onModifyMode.call(this, element);\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    element = element || this.context.audio._element;\n    var container = this.util.getParentElement(element, this.util.isComponent) || element;\n    var dataIndex = element.getAttribute(\"data-index\") * 1;\n    var focusEl = container.previousElementSibling || container.nextElementSibling;\n    var emptyDiv = container.parentNode;\n    this.util.removeItem(container);\n    this.plugins.audio.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // fileManager event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"audio\", dataIndex, this.functions.onAudioUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    this.plugins.fileManager.checkInfo.call(this, \"audio\", [\"audio\"], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"audio\", this.functions.onAudioUpload);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextAudio = this.context.audio;\n\n    if (!update) {\n      this.plugins.audio.init.call(this);\n\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else if (contextAudio._element) {\n      this.context.dialog.updateModal = true;\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.removeAttribute(\"multiple\");\n      }\n    } else {\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.removeAttribute(\"multiple\");\n      }\n    }\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"audio\", \"audio\" === this.currentControllerName);\n  },\n  submit: function submit(e) {\n    var contextAudio = this.context.audio;\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n        this.showLoading();\n        this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n      } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n        this.showLoading();\n        this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.audio.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/audio/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.audioUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var audiosInfo = this.context.audio._infoList;\n\n      for (var _i = 0, _len = audiosInfo.length; _i < _len; _i++) {\n        infoSize += audiosInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.audioUpload.fail] Size of uploadable total audios: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onAudioUploadError !== \"function\" || this.functions.onAudioUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextAudio = this.context.audio;\n    contextAudio._uploadFileLength = files.length;\n    var info = {\n      isUpdate: this.context.dialog.updateModal,\n      element: contextAudio._element\n    };\n\n    if (typeof this.functions.onAudioUploadBefore === \"function\") {\n      var result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.audio.register.call(this, info, data);\n        } else {\n          this.plugins.audio.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (_typeof(result) === \"object\" && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.audio.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onAudioUploadError !== \"function\" || this.functions.onAudioUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.audio.exception] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.audio.error.call(this, files, null);\n      return;\n    }\n\n    var audioUploadUrl = this.options.audioUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // create formData\n\n    var formData = new FormData();\n\n    for (var i = 0; i < filesLen; i++) {\n      formData.append(\"file-\" + i, files[i]);\n    } // server upload\n\n\n    this.plugins.fileManager.upload.call(this, audioUploadUrl, this.options.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n  },\n  callBack_upload: function callBack_upload(info, xmlHttp) {\n    if (typeof this.functions.audioUploadHandler === \"function\") {\n      this.functions.audioUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.audio.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.audio.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n\n    for (var i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n      if (info.isUpdate) {\n        oAudio = info.element;\n      } else {\n        oAudio = this.plugins.audio._createAudioTag.call(this);\n      }\n\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n      this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n    }\n\n    this.closeLoading();\n  },\n  setupUrl: function setupUrl(src) {\n    try {\n      if (src.length === 0) {\n        return false;\n      }\n\n      this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n    } catch (error) {\n      throw Error('[KothingEditor.audio.audio.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  create_audio: function create_audio(element, src, file, isUpdate) {\n    var contextAudio = this.context.audio; // create new tag\n\n    if (!isUpdate) {\n      element.src = src;\n      var cover = this.plugins.component.set_cover.call(this, element);\n      var container = this.plugins.component.set_container.call(this, cover, \"\");\n\n      if (!this.insertComponent(container, false, true, !this.options.mediaAutoSelect)) {\n        this.focus();\n        return;\n      }\n\n      if (!this.options.mediaAutoSelect) {\n        var line = this.appendFormatTag(container, null);\n        this.setRange(line, 0, line, 0);\n      }\n    } else {\n      // update\n      if (contextAudio._element) {\n        element = contextAudio._element;\n      }\n\n      if (element && element.src !== src) {\n        element.src = src;\n        this.selectComponent(element, \"audio\");\n      } else {\n        this.selectComponent(element, \"audio\");\n        return;\n      }\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"audio\", element, this.functions.onAudioUpload, file, false);\n\n    if (isUpdate) {\n      this.history.push(false);\n    }\n  },\n  updateCover: function updateCover(element) {\n    var contextAudio = this.context.audio;\n\n    this.plugins.audio._setTagAttrs.call(this, element); // find component element\n\n\n    var existElement = this.util.getParentElement(element, this.util.isMediaComponent) || this.util.getParentElement(element, function (current) {\n      return this.isWysiwygDiv(current.parentNode);\n    }.bind(this.util)); // clone element\n\n    var prevElement = element;\n    contextAudio._element = element = element.cloneNode(false);\n    var cover = this.plugins.component.set_cover.call(this, element);\n    var container = this.plugins.component.set_container.call(this, cover, \"ke-audio-container\");\n\n    try {\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(prevElement); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        existElement.parentNode.replaceChild(container, existElement);\n      }\n    } catch (error) {\n      console.warn(\"[KothingEditor.audio.error] Maybe the audio tag is nested.\", error);\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"audio\", element, this.functions.onAudioUpload, null, false);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(selectionTag) {\n    var contextAudio = this.context.audio;\n    this.setControllerPosition(contextAudio.controller, selectionTag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), \"audio\");\n    this.util.addClass(selectionTag, \"active\");\n    contextAudio._element = selectionTag;\n    contextAudio._cover = this.util.getParentElement(selectionTag, \"FIGURE\");\n    contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    if (this.context.audio.audioUrlFile) {\n      var contextAudio = this.context.audio;\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"audio\", true);\n    }\n  },\n  onClick_controller: function onClick_controller(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.plugins.audio.openModify.call(this, false);\n    } else {\n      /** delete */\n      this.plugins.audio.destroy.call(this, this.context.audio._element);\n    }\n\n    this.controllersOff();\n  },\n  onControllerOff: function onControllerOff(selectionTag) {\n    this.util.removeClass(selectionTag, \"active\");\n    this.context.audio.controller.style.display = \"none\";\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  init: function init() {\n    if (this.context.dialog.updateModal) {\n      return;\n    }\n\n    var contextAudio = this.context.audio;\n\n    if (contextAudio.audioInputFile) {\n      contextAudio.audioInputFile.value = \"\";\n    }\n\n    if (contextAudio.audioUrlFile) {\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = \"\";\n    }\n\n    if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n      contextAudio.audioUrlFile.removeAttribute(\"disabled\");\n      contextAudio.preview.style.textDecoration = \"\";\n    }\n\n    contextAudio._element = null;\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _anchor = _interopRequireDefault(require(\"../modules/anchor\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"link\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _anchor.default]);\n    var context = core.context;\n    var contextLink = context.link = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      _linkAnchor: null,\n      anchorCtx: null\n    };\n    /** link dialog */\n\n    var link_dialog = this.setDialog(core);\n    contextLink.modal = link_dialog;\n    /** link controller */\n\n    var link_controller = this.setController_LinkButton(core);\n    contextLink.linkController = link_controller;\n    link_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n    link_controller.addEventListener(\"click\", this.onClick_linkController.bind(core));\n    /** append html */\n\n    context.dialog.modal.appendChild(link_dialog);\n    /** append controller */\n\n    context.element.relative.appendChild(link_controller);\n    /** link event */\n\n    core.plugins.anchor.initEvent.call(core, \"link\", link_dialog);\n    contextLink.focusElement = context.anchor.caller.link.urlInput;\n    /** empty memory */\n\n    link_dialog = null, link_controller = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    var icons = core.icons;\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + \"<form>\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.linkBox.title + \"</span>\" + \"</div>\" + core.context.anchor.forms.innerHTML + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** modify controller button */\n  setController_LinkButton: function setController_LinkButton(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var link_btn = core.util.createElement(\"DIV\");\n    link_btn.className = \"ke-controller ke-controller-link\";\n    link_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.unlink + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.unlink + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return link_btn;\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"link\", \"link\" === this.currentControllerName);\n  },\n  submit: function submit(e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      var oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\n\n      if (!this.context.dialog.updateModal) {\n        var selectedFormats = this.getSelectedElements();\n\n        if (selectedFormats.length > 1) {\n          var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(oA);\n\n          if (!this.insertNode(oFormat, null, true)) {\n            return;\n          }\n        } else {\n          if (!this.insertNode(oA, null, true)) {\n            return;\n          }\n        }\n\n        this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n      } else {\n        // set range\n        var textNode = this.context.link._linkAnchor.childNodes[0];\n        this.setRange(textNode, 0, textNode, textNode.textContent.length);\n      }\n    } finally {\n      this.plugins.dialog.close.call(this);\n      this.closeLoading(); // history stack\n\n      this.history.push(false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n        this.controllersOff();\n      }\n    } else if (this.util.isAnchor(element) && element.getAttribute(\"data-image-link\") === null) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n        this.plugins.link.call_controller.call(this, element);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  on: function on(update) {\n    this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\n  },\n  call_controller: function call_controller(selectionATag) {\n    this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\n    var linkBtn = this.context.link.linkController;\n    var link = linkBtn.querySelector(\"a\");\n    link.href = selectionATag.href;\n    link.title = selectionATag.textContent;\n    link.textContent = selectionATag.textContent;\n    this.util.addClass(selectionATag, \"on\");\n    this.setControllerPosition(linkBtn, selectionATag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(linkBtn, selectionATag, \"link\", this.util.removeClass.bind(this.util, this.context.link._linkAnchor, \"on\"));\n  },\n  onClick_linkController: function onClick_linkController(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\") || e.target.parentNode.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.plugins.dialog.open.call(this, \"link\", true);\n    } else if (/unlink/.test(command)) {\n      var sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, false);\n      var ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, true);\n      this.setRange(sc, 0, ec, ec.textContent.length);\n      this.nodeChange(null, null, [\"A\"], false);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.link._linkAnchor);\n      this.context.anchor.caller.link.linkAnchor = null;\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n\n    this.controllersOff();\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    this.context.link.linkController.style.display = \"none\";\n    this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ckb\", {\n  enumerable: true,\n  get: function get() {\n    return _ckb.default;\n  }\n});\nObject.defineProperty(exports, \"da\", {\n  enumerable: true,\n  get: function get() {\n    return _da.default;\n  }\n});\nObject.defineProperty(exports, \"de\", {\n  enumerable: true,\n  get: function get() {\n    return _de.default;\n  }\n});\nObject.defineProperty(exports, \"en\", {\n  enumerable: true,\n  get: function get() {\n    return _en.default;\n  }\n});\nObject.defineProperty(exports, \"es\", {\n  enumerable: true,\n  get: function get() {\n    return _es.default;\n  }\n});\nObject.defineProperty(exports, \"fr\", {\n  enumerable: true,\n  get: function get() {\n    return _fr.default;\n  }\n});\nObject.defineProperty(exports, \"he\", {\n  enumerable: true,\n  get: function get() {\n    return _he.default;\n  }\n});\nObject.defineProperty(exports, \"it\", {\n  enumerable: true,\n  get: function get() {\n    return _it.default;\n  }\n});\nObject.defineProperty(exports, \"ja\", {\n  enumerable: true,\n  get: function get() {\n    return _ja.default;\n  }\n});\nObject.defineProperty(exports, \"ko\", {\n  enumerable: true,\n  get: function get() {\n    return _ko.default;\n  }\n});\nObject.defineProperty(exports, \"lv\", {\n  enumerable: true,\n  get: function get() {\n    return _lv.default;\n  }\n});\nObject.defineProperty(exports, \"pl\", {\n  enumerable: true,\n  get: function get() {\n    return _pl.default;\n  }\n});\nObject.defineProperty(exports, \"pt_br\", {\n  enumerable: true,\n  get: function get() {\n    return _pt_br.default;\n  }\n});\nObject.defineProperty(exports, \"ro\", {\n  enumerable: true,\n  get: function get() {\n    return _ro.default;\n  }\n});\nObject.defineProperty(exports, \"ru\", {\n  enumerable: true,\n  get: function get() {\n    return _ru.default;\n  }\n});\nObject.defineProperty(exports, \"se\", {\n  enumerable: true,\n  get: function get() {\n    return _se.default;\n  }\n});\nObject.defineProperty(exports, \"ua\", {\n  enumerable: true,\n  get: function get() {\n    return _ua.default;\n  }\n});\nObject.defineProperty(exports, \"zh_cn\", {\n  enumerable: true,\n  get: function get() {\n    return _zh_cn.default;\n  }\n});\nexports.default = void 0;\n\nvar _ckb = _interopRequireDefault(require(\"./ckb\"));\n\nvar _da = _interopRequireDefault(require(\"./da\"));\n\nvar _de = _interopRequireDefault(require(\"./de\"));\n\nvar _en = _interopRequireDefault(require(\"./en\"));\n\nvar _es = _interopRequireDefault(require(\"./es\"));\n\nvar _fr = _interopRequireDefault(require(\"./fr\"));\n\nvar _he = _interopRequireDefault(require(\"./he\"));\n\nvar _it = _interopRequireDefault(require(\"./it\"));\n\nvar _ja = _interopRequireDefault(require(\"./ja\"));\n\nvar _ko = _interopRequireDefault(require(\"./ko\"));\n\nvar _lv = _interopRequireDefault(require(\"./lv\"));\n\nvar _pl = _interopRequireDefault(require(\"./pl\"));\n\nvar _pt_br = _interopRequireDefault(require(\"./pt_br\"));\n\nvar _ro = _interopRequireDefault(require(\"./ro\"));\n\nvar _ru = _interopRequireDefault(require(\"./ru\"));\n\nvar _se = _interopRequireDefault(require(\"./se\"));\n\nvar _ua = _interopRequireDefault(require(\"./ua\"));\n\nvar _zh_cn = _interopRequireDefault(require(\"./zh_cn\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  ckb: _ckb.default,\n  da: _da.default,\n  de: _de.default,\n  en: _en.default,\n  es: _es.default,\n  fr: _fr.default,\n  he: _he.default,\n  it: _it.default,\n  ja: _ja.default,\n  ko: _ko.default,\n  lv: _lv.default,\n  pl: _pl.default,\n  pt_br: _pt_br.default,\n  ro: _ro.default,\n  ru: _ru.default,\n  se: _se.default,\n  ua: _ua.default,\n  zh_cn: _zh_cn.default\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _anchor = _interopRequireDefault(require(\"../modules/anchor\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _resizing = _interopRequireDefault(require(\"../modules/resizing\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"image\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _anchor.default, _component.default, _resizing.default, _fileManager.default]);\n    var options = core.options;\n    var context = core.context;\n    var contextImage = context.image = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      sizeUnit: options._imageSizeUnit,\n      _linkElement: \"\",\n      _altText: \"\",\n      _align: \"none\",\n      _floatClassRegExp: \"__ke__float\\\\-[a-z]+\",\n      _v_src: {\n        _linkValue: \"\"\n      },\n      svgDefaultSize: \"30%\",\n      base64RenderIndex: 0,\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null,\n      // @Override resizing properties\n      inputX: null,\n      inputY: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _defaultSizeX: \"auto\",\n      _defaultSizeY: \"auto\",\n      _origin_w: options.imageWidth === \"auto\" ? \"\" : options.imageWidth,\n      _origin_h: options.imageHeight === \"auto\" ? \"\" : options.imageHeight,\n      _proportionChecked: true,\n      _resizing: options.imageResizing,\n      _resizeDotHide: !options.imageHeightShow,\n      _rotation: options.imageRotation,\n      _onlyPercentage: options.imageSizeOnlyPercentage,\n      _ratio: false,\n      _ratioX: 1,\n      _ratioY: 1,\n      _captionShow: true,\n      _captionChecked: false,\n      _caption: null,\n      captionCheckEl: null\n    };\n    /** image dialog */\n\n    var image_dialog = this.setDialog(core);\n    contextImage.modal = image_dialog;\n    contextImage.imgInputFile = image_dialog.querySelector(\"._ke_image_file\");\n    contextImage.imgUrlFile = image_dialog.querySelector(\"._ke_image_url\");\n    contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n    contextImage.altText = image_dialog.querySelector(\"._ke_image_alt\");\n    contextImage.captionCheckEl = image_dialog.querySelector(\"._ke_image_check_caption\");\n    contextImage.previewSrc = image_dialog.querySelector(\"._ke_tab_content_image .ke-link-preview\");\n    /** add event listeners */\n\n    image_dialog.querySelector(\".ke-dialog-tabs\").addEventListener(\"click\", this.openTab.bind(core));\n    image_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextImage.imgInputFile) {\n      image_dialog.querySelector(\".ke-file-remove\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n    }\n\n    if (contextImage.imgUrlFile) {\n      contextImage.imgUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, options.linkProtocol));\n    }\n\n    if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n      contextImage.imgInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextImage));\n    }\n\n    var imageGalleryButton = image_dialog.querySelector(\".__ke__gallery\");\n\n    if (imageGalleryButton) {\n      imageGalleryButton.addEventListener(\"click\", this._openGallery.bind(core));\n    }\n\n    contextImage.proportion = {};\n    contextImage.inputX = {};\n    contextImage.inputY = {};\n\n    if (options.imageResizing) {\n      contextImage.proportion = image_dialog.querySelector(\"._ke_image_check_proportion\");\n      contextImage.inputX = image_dialog.querySelector(\"._ke_image_size_x\");\n      contextImage.inputY = image_dialog.querySelector(\"._ke_image_size_y\");\n      contextImage.inputX.value = options.imageWidth;\n      contextImage.inputY.value = options.imageHeight;\n      contextImage.inputX.addEventListener(\"keyup\", this.setInputSize.bind(core, \"x\"));\n      contextImage.inputY.addEventListener(\"keyup\", this.setInputSize.bind(core, \"y\"));\n      contextImage.inputX.addEventListener(\"change\", this.setRatio.bind(core));\n      contextImage.inputY.addEventListener(\"change\", this.setRatio.bind(core));\n      contextImage.proportion.addEventListener(\"change\", this.setRatio.bind(core));\n      image_dialog.querySelector(\".ke-dialog-btn-revert\").addEventListener(\"click\", this.sizeRevert.bind(core));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(image_dialog);\n    /** link event */\n\n    core.plugins.anchor.initEvent.call(core, \"image\", image_dialog.querySelector(\"._ke_tab_content_url\"));\n    contextImage.anchorCtx = core.context.anchor.caller.image;\n    /** empty memory */\n\n    image_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content ke-dialog-image\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.imageBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-tabs\">' + '<button type=\"button\" class=\"_ke_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + \"</button>\" + '<button type=\"button\" class=\"_ke_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + \"</button>\" + \"</div>\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"_ke_tab_content _ke_tab_content_image\">' + '<div class=\"ke-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n    if (option.imageFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.imageUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.url + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form ke-input-url _ke_image_url\" type=\"text\" />' + (option.imageGalleryUrl && core.plugins.imageGallery ? '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button __ke__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + core.icons.image_gallery + \"</button>\" : \"\") + \"</div>\" + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    html += \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.altText + '</label><input class=\"ke-input-form _ke_image_alt\" type=\"text\" />' + \"</div>\";\n\n    if (option.imageResizing) {\n      var onlyPercentage = option.imageSizeOnlyPercentage;\n      var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : \"\";\n      var heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : \"\";\n      html += '<div class=\"ke-dialog-form\">';\n\n      if (onlyPercentage || !option.imageHeightShow) {\n        html += \"\" + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.size + \"</label>\" + \"</div>\";\n      } else {\n        html += \"\" + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + \"</label>\" + '<label class=\"ke-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\">' + lang.dialogBox.height + \"</label>\" + \"</div>\";\n      }\n\n      html += \"\" + '<input class=\"ke-input-control _ke_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + \" />\" + '<label class=\"ke-dialog-size-x\"' + heightDisplay + \">\" + (onlyPercentage ? \"%\" : \"x\") + \"</label>\" + '<input type=\"text\" class=\"ke-input-control _ke_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : \"\") + heightDisplay + \"/>\" + \"<label\" + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + \"</label>\" + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"ke-btn ke-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + \"</button>\" + \"</div>\";\n    }\n\n    html += \"\" + '<div class=\"ke-dialog-form ke-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + \"</label>\" + \"</div>\" + \"</div>\" + \"</div>\" + '<div class=\"_ke_tab_content _ke_tab_content_url\" style=\"display: none\">' + core.context.anchor.forms.innerHTML + \"</div>\" + '<div class=\"ke-dialog-footer\">' + \"<div>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + \"</label>\" + \"</div>\" + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  _fileInputChange: function _fileInputChange() {\n    if (!this.imgInputFile.value) {\n      this.imgUrlFile.removeAttribute(\"disabled\");\n      this.previewSrc.style.textDecoration = \"\";\n    } else {\n      this.imgUrlFile.setAttribute(\"disabled\", true);\n      this.previewSrc.style.textDecoration = \"line-through\";\n    }\n  },\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, previewSrc) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      previewSrc.style.textDecoration = \"\";\n    }\n  },\n  _openGallery: function _openGallery() {\n    this.callPlugin(\"imageGallery\", this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n  },\n  _setUrlInput: function _setUrlInput(target) {\n    this.altText.value = target.alt;\n    this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n    this.imgUrlFile.focus();\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n    context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n  },\n\n  /**\r\n   * @Override @Required fileManager\r\n   */\n  fileTags: [\"img\"],\n\n  /**\r\n   * @Override core, fileManager, resizing\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, \"image\"));\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    var imageEl = element || this.context.image._element;\n    var imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n    var dataIndex = imageEl.getAttribute(\"data-index\") * 1;\n    var focusEl = imageContainer.previousElementSibling || imageContainer.nextElementSibling;\n    var emptyDiv = imageContainer.parentNode;\n    this.util.removeItem(imageContainer);\n    this.plugins.image.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"image\", dataIndex, this.functions.onImageUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextImage = this.context.image;\n\n    if (!update) {\n      contextImage.inputX.value = contextImage._origin_w = this.options.imageWidth === contextImage._defaultSizeX ? \"\" : this.options.imageWidth;\n      contextImage.inputY.value = contextImage._origin_h = this.options.imageHeight === contextImage._defaultSizeY ? \"\" : this.options.imageHeight;\n\n      if (contextImage.imgInputFile && this.options.imageMultipleFile) {\n        contextImage.imgInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else {\n      if (contextImage.imgInputFile && this.options.imageMultipleFile) {\n        contextImage.imgInputFile.removeAttribute(\"multiple\");\n      }\n    }\n\n    this.plugins.anchor.on.call(this, contextImage.anchorCtx, update);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"image\", \"image\" === this.currentControllerName);\n  },\n  openTab: function openTab(e) {\n    var modal = this.context.image.modal;\n    var targetElement = e === \"init\" ? modal.querySelector(\"._ke_tab_link\") : e.target;\n\n    if (!/^BUTTON$/i.test(targetElement.tagName)) {\n      return false;\n    } // Declare all variables\n\n\n    var tabName = targetElement.getAttribute(\"data-tab-link\");\n    var contentClassName = \"_ke_tab_content\";\n    var i, tabContent, tabLinks; // Get all elements with class=\"tabcontent\" and hide them\n\n    tabContent = modal.getElementsByClassName(contentClassName);\n\n    for (i = 0; i < tabContent.length; i++) {\n      tabContent[i].style.display = \"none\";\n    } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n    tabLinks = modal.getElementsByClassName(\"_ke_tab_link\");\n\n    for (i = 0; i < tabLinks.length; i++) {\n      this.util.removeClass(tabLinks[i], \"active\");\n    } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n    modal.querySelector(\".\" + contentClassName + \"_\" + tabName).style.display = \"block\";\n    this.util.addClass(targetElement, \"active\"); // focus\n\n    if (tabName === \"image\" && this.context.image.focusElement) {\n      this.context.image.focusElement.focus();\n    } else if (tabName === \"url\") {\n      this.context.anchor.caller.image.urlInput.focus();\n    }\n\n    return false;\n  },\n  submit: function submit(e) {\n    var contextImage = this.context.image;\n    var imagePlugin = this.plugins.image;\n    e.preventDefault();\n    e.stopPropagation();\n    contextImage._altText = contextImage.altText.value;\n    contextImage._align = contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"]:checked').value;\n    contextImage._captionChecked = contextImage.captionCheckEl.checked;\n\n    if (contextImage._resizing) {\n      contextImage._proportionChecked = contextImage.proportion.checked;\n    }\n\n    try {\n      if (this.context.dialog.updateModal) {\n        imagePlugin.update_image.call(this, false, true, false);\n      }\n\n      if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n        this.showLoading();\n        imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n      } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n        this.showLoading();\n        imagePlugin.onRender_imgUrl.call(this);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.image.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/image/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.imageUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var imagesInfo = this.context.image._infoList;\n\n      for (var _i = 0, _len = imagesInfo.length; _i < _len; _i++) {\n        infoSize += imagesInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.imageUpload.fail] Size of uploadable total images: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onImageUploadError !== \"function\" || this.functions.onImageUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextImage = this.context.image;\n    contextImage._uploadFileLength = files.length;\n    var anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n    var info = {\n      anchor: anchor,\n      inputWidth: contextImage.inputX.value,\n      inputHeight: contextImage.inputY.value,\n      align: contextImage._align,\n      isUpdate: this.context.dialog.updateModal,\n      element: contextImage._element\n    };\n\n    if (typeof this.functions.onImageUploadBefore === \"function\") {\n      var result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.image.register.call(this, info, data);\n        } else {\n          this.plugins.image.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (this._w.Array.isArray(result) && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.image.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onImageUploadError !== \"function\" || this.functions.onImageUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.image.error] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.image.error.call(this, files, null);\n      return;\n    }\n\n    var imageUploadUrl = this.options.imageUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n    if (typeof imageUploadUrl === \"string\" && imageUploadUrl.length > 0) {\n      var formData = new FormData();\n\n      for (var i = 0; i < filesLen; i++) {\n        formData.append(\"file-\" + i, files[i]);\n      }\n\n      this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n    } else {\n      // base64\n      this.plugins.image.setup_reader.call(this, files, info.anchor, info.inputWidth, info.inputHeight, info.align, filesLen, info.isUpdate);\n    }\n  },\n  callBack_imgUpload: function callBack_imgUpload(info, xmlHttp) {\n    if (typeof this.functions.imageUploadHandler === \"function\") {\n      this.functions.imageUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.image.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.image.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n\n    for (var i = 0, len = fileList.length, file; i < len; i++) {\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n\n      if (info.isUpdate) {\n        this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n        break;\n      } else {\n        this.plugins.image.create_image.call(this, fileList[i].url, info.anchor, info.inputWidth, info.inputHeight, info.align, file);\n      }\n    }\n\n    this.closeLoading();\n  },\n  setup_reader: function setup_reader(files, anchor, width, height, align, filesLen, isUpdate) {\n    var _this = this;\n\n    try {\n      (function () {\n        _this.context.image.base64RenderIndex = filesLen;\n        var wFileReader = _this._w.FileReader;\n        var filesStack = [filesLen];\n        _this.context.image.inputX.value = width;\n        _this.context.image.inputY.value = height;\n\n        for (var i = 0, reader, file; i < filesLen; i++) {\n          reader = new wFileReader();\n          file = files[i];\n\n          reader.onload = function (reader, update, updateElement, file, index) {\n            filesStack[index] = {\n              result: reader.result,\n              file: file\n            };\n\n            if (--this.context.image.base64RenderIndex === 0) {\n              this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, anchor, width, height, align);\n              this.closeLoading();\n            }\n          }.bind(_this, reader, isUpdate, _this.context.image._element, file, i);\n\n          reader.readAsDataURL(file);\n        }\n      })();\n    } catch (e) {\n      this.closeLoading();\n      throw Error('[KothingEditor.image.setup_reader.fail] cause : \"' + e.message + '\"');\n    }\n  },\n  onRender_imgBase64: function onRender_imgBase64(update, filesStack, updateElement, anchor, width, height, align) {\n    var updateMethod = this.plugins.image.update_src;\n    var createMethod = this.plugins.image.create_image;\n\n    for (var i = 0, len = filesStack.length; i < len; i++) {\n      if (update) {\n        this.context.image._element.setAttribute(\"data-file-name\", filesStack[i].file.name);\n\n        this.context.image._element.setAttribute(\"data-file-size\", filesStack[i].file.size);\n\n        updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\n      } else {\n        createMethod.call(this, filesStack[i].result, anchor, width, height, align, filesStack[i].file);\n      }\n    }\n  },\n  onRender_imgUrl: function onRender_imgUrl() {\n    var contextImage = this.context.image;\n\n    if (contextImage._v_src._linkValue.length === 0) {\n      return false;\n    }\n\n    try {\n      var file = {\n        name: contextImage._v_src._linkValue.split(\"/\").pop(),\n        size: 0\n      };\n\n      if (this.context.dialog.updateModal) {\n        this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);\n      } else {\n        this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true), contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n      }\n    } catch (e) {\n      throw Error('[KothingEditor.image.URLRendering.fail] cause : \"' + e.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  onRender_link: function onRender_link(imgTag, anchor) {\n    if (anchor) {\n      anchor.setAttribute(\"data-image-link\", \"image\");\n      imgTag.setAttribute(\"data-image-link\", anchor.href);\n      anchor.appendChild(imgTag);\n      return anchor;\n    }\n\n    return imgTag;\n  },\n\n  /**\r\n   * @Override resizing\r\n   * @param {String} xy 'x': width, 'y': height\r\n   * @param {KeyboardEvent} e Event object\r\n   */\n  setInputSize: function setInputSize(xy, e) {\n    if (e && e.keyCode === 32) {\n      e.preventDefault();\n      return;\n    }\n\n    this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setRatio: function setRatio() {\n    this.plugins.resizing._module_setRatio.call(this, this.context.image);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    var imagePlugin = this.plugins.image;\n    var contextImage = this.context.image;\n\n    var modifyHandler = function (tag) {\n      imagePlugin.onModifyMode.call(this, tag, null);\n      imagePlugin.openModify.call(this, true); // get size\n\n      contextImage.inputX.value = contextImage._origin_w;\n      contextImage.inputY.value = contextImage._origin_h; // get align\n\n      var format = this.util.getFormatElement(tag);\n\n      if (format) {\n        contextImage._align = format.style.textAlign || format.style.float;\n      } // link\n\n\n      var link = this.util.getParentElement(tag, this.util.isAnchor);\n\n      if (link && !contextImage.anchorCtx.linkValue) {\n        contextImage.anchorCtx.linkValue = \" \";\n      }\n\n      imagePlugin.update_image.call(this, true, false, true);\n    }.bind(this);\n\n    this.plugins.fileManager.checkInfo.call(this, \"image\", [\"img\"], this.functions.onImageUpload, modifyHandler, true);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"image\", this.functions.onImageUpload);\n  },\n  create_image: function create_image(src, anchor, width, height, align, file) {\n    var imagePlugin = this.plugins.image;\n    var contextImage = this.context.image;\n    this.context.resizing._resize_plugin = \"image\";\n    var oImg = this.util.createElement(\"IMG\");\n    oImg.src = src;\n    oImg.alt = contextImage._altText;\n    oImg.setAttribute(\"data-rotate\", \"0\");\n    anchor = imagePlugin.onRender_link.call(this, oImg, anchor);\n\n    if (contextImage._resizing) {\n      oImg.setAttribute(\"data-proportion\", contextImage._proportionChecked);\n    }\n\n    var cover = this.plugins.component.set_cover.call(this, anchor);\n    var container = this.plugins.component.set_container.call(this, cover, \"ke-image-container\"); // caption\n\n    if (contextImage._captionChecked) {\n      contextImage._caption = this.plugins.component.create_caption.call(this);\n\n      contextImage._caption.setAttribute(\"contenteditable\", false);\n\n      cover.appendChild(contextImage._caption);\n    }\n\n    contextImage._element = oImg;\n    contextImage._cover = cover;\n    contextImage._container = container; // set size\n\n    imagePlugin.applySize.call(this, width, height); // align\n\n    imagePlugin.setAlign.call(this, align, oImg, cover, container);\n    oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize, container);\n\n    if (this.insertComponent(container, true, true, true)) {\n      this.plugins.fileManager.setInfo.call(this, \"image\", oImg, this.functions.onImageUpload, file, true);\n    }\n\n    this.context.resizing._resize_plugin = \"\";\n  },\n  _image_create_onload: function _image_create_onload(oImg, svgDefaultSize, container) {\n    // svg exception handling\n    if (oImg.offsetWidth === 0) {\n      this.plugins.image.applySize.call(this, svgDefaultSize, \"\");\n    }\n\n    if (this.options.mediaAutoSelect) {\n      this.selectComponent(oImg, \"image\");\n    } else {\n      var line = this.appendFormatTag(container, null);\n      this.setRange(line, 0, line, 0);\n    }\n  },\n  update_image: function update_image(init, openController, notHistoryPush) {\n    var contextImage = this.context.image;\n    var imageEl = contextImage._element;\n    var cover = contextImage._cover;\n    var container = contextImage._container;\n    var isNewContainer = false;\n\n    if (cover === null) {\n      isNewContainer = true;\n      imageEl = contextImage._element.cloneNode(true);\n      cover = this.plugins.component.set_cover.call(this, imageEl);\n    }\n\n    if (container === null) {\n      cover = cover.cloneNode(true);\n      imageEl = cover.querySelector(\"img\");\n      isNewContainer = true;\n      container = this.plugins.component.set_container.call(this, cover, \"ke-image-container\");\n    } else if (isNewContainer) {\n      container.innerHTML = \"\";\n      container.appendChild(cover);\n      contextImage._cover = cover;\n      contextImage._element = imageEl;\n      isNewContainer = false;\n    } // check size\n\n\n    var changeSize;\n    var x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n    var y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n\n    if (/%$/.test(imageEl.style.width)) {\n      changeSize = x !== container.style.width || y !== container.style.height;\n    } else {\n      changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n    } // alt\n\n\n    imageEl.alt = contextImage._altText; // caption\n\n    var modifiedCaption = false;\n\n    if (contextImage._captionChecked) {\n      if (!contextImage._caption) {\n        contextImage._caption = this.plugins.component.create_caption.call(this);\n        cover.appendChild(contextImage._caption);\n        modifiedCaption = true;\n      }\n    } else {\n      if (contextImage._caption) {\n        this.util.removeItem(contextImage._caption);\n        contextImage._caption = null;\n        modifiedCaption = true;\n      }\n    } // link\n\n\n    var anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n\n    if (anchor) {\n      contextImage._linkElement = contextImage._linkElement === anchor ? anchor.cloneNode(false) : anchor;\n      cover.insertBefore(this.plugins.image.onRender_link.call(this, imageEl, contextImage._linkElement), contextImage._caption);\n    } else if (contextImage._linkElement !== null) {\n      var imageElement = imageEl;\n      imageElement.setAttribute(\"data-image-link\", \"\");\n\n      if (cover.contains(contextImage._linkElement)) {\n        var newEl = imageElement.cloneNode(true);\n        cover.removeChild(contextImage._linkElement);\n        cover.insertBefore(newEl, contextImage._caption);\n        imageEl = newEl;\n      }\n    }\n\n    if (isNewContainer) {\n      var existElement = this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode) ? contextImage._element : /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(contextImage._element); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        if (this.util.isFormatElement(existElement.parentNode)) {\n          var formats = existElement.parentNode;\n          formats.parentNode.insertBefore(container, existElement.previousSibling ? formats.nextElementSibling : formats);\n          this.util.removeItem(existElement);\n        } else {\n          existElement.parentNode.replaceChild(container, existElement);\n        }\n      }\n\n      imageEl = container.querySelector(\"img\");\n      contextImage._element = imageEl;\n      contextImage._cover = cover;\n      contextImage._container = container;\n    } // transform\n\n\n    if (modifiedCaption || !contextImage._onlyPercentage && changeSize) {\n      if (!init && (/\\d+/.test(imageEl.style.height) || this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n        if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n          this.plugins.resizing.resetTransform.call(this, imageEl);\n        } else {\n          this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n        }\n      }\n    } // size\n\n\n    if (contextImage._resizing) {\n      imageEl.setAttribute(\"data-proportion\", contextImage._proportionChecked);\n\n      if (changeSize) {\n        this.plugins.image.applySize.call(this);\n      }\n    } // align\n\n\n    this.plugins.image.setAlign.call(this, null, imageEl, null, null); // set imagesInfo\n\n    if (init) {\n      this.plugins.fileManager.setInfo.call(this, \"image\", imageEl, this.functions.onImageUpload, null, true);\n    }\n\n    if (openController) {\n      this.selectComponent(imageEl, \"image\");\n    } // history stack\n\n\n    if (!notHistoryPush) {\n      this.history.push(false);\n    }\n  },\n  update_src: function update_src(src, element, file) {\n    element.src = src;\n\n    this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, \"image\", element, this.functions.onImageUpload, file, true));\n\n    this.selectComponent(element, \"image\");\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(element, size) {\n    if (!element) {\n      return;\n    }\n\n    var contextImage = this.context.image;\n    contextImage._linkElement = contextImage.anchorCtx.linkAnchor = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n    contextImage._element = element;\n    contextImage._cover = this.util.getParentElement(element, \"FIGURE\");\n    contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n    contextImage._caption = this.util.getChildElement(contextImage._cover, \"FIGCAPTION\");\n    contextImage._align = element.style.float || element.getAttribute(\"data-align\") || \"none\";\n    element.style.float = \"\";\n    this.plugins.anchor.setCtx(contextImage._linkElement, contextImage.anchorCtx);\n\n    if (size) {\n      contextImage._element_w = size.w;\n      contextImage._element_h = size.h;\n      contextImage._element_t = size.t;\n      contextImage._element_l = size.l;\n    }\n\n    var userSize = contextImage._element.getAttribute(\"data-size\") || contextImage._element.getAttribute(\"data-origin\");\n\n    var w, h;\n\n    if (userSize) {\n      userSize = userSize.split(\",\");\n      w = userSize[0];\n      h = userSize[1];\n    } else if (size) {\n      w = size.w;\n      h = size.h;\n    }\n\n    contextImage._origin_w = w || element.style.width || element.width || \"\";\n    contextImage._origin_h = h || element.style.height || element.height || \"\";\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    var contextImage = this.context.image;\n\n    if (contextImage.imgUrlFile) {\n      contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n    }\n\n    contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n    contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n    contextImage._align = contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"]:checked').value;\n    contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n    if (contextImage._resizing) {\n      this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"image\", true);\n    }\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  applySize: function applySize(w, h) {\n    var contextImage = this.context.image;\n\n    if (!w) {\n      w = contextImage.inputX.value || this.options.imageWidth;\n    }\n\n    if (!h) {\n      h = contextImage.inputY.value || this.options.imageHeight;\n    }\n\n    if (contextImage._onlyPercentage && !!w || /%$/.test(w)) {\n      this.plugins.image.setPercentSize.call(this, w, h);\n      return true;\n    } else if ((!w || w === \"auto\") && (!h || h === \"auto\")) {\n      this.plugins.image.setAutoSize.call(this);\n    } else {\n      this.plugins.image.setSize.call(this, w, h, false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  sizeRevert: function sizeRevert() {\n    this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setSize: function setSize(w, h, notResetPercentage, direction) {\n    var contextImage = this.context.image;\n    var onlyW = /^(rw|lw)$/.test(direction);\n    var onlyH = /^(th|bh)$/.test(direction);\n\n    if (!onlyH) {\n      contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n      this.plugins.image.cancelPercentAttr.call(this);\n    }\n\n    if (!onlyW) {\n      contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? \"\" : h;\n    }\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n\n    if (!notResetPercentage) {\n      contextImage._element.removeAttribute(\"data-percentage\");\n    } // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAutoSize: function setAutoSize() {\n    var contextImage = this.context.image;\n    this.plugins.resizing.resetTransform.call(this, contextImage._element);\n    this.plugins.image.cancelPercentAttr.call(this);\n    contextImage._element.style.maxWidth = \"\";\n    contextImage._element.style.width = \"\";\n    contextImage._element.style.height = \"\";\n    contextImage._cover.style.width = \"\";\n    contextImage._cover.style.height = \"\";\n    this.plugins.image.setAlign.call(this, null, null, null, null);\n\n    contextImage._element.setAttribute(\"data-percentage\", \"auto,auto\"); // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setOriginSize: function setOriginSize() {\n    var contextImage = this.context.image;\n\n    contextImage._element.removeAttribute(\"data-percentage\");\n\n    this.plugins.resizing.resetTransform.call(this, contextImage._element);\n    this.plugins.image.cancelPercentAttr.call(this);\n    var originSize = (contextImage._element.getAttribute(\"data-origin\") || \"\").split(\",\");\n    var w = originSize[0];\n    var h = originSize[1];\n\n    if (originSize) {\n      if (contextImage._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n        this.plugins.image.setPercentSize.call(this, w, h);\n      } else {\n        this.plugins.image.setSize.call(this, w, h);\n      } // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setPercentSize: function setPercentSize(w, h) {\n    var contextImage = this.context.image;\n    h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + \"%\" : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : h || \"\";\n    var heightPercentage = /%$/.test(h);\n    contextImage._container.style.width = this.util.isNumber(w) ? w + \"%\" : w;\n    contextImage._container.style.height = \"\";\n    contextImage._cover.style.width = \"100%\";\n    contextImage._cover.style.height = !heightPercentage ? \"\" : h;\n    contextImage._element.style.width = \"100%\";\n    contextImage._element.style.height = heightPercentage ? \"\" : h;\n    contextImage._element.style.maxWidth = \"\";\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n\n    contextImage._element.setAttribute(\"data-percentage\", w + \",\" + h);\n\n    this.plugins.resizing.setCaptionPosition.call(this, contextImage._element); // save current size\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  cancelPercentAttr: function cancelPercentAttr() {\n    var contextImage = this.context.image;\n    contextImage._cover.style.width = \"\";\n    contextImage._cover.style.height = \"\";\n    contextImage._container.style.width = \"\";\n    contextImage._container.style.height = \"\";\n    this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n    this.util.addClass(contextImage._container, \"__ke__float-\" + contextImage._align);\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAlign: function setAlign(align, element, cover, container) {\n    var contextImage = this.context.image;\n\n    if (!align) {\n      align = contextImage._align;\n    }\n\n    if (!element) {\n      element = contextImage._element;\n    }\n\n    if (!cover) {\n      cover = contextImage._cover;\n    }\n\n    if (!container) {\n      container = contextImage._container;\n    }\n\n    if (align && align !== \"none\") {\n      cover.style.margin = \"auto\";\n    } else {\n      cover.style.margin = \"0\";\n    }\n\n    if (/%$/.test(element.style.width) && align === \"center\") {\n      container.style.minWidth = \"100%\";\n      cover.style.width = container.style.width;\n    } else {\n      container.style.minWidth = \"\";\n      cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : !element.style.width || element.style.width === \"auto\" ? \"\" : element.style.width || \"100%\";\n    }\n\n    if (!this.util.hasClass(container, \"__ke__float-\" + align)) {\n      this.util.removeClass(container, contextImage._floatClassRegExp);\n      this.util.addClass(container, \"__ke__float-\" + align);\n    }\n\n    element.setAttribute(\"data-align\", align);\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    var contextImage = this.context.image;\n\n    if (contextImage.imgInputFile) {\n      contextImage.imgInputFile.value = \"\";\n    }\n\n    if (contextImage.imgUrlFile) {\n      contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = \"\";\n    }\n\n    if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n      contextImage.imgUrlFile.removeAttribute(\"disabled\");\n      contextImage.previewSrc.style.textDecoration = \"\";\n    }\n\n    contextImage.altText.value = \"\";\n    contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"][value=\"none\"]').checked = true;\n    contextImage.captionCheckEl.checked = false;\n    contextImage._element = null;\n    this.plugins.image.openTab.call(this, \"init\");\n\n    if (contextImage._resizing) {\n      contextImage.inputX.value = this.options.imageWidth === contextImage._defaultSizeX ? \"\" : this.options.imageWidth;\n      contextImage.inputY.value = this.options.imageHeight === contextImage._defaultSizeY ? \"\" : this.options.imageHeight;\n      contextImage.proportion.checked = true;\n      contextImage._ratio = false;\n      contextImage._ratioX = 1;\n      contextImage._ratioY = 1;\n    }\n\n    this.plugins.anchor.init.call(this, contextImage.anchorCtx);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"align\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var icons = core.icons;\n    var context = core.context;\n    context.align = {\n      targetButton: targetElement,\n      _alignList: null,\n      currentAlign: \"\",\n      defaultDir: core.options.rtl ? \"right\" : \"left\",\n      icons: {\n        justify: icons.align_justify,\n        left: icons.align_left,\n        right: icons.align_right,\n        center: icons.align_center\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.align._alignList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var listDiv = core.util.createElement(\"DIV\");\n    var leftDir = core.context.align.defaultDir === \"left\";\n    var leftMenu = \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' + '<span class=\"ke-list-icon\">' + icons.align_left + \"</span>\" + lang.toolbar.alignLeft + \"</button>\" + \"</li>\";\n    var rightMenu = \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' + '<span class=\"ke-list-icon\">' + icons.align_right + \"</span>\" + lang.toolbar.alignRight + \"</button>\" + \"</li>\";\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-align\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + (leftDir ? leftMenu : rightMenu) + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' + '<span class=\"ke-list-icon\">' + icons.align_center + \"</span>\" + lang.toolbar.alignCenter + \"</button>\" + \"</li>\" + (leftDir ? rightMenu : leftMenu) + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' + '<span class=\"ke-list-icon\">' + icons.align_justify + \"</span>\" + lang.toolbar.alignJustify + \"</button>\" + \"</li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var alignContext = this.context.align;\n    var targetButton = alignContext.targetButton;\n    var target = targetButton.firstElementChild;\n\n    if (!element) {\n      this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n      targetButton.removeAttribute(\"data-focus\");\n    } else if (this.util.isFormatElement(element)) {\n      var textAlign = element.style.textAlign;\n\n      if (textAlign) {\n        this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\n        targetButton.setAttribute(\"data-focus\", textAlign);\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var alignContext = this.context.align;\n    var alignList = alignContext._alignList;\n    var currentAlign = alignContext.targetButton.getAttribute(\"data-focus\") || alignContext.defaultDir;\n\n    if (currentAlign !== alignContext.currentAlign) {\n      for (var i = 0, len = alignList.length; i < len; i++) {\n        if (currentAlign === alignList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(alignList[i], \"active\");\n        } else {\n          this.util.removeClass(alignList[i], \"active\");\n        }\n      }\n\n      alignContext.currentAlign = currentAlign;\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var defaultDir = this.context.align.defaultDir;\n    var selectedFormsts = this.getSelectedElements();\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      this.util.setStyle(selectedFormsts[i], \"textAlign\", value === defaultDir ? \"\" : value);\n    }\n\n    this.effectNode = null;\n    this.submenuOff();\n    this.focus(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"se\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Spara\",\n      font: \"Typsnitt\",\n      formats: \"Format\",\n      fontSize: \"Textstorlek\",\n      bold: \"Fet\",\n      underline: \"Understruket\",\n      italic: \"Kursiv\",\n      strike: \"verstruket\",\n      subscript: \"Snkt skrift\",\n      superscript: \"Hjd skrift\",\n      removeFormat: \"Ta bort formattering\",\n      fontColor: \"Textfrg\",\n      hiliteColor: \"Bakgrundsfrg\",\n      indent: \"Minska indrag\",\n      outdent: \"ka indrag\",\n      align: \"Justering\",\n      alignLeft: \"Vnsterjustering\",\n      alignRight: \"Hgerjustering\",\n      alignCenter: \"Mittenjusteirng\",\n      alignJustify: \"Justera indrag\",\n      list: \"Listor\",\n      orderList: \"Numrerad lista\",\n      unorderList: \"Oordnad lista\",\n      horizontalRule: \"Horisontell linje\",\n      hr_solid: \"Solid\",\n      hr_dotted: \"Punkter\",\n      hr_dashed: \"Prickad\",\n      table: \"Tabell\",\n      link: \"Lnk\",\n      math: \"Math\",\n      image: \"Bild\",\n      video: \"Video\",\n      audio: \"Ljud\",\n      fullScreen: \"Helskrm\",\n      showBlocks: \"Visa block\",\n      codeView: \"Visa koder\",\n      undo: \"ngra\",\n      redo: \"Gr om\",\n      preview: \"Preview\",\n      print: \"Print\",\n      tag_p: \"Paragraf\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Rubrik\",\n      tag_blockquote: \"Citer\",\n      tag_pre: \"Kod\",\n      template: \"Mall\",\n      lineHeight: \"Linjehjd\",\n      paragraphStyle: \"Stil p stycke\",\n      textStyle: \"Textstil\",\n      imageGallery: \"Bildgalleri\",\n      mention: \"Namn\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Lgg till lnk\",\n        url: \"URL till lnk\",\n        text: \"Lnktext\",\n        newWindowCheck: \"ppna i nytt fnster\",\n        downloadLinkCheck: \"Nedladdningslnk\",\n        bookmark: \"Bokmrke\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Matematisk notation\",\n        fontSizeLabel: \"Textstorlek\",\n        previewLabel: \"Preview\"\n      },\n      imageBox: {\n        title: \"Lgg till bild\",\n        file: \"Lgg till frn fil\",\n        url: \"Lgg till frn URL\",\n        altText: \"Alternativ text\"\n      },\n      videoBox: {\n        title: \"Lgg till video\",\n        file: \"Lgg till frn fil\",\n        url: \"Bdda in video / YouTube,Vimeo\"\n      },\n      audioBox: {\n        title: \"Lgg till ljud\",\n        file: \"Lgg till frn fil\",\n        url: \"Lgg till frn URL\"\n      },\n      browser: {\n        tags: \"Tags\",\n        search: \"Sk\"\n      },\n      caption: \"Lgg till beskrivning\",\n      close: \"Stng\",\n      submitButton: \"Skicka\",\n      revertButton: \"terg\",\n      proportion: \"Spara proportioner\",\n      basic: \"Basic\",\n      left: \"Vnster\",\n      right: \"Hger\",\n      center: \"Center\",\n      width: \"Bredd\",\n      height: \"Hjd\",\n      size: \"Storlek\",\n      ratio: \"Frhllande\"\n    },\n    controller: {\n      edit: \"Redigera\",\n      unlink: \"Ta bort lnk\",\n      remove: \"Ta bort\",\n      insertRowAbove: \"Lgg till rad ver\",\n      insertRowBelow: \"Lgg till rad under\",\n      deleteRow: \"Ta bort rad\",\n      insertColumnBefore: \"Lgg till kolumn fre\",\n      insertColumnAfter: \"Lgg till kolumn efter\",\n      deleteColumn: \"Ta bort kolumner\",\n      fixedColumnWidth: \"Fast kolumnbredd\",\n      resize100: \"Frstora 100%\",\n      resize75: \"Frstora 75%\",\n      resize50: \"Frstora 50%\",\n      resize25: \"Frstora 25%\",\n      autoSize: \"Autostorlek\",\n      mirrorHorizontal: \"Spegling, horisontell\",\n      mirrorVertical: \"Spegling, vertikal\",\n      rotateLeft: \"Rotera till vnster\",\n      rotateRight: \"Rotera till hger\",\n      maxSize: \"Maxstorlek\",\n      minSize: \"Minsta storlek\",\n      tableHeader: \"Rubrik tabell\",\n      mergeCells: \"Sammanfoga celler (merge)\",\n      splitCells: \"Separera celler\",\n      HorizontalSplit: \"Separera horisontalt\",\n      VerticalSplit: \"Separera vertikalt\"\n    },\n    menu: {\n      spaced: \"Avstnd\",\n      bordered: \"Avgrnsningslinje\",\n      neon: \"Neon\",\n      translucent: \"Genomskinlig\",\n      shadow: \"Skugga\",\n      code: \"Kod\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"se\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"blockquote\", {\n  enumerable: true,\n  get: function get() {\n    return _blockquote.default;\n  }\n});\nObject.defineProperty(exports, \"align\", {\n  enumerable: true,\n  get: function get() {\n    return _align.default;\n  }\n});\nObject.defineProperty(exports, \"font\", {\n  enumerable: true,\n  get: function get() {\n    return _font.default;\n  }\n});\nObject.defineProperty(exports, \"fontSize\", {\n  enumerable: true,\n  get: function get() {\n    return _fontSize.default;\n  }\n});\nObject.defineProperty(exports, \"fontColor\", {\n  enumerable: true,\n  get: function get() {\n    return _fontColor.default;\n  }\n});\nObject.defineProperty(exports, \"hiliteColor\", {\n  enumerable: true,\n  get: function get() {\n    return _hiliteColor.default;\n  }\n});\nObject.defineProperty(exports, \"horizontalRule\", {\n  enumerable: true,\n  get: function get() {\n    return _horizontalRule.default;\n  }\n});\nObject.defineProperty(exports, \"list\", {\n  enumerable: true,\n  get: function get() {\n    return _list.default;\n  }\n});\nObject.defineProperty(exports, \"table\", {\n  enumerable: true,\n  get: function get() {\n    return _table.default;\n  }\n});\nObject.defineProperty(exports, \"formatBlock\", {\n  enumerable: true,\n  get: function get() {\n    return _formatBlock.default;\n  }\n});\nObject.defineProperty(exports, \"lineHeight\", {\n  enumerable: true,\n  get: function get() {\n    return _lineHeight.default;\n  }\n});\nObject.defineProperty(exports, \"template\", {\n  enumerable: true,\n  get: function get() {\n    return _template.default;\n  }\n});\nObject.defineProperty(exports, \"paragraphStyle\", {\n  enumerable: true,\n  get: function get() {\n    return _paragraphStyle.default;\n  }\n});\nObject.defineProperty(exports, \"textStyle\", {\n  enumerable: true,\n  get: function get() {\n    return _textStyle.default;\n  }\n});\nObject.defineProperty(exports, \"link\", {\n  enumerable: true,\n  get: function get() {\n    return _link.default;\n  }\n});\nObject.defineProperty(exports, \"image\", {\n  enumerable: true,\n  get: function get() {\n    return _image.default;\n  }\n});\nObject.defineProperty(exports, \"video\", {\n  enumerable: true,\n  get: function get() {\n    return _video.default;\n  }\n});\nObject.defineProperty(exports, \"audio\", {\n  enumerable: true,\n  get: function get() {\n    return _audio.default;\n  }\n});\nObject.defineProperty(exports, \"math\", {\n  enumerable: true,\n  get: function get() {\n    return _math.default;\n  }\n});\nObject.defineProperty(exports, \"imageGallery\", {\n  enumerable: true,\n  get: function get() {\n    return _imageGallery.default;\n  }\n});\nexports.default = void 0;\n\nvar _blockquote = _interopRequireDefault(require(\"./command/blockquote\"));\n\nvar _align = _interopRequireDefault(require(\"./submenu/align\"));\n\nvar _font = _interopRequireDefault(require(\"./submenu/font\"));\n\nvar _fontSize = _interopRequireDefault(require(\"./submenu/fontSize\"));\n\nvar _fontColor = _interopRequireDefault(require(\"./submenu/fontColor\"));\n\nvar _hiliteColor = _interopRequireDefault(require(\"./submenu/hiliteColor\"));\n\nvar _horizontalRule = _interopRequireDefault(require(\"./submenu/horizontalRule\"));\n\nvar _list = _interopRequireDefault(require(\"./submenu/list\"));\n\nvar _table = _interopRequireDefault(require(\"./submenu/table\"));\n\nvar _formatBlock = _interopRequireDefault(require(\"./submenu/formatBlock\"));\n\nvar _lineHeight = _interopRequireDefault(require(\"./submenu/lineHeight\"));\n\nvar _template = _interopRequireDefault(require(\"./submenu/template\"));\n\nvar _paragraphStyle = _interopRequireDefault(require(\"./submenu/paragraphStyle\"));\n\nvar _textStyle = _interopRequireDefault(require(\"./submenu/textStyle\"));\n\nvar _link = _interopRequireDefault(require(\"./dialog/link\"));\n\nvar _image = _interopRequireDefault(require(\"./dialog/image\"));\n\nvar _video = _interopRequireDefault(require(\"./dialog/video\"));\n\nvar _audio = _interopRequireDefault(require(\"./dialog/audio\"));\n\nvar _math = _interopRequireDefault(require(\"./dialog/math\"));\n\nvar _imageGallery = _interopRequireDefault(require(\"./fileBrowser/imageGallery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n// command\n// submenu\n// dialog\n// file browser\nvar _default = {\n  blockquote: _blockquote.default,\n  align: _align.default,\n  font: _font.default,\n  fontSize: _fontSize.default,\n  fontColor: _fontColor.default,\n  hiliteColor: _hiliteColor.default,\n  horizontalRule: _horizontalRule.default,\n  list: _list.default,\n  table: _table.default,\n  formatBlock: _formatBlock.default,\n  lineHeight: _lineHeight.default,\n  template: _template.default,\n  paragraphStyle: _paragraphStyle.default,\n  textStyle: _textStyle.default,\n  link: _link.default,\n  image: _image.default,\n  video: _video.default,\n  audio: _audio.default,\n  math: _math.default,\n  imageGallery: _imageGallery.default\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util2 = _interopRequireDefault(require(\"../../lib/util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Rich Text Editor\n *\n * kothing-ditor.js\n * Copyright Kothing.\n * MIT license.\n */\nvar _default = {\n  name: \"dialog\",\n\n  /**\n   * @description Constructor\n   * @param {Object} core Core object\n   */\n  util: _util2.default,\n  add: function add(core) {\n    var context = core.context;\n    context.dialog = {\n      kind: \"\",\n      updateModal: false,\n      _closeSignal: false\n    };\n    /** dialog */\n\n    var dialog_div = core.util.createElement(\"DIV\");\n    dialog_div.className = \"ke-dialog kothing-editor-common\";\n    var dialog_back = core.util.createElement(\"DIV\");\n    dialog_back.className = \"ke-dialog-back\";\n    dialog_back.style.display = \"none\";\n    var dialog_area = core.util.createElement(\"DIV\");\n    dialog_area.className = \"ke-dialog-inner\";\n    dialog_area.style.display = \"none\";\n    dialog_div.appendChild(dialog_back);\n    dialog_div.appendChild(dialog_area);\n    context.dialog.modalArea = dialog_div;\n    context.dialog.back = dialog_back;\n    context.dialog.modal = dialog_area;\n    /** add event listeners */\n\n    context.dialog.modal.addEventListener(\"mousedown\", this._onMouseDown_dialog.bind(core));\n    context.dialog.modal.addEventListener(\"click\", this._onClick_dialog.bind(core));\n    /** append html */\n\n    context.element.relative.appendChild(dialog_div);\n    /** empty memory */\n\n    dialog_div = null, dialog_back = null, dialog_area = null;\n  },\n\n  /**\n   * @description Event to control the behavior of closing the dialog\n   * @param {MouseEvent} e Event object\n   * @private\n   */\n  _onMouseDown_dialog: function _onMouseDown_dialog(e) {\n    if (/ke-dialog-inner/.test(e.target.className)) {\n      this.context.dialog._closeSignal = true;\n    } else {\n      this.context.dialog._closeSignal = false;\n    }\n  },\n\n  /**\n   * @description Event to close the window when the outside area of the dialog or close button is click\n   * @param {MouseEvent} e Event object\n   * @private\n   */\n  _onClick_dialog: function _onClick_dialog(e) {\n    e.stopPropagation();\n\n    if (/close/.test(e.target.getAttribute(\"data-command\")) || this.context.dialog._closeSignal) {\n      this.plugins.dialog.close.call(this);\n    }\n  },\n\n  /**\n   * @description Open a Dialog plugin\n   * @param {String} kind Dialog plugin name\n   * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n   */\n  open: function open(kind, update) {\n    if (this.modalForm) {\n      return false;\n    }\n\n    if (this.plugins.dialog._bindClose) {\n      this._d.removeEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n      this.plugins.dialog._bindClose = null;\n    }\n\n    this.plugins.dialog._bindClose = function (e) {\n      if (!/27/.test(e.keyCode)) {\n        return;\n      }\n\n      this.plugins.dialog.close.call(this);\n    }.bind(this);\n\n    this._d.addEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n    this.context.dialog.updateModal = update;\n\n    if (this.context.option.popupDisplay === \"full\") {\n      this.context.dialog.modalArea.style.position = \"fixed\";\n    } else {\n      this.context.dialog.modalArea.style.position = \"absolute\";\n    }\n\n    this.context.dialog.kind = kind;\n    this.modalForm = this.context[kind].modal;\n    var focusElement = this.context[kind].focusElement;\n\n    if (typeof this.plugins[kind].on === \"function\") {\n      this.plugins[kind].on.call(this, update);\n    }\n\n    _util2.default.addClass(this.context.dialog.modalArea, \"dialog--open\");\n\n    this.context.dialog.modalArea.style.display = \"block\";\n    this.context.dialog.back.style.display = \"block\";\n    this.context.dialog.modal.style.display = \"block\";\n    this.modalForm.style.display = \"block\";\n\n    if (focusElement) {\n      focusElement.focus();\n    }\n  },\n  _bindClose: null,\n\n  /**\n   * @description Close a Dialog plugin\n   * The plugin's \"init\" method is called.\n   */\n  close: function close() {\n    var _this = this;\n\n    if (this.plugins.dialog._bindClose) {\n      this._d.removeEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n      this.plugins.dialog._bindClose = null;\n    }\n\n    var contextDialog = this.context.dialog;\n    var kind = this.context.dialog.kind;\n\n    _util2.default.removeClass(contextDialog.modalArea, \"dialog--open\");\n\n    _util2.default.addClass(contextDialog.modalArea, \"dialog--close\");\n\n    setTimeout(function () {\n      _util2.default.removeClass(contextDialog.modalArea, \"dialog--close\");\n\n      contextDialog.back.style.display = \"none\";\n      contextDialog.modalArea.style.display = \"none\";\n      _this.modalForm.style.display = \"none\";\n      contextDialog.updateModal = false;\n      contextDialog.kind = \"\";\n      _this.modalForm = null;\n\n      _this.focus();\n    }, 200);\n\n    if (typeof this.plugins[kind].init === \"function\") {\n      this.plugins[kind].init.call(this);\n    }\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _resizing = _interopRequireDefault(require(\"../modules/resizing\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  name: \"video\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _component.default, _resizing.default, _fileManager.default]);\n    var options = core.options;\n    var context = core.context;\n    var contextVideo = context.video = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      sizeUnit: options._videoSizeUnit,\n      _align: \"none\",\n      _floatClassRegExp: \"__ke__float\\\\-[a-z]+\",\n      _youtubeQuery: options.youtubeQuery,\n      _videoRatio: options.videoRatio * 100 + \"%\",\n      _defaultRatio: options.videoRatio * 100 + \"%\",\n      _linkValue: \"\",\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null,\n      // @Override resizing properties\n      inputX: null,\n      inputY: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _defaultSizeX: \"100%\",\n      _defaultSizeY: options.videoRatio * 100 + \"%\",\n      _origin_w: options.videoWidth === \"100%\" ? \"\" : options.videoWidth,\n      _origin_h: options.videoHeight === \"56.25%\" ? \"\" : options.videoHeight,\n      _proportionChecked: true,\n      _resizing: options.videoResizing,\n      _resizeDotHide: !options.videoHeightShow,\n      _rotation: options.videoRotation,\n      _onlyPercentage: options.videoSizeOnlyPercentage,\n      _ratio: false,\n      _ratioX: 1,\n      _ratioY: 1,\n      _captionShow: false\n    };\n    /** video dialog */\n\n    var video_dialog = this.setDialog(core);\n    contextVideo.modal = video_dialog;\n    contextVideo.videoInputFile = video_dialog.querySelector(\"._ke_video_file\");\n    contextVideo.videoUrlFile = video_dialog.querySelector(\".ke-input-url\");\n    contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n    contextVideo.preview = video_dialog.querySelector(\".ke-link-preview\");\n    /** add event listeners */\n\n    video_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextVideo.videoInputFile) {\n      video_dialog.querySelector(\".ke-dialog-files-edge-button\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n    }\n\n    if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n      contextVideo.videoInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextVideo));\n    }\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo.videoUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextVideo.preview, contextVideo, options.linkProtocol));\n    }\n\n    contextVideo.proportion = {};\n    contextVideo.videoRatioOption = {};\n    contextVideo.inputX = {};\n    contextVideo.inputY = {};\n\n    if (options.videoResizing) {\n      contextVideo.proportion = video_dialog.querySelector(\"._ke_video_check_proportion\");\n      contextVideo.videoRatioOption = video_dialog.querySelector(\".ke-video-ratio\");\n      contextVideo.inputX = video_dialog.querySelector(\"._ke_video_size_x\");\n      contextVideo.inputY = video_dialog.querySelector(\"._ke_video_size_y\");\n      contextVideo.inputX.value = options.videoWidth;\n      contextVideo.inputY.value = options.videoHeight;\n      contextVideo.inputX.addEventListener(\"keyup\", this.setInputSize.bind(core, \"x\"));\n      contextVideo.inputY.addEventListener(\"keyup\", this.setInputSize.bind(core, \"y\"));\n      contextVideo.inputX.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.inputY.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.proportion.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.videoRatioOption.addEventListener(\"change\", this.setVideoRatio.bind(core));\n      video_dialog.querySelector(\".ke-dialog-btn-revert\").addEventListener(\"click\", this.sizeRevert.bind(core));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(video_dialog);\n    /** empty memory */\n\n    video_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.videoBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">';\n\n    if (option.videoFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.videoBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" data-command=\"filesRemove\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.videoUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.videoBox.url + \"</label>\" + '<input class=\"ke-input-form ke-input-url\" type=\"text\" />' + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    if (option.videoResizing) {\n      var ratioList = option.videoRatioList || [{\n        name: \"16:9\",\n        value: 0.5625\n      }, {\n        name: \"4:3\",\n        value: 0.75\n      }, {\n        name: \"21:9\",\n        value: 0.4285\n      }];\n      var ratio = option.videoRatio;\n      var onlyPercentage = option.videoSizeOnlyPercentage;\n      var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : \"\";\n      var heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : \"\";\n      var ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : \"\";\n      var onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : \"\";\n      html += \"\" + '<div class=\"ke-dialog-form\">' + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + \"</label>\" + '<label class=\"ke-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\"' + heightDisplay + \">\" + lang.dialogBox.height + \"</label>\" + '<label class=\"size-h\"' + ratioDisplay + \">(\" + lang.dialogBox.ratio + \")</label>\" + \"</div>\" + '<input class=\"ke-input-control _ke_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + \"/>\" + '<label class=\"ke-dialog-size-x\"' + onlyWidthDisplay + \">\" + (onlyPercentage ? \"%\" : \"x\") + \"</label>\" + '<input class=\"ke-input-control _ke_video_size_y\" placeholder=\"' + option.videoRatio * 100 + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + heightDisplay + \"/>\" + '<select class=\"ke-input-select ke-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + \">\";\n\n      if (!heightDisplay) {\n        html += '<option value=\"\"> - </option>';\n      }\n\n      for (var i = 0, len = ratioList.length; i < len; i++) {\n        html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? \" selected\" : \"\") + \">\" + ratioList[i].name + \"</option>\";\n      }\n\n      html += \"</select>\" + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"ke-btn ke-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + \"</button>\" + \"</div>\" + '<div class=\"ke-dialog-form ke-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + \">\" + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + \"</label>\" + \"</div>\";\n    }\n\n    html += \"\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + \"<div>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + \"</label>\" + \"</div>\" + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  _fileInputChange: function _fileInputChange() {\n    if (!this.videoInputFile.value) {\n      this.videoUrlFile.removeAttribute(\"disabled\");\n      this.preview.style.textDecoration = \"\";\n    } else {\n      this.videoUrlFile.setAttribute(\"disabled\", true);\n      this.preview.style.textDecoration = \"line-through\";\n    }\n  },\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, preview) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      preview.style.textDecoration = \"\";\n    }\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n\n    if (/^<iframe.*\\/iframe>$/.test(value)) {\n      context._linkValue = value;\n      this.textContent = '<IFrame :src=\"..\"></IFrame>';\n    } else {\n      context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n    }\n  },\n  _setTagAttrs: function _setTagAttrs(element) {\n    element.setAttribute(\"controls\", true);\n    var attrs = this.options.videoTagAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  createVideoTag: function createVideoTag() {\n    var videoTag = this.util.createElement(\"VIDEO\");\n\n    this.plugins.video._setTagAttrs.call(this, videoTag);\n\n    return videoTag;\n  },\n  _setIframeAttrs: function _setIframeAttrs(element) {\n    element.frameBorder = \"0\";\n    element.allowFullscreen = true;\n    var attrs = this.options.videoIframeAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  createIframeTag: function createIframeTag() {\n    var iframeTag = this.util.createElement(\"IFRAME\");\n\n    this.plugins.video._setIframeAttrs.call(this, iframeTag);\n\n    return iframeTag;\n  },\n\n  /**\r\n   * @Override @Required fileManager\r\n   */\n  fileTags: [\"iframe\", \"video\"],\n\n  /**\r\n   * @Override core, resizing, fileManager\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, \"video\"));\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    var frame = element || this.context.video._element;\n    var container = this.context.video._container;\n    var dataIndex = frame.getAttribute(\"data-index\") * 1;\n    var focusEl = container.previousElementSibling || container.nextElementSibling;\n    var emptyDiv = container.parentNode;\n    this.util.removeItem(container);\n    this.plugins.video.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"video\", dataIndex, this.functions.onVideoUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextVideo = this.context.video;\n\n    if (!update) {\n      contextVideo.inputX.value = contextVideo._origin_w = this.options.videoWidth === contextVideo._defaultSizeX ? \"\" : this.options.videoWidth;\n      contextVideo.inputY.value = contextVideo._origin_h = this.options.videoHeight === contextVideo._defaultSizeY ? \"\" : this.options.videoHeight;\n      contextVideo.proportion.disabled = true;\n\n      if (contextVideo.videoInputFile && this.options.videoMultipleFile) {\n        contextVideo.videoInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else {\n      if (contextVideo.videoInputFile && this.options.videoMultipleFile) {\n        contextVideo.videoInputFile.removeAttribute(\"multiple\");\n      }\n    }\n\n    if (contextVideo._resizing) {\n      this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n    }\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"video\", \"video\" === this.currentControllerName);\n  },\n  setVideoRatio: function setVideoRatio(e) {\n    var contextVideo = this.context.video;\n    var value = e.target.options[e.target.selectedIndex].value;\n    contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : value * 100 + \"%\";\n    contextVideo.inputY.placeholder = !value ? \"\" : value * 100 + \"%\";\n    contextVideo.inputY.value = \"\";\n  },\n\n  /**\r\n   * @Override resizing\r\n   * @param {String} xy 'x': width, 'y': height\r\n   * @param {KeyboardEvent} e Event object\r\n   */\n  setInputSize: function setInputSize(xy, e) {\n    if (e && e.keyCode === 32) {\n      e.preventDefault();\n      return;\n    }\n\n    var contextVideo = this.context.video;\n\n    this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n    if (xy === \"y\") {\n      this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setRatio: function setRatio() {\n    this.plugins.resizing._module_setRatio.call(this, this.context.video);\n  },\n  submit: function submit(e) {\n    var contextVideo = this.context.video;\n    var videoPlugin = this.plugins.video;\n    e.preventDefault();\n    e.stopPropagation();\n    contextVideo._align = contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"]:checked').value;\n\n    try {\n      if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n        this.showLoading();\n        videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n      } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n        this.showLoading();\n        videoPlugin.setup_url.call(this);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.video.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/video/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.videoUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var videosInfo = this.context.video._infoList;\n\n      for (var _i = 0, _len = videosInfo.length; _i < _len; _i++) {\n        infoSize += videosInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.videoUpload.fail] Size of uploadable total videos: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onVideoUploadError !== \"function\" || this.functions.onVideoUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextVideo = this.context.video;\n    contextVideo._uploadFileLength = files.length;\n    var info = {\n      inputWidth: contextVideo.inputX.value,\n      inputHeight: contextVideo.inputY.value,\n      align: contextVideo._align,\n      isUpdate: this.context.dialog.updateModal,\n      element: contextVideo._element\n    };\n\n    if (typeof this.functions.onVideoUploadBefore === \"function\") {\n      var result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.video.register.call(this, info, data);\n        } else {\n          this.plugins.video.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (_typeof(result) === \"object\" && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.video.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onVideoUploadError !== \"function\" || this.functions.onVideoUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.video.error] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.video.error.call(this, files, null);\n      return;\n    }\n\n    var videoUploadUrl = this.options.videoUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n    if (typeof videoUploadUrl === \"string\" && videoUploadUrl.length > 0) {\n      var formData = new FormData();\n\n      for (var i = 0; i < filesLen; i++) {\n        formData.append(\"file-\" + i, files[i]);\n      }\n\n      this.plugins.fileManager.upload.call(this, videoUploadUrl, this.options.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n    } else {\n      throw Error('[KothingEditor.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n    }\n  },\n  callBack_videoUpload: function callBack_videoUpload(info, xmlHttp) {\n    if (typeof this.functions.videoUploadHandler === \"function\") {\n      this.functions.videoUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.video.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.video.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n    var videoTag = this.plugins.video.createVideoTag.call(this);\n\n    for (var i = 0, len = fileList.length, file; i < len; i++) {\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n      this.plugins.video.create_video.call(this, info.isUpdate ? info.element : videoTag.cloneNode(false), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n    }\n\n    this.closeLoading();\n  },\n  setup_url: function setup_url() {\n    try {\n      var contextVideo = this.context.video;\n      var url = contextVideo._linkValue;\n\n      if (url.length === 0) {\n        return false;\n      }\n      /** iframe source */\n\n\n      if (/^<iframe.*\\/iframe>$/.test(url)) {\n        var oIframe = new this._w.DOMParser().parseFromString(url, \"text/html\").querySelector(\"iframe\");\n        url = oIframe.src;\n\n        if (url.length === 0) {\n          return false;\n        }\n      }\n      /** youtube */\n\n\n      if (/youtu\\.?be/.test(url)) {\n        if (!/^http/.test(url)) {\n          url = \"https://\" + url;\n        }\n\n        url = url.replace(\"watch?v=\", \"\");\n\n        if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n          url = url.replace(url.match(/\\/\\/.+\\//)[0], \"//www.youtube.com/embed/\").replace(\"&\", \"?&\");\n        }\n\n        if (contextVideo._youtubeQuery.length > 0) {\n          if (/\\?/.test(url)) {\n            var splitUrl = url.split(\"?\");\n            url = splitUrl[0] + \"?\" + contextVideo._youtubeQuery + \"&\" + splitUrl[1];\n          } else {\n            url += \"?\" + contextVideo._youtubeQuery;\n          }\n        }\n      } else if (/vimeo\\.com/.test(url)) {\n        if (url.endsWith(\"/\")) {\n          url = url.slice(0, -1);\n        }\n\n        url = \"https://player.vimeo.com/video/\" + url.slice(url.lastIndexOf(\"/\") + 1);\n      }\n\n      this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n    } catch (error) {\n      throw Error('[KothingEditor.video.upload.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  create_video: function create_video(oFrame, src, width, height, align, file, isUpdate) {\n    this.context.resizing._resize_plugin = \"video\";\n    var contextVideo = this.context.video;\n    var cover = null;\n    var container = null;\n    var init = false;\n    /** update */\n\n    if (isUpdate) {\n      oFrame = contextVideo._element;\n\n      if (oFrame.src !== src) {\n        init = true;\n        var isYoutube = /youtu\\.?be/.test(src);\n        var isVimeo = /vimeo\\.com/.test(src);\n\n        if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n          var newTag = this.plugins.video.createIframeTag.call(this);\n          newTag.src = src;\n          oFrame.parentNode.replaceChild(newTag, oFrame);\n          contextVideo._element = oFrame = newTag;\n        } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n          var _newTag = this.plugins.video.createVideoTag.call(this);\n\n          _newTag.src = src;\n          oFrame.parentNode.replaceChild(_newTag, oFrame);\n          contextVideo._element = oFrame = _newTag;\n        } else {\n          oFrame.src = src;\n        }\n      }\n\n      container = contextVideo._container;\n      cover = this.util.getParentElement(oFrame, \"FIGURE\");\n    } else {\n      /** create */\n      init = true;\n      oFrame.src = src;\n      contextVideo._element = oFrame;\n      cover = this.plugins.component.set_cover.call(this, oFrame);\n      container = this.plugins.component.set_container.call(this, cover, \"ke-video-container\");\n    }\n    /** rendering */\n\n\n    contextVideo._cover = cover;\n    contextVideo._container = container;\n\n    var inputUpdate = this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX) || this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio);\n\n    var changeSize = !isUpdate || inputUpdate;\n\n    if (contextVideo._resizing) {\n      this.context.video._proportionChecked = contextVideo.proportion.checked;\n      oFrame.setAttribute(\"data-proportion\", contextVideo._proportionChecked);\n    } // size\n\n\n    var isPercent = false;\n\n    if (changeSize) {\n      isPercent = this.plugins.video.applySize.call(this);\n    } // align\n\n\n    if (!(isPercent && align === \"center\")) {\n      this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n    }\n\n    var changed = true;\n\n    if (!isUpdate) {\n      changed = this.insertComponent(container, false, true, !this.options.mediaAutoSelect);\n\n      if (!this.options.mediaAutoSelect) {\n        var line = this.appendFormatTag(container, null);\n        this.setRange(line, 0, line, 0);\n      }\n    } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n      this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n    }\n\n    if (changed) {\n      if (init) {\n        this.plugins.fileManager.setInfo.call(this, \"video\", oFrame, this.functions.onVideoUpload, file, true);\n      }\n\n      if (isUpdate) {\n        this.selectComponent(oFrame, \"video\"); // history stack\n\n        this.history.push(false);\n      }\n    }\n\n    this.context.resizing._resize_plugin = \"\";\n  },\n  _update_videoCover: function _update_videoCover(oFrame) {\n    if (!oFrame) {\n      return;\n    }\n\n    var contextVideo = this.context.video;\n\n    if (/^video$/i.test(oFrame.nodeName)) {\n      this.plugins.video._setTagAttrs.call(this, oFrame);\n    } else {\n      this.plugins.video._setIframeAttrs.call(this, oFrame);\n    }\n\n    var existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || this.util.getParentElement(oFrame, function (current) {\n      return this.isWysiwygDiv(current.parentNode);\n    }.bind(this.util));\n    var prevFrame = oFrame;\n    contextVideo._element = oFrame = oFrame.cloneNode(true);\n    var cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n    var container = contextVideo._container = this.plugins.component.set_container.call(this, cover, \"ke-video-container\");\n\n    try {\n      var figcaption = existElement.querySelector(\"figcaption\");\n      var caption = null;\n\n      if (figcaption) {\n        caption = this.util.createElement(\"DIV\");\n        caption.innerHTML = figcaption.innerHTML;\n        this.util.removeItem(figcaption);\n      } // size\n\n\n      var size = (oFrame.getAttribute(\"data-size\") || oFrame.getAttribute(\"data-origin\") || \"\").split(\",\");\n      this.plugins.video.applySize.call(this, size[0] || prevFrame.style.width || prevFrame.width || \"\", size[1] || prevFrame.style.height || prevFrame.height || \"\"); // align\n\n      var format = this.util.getFormatElement(prevFrame);\n\n      if (format) {\n        contextVideo._align = format.style.textAlign || format.style.float;\n      }\n\n      this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(prevFrame); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        existElement.parentNode.replaceChild(container, existElement);\n      }\n\n      if (caption) {\n        existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n      }\n    } catch (error) {\n      console.warn(\"[KothingEditor.video.error] Maybe the video tag is nested.\", error);\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"video\", oFrame, this.functions.onVideoUpload, null, true);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(element, size) {\n    var contextVideo = this.context.video;\n    contextVideo._element = element;\n    contextVideo._cover = this.util.getParentElement(element, \"FIGURE\");\n    contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n    contextVideo._align = element.style.float || element.getAttribute(\"data-align\") || \"none\";\n    element.style.float = \"\";\n\n    if (size) {\n      contextVideo._element_w = size.w;\n      contextVideo._element_h = size.h;\n      contextVideo._element_t = size.t;\n      contextVideo._element_l = size.l;\n    }\n\n    var origin = contextVideo._element.getAttribute(\"data-size\") || contextVideo._element.getAttribute(\"data-origin\");\n\n    var w, h;\n\n    if (origin) {\n      origin = origin.split(\",\");\n      w = origin[0];\n      h = origin[1];\n    } else if (size) {\n      w = size.w;\n      h = size.h;\n    }\n\n    contextVideo._origin_w = w || element.style.width || element.width || \"\";\n    contextVideo._origin_h = h || element.style.height || element.height || \"\";\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    var contextVideo = this.context.video;\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = contextVideo._element.src || (contextVideo._element.querySelector(\"source\") || \"\").src || \"\";\n    }\n\n    contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n    if (contextVideo._resizing) {\n      this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n\n      var y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n\n      var ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n\n      if (!ratioSelected) {\n        contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n      }\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"video\", true);\n    }\n  },\n  setVideoRatioSelect: function setVideoRatioSelect(value) {\n    var ratioSelected = false;\n    var contextVideo = this.context.video;\n    var ratioOptions = contextVideo.videoRatioOption.options;\n\n    if (/%$/.test(value) || contextVideo._onlyPercentage) {\n      value = this.util.getNumber(value, 2) / 100 + \"\";\n    } else if (!this.util.isNumber(value) || value * 1 >= 1) {\n      value = \"\";\n    }\n\n    contextVideo.inputY.placeholder = \"\";\n\n    for (var i = 0, len = ratioOptions.length; i < len; i++) {\n      if (ratioOptions[i].value === value) {\n        ratioSelected = ratioOptions[i].selected = true;\n        contextVideo.inputY.placeholder = !value ? \"\" : value * 100 + \"%\";\n      } else {\n        ratioOptions[i].selected = false;\n      }\n    }\n\n    return ratioSelected;\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    this.plugins.fileManager.checkInfo.call(this, \"video\", [\"iframe\", \"video\"], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"video\", this.functions.onVideoUpload);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  applySize: function applySize(w, h) {\n    var contextVideo = this.context.video;\n\n    if (!w) {\n      w = contextVideo.inputX.value || this.options.videoWidth;\n    }\n\n    if (!h) {\n      h = contextVideo.inputY.value || this.options.videoHeight;\n    }\n\n    if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n      this.plugins.video.setPercentSize.call(this, w || \"100%\", h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio));\n      return true;\n    } else if ((!w || w === \"auto\") && (!h || h === \"auto\")) {\n      this.plugins.video.setAutoSize.call(this);\n    } else {\n      this.plugins.video.setSize.call(this, w, h || contextVideo._videoRatio || contextVideo._defaultRatio, false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  sizeRevert: function sizeRevert() {\n    this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setSize: function setSize(w, h, notResetPercentage, direction) {\n    var contextVideo = this.context.video;\n    var onlyW = /^(rw|lw)$/.test(direction);\n    var onlyH = /^(th|bh)$/.test(direction);\n\n    if (!onlyH) {\n      w = this.util.getNumber(w, 0);\n    }\n\n    if (!onlyW) {\n      h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? \"\" : h;\n    }\n\n    if (!onlyH) {\n      contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : \"\";\n    }\n\n    if (!onlyW) {\n      contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n    }\n\n    if (!onlyH && !/%$/.test(w)) {\n      contextVideo._cover.style.width = \"\";\n      contextVideo._container.style.width = \"\";\n    }\n\n    if (!onlyW && !/%$/.test(h)) {\n      contextVideo._element.style.height = h;\n    } else {\n      contextVideo._element.style.height = \"\";\n    }\n\n    if (!notResetPercentage) {\n      contextVideo._element.removeAttribute(\"data-percentage\");\n    } // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAutoSize: function setAutoSize() {\n    this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setOriginSize: function setOriginSize(dataSize) {\n    var contextVideo = this.context.video;\n\n    contextVideo._element.removeAttribute(\"data-percentage\");\n\n    this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n    this.plugins.video.cancelPercentAttr.call(this);\n    var originSize = ((dataSize ? contextVideo._element.getAttribute(\"data-size\") : \"\") || contextVideo._element.getAttribute(\"data-origin\") || \"\").split(\",\");\n\n    if (originSize) {\n      var w = originSize[0];\n      var h = originSize[1];\n\n      if (contextVideo._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n        this.plugins.video.setPercentSize.call(this, w, h);\n      } else {\n        this.plugins.video.setSize.call(this, w, h);\n      } // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setPercentSize: function setPercentSize(w, h) {\n    var contextVideo = this.context.video;\n    h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + \"%\" : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : h || contextVideo._defaultRatio;\n    contextVideo._container.style.width = this.util.isNumber(w) ? w + \"%\" : w;\n    contextVideo._container.style.height = \"\";\n    contextVideo._cover.style.width = \"100%\";\n    contextVideo._cover.style.height = h;\n    contextVideo._cover.style.paddingBottom = h;\n    contextVideo._element.style.width = \"100%\";\n    contextVideo._element.style.height = \"100%\";\n    contextVideo._element.style.maxWidth = \"\";\n\n    if (contextVideo._align === \"center\") {\n      this.plugins.video.setAlign.call(this, null, null, null, null);\n    }\n\n    contextVideo._element.setAttribute(\"data-percentage\", w + \",\" + h); // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  cancelPercentAttr: function cancelPercentAttr() {\n    var contextVideo = this.context.video;\n    contextVideo._cover.style.width = \"\";\n    contextVideo._cover.style.height = \"\";\n    contextVideo._cover.style.paddingBottom = \"\";\n    contextVideo._container.style.width = \"\";\n    contextVideo._container.style.height = \"\";\n    this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n    this.util.addClass(contextVideo._container, \"__ke__float-\" + contextVideo._align);\n\n    if (contextVideo._align === \"center\") {\n      this.plugins.video.setAlign.call(this, null, null, null, null);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAlign: function setAlign(align, element, cover, container) {\n    var contextVideo = this.context.video;\n\n    if (!align) {\n      align = contextVideo._align;\n    }\n\n    if (!element) {\n      element = contextVideo._element;\n    }\n\n    if (!cover) {\n      cover = contextVideo._cover;\n    }\n\n    if (!container) {\n      container = contextVideo._container;\n    }\n\n    if (align && align !== \"none\") {\n      cover.style.margin = \"auto\";\n    } else {\n      cover.style.margin = \"0\";\n    }\n\n    if (/%$/.test(element.style.width) && align === \"center\") {\n      container.style.minWidth = \"100%\";\n      cover.style.width = container.style.width;\n      cover.style.height = container.style.height;\n      cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber(this.util.getNumber(cover.style.height, 2) / 100 * this.util.getNumber(cover.style.width, 2), 2) + \"%\";\n    } else {\n      container.style.minWidth = \"\";\n      cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : element.style.width || \"100%\";\n      cover.style.paddingBottom = cover.style.height;\n    }\n\n    if (!this.util.hasClass(container, \"__ke__float-\" + align)) {\n      this.util.removeClass(container, contextVideo._floatClassRegExp);\n      this.util.addClass(container, \"__ke__float-\" + align);\n    }\n\n    element.setAttribute(\"data-align\", align);\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    var contextVideo = this.context.video;\n\n    if (contextVideo.videoInputFile) {\n      contextVideo.videoInputFile.value = \"\";\n    }\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = \"\";\n    }\n\n    if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n      contextVideo.videoUrlFile.removeAttribute(\"disabled\");\n      contextVideo.preview.style.textDecoration = \"\";\n    }\n\n    contextVideo._origin_w = this.options.videoWidth;\n    contextVideo._origin_h = this.options.videoHeight;\n    contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"][value=\"none\"]').checked = true;\n\n    if (contextVideo._resizing) {\n      contextVideo.inputX.value = this.options.videoWidth === contextVideo._defaultSizeX ? \"\" : this.options.videoWidth;\n      contextVideo.inputY.value = this.options.videoHeight === contextVideo._defaultSizeY ? \"\" : this.options.videoHeight;\n      contextVideo.proportion.checked = true;\n      contextVideo.proportion.disabled = true;\n      this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n    }\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\nvar $context = function $context(element, cons, options) {\n  return {\n    element: {\n      originElement: element,\n      topArea: cons.top,\n      relative: cons.relative,\n      toolbar: cons.toolBar,\n      buttonTray: cons.toolBar.querySelector(\".ke-btn-tray\"),\n      menuTray: cons.menuTray,\n      resizingBar: cons.resizingBar,\n      navigation: cons.navigation,\n      charWrapper: cons.charWrapper,\n      charCounter: cons.charCounter,\n      editorArea: cons.editorArea,\n      wysiwygFrame: cons.wysiwygArea,\n      wysiwyg: cons.wysiwygArea,\n      // if (options.iframe) cons.wysiwygArea.contentDocument.body\n      code: cons.codeArea,\n      placeholder: cons.placeholder,\n      loading: cons.loading,\n      lineBreaker: cons.lineBreaker,\n      lineBreaker_t: cons.lineBreaker_t,\n      lineBreaker_b: cons.lineBreaker_b,\n      resizeBackground: cons.resizeBack,\n      stickyDummy: cons.stickyDummy,\n      arrow: cons.arrow\n    },\n    tool: {\n      cover: cons.toolBar.querySelector(\".ke-toolbar-cover\"),\n      bold: cons.toolBar.querySelector(\"._ke_command_bold\"),\n      underline: cons.toolBar.querySelector(\"._ke_command_underline\"),\n      italic: cons.toolBar.querySelector(\"._ke_command_italic\"),\n      strike: cons.toolBar.querySelector(\"._ke_command_strike\"),\n      subscript: cons.toolBar.querySelector(\"._ke_command_subscript\"),\n      superscript: cons.toolBar.querySelector(\"._ke_command_superscript\"),\n      undo: cons.toolBar.querySelector(\"._ke_command_undo\"),\n      redo: cons.toolBar.querySelector(\"._ke_command_redo\"),\n      save: cons.toolBar.querySelector(\"._ke_command_save\"),\n      outdent: cons.toolBar.querySelector(\"._ke_command_outdent\"),\n      indent: cons.toolBar.querySelector(\"._ke_command_indent\"),\n      fullScreen: cons.toolBar.querySelector(\"._ke_command_fullScreen\"),\n      showBlocks: cons.toolBar.querySelector(\"._ke_command_showBlocks\"),\n      codeView: cons.toolBar.querySelector(\"._ke_command_codeView\")\n    },\n    options: options,\n    option: options\n  };\n};\n\nvar _default = $context;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _colorPicker = _interopRequireDefault(require(\"../modules/colorPicker\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"fontColor\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.addModule([_colorPicker.default]);\n    var context = core.context;\n    context.fontColor = {\n      previewEl: null,\n      colorInput: null,\n      colorList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    context.fontColor.colorInput = listDiv.querySelector(\"._ke_color_picker_input\");\n    /** add event listeners */\n\n    context.fontColor.colorInput.addEventListener(\"keyup\", this.onChangeInput.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_submit\").addEventListener(\"click\", this.submit.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_remove\").addEventListener(\"click\", this.remove.bind(core));\n    listDiv.addEventListener(\"click\", this.pickup.bind(core));\n    context.fontColor.colorList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var colorArea = core.context.colorPicker.colorListHTML;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = colorArea;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var contextPicker = this.context.colorPicker;\n    var contextFontColor = this.context.fontColor;\n    contextPicker._colorInput = contextFontColor.colorInput;\n    var color = this.wwComputedStyle.color;\n    contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\n    contextPicker._styleProperty = \"color\";\n    contextPicker._colorList = contextFontColor.colorList;\n    this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n  },\n\n  /**\r\n   * @Override colorPicker\r\n   */\n  onChangeInput: function onChangeInput(e) {\n    this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n  },\n  submit: function submit() {\n    this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.fontColor.applyColor.call(this, e.target.getAttribute(\"data-value\"));\n  },\n  remove: function remove() {\n    this.nodeChange(null, [\"color\"], [\"span\"], true);\n    this.submenuOff();\n  },\n  applyColor: function applyColor(color) {\n    if (!color) {\n      return;\n    }\n\n    var newNode = this.util.createElement(\"SPAN\");\n    newNode.style.color = color;\n    this.nodeChange(newNode, [\"color\"], null, null);\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"colorPicker\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    var context = core.context;\n    context.colorPicker = {\n      colorListHTML: \"\",\n      _colorInput: \"\",\n      _defaultColor: \"#000\",\n      _styleProperty: \"color\",\n      _currentColor: \"\",\n      _colorList: []\n    };\n    /** set submenu */\n\n    context.colorPicker.colorListHTML = this.createColorList(core, this._makeColorList);\n  },\n\n  /**\r\n   * @description Create color list\r\n   * @param {Object} core Core object\r\n   * @param {Function} makeColor this._makeColorList\r\n   * @returns {String} HTML string\r\n   */\n  createColorList: function createColorList(core, makeColor) {\n    var option = core.options;\n    var lang = core.lang;\n    var colorList = !option.colorList || option.colorList.length === 0 ? [\"#ff0000\", \"#ff5e00\", \"#ffe400\", \"#abf200\", \"#00d8ff\", \"#0055ff\", \"#6600ff\", \"#ff00dd\", \"#000000\", \"#ffd8d8\", \"#fae0d4\", \"#faf4c0\", \"#e4f7ba\", \"#d4f4fa\", \"#d9e5ff\", \"#e8d9ff\", \"#ffd9fa\", \"#f1f1f1\", \"#ffa7a7\", \"#ffc19e\", \"#faed7d\", \"#cef279\", \"#b2ebf4\", \"#b2ccff\", \"#d1b2ff\", \"#ffb2f5\", \"#bdbdbd\", \"#f15f5f\", \"#f29661\", \"#e5d85c\", \"#bce55c\", \"#5cd1e5\", \"#6699ff\", \"#a366ff\", \"#f261df\", \"#8c8c8c\", \"#980000\", \"#993800\", \"#998a00\", \"#6b9900\", \"#008299\", \"#003399\", \"#3d0099\", \"#990085\", \"#353535\", \"#670000\", \"#662500\", \"#665c00\", \"#476600\", \"#005766\", \"#002266\", \"#290066\", \"#660058\", \"#222222\"] : option.colorList;\n    var colorArr = [];\n    var list = '<div class=\"ke-list-inner\">';\n\n    for (var i = 0, len = colorList.length, color; i < len; i++) {\n      color = colorList[i];\n\n      if (!color) {\n        continue;\n      }\n\n      if (typeof color === \"string\") {\n        colorArr.push(color);\n\n        if (i < len - 1) {\n          continue;\n        }\n      }\n\n      if (colorArr.length > 0) {\n        list += '<div class=\"ke-selector-color\">' + makeColor(colorArr) + \"</div>\";\n        colorArr = [];\n      }\n\n      if (_typeof(color) === \"object\") {\n        list += '<div class=\"ke-selector-color\">' + makeColor(color) + \"</div>\";\n      }\n    }\n\n    list += \"\" + '<form class=\"ke-submenu-form-group\">' + '<input type=\"text\" maxlength=\"9\" class=\"_ke_color_picker_input ke-color-input\"/>' + '<button type=\"submit\" class=\"ke-btn-primary _ke_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' + core.icons.checked + \"</button>\" + '<button type=\"button\" class=\"ke-btn _ke_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' + core.icons.erase + \"</button>\" + \"</form>\" + \"</div>\";\n    return list;\n  },\n\n  /**\r\n   * @description Internal function used by this.createColorList\r\n   * @param {Array} colorList Color list\r\n   * @private\r\n   */\n  _makeColorList: function _makeColorList(colorList) {\n    var list = \"\";\n    list += '<ul class=\"ke-color-pallet\">';\n\n    for (var i = 0, len = colorList.length, color; i < len; i++) {\n      color = colorList[i];\n\n      if (typeof color === \"string\") {\n        list += \"<li>\" + '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + \"</li>\";\n      }\n    }\n\n    list += \"</ul>\";\n    return list;\n  },\n\n  /**\r\n   * @description Displays or resets the currently selected color at color list.\r\n   * @param {Node} node Current Selected node\r\n   * @param {String|null} color Color value\r\n   */\n  init: function init(node, color) {\n    var colorPicker = this.plugins.colorPicker;\n    var fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\n    fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\n    var colorList = this.context.colorPicker._colorList;\n\n    if (colorList) {\n      for (var i = 0, len = colorList.length; i < len; i++) {\n        if (fillColor.toLowerCase() === colorList[i].getAttribute(\"data-value\").toLowerCase()) {\n          this.util.addClass(colorList[i], \"active\");\n        } else {\n          this.util.removeClass(colorList[i], \"active\");\n        }\n      }\n    }\n\n    colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\n  },\n\n  /**\r\n   * @description Store color values\r\n   * @param {String} hexColorStr Hax color value\r\n   */\n  setCurrentColor: function setCurrentColor(hexColorStr) {\n    this.context.colorPicker._currentColor = hexColorStr;\n    this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\n  },\n\n  /**\r\n   * @description Set color at input element\r\n   * @param {String} hexColorStr Hax color value\r\n   */\n  setInputText: function setInputText(hexColorStr) {\n    hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : \"#\" + hexColorStr;\n    this.context.colorPicker._colorInput.value = hexColorStr;\n    this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\n  },\n\n  /**\r\n   * @description Gets color value at color property of node\r\n   * @param {Node} node Selected node\r\n   * @returns {String}\r\n   */\n  getColorInNode: function getColorInNode(node) {\n    var findColor = \"\";\n    var styleProperty = this.context.colorPicker._styleProperty;\n\n    while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\n      if (node.nodeType === 1 && node.style[styleProperty]) {\n        findColor = node.style[styleProperty];\n      }\n\n      node = node.parentNode;\n    }\n\n    return findColor;\n  },\n\n  /**\r\n   * @description Function to check hex format color\r\n   * @param {String} str Color value\r\n   */\n  isHexColor: function isHexColor(str) {\n    return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\n  },\n\n  /**\r\n   * @description Function to convert hex format to a rgb color\r\n   * @param {String} rgb RGB color format\r\n   * @returns {String}\r\n   */\n  rgb2hex: function rgb2hex(rgb) {\n    var rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return rgbMatch && rgbMatch.length === 4 ? \"#\" + (\"0\" + parseInt(rgbMatch[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[3], 10).toString(16)).slice(-2) : \"\";\n  },\n\n  /**\r\n   * @description Converts color values of other formats to hex color values and returns.\r\n   * @param {String} colorName Color value\r\n   * @returns {String}\r\n   */\n  colorName2hex: function colorName2hex(colorName) {\n    if (/^#/.test(colorName)) {\n      return colorName;\n    }\n\n    var temp = this.util.createElement(\"div\");\n    temp.style.display = \"none\";\n    temp.style.color = colorName;\n\n    var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) {\n      return parseInt(a, 10);\n    });\n\n    this.util.removeItem(temp);\n    return colors.length >= 3 ? \"#\" + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1) : false;\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"paragraphStyle\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.paragraphStyle = {\n      _classList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickUp.bind(core));\n    context.paragraphStyle._classList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var menuLang = core.lang.menu;\n    var defaultList = {\n      spaced: {\n        name: menuLang.spaced,\n        class: \"__ke__p-spaced\",\n        _class: \"\"\n      },\n      bordered: {\n        name: menuLang.bordered,\n        class: \"__ke__p-bordered\",\n        _class: \"\"\n      },\n      neon: {\n        name: menuLang.neon,\n        class: \"__ke__p-neon\",\n        _class: \"\"\n      }\n    };\n    var paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? [\"spaced\", \"bordered\", \"neon\"] : option.paragraphStyles;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n      p = paragraphStyles[i];\n\n      if (typeof p === \"string\") {\n        var defaultStyle = defaultList[p.toLowerCase()];\n\n        if (!defaultStyle) {\n          continue;\n        }\n\n        p = defaultStyle;\n      }\n\n      name = p.name;\n      attrs = p.class ? ' class=\"' + p.class + '\"' : \"\";\n      _class = p._class;\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list' + (_class ? \" \" + _class : \"\") + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' + \"<div\" + attrs + \">\" + name + \"</div>\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var paragraphContext = this.context.paragraphStyle;\n    var paragraphList = paragraphContext._classList;\n    var currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n    for (var i = 0, len = paragraphList.length; i < len; i++) {\n      if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute(\"data-value\"))) {\n        this.util.addClass(paragraphList[i], \"active\");\n      } else {\n        this.util.removeClass(paragraphList[i], \"active\");\n      }\n    }\n  },\n  pickUp: function pickUp(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!/^UL$/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n\n      if (value) {\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var selectedFormsts = this.getSelectedElements();\n\n    if (selectedFormsts.length === 0) {\n      this.getRange_addLine(this.getRange(), null);\n      selectedFormsts = this.getSelectedElements();\n\n      if (selectedFormsts.length === 0) {\n        return;\n      }\n    } // change format class\n\n\n    var toggleClass = this.util.hasClass(target, \"active\") ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      toggleClass(selectedFormsts[i], value);\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _selectMenu = _interopRequireDefault(require(\"./selectMenu\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"anchor\",\n  add: function add(core) {\n    core.addModule([_selectMenu.default]);\n    core.context.anchor = {\n      caller: {},\n      forms: this.setDialogForm(core),\n      host: (core._w.location.origin + core._w.location.pathname).replace(/\\/$/, \"\"),\n      callerContext: null\n    };\n  },\n\n  /** dialog */\n  setDialogForm: function setDialogForm(core) {\n    var lang = core.lang;\n    var relList = core.options.linkRel;\n    var defaultRel = (core.options.linkRelDefault.default || \"\").split(\" \");\n    var icons = core.icons;\n    var forms = core.util.createElement(\"DIV\");\n    var html = '<div class=\"ke-dialog-body\">' + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.linkBox.url + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form ke-input-url\" type=\"text\" placeholder=\"' + (core.options.protocol || \"\") + '\" />' + '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button _ke_bookmark_button\" title=\"' + lang.dialogBox.linkBox.bookmark + '\">' + icons.bookmark + \"</button>\" + core.plugins.selectMenu.setForm() + \"</div>\" + '<div class=\"ke-anchor-preview-form\">' + '<span class=\"ke-svg ke-anchor-preview-icon _ke_anchor_bookmark_icon\">' + icons.bookmark + \"</span>\" + '<span class=\"ke-svg ke-anchor-preview-icon _ke_anchor_download_icon\">' + icons.download + \"</span>\" + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\" + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.linkBox.text + '</label><input class=\"ke-input-form _ke_anchor_text\" type=\"text\" />' + \"</div>\" + '<div class=\"ke-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_anchor_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + \"</label>\" + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_anchor_download\" />&nbsp;' + lang.dialogBox.linkBox.downloadLinkCheck + \"</label>\";\n\n    if (relList.length > 0) {\n      html += '<div class=\"ke-anchor-rel\"><button type=\"button\" class=\"ke-btn ke-btn-select ke-anchor-rel-btn\">&lt;rel&gt;</button>' + '<div class=\"ke-anchor-rel-wrapper\"><pre class=\"ke-link-preview ke-anchor-rel-preview\"></pre></div>' + '<div class=\"ke-list-layer\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic ke-list-checked\">';\n\n      for (var i = 0, len = relList.length, rel; i < len; i++) {\n        rel = relList[i];\n        html += '<li><button type=\"button\" class=\"ke-btn-list' + (defaultRel.indexOf(rel) > -1 ? \" ke-checked\" : \"\") + '\" data-command=\"' + rel + '\" title=\"' + rel + '\"><span class=\"ke-svg\">' + icons.checked + \"</span>\" + rel + \"</button></li>\";\n      }\n\n      html += \"</ul></div></div></div>\";\n    }\n\n    html += \"</div></div>\";\n    forms.innerHTML = html;\n    return forms;\n  },\n  initEvent: function initEvent(pluginName, forms) {\n    var anchorPlugin = this.plugins.anchor;\n    var context = this.context.anchor.caller[pluginName] = {\n      modal: forms,\n      urlInput: null,\n      linkDefaultRel: this.options.linkRelDefault,\n      defaultRel: this.options.linkRelDefault.default || \"\",\n      currentRel: [],\n      linkAnchor: null,\n      linkValue: \"\",\n      _change: false,\n      callerName: pluginName\n    };\n\n    if (typeof context.linkDefaultRel.default === \"string\") {\n      context.linkDefaultRel.default = context.linkDefaultRel.default.trim();\n    }\n\n    if (typeof context.linkDefaultRel.check_new_window === \"string\") {\n      context.linkDefaultRel.check_new_window = context.linkDefaultRel.check_new_window.trim();\n    }\n\n    if (typeof context.linkDefaultRel.check_bookmark === \"string\") {\n      context.linkDefaultRel.check_bookmark = context.linkDefaultRel.check_bookmark.trim();\n    }\n\n    context.urlInput = forms.querySelector(\".ke-input-url\");\n    context.anchorText = forms.querySelector(\"._ke_anchor_text\");\n    context.newWindowCheck = forms.querySelector(\"._ke_anchor_check\");\n    context.downloadCheck = forms.querySelector(\"._ke_anchor_download\");\n    context.download = forms.querySelector(\"._ke_anchor_download_icon\");\n    context.preview = forms.querySelector(\".ke-link-preview\");\n    context.bookmark = forms.querySelector(\"._ke_anchor_bookmark_icon\");\n    context.bookmarkButton = forms.querySelector(\"._ke_bookmark_button\");\n    this.plugins.selectMenu.initEvent.call(this, pluginName, forms);\n    var listContext = this.context.selectMenu.caller[pluginName];\n    /** rel */\n\n    if (this.options.linkRel.length > 0) {\n      context.relButton = forms.querySelector(\".ke-anchor-rel-btn\");\n      context.relList = forms.querySelector(\".ke-list-layer\");\n      context.relPreview = forms.querySelector(\".ke-anchor-rel-preview\");\n      context.relButton.addEventListener(\"click\", anchorPlugin.onClick_relButton.bind(this, context));\n      context.relList.addEventListener(\"click\", anchorPlugin.onClick_relList.bind(this, context));\n    }\n\n    context.newWindowCheck.addEventListener(\"change\", anchorPlugin.onChange_newWindowCheck.bind(this, context));\n    context.downloadCheck.addEventListener(\"change\", anchorPlugin.onChange_downloadCheck.bind(this, context));\n    context.anchorText.addEventListener(\"input\", anchorPlugin.onChangeAnchorText.bind(this, context));\n    context.urlInput.addEventListener(\"input\", anchorPlugin.onChangeUrlInput.bind(this, context));\n    context.urlInput.addEventListener(\"keydown\", anchorPlugin.onKeyDownUrlInput.bind(this, listContext));\n    context.urlInput.addEventListener(\"focus\", anchorPlugin.onFocusUrlInput.bind(this, context, listContext));\n    context.urlInput.addEventListener(\"blur\", anchorPlugin.onBlurUrlInput.bind(this, listContext));\n    context.bookmarkButton.addEventListener(\"click\", anchorPlugin.onClick_bookmarkButton.bind(this, context));\n  },\n  on: function on(contextAnchor, update) {\n    if (!update) {\n      this.plugins.anchor.init.call(this, contextAnchor);\n      contextAnchor.anchorText.value = this.getSelection().toString();\n    } else if (contextAnchor.linkAnchor) {\n      this.context.dialog.updateModal = true;\n      var href = contextAnchor.linkAnchor.href;\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = /#.+$/.test(href) ? href.substr(href.lastIndexOf(\"#\")) : href;\n      contextAnchor.anchorText.value = contextAnchor.linkAnchor.textContent.trim() || contextAnchor.linkAnchor.getAttribute(\"alt\");\n      contextAnchor.newWindowCheck.checked = /_blank/i.test(contextAnchor.linkAnchor.target) ? true : false;\n      contextAnchor.downloadCheck.checked = contextAnchor.linkAnchor.download;\n    }\n\n    this.context.anchor.callerContext = contextAnchor;\n    this.plugins.anchor.setRel.call(this, contextAnchor, update && contextAnchor.linkAnchor ? contextAnchor.linkAnchor.rel : contextAnchor.defaultRel);\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.linkValue);\n    this.plugins.selectMenu.on.call(this, contextAnchor.callerName, this.plugins.anchor.setHeaderBookmark);\n  },\n  _closeRelMenu: null,\n  toggleRelList: function toggleRelList(contextAnchor, show) {\n    if (!show) {\n      if (this.plugins.anchor._closeRelMenu) {\n        this.plugins.anchor._closeRelMenu();\n      }\n    } else {\n      var target = contextAnchor.relButton;\n      var relList = contextAnchor.relList;\n      this.util.addClass(target, \"active\");\n      relList.style.visibility = \"hidden\";\n      relList.style.display = \"block\";\n\n      if (!this.options.rtl) {\n        relList.style.left = target.offsetLeft + target.offsetWidth + 1 + \"px\";\n      } else {\n        relList.style.left = target.offsetLeft - relList.offsetWidth - 1 + \"px\";\n      }\n\n      relList.style.top = target.offsetTop + target.offsetHeight / 2 - relList.offsetHeight / 2 + \"px\";\n      relList.style.visibility = \"\";\n\n      this.plugins.anchor._closeRelMenu = function (context, target, e) {\n        if (e && (context.relButton.contains(e.target) || context.relList.contains(e.target))) {\n          return;\n        }\n\n        this.util.removeClass(target, \"active\");\n        context.relList.style.display = \"none\";\n        this.modalForm.removeEventListener(\"click\", this.plugins.anchor._closeRelMenu);\n        this.plugins.anchor._closeRelMenu = null;\n      }.bind(this, contextAnchor, target);\n\n      this.modalForm.addEventListener(\"click\", this.plugins.anchor._closeRelMenu);\n    }\n  },\n  onClick_relButton: function onClick_relButton(contextAnchor, e) {\n    this.plugins.anchor.toggleRelList.call(this, contextAnchor, !this.util.hasClass(e.target, \"active\"));\n  },\n  onClick_relList: function onClick_relList(contextAnchor, e) {\n    var target = e.target;\n    var cmd = target.getAttribute(\"data-command\");\n\n    if (!cmd) {\n      return;\n    }\n\n    var current = contextAnchor.currentRel;\n    var checked = this.util.toggleClass(target, \"ke-checked\");\n    var index = current.indexOf(cmd);\n\n    if (checked) {\n      if (index === -1) {\n        current.push(cmd);\n      }\n    } else {\n      if (index > -1) {\n        current.splice(index, 1);\n      }\n    }\n\n    contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = current.join(\" \");\n  },\n  setRel: function setRel(contextAnchor, relAttr) {\n    var relListEl = contextAnchor.relList;\n    var rels = contextAnchor.currentRel = !relAttr ? [] : relAttr.split(\" \");\n\n    if (!relListEl) {\n      return;\n    }\n\n    var checkedRel = relListEl.querySelectorAll(\"button\");\n\n    for (var i = 0, len = checkedRel.length, cmd; i < len; i++) {\n      cmd = checkedRel[i].getAttribute(\"data-command\");\n\n      if (rels.indexOf(cmd) > -1) {\n        this.util.addClass(checkedRel[i], \"ke-checked\");\n      } else {\n        this.util.removeClass(checkedRel[i], \"ke-checked\");\n      }\n    }\n\n    contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = rels.join(\" \");\n  },\n  createHeaderList: function createHeaderList(contextAnchor, contextList, urlValue) {\n    var headers = this.util.getListChildren(this.context.element.wysiwyg, function (current) {\n      return /h[1-6]/i.test(current.nodeName);\n    });\n\n    if (headers.length === 0) {\n      return;\n    }\n\n    var valueRegExp = new this._w.RegExp(\"^\" + urlValue.replace(/^#/, \"\"), \"i\");\n    var list = [];\n    var html = \"\";\n\n    for (var i = 0, len = headers.length, h; i < len; i++) {\n      h = headers[i];\n\n      if (!valueRegExp.test(h.textContent)) {\n        continue;\n      }\n\n      list.push(h);\n      html += '<li class=\"ke-select-item\" data-index=\"' + i + '\">' + h.textContent + \"</li>\";\n    }\n\n    if (list.length === 0) {\n      this.plugins.selectMenu.close.call(this, contextList);\n    } else {\n      this.plugins.selectMenu.createList(contextList, list, html);\n      this.plugins.selectMenu.open.call(this, contextList, this.plugins.anchor._setMenuListPosition.bind(this, contextAnchor));\n    }\n  },\n  _setMenuListPosition: function _setMenuListPosition(contextAnchor, list) {\n    list.style.top = contextAnchor.urlInput.offsetHeight + 1 + \"px\";\n  },\n  onKeyDownUrlInput: function onKeyDownUrlInput(contextList, e) {\n    var keyCode = e.keyCode;\n\n    switch (keyCode) {\n      case 38:\n        // up\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.selectMenu.moveItem.call(this, contextList, -1);\n        break;\n\n      case 40:\n        // down\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.selectMenu.moveItem.call(this, contextList, 1);\n        break;\n\n      case 13:\n        // enter\n        if (contextList.index > -1) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.plugins.anchor.setHeaderBookmark.call(this, this.plugins.selectMenu.getItem(contextList, null));\n        }\n\n        break;\n    }\n  },\n  setHeaderBookmark: function setHeaderBookmark(header) {\n    var contextAnchor = this.context.anchor.callerContext;\n\n    var id = header.id || \"h_\" + this._w.Math.random().toString().replace(/.+\\./, \"\");\n\n    header.id = id;\n    contextAnchor.urlInput.value = \"#\" + id;\n\n    if (!contextAnchor.anchorText.value.trim() || !contextAnchor._change) {\n      contextAnchor.anchorText.value = header.textContent;\n    }\n\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.urlInput.value);\n    this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    this.context.anchor.callerContext.urlInput.focus();\n  },\n  onChangeAnchorText: function onChangeAnchorText(contextAnchor, e) {\n    contextAnchor._change = !!e.target.value.trim();\n  },\n  onChangeUrlInput: function onChangeUrlInput(contextAnchor, e) {\n    var value = e.target.value.trim();\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, value);\n\n    if (/^#/.test(value)) {\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, value);\n    } else {\n      this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    }\n  },\n  onFocusUrlInput: function onFocusUrlInput(contextAnchor, contextLink) {\n    var value = contextAnchor.urlInput.value;\n\n    if (/^#/.test(value)) {\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, contextLink, value);\n    }\n  },\n  onBlurUrlInput: function onBlurUrlInput(contextList) {\n    this.plugins.selectMenu.close.call(this, contextList);\n  },\n  setLinkPreview: function setLinkPreview(context, value) {\n    var preview = context.preview;\n    var protocol = this.options.linkProtocol;\n    var reservedProtocol = /^(mailto:|tel:|sms:|https*:\\/\\/|#)/.test(value);\n    var sameProtocol = !protocol ? false : this._w.RegExp(\"^\" + value.substr(0, protocol.length)).test(protocol);\n    context.linkValue = preview.textContent = !value ? \"\" : protocol && !reservedProtocol && !sameProtocol ? protocol + value : reservedProtocol ? value : /^www\\./.test(value) ? \"http://\" + value : this.context.anchor.host + (/^\\//.test(value) ? \"\" : \"/\") + value;\n\n    if (value.indexOf(\"#\") === 0) {\n      context.bookmark.style.display = \"inline-block\";\n      this.util.addClass(context.bookmarkButton, \"active\");\n    } else {\n      context.bookmark.style.display = \"none\";\n      this.util.removeClass(context.bookmarkButton, \"active\");\n    }\n\n    if (value.indexOf(\"#\") === -1 && context.downloadCheck.checked) {\n      context.download.style.display = \"block\";\n    } else {\n      context.download.style.display = \"none\";\n    }\n  },\n  setCtx: function setCtx(anchor, contextAnchor) {\n    if (!anchor) {\n      return;\n    }\n\n    contextAnchor.linkAnchor = anchor;\n    contextAnchor.linkValue = anchor.href;\n    contextAnchor.currentRel = anchor.rel.split(\" \");\n  },\n  updateAnchor: function updateAnchor(anchor, url, alt, contextAnchor, notText) {\n    // download\n    if (!/^#/.test(url) && contextAnchor.downloadCheck.checked) {\n      anchor.setAttribute(\"download\", alt || url);\n    } else {\n      anchor.removeAttribute(\"download\");\n    } // new window\n\n\n    if (contextAnchor.newWindowCheck.checked) {\n      anchor.target = \"_blank\";\n    } else {\n      anchor.removeAttribute(\"target\");\n    } // rel\n\n\n    var rel = contextAnchor.currentRel.join(\" \");\n\n    if (!rel) {\n      anchor.removeAttribute(\"rel\");\n    } else {\n      anchor.rel = rel;\n    } // est url, alt\n\n\n    anchor.href = url;\n    anchor.setAttribute(\"alt\", alt);\n\n    if (notText) {\n      if (anchor.children.length === 0) {\n        anchor.textContent = \"\";\n      }\n    } else {\n      anchor.textContent = alt;\n    }\n  },\n  createAnchor: function createAnchor(contextAnchor, notText) {\n    if (contextAnchor.linkValue.length === 0) {\n      return null;\n    }\n\n    var url = contextAnchor.linkValue;\n    var anchor = contextAnchor.anchorText;\n    var anchorText = anchor.value.length === 0 ? url : anchor.value;\n    var oA = contextAnchor.linkAnchor || this.util.createElement(\"A\");\n    this.plugins.anchor.updateAnchor(oA, url, anchorText, contextAnchor, notText);\n    contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.anchorText.value = \"\";\n    return oA;\n  },\n  onClick_bookmarkButton: function onClick_bookmarkButton(contextAnchor) {\n    var url = contextAnchor.urlInput.value;\n\n    if (/^#/.test(url)) {\n      url = url.substr(1);\n      contextAnchor.bookmark.style.display = \"none\";\n      this.util.removeClass(contextAnchor.bookmarkButton, \"active\");\n      this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    } else {\n      url = \"#\" + url;\n      contextAnchor.bookmark.style.display = \"block\";\n      this.util.addClass(contextAnchor.bookmarkButton, \"active\");\n      contextAnchor.downloadCheck.checked = false;\n      contextAnchor.download.style.display = \"none\";\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, url);\n    }\n\n    contextAnchor.urlInput.value = url;\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, url);\n    contextAnchor.urlInput.focus();\n  },\n  onChange_newWindowCheck: function onChange_newWindowCheck(contextAnchor, e) {\n    if (typeof contextAnchor.linkDefaultRel.check_new_window !== \"string\") {\n      return;\n    }\n\n    if (e.target.checked) {\n      this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n    } else {\n      this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n    }\n  },\n  onChange_downloadCheck: function onChange_downloadCheck(contextAnchor, e) {\n    if (e.target.checked) {\n      contextAnchor.download.style.display = \"block\";\n      contextAnchor.bookmark.style.display = \"none\";\n      this.util.removeClass(contextAnchor.bookmarkButton, \"active\");\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.urlInput.value.replace(/^#+/, \"\");\n\n      if (typeof contextAnchor.linkDefaultRel.check_bookmark === \"string\") {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n      }\n    } else {\n      contextAnchor.download.style.display = \"none\";\n\n      if (typeof contextAnchor.linkDefaultRel.check_bookmark === \"string\") {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n      }\n    }\n  },\n  _relMerge: function _relMerge(contextAnchor, relAttr) {\n    var current = contextAnchor.currentRel;\n\n    if (!relAttr) {\n      return current.join(\" \");\n    }\n\n    if (/^only:/.test(relAttr)) {\n      relAttr = relAttr.replace(/^only:/, \"\").trim();\n      contextAnchor.currentRel = relAttr.split(\" \");\n      return relAttr;\n    }\n\n    var rels = relAttr.split(\" \");\n\n    for (var i = 0, len = rels.length, index; i < len; i++) {\n      index = current.indexOf(rels[i]);\n\n      if (index === -1) {\n        current.push(rels[i]);\n      }\n    }\n\n    return current.join(\" \");\n  },\n  _relDelete: function _relDelete(contextAnchor, relAttr) {\n    if (!relAttr) {\n      return contextAnchor.currentRel.join(\" \");\n    }\n\n    if (/^only:/.test(relAttr)) {\n      relAttr = relAttr.replace(/^only:/, \"\").trim();\n    }\n\n    var rels = contextAnchor.currentRel.join(\" \").replace(this._w.RegExp(relAttr + \"\\\\s*\"), \"\");\n    contextAnchor.currentRel = rels.split(\" \");\n    return rels;\n  },\n  init: function init(contextAnchor) {\n    contextAnchor.linkAnchor = null;\n    contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = \"\";\n    contextAnchor.anchorText.value = \"\";\n    contextAnchor.newWindowCheck.checked = false;\n    contextAnchor.downloadCheck.checked = false;\n    contextAnchor._change = false;\n    this.plugins.anchor.setRel.call(this, contextAnchor, contextAnchor.defaultRel);\n\n    if (contextAnchor.relList) {\n      this.plugins.anchor.toggleRelList.call(this, contextAnchor, false);\n    }\n\n    this.context.anchor.callerContext = null;\n    this.plugins.selectMenu.init.call(this, this.context.selectMenu.callerContext);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _colorPicker = _interopRequireDefault(require(\"../modules/colorPicker\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"hiliteColor\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.addModule([_colorPicker.default]);\n    var context = core.context;\n    context.hiliteColor = {\n      previewEl: null,\n      colorInput: null,\n      colorList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    context.hiliteColor.colorInput = listDiv.querySelector(\"._ke_color_picker_input\");\n    /** add event listeners */\n\n    context.hiliteColor.colorInput.addEventListener(\"keyup\", this.onChangeInput.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_submit\").addEventListener(\"click\", this.submit.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_remove\").addEventListener(\"click\", this.remove.bind(core));\n    listDiv.addEventListener(\"click\", this.pickup.bind(core));\n    context.hiliteColor.colorList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var colorArea = core.context.colorPicker.colorListHTML;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = colorArea;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var contextPicker = this.context.colorPicker;\n    var contextHiliteColor = this.context.hiliteColor;\n    contextPicker._colorInput = contextHiliteColor.colorInput;\n    var color = this.wwComputedStyle.backgroundColor;\n    contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#ffffff\";\n    contextPicker._styleProperty = \"backgroundColor\";\n    contextPicker._colorList = contextHiliteColor.colorList;\n    this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n  },\n\n  /**\r\n   * @Override colorPicker\r\n   */\n  onChangeInput: function onChangeInput(e) {\n    this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n  },\n  submit: function submit() {\n    this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute(\"data-value\"));\n  },\n  remove: function remove() {\n    this.nodeChange(null, [\"background-color\"], [\"span\"], true);\n    this.submenuOff();\n  },\n  applyColor: function applyColor(color) {\n    if (!color) {\n      return;\n    }\n\n    var newNode = this.util.createElement(\"SPAN\");\n    newNode.style.backgroundColor = color;\n    this.nodeChange(newNode, [\"background-color\"], null, null);\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"horizontalRule\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.context.horizontalRule = {\n      currentHR: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.horizontalRulePick.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-line\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n  active: function active(element) {\n    if (!element) {\n      if (this.util.hasClass(this.context.horizontalRule.currentHR, \"on\")) {\n        this.controllersOff();\n      }\n    } else if (/HR/i.test(element.nodeName)) {\n      this.context.horizontalRule.currentHR = element;\n\n      if (!this.util.hasClass(element, \"on\")) {\n        this.util.addClass(element, \"on\");\n        this.controllersOn(\"hr\", this.util.removeClass.bind(this.util, element, \"on\"));\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  appendHr: function appendHr(className) {\n    var oHr = this.util.createElement(\"HR\");\n    oHr.className = className;\n    this.focus();\n    return this.insertComponent(oHr, false, true, false);\n  },\n  horizontalRulePick: function horizontalRulePick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var oNode = this.plugins.horizontalRule.appendHr.call(this, \"__ke__\" + value);\n\n    if (oNode) {\n      this.setRange(oNode, 0, oNode, 0);\n      this.submenuOff();\n    }\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var fileBrowser = {\n    name: \"fileBrowser\",\n    _xmlHttp: null,\n    loading: null,\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object\r\n     */\n    add: function add(core) {\n      var context = core.context;\n      context.fileBrowser = {\n        _closeSignal: false,\n        area: null,\n        header: null,\n        tagArea: null,\n        body: null,\n        list: null,\n        tagElements: null,\n        items: [],\n        selectedTags: [],\n        selectorHandler: null,\n        contextPlugin: \"\",\n        columnSize: 4\n      };\n      /** fileBrowser */\n\n      var browser_div = core.util.createElement(\"DIV\");\n      browser_div.className = \"ke-file-browser kothing-editor-common\";\n      var back = core.util.createElement(\"DIV\");\n      back.className = \"ke-file-browser-back\";\n      var content = core.util.createElement(\"DIV\");\n      content.className = \"ke-file-browser-inner\";\n      content.innerHTML = this.set_browser(core);\n      browser_div.appendChild(back);\n      browser_div.appendChild(content);\n      this.loading = browser_div.querySelector(\".ke-loading-box\");\n      context.fileBrowser.area = browser_div;\n      context.fileBrowser.header = content.querySelector(\".ke-file-browser-header\");\n      context.fileBrowser.titleArea = content.querySelector(\".ke-file-browser-title\");\n      context.fileBrowser.tagArea = content.querySelector(\".ke-file-browser-tags\");\n      context.fileBrowser.body = content.querySelector(\".ke-file-browser-body\");\n      context.fileBrowser.list = content.querySelector(\".ke-file-browser-list\");\n      /** add event listeners */\n\n      context.fileBrowser.tagArea.addEventListener(\"click\", this.onClickTag.bind(core));\n      context.fileBrowser.list.addEventListener(\"click\", this.onClickFile.bind(core));\n      content.addEventListener(\"mousedown\", this._onMouseDown_browser.bind(core));\n      content.addEventListener(\"click\", this._onClick_browser.bind(core));\n      /** append html */\n\n      context.element.relative.appendChild(browser_div);\n      /** empty memory */\n\n      browser_div = null, back = null, content = null;\n    },\n    set_browser: function set_browser(core) {\n      var lang = core.lang;\n      return '<div class=\"ke-file-browser-content\">' + '<div class=\"ke-file-browser-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-file-browser-title\"></span>' + '<div class=\"ke-file-browser-tags\"></div>' + \"</div>\" + '<div class=\"ke-file-browser-body\">' + '<div class=\"ke-loading-box kothing-editor-common\"><div class=\"ke-loading-effect\"></div></div>' + '<div class=\"ke-file-browser-list\"></div>' + \"</div>\" + \"</div>\";\n    },\n\n    /**\r\n     * @description Event to control the behavior of closing the browser\r\n     * @param {MouseEvent} e Event object\r\n     * @private\r\n     */\n    _onMouseDown_browser: function _onMouseDown_browser(e) {\n      if (/ke-file-browser-inner/.test(e.target.className)) {\n        this.context.fileBrowser._closeSignal = true;\n      } else {\n        this.context.fileBrowser._closeSignal = false;\n      }\n    },\n\n    /**\r\n     * @description Event to close the window when the outside area of the browser or close button is click\r\n     * @param {MouseEvent} e Event object\r\n     * @private\r\n     */\n    _onClick_browser: function _onClick_browser(e) {\n      e.stopPropagation();\n\n      if (/close/.test(e.target.getAttribute(\"data-command\")) || this.context.fileBrowser._closeSignal) {\n        this.plugins.fileBrowser.close.call(this);\n      }\n    },\n\n    /**\r\n     * @description Open a file browser plugin\r\n     * @param {String} pluginName Plugin name using the file browser\r\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n     */\n    open: function open(pluginName, selectorHandler) {\n      if (this.plugins.fileBrowser._bindClose) {\n        this._d.removeEventListener(\"keydown\", this.plugins.fileBrowser._bindClose);\n\n        this.plugins.fileBrowser._bindClose = null;\n      }\n\n      this.plugins.fileBrowser._bindClose = function (e) {\n        if (!/27/.test(e.keyCode)) {\n          return;\n        }\n\n        this.plugins.fileBrowser.close.call(this);\n      }.bind(this);\n\n      this._d.addEventListener(\"keydown\", this.plugins.fileBrowser._bindClose);\n\n      var fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.contextPlugin = pluginName;\n      fileBrowserContext.selectorHandler = selectorHandler;\n      var pluginContext = this.context[pluginName];\n      var listClassName = pluginContext.listClass;\n\n      if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n        fileBrowserContext.list.className = \"ke-file-browser-list \" + listClassName;\n      }\n\n      if (this.options.popupDisplay === \"full\") {\n        fileBrowserContext.area.style.position = \"fixed\";\n      } else {\n        fileBrowserContext.area.style.position = \"absolute\";\n      }\n\n      fileBrowserContext.titleArea.textContent = pluginContext.title;\n      fileBrowserContext.area.style.display = \"block\";\n\n      this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\n    },\n    _bindClose: null,\n\n    /**\r\n     * @description Close a fileBrowser plugin\r\n     * The plugin's \"init\" method is called.\r\n     */\n    close: function close() {\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n\n      if (fileBrowserPlugin._xmlHttp) {\n        fileBrowserPlugin._xmlHttp.abort();\n      }\n\n      if (fileBrowserPlugin._bindClose) {\n        this._d.removeEventListener(\"keydown\", fileBrowserPlugin._bindClose);\n\n        fileBrowserPlugin._bindClose = null;\n      }\n\n      var fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.area.style.display = \"none\";\n      fileBrowserContext.selectorHandler = null;\n      fileBrowserContext.selectedTags = [];\n      fileBrowserContext.items = [];\n      fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = \"\";\n\n      if (typeof this.plugins[fileBrowserContext.contextPlugin].init === \"function\") {\n        this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n      }\n\n      fileBrowserContext.contextPlugin = \"\";\n    },\n\n    /**\r\n     * @description Show file browser loading box\r\n     */\n    showBrowserLoading: function showBrowserLoading() {\n      this.loading.style.display = \"block\";\n    },\n\n    /**\r\n     * @description Close file browser loading box\r\n     */\n    closeBrowserLoading: function closeBrowserLoading() {\n      this.loading.style.display = \"none\";\n    },\n    _drawFileList: function _drawFileList(url, browserHeader) {\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n      var xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n      xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n      xmlHttp.open(\"get\", url, true);\n\n      if (browserHeader !== null && _typeof(browserHeader) === \"object\" && this._w.Object.keys(browserHeader).length > 0) {\n        for (var key in browserHeader) {\n          xmlHttp.setRequestHeader(key, browserHeader[key]);\n        }\n      }\n\n      xmlHttp.send(null);\n      this.plugins.fileBrowser.showBrowserLoading();\n    },\n    _callBackGet: function _callBackGet(xmlHttp) {\n      if (xmlHttp.readyState === 4) {\n        this.plugins.fileBrowser._xmlHttp = null;\n\n        if (xmlHttp.status === 200) {\n          try {\n            this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n          } catch (e) {\n            throw Error('[KothingEditor.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n          } finally {\n            this.plugins.fileBrowser.closeBrowserLoading();\n            this.context.fileBrowser.body.style.maxHeight = this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50 + \"px\";\n          }\n        } else {\n          // exception\n          this.plugins.fileBrowser.closeBrowserLoading();\n\n          if (xmlHttp.status !== 0) {\n            var res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n            var err = \"[KothingEditor.fileBrowser.get.serverException] status: \" + xmlHttp.status + \", response: \" + (res.errorMessage || xmlHttp.responseText);\n            throw Error(err);\n          }\n        }\n      }\n    },\n    _drawListItem: function _drawListItem(items, update) {\n      var fileBrowserContext = this.context.fileBrowser;\n      var pluginContext = this.context[fileBrowserContext.contextPlugin];\n      var _tags = [];\n      var len = items.length;\n      var columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n      var splitSize = columnSize <= 1 ? 1 : Math.round(len / columnSize) || 1;\n      var drawItemHandler = pluginContext.itemTemplateHandler;\n      var tagsHTML = \"\";\n      var listHTML = '<div class=\"ke-file-item-column\">';\n      var columns = 1;\n\n      for (var i = 0, item, tags; i < len; i++) {\n        item = items[i];\n        tags = !item.tag ? [] : typeof item.tag === \"string\" ? item.tag.split(\",\") : item.tag;\n        tags = item.tag = tags.map(function (v) {\n          return v.trim();\n        });\n        listHTML += drawItemHandler(item);\n\n        if ((i + 1) % splitSize === 0 && columns < columnSize && i + 1 < len) {\n          columns++;\n          listHTML += '</div><div class=\"ke-file-item-column\">';\n        }\n\n        if (update && tags.length > 0) {\n          for (var t = 0, tLen = tags.length, tag; t < tLen; t++) {\n            tag = tags[t];\n\n            if (tag && _tags.indexOf(tag) === -1) {\n              _tags.push(tag);\n\n              tagsHTML += '<a title=\"' + tag + '\">' + tag + \"</a>\";\n            }\n          }\n        }\n      }\n\n      listHTML += \"</div>\";\n      fileBrowserContext.list.innerHTML = listHTML;\n\n      if (update) {\n        fileBrowserContext.items = items;\n        fileBrowserContext.tagArea.innerHTML = tagsHTML;\n        fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll(\"A\");\n      }\n    },\n    onClickTag: function onClickTag(e) {\n      var target = e.target;\n\n      if (!this.util.isAnchor(target)) {\n        return;\n      }\n\n      var tagName = target.textContent;\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n      var fileBrowserContext = this.context.fileBrowser;\n      var selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n      var selectedTags = fileBrowserContext.selectedTags;\n      var sTagIndex = selectedTags.indexOf(tagName);\n\n      if (sTagIndex > -1) {\n        selectedTags.splice(sTagIndex, 1);\n        this.util.removeClass(selectTag, \"on\");\n      } else {\n        selectedTags.push(tagName);\n        this.util.addClass(selectTag, \"on\");\n      }\n\n      fileBrowserPlugin._drawListItem.call(this, selectedTags.length === 0 ? fileBrowserContext.items : fileBrowserContext.items.filter(function (item) {\n        return item.tag.some(function (tag) {\n          return selectedTags.indexOf(tag) > -1;\n        });\n      }), false);\n    },\n    onClickFile: function onClickFile(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var fileBrowserContext = this.context.fileBrowser;\n      var listEl = fileBrowserContext.list;\n      var target = e.target;\n      var command = null;\n\n      if (target === listEl) {\n        return;\n      }\n\n      while (listEl !== target.parentNode) {\n        command = target.getAttribute(\"data-command\");\n\n        if (command) {\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) {\n        return;\n      }\n\n      var handler = fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler;\n      this.plugins.fileBrowser.close.call(this);\n      handler(target);\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"fileBrowser\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: fileBrowser\n    });\n  }\n\n  return fileBrowser;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ro\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Salveaz\",\n      font: \"Font\",\n      formats: \"Format\",\n      fontSize: \"Dimensiune\",\n      bold: \"ngroat\",\n      underline: \"Subliniat\",\n      italic: \"nclinat\",\n      strike: \"Tiat\",\n      subscript: \"Subscript\",\n      superscript: \"Superscript\",\n      removeFormat: \"terge formatare\",\n      fontColor: \"Culoare font\",\n      hiliteColor: \"Culoare de evideniere\",\n      indent: \"Indenteaz\",\n      outdent: \"Fr indentare\",\n      align: \"Aliniere\",\n      alignLeft: \"Aliniere la stnga\",\n      alignRight: \"Aliniere la dreapta\",\n      alignCenter: \"Aliniere la centru\",\n      alignJustify: \"Aliniere stnga - dreapta\",\n      list: \"List\",\n      orderList: \"List ordonat\",\n      unorderList: \"List neordonat\",\n      horizontalRule: \"Linie orizontal\",\n      hr_solid: \"Solid\",\n      hr_dotted: \"Punctat\",\n      hr_dashed: \"Punctate\",\n      table: \"Tabel\",\n      link: \"Link\",\n      math: \"Matematic\",\n      image: \"Imagine\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Tot ecranul\",\n      showBlocks: \"Arat blocuri\",\n      codeView: \"Vizualizare cod\",\n      undo: \"Anuleaz\",\n      redo: \"Ref\",\n      preview: \"Previzualizare\",\n      print: \"printeaz\",\n      tag_p: \"Paragraf\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Antet\",\n      tag_blockquote: \"Quote\",\n      tag_pre: \"Citat\",\n      template: \"Template\",\n      lineHeight: \"nlime linie\",\n      paragraphStyle: \"Stil paragraf\",\n      textStyle: \"Stil text\",\n      imageGallery: \"Galerie de imagini\",\n      mention: \"Mentiune\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Insereaz Link\",\n        url: \"Adres link\",\n        text: \"Text de afiat\",\n        newWindowCheck: \"Deschide n fereastr nou\",\n        downloadLinkCheck: \"Link de descrcare\",\n        bookmark: \"Marcaj\"\n      },\n      mathBox: {\n        title: \"Matematic\",\n        inputLabel: \"Notaie matematic\",\n        fontSizeLabel: \"Dimensiune font\",\n        previewLabel: \"Previzualizare\"\n      },\n      imageBox: {\n        title: \"Insereaz imagine\",\n        file: \"Selecteaz\",\n        url: \"URL imagine\",\n        altText: \"text alternativ\"\n      },\n      videoBox: {\n        title: \"Insereaz video\",\n        file: \"Selecteaz\",\n        url: \"Include URL, youtube/vimeo\"\n      },\n      audioBox: {\n        title: \"Insereaz Audio\",\n        file: \"Selecteaz\",\n        url: \"URL Audio\"\n      },\n      browser: {\n        tags: \"Etichete\",\n        search: \"Cutareim\"\n      },\n      caption: \"Insereaz descriere\",\n      close: \"nchide\",\n      submitButton: \"Salveaz\",\n      revertButton: \"Revenire\",\n      proportion: \"Constrnge proporiile\",\n      basic: \"De baz\",\n      left: \"Stnga\",\n      right: \"Dreapta\",\n      center: \"Centru\",\n      width: \"Lime\",\n      height: \"nlime\",\n      size: \"Dimensiune\",\n      ratio: \"Ratie\"\n    },\n    controller: {\n      edit: \"Editeaz\",\n      unlink: \"Scoate link\",\n      remove: \"Elimin\",\n      insertRowAbove: \"Insereaz rnd deasupra\",\n      insertRowBelow: \"Insereaz rnd dedesupt\",\n      deleteRow: \"terge linie\",\n      insertColumnBefore: \"Insereaz coloan nainte\",\n      insertColumnAfter: \"Insereaz coloan dup\",\n      deleteColumn: \"terge coloan\",\n      fixedColumnWidth: \"Lime fix coloan\",\n      resize100: \"Redimensionare 100%\",\n      resize75: \"Redimensionare 75%\",\n      resize50: \"Redimensionare 50%\",\n      resize25: \"Redimensionare 25%\",\n      autoSize: \"Dimensiune automat\",\n      mirrorHorizontal: \"Oglind, orizontal\",\n      mirrorVertical: \"Oglind, vertical\",\n      rotateLeft: \"Rotete la stnga\",\n      rotateRight: \"Rotete la dreapta\",\n      maxSize: \"Dimensiune maxim\",\n      minSize: \"Dimensiune minim\",\n      tableHeader: \"Antet tabel\",\n      mergeCells: \"mbin celule\",\n      splitCells: \"Divizeaz celule\",\n      HorizontalSplit: \"Despicare orizontal\",\n      VerticalSplit: \"Despicare vertical\"\n    },\n    menu: {\n      spaced: \"Spaiat\",\n      bordered: \"Mrginit\",\n      neon: \"Neon\",\n      translucent: \"Translucent\",\n      shadow: \"Umbr\",\n      code: \"Citat\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ro\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"blockquote\",\n  display: \"command\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.blockquote = {\n      targetButton: targetElement,\n      tag: core.util.createElement(\"BLOCKQUOTE\")\n    };\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    if (!element) {\n      this.util.removeClass(this.context.blockquote.targetButton, \"active\");\n    } else if (/blockquote/i.test(element.nodeName)) {\n      this.util.addClass(this.context.blockquote.targetButton, \"active\");\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  action: function action() {\n    var currentBlockquote = this.util.getParentElement(this.getSelectionNode(), \"blockquote\");\n\n    if (currentBlockquote) {\n      this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n    } else {\n      this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n    }\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n\n/**\r\n * @description utility function\r\n */\nvar util = {\n  _d: null,\n  _w: null,\n  isIE: null,\n  isIE_Edge: null,\n  isOSX_IOS: null,\n  _propertiesInit: function _propertiesInit() {\n    if (this._d) return;\n    this._d = document;\n    this._w = window;\n    this.isIE = navigator.userAgent.indexOf(\"Trident\") > -1;\n    this.isIE_Edge = navigator.userAgent.indexOf(\"Trident\") > -1 || navigator.appVersion.indexOf(\"Edge\") > -1;\n    this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\n  },\n  _allowedEmptyNodeList: \".ke-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas\",\n\n  /**\r\n   * @description HTML Reserved Word Converter.\r\n   * @param {String} contents\r\n   * @returns {String} HTML string\r\n   * @private\r\n   */\n  _HTMLConvertor: function _HTMLConvertor(contents) {\n    var ec = {\n      \"&\": \"&amp;\",\n      \"\\xA0\": \"&nbsp;\",\n      \"'\": \"&apos;\",\n      '\"': \"&quot;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\"\n    };\n    return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\n      return typeof ec[m] === \"string\" ? ec[m] : m;\n    });\n  },\n\n  /**\r\n   * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n   */\n  zeroWidthSpace: String.fromCharCode(8203),\n\n  /**\r\n   * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n   */\n  zeroWidthRegExp: new RegExp(String.fromCharCode(8203), \"g\"),\n\n  /**\r\n   * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n   */\n  onlyZeroWidthRegExp: new RegExp(\"^\" + String.fromCharCode(8203) + \"+$\"),\n\n  /**\r\n   * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n   * @param {String|Node} text String value or Node\r\n   * @returns {Boolean}\r\n   */\n  onlyZeroWidthSpace: function onlyZeroWidthSpace(text) {\n    if (typeof text !== \"string\") text = text.textContent;\n    return text === \"\" || this.onlyZeroWidthRegExp.test(text);\n  },\n\n  /**\r\n   * @description Gets XMLHttpRequest object\r\n   * @returns {XMLHttpRequest|ActiveXObject}\r\n   */\n  getXMLHttpRequest: function getXMLHttpRequest() {\n    /** IE */\n    if (this._w.ActiveXObject) {\n      try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } catch (e) {\n        try {\n          return new ActiveXObject(\"Microsoft.XMLHTTP\");\n        } catch (e1) {\n          return null;\n        }\n      }\n    } else if (this._w.XMLHttpRequest) {\n      /** netscape */\n      return new XMLHttpRequest();\n    } else {\n      /** fail */\n      return null;\n    }\n  },\n\n  /**\r\n   * @description Create Element node\r\n   * @param {String} elementName Element name\r\n   * @returns {Element}\r\n   */\n  createElement: function createElement(elementName) {\n    return this._d.createElement(elementName);\n  },\n\n  /**\r\n   * @description Create text node\r\n   * @param {String} text text contents\r\n   * @returns {Node}\r\n   */\n  createTextNode: function createTextNode(text) {\n    return this._d.createTextNode(text || \"\");\n  },\n\n  /**\r\n   * @description The editor checks tags by string.\r\n   * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n   * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n   * @param {String} contents HTML or Text string\r\n   * @returns {String}\r\n   */\n  HTMLEncoder: function HTMLEncoder(contents) {\n    var ec = {\n      \"<\": \"$lt;\",\n      \">\": \"$gt;\"\n    };\n    return contents.replace(/<|>/g, function (m) {\n      return typeof ec[m] === \"string\" ? ec[m] : m;\n    });\n  },\n\n  /**\r\n   * @description The editor checks tags by string.\r\n   * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n   * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n   * @param {String} contents HTML or Text string\r\n   * @returns {String}\r\n   */\n  HTMLDecoder: function HTMLDecoder(contents) {\n    var ec = {\n      \"$lt;\": \"<\",\n      \"$gt;\": \">\"\n    };\n    return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\n      return typeof ec[m] === \"string\" ? ec[m] : m;\n    });\n  },\n\n  /**\r\n   * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n   * @param {Object} obj Object\r\n   * @param {String} key obj.key\r\n   * @returns {Boolean}\r\n   */\n  hasOwn: function hasOwn(obj, key) {\n    return this._hasOwn.call(obj, key);\n  },\n  _hasOwn: Object.prototype.hasOwnProperty,\n\n  /**\r\n   * @deprecated\r\n   * @description Get the the tag path of the arguments value\r\n   * If not found, return the first found value\r\n   * @param {Array} nameArray File name array\r\n   * @param {String} extension js, css\r\n   * @returns {String}\r\n   */\n  getIncludePath: function getIncludePath(nameArray, extension) {\n    var path = \"\";\n    var pathList = [];\n    var tagName = extension === \"js\" ? \"script\" : \"link\";\n    var src = extension === \"js\" ? \"src\" : \"href\";\n    var fileName = \"(?:\";\n\n    for (var i = 0, len = nameArray.length; i < len; i++) {\n      fileName += nameArray[i] + (i < len - 1 ? \"|\" : \")\");\n    }\n\n    var regExp = new this._w.RegExp(\"(^|.*[\\\\/])\" + fileName + \"(\\\\.[^\\\\/]+)?.\" + extension + \"(?:\\\\?.*|;.*)?$\", \"i\");\n    var extRegExp = new this._w.RegExp(\".+\\\\.\" + extension + \"(?:\\\\?.*|;.*)?$\", \"i\");\n\n    for (var c = this._d.getElementsByTagName(tagName), _i = 0; _i < c.length; _i++) {\n      if (extRegExp.test(c[_i][src])) {\n        pathList.push(c[_i]);\n      }\n    }\n\n    for (var _i2 = 0; _i2 < pathList.length; _i2++) {\n      var editorTag = pathList[_i2][src].match(regExp);\n\n      if (editorTag) {\n        path = editorTag[0];\n        break;\n      }\n    }\n\n    if (path === \"\") path = pathList.length > 0 ? pathList[0][src] : \"\";\n    -1 === path.indexOf(\":/\") && \"//\" !== path.slice(0, 2) && (path = 0 === path.indexOf(\"/\") ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\n    if (!path) throw \"[KothingEditor.util.getIncludePath.fail] The KothingEditor installation path could not be automatically detected. (name: +\" + name + \", extension: \" + extension + \")\";\n    return path;\n  },\n\n  /**\r\n   * @deprecated\r\n   * @description Returns the CSS text that has been applied to the current page.\r\n   * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n   * @returns {String} Styles string\r\n   */\n  getPageStyle: function getPageStyle(doc) {\n    var cssText = \"\";\n    var sheets = (doc || this._d).styleSheets;\n\n    for (var i = 0, len = sheets.length, rules; i < len; i++) {\n      try {\n        rules = sheets[i].cssRules;\n      } catch (e) {\n        continue;\n      }\n\n      if (rules) {\n        for (var c = 0, cLen = rules.length; c < cLen; c++) {\n          cssText += rules[c].cssText;\n        }\n      }\n    }\n\n    return cssText;\n  },\n\n  /**\r\n   * @description Get the argument iframe's document object\r\n   * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n   * @returns {Document}\r\n   */\n  getIframeDocument: function getIframeDocument(iframe) {\n    var wDocument = iframe.contentWindow || iframe.contentDocument;\n    if (wDocument.document) wDocument = wDocument.document;\n    return wDocument;\n  },\n\n  /**\r\n   * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n   * @param {Element} element Element object\r\n   * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n   * @returns {String}\r\n   */\n  getAttributesToString: function getAttributesToString(element, exceptAttrs) {\n    if (!element.attributes) return \"\";\n    var attrs = element.attributes;\n    var attrString = \"\";\n\n    for (var i = 0, len = attrs.length; i < len; i++) {\n      if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\n      attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\n    }\n\n    return attrString;\n  },\n\n  /**\r\n   * @descriptionGets Get the length in bytes of a string.\r\n   * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n   * @param {String} text String text\r\n   * @returns {Number}\r\n   */\n  getByteLength: function getByteLength(text) {\n    if (!text || !text.toString) return 0;\n    text = text.toString();\n    var encoder = this._w.encodeURIComponent;\n    var cr, cl;\n\n    if (this.isIE_Edge) {\n      cl = this._w.unescape(encoder(text)).length;\n      cr = 0;\n\n      if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\n        cr = encoder(text).match(/(%0A|%0D)/gi).length;\n      }\n\n      return cl + cr;\n    } else {\n      cl = new this._w.TextEncoder(\"utf-8\").encode(text).length;\n      cr = 0;\n\n      if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\n        cr = encoder(text).match(/(%0A|%0D)/gi).length;\n      }\n\n      return cl + cr;\n    }\n  },\n\n  /**\r\n   * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isWysiwygDiv: function isWysiwygDiv(element) {\n    return element && element.nodeType === 1 && (this.hasClass(element, \"ke-wrapper-wysiwyg\") || /^BODY$/i.test(element.nodeName));\n  },\n\n  /**\r\n   * @description It is judged whether it is the contenteditable property is false.\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isNonEditable: function isNonEditable(element) {\n    return element && element.nodeType === 1 && element.getAttribute(\"contenteditable\") === \"false\";\n  },\n\n  /**\r\n   * @description It is judged whether it is a node related to the text style.\r\n   * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isTextStyleElement: function isTextStyleElement(element) {\n    return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\n  },\n\n  /**\r\n   * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__ke__format__replace_xxx\")\r\n   * Format element also contain \"free format Element\"\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isFormatElement: function isFormatElement(element) {\n    return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__replace_.+(\\\\s|$)|(\\\\s|^)__ke__format__free_.+(\\\\s|$)\")) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n  },\n\n  /**\r\n   * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__ke__format__range_xxx\")\r\n   * Range format element is wrap the \"format element\" and \"component\"\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isRangeFormatElement: function isRangeFormatElement(element) {\n    return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__range_.+(\\\\s|$)\"));\n  },\n\n  /**\r\n   * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__ke__format__range__closure_xxx\")\r\n   * Closure range format elements is included in the range format element.\r\n   *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n   *  You cannot exit this format with the Enter key or Backspace key.\r\n   *  Use it only in special cases. ([ex] format of table cells)\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isClosureRangeFormatElement: function isClosureRangeFormatElement(element) {\n    return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__range__closure_.+(\\\\s|$)\"));\n  },\n\n  /**\r\n   * @description It is judged whether it is the free format element. (PRE | class=\"__ke__format__free_xxx\")\r\n   * Free format elements is included in the format element.\r\n   * Free format elements's line break is \"BR\" tag.\r\n   *  Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isFreeFormatElement: function isFreeFormatElement(element) {\n    return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__free_.+(\\\\s|$)\")) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n  },\n\n  /**\r\n   * @description It is judged whether it is the closure free format element. (class=\"__ke__format__free__closure_xxx\")\r\n   * Closure free format elements is included in the free format element.\r\n   *  - Closure free format elements's line break is \"BR\" tag.\r\n   *  You cannot exit this format with the Enter key or Backspace key.\r\n   *  Use it only in special cases. ([ex] format of table cells)\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isClosureFreeFormatElement: function isClosureFreeFormatElement(element) {\n    return element && element.nodeType === 1 && this.hasClass(element, \"(\\\\s|^)__ke__format__free__closure_.+(\\\\s|$)\");\n  },\n\n  /**\r\n   * @description It is judged whether it is the component[img, iframe, video, audio, table] cover(class=\"ke-component\") and table, hr\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isComponent: function isComponent(element) {\n    return element && (/ke-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\n  },\n\n  /**\r\n   * @description Checks for \"__ke__uneditable\" in the class list.\r\n   * Components with class \"__ke__uneditable\" cannot be modified.\r\n   * @param {Element} element The element to check\r\n   * @returns {Boolean}\r\n   */\n  isUneditableComponent: function isUneditableComponent(element) {\n    return element && this.hasClass(element, \"__ke__uneditable\");\n  },\n\n  /**\r\n   * @description It is judged whether it is the component [img, iframe] cover(class=\"ke-component\")\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isMediaComponent: function isMediaComponent(element) {\n    return element && /ke-component/.test(element.className);\n  },\n\n  /**\r\n   * @description It is judged whether it is the not checking node. (class=\"katex\", \"__ke__tag\")\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isNotCheckingNode: function isNotCheckingNode(element) {\n    return element && /katex|__ke__tag/.test(element.className);\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getFormatElement: function getFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isRangeFormatElement(element)) element.firstElementChild;\n      if (this.isFormatElement(element) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getRangeFormatElement: function getRangeFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getFreeFormatElement: function getFreeFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isFreeFormatElement(element) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getClosureFreeFormatElement: function getClosureFreeFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description Add style and className of copyEl to originEl\r\n   * @param {Element} originEl Origin element\r\n   * @param {Element} copyEl Element to copy\r\n   */\n  copyTagAttributes: function copyTagAttributes(originEl, copyEl) {\n    if (copyEl.style.cssText) {\n      originEl.style.cssText += copyEl.style.cssText;\n    }\n\n    var classes = copyEl.classList;\n\n    for (var i = 0, len = classes.length; i < len; i++) {\n      this.addClass(originEl, classes[i]);\n    }\n\n    if (!originEl.style.cssText) originEl.removeAttribute(\"style\");\n    if (!originEl.className.trim()) originEl.removeAttribute(\"class\");\n  },\n\n  /**\r\n   * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__ke__format__\" class\r\n   * @param {Element} originEl Origin element\r\n   * @param {Element} copyEl Element to copy\r\n   */\n  copyFormatAttributes: function copyFormatAttributes(originEl, copyEl) {\n    copyEl = copyEl.cloneNode(false);\n    copyEl.className = copyEl.className.replace(/(\\s|^)__ke__format__[^\\s]+/g, \"\");\n    this.copyTagAttributes(originEl, copyEl);\n  },\n\n  /**\r\n   * @description Get the item from the array that matches the condition.\r\n   * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n   * @param {Function|null} validation Conditional function\r\n   * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n   * If false, returns only one item that meet the criteria otherwise return null.\r\n   * @returns {Array|Node|null}\r\n   */\n  getArrayItem: function getArrayItem(array, validation, multi) {\n    if (!array || array.length === 0) return null;\n\n    validation = validation || function () {\n      return true;\n    };\n\n    var arr = [];\n\n    for (var i = 0, len = array.length, a; i < len; i++) {\n      a = array[i];\n\n      if (validation(a)) {\n        if (!multi) return a;else arr.push(a);\n      }\n    }\n\n    return !multi ? null : arr;\n  },\n\n  /**\r\n   * @description Get the index of the argument value in the element array\r\n   * @param {Array|HTMLCollection|NodeList} array element array\r\n   * @param {Node} element The element to find index\r\n   * @returns {Number}\r\n   */\n  getArrayIndex: function getArrayIndex(array, element) {\n    var idx = -1;\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === element) {\n        idx = i;\n        break;\n      }\n    }\n\n    return idx;\n  },\n\n  /**\r\n   * @description Get the next index of the argument value in the element array\r\n   * @param {Array|HTMLCollection|NodeList} array element array\r\n   * @param {Node} item The element to find index\r\n   * @returns {Number}\r\n   */\n  nextIdx: function nextIdx(array, item) {\n    var idx = this.getArrayIndex(array, item);\n    if (idx === -1) return -1;\n    return idx + 1;\n  },\n\n  /**\r\n   * @description Get the previous index of the argument value in the element array\r\n   * @param {Array|HTMLCollection|NodeList} array Element array\r\n   * @param {Node} item The element to find index\r\n   * @returns {Number}\r\n   */\n  prevIdx: function prevIdx(array, item) {\n    var idx = this.getArrayIndex(array, item);\n    if (idx === -1) return -1;\n    return idx - 1;\n  },\n\n  /**\r\n   * @description Returns the index compared to other sibling nodes.\r\n   * @param {Node} node The Node to find index\r\n   * @returns {Number}\r\n   */\n  getPositionIndex: function getPositionIndex(node) {\n    var idx = 0;\n\n    while (node = node.previousSibling) {\n      idx += 1;\n    }\n\n    return idx;\n  },\n\n  /**\r\n   * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n   * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n   * @param {Node} node The Node to find position path\r\n   * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n   * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n   * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n   * Do not use unless absolutely necessary.\r\n   * @returns {Array}\r\n   */\n  getNodePath: function getNodePath(node, parentNode, _newOffsets) {\n    var path = [];\n    var finds = true;\n    this.getParentElement(node, function (el) {\n      if (el === parentNode) finds = false;\n\n      if (finds && !this.isWysiwygDiv(el)) {\n        // merge text nodes\n        if (_newOffsets && el.nodeType === 3) {\n          var temp = null,\n              tempText = null;\n          _newOffsets.s = _newOffsets.e = 0;\n          var previous = el.previousSibling;\n\n          while (previous && previous.nodeType === 3) {\n            tempText = previous.textContent.replace(this.zeroWidthRegExp, \"\");\n            _newOffsets.s += tempText.length;\n            el.textContent = tempText + el.textContent;\n            temp = previous;\n            previous = previous.previousSibling;\n            this.removeItem(temp);\n          }\n\n          var next = el.nextSibling;\n\n          while (next && next.nodeType === 3) {\n            tempText = next.textContent.replace(this.zeroWidthRegExp, \"\");\n            _newOffsets.e += tempText.length;\n            el.textContent += tempText;\n            temp = next;\n            next = next.nextSibling;\n            this.removeItem(temp);\n          }\n        } // index push\n\n\n        path.push(el);\n      }\n\n      return false;\n    }.bind(this));\n    return path.map(this.getPositionIndex).reverse();\n  },\n\n  /**\r\n   * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n   * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n   * @param {Node} parentNode Base parent element\r\n   * @returns {Node}\r\n   */\n  getNodeFromPath: function getNodeFromPath(offsets, parentNode) {\n    var current = parentNode;\n    var nodes;\n\n    for (var i = 0, len = offsets.length; i < len; i++) {\n      nodes = current.childNodes;\n      if (nodes.length === 0) break;\n\n      if (nodes.length <= offsets[i]) {\n        current = nodes[nodes.length - 1];\n      } else {\n        current = nodes[offsets[i]];\n      }\n    }\n\n    return current;\n  },\n\n  /**\r\n   * @description Compares the style and class for equal values.\r\n   * Returns true if both are text nodes.\r\n   * @param {Node} a Node to compare\r\n   * @param {Node} b Node to compare\r\n   * @returns {Boolean}\r\n   */\n  isSameAttributes: function isSameAttributes(a, b) {\n    if (a.nodeType === 3 && b.nodeType === 3) return true;\n    if (a.nodeType === 3 || b.nodeType === 3) return false;\n    var style_a = a.style;\n    var style_b = b.style;\n    var compStyle = 0;\n\n    for (var i = 0, len = style_a.length; i < len; i++) {\n      if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\n    }\n\n    var class_a = a.classList;\n    var class_b = b.classList;\n    var reg = this._w.RegExp;\n    var compClass = 0;\n\n    for (var _i3 = 0, _len = class_a.length; _i3 < _len; _i3++) {\n      if (reg(\"(s|^)\" + class_a[_i3] + \"(s|$)\").test(class_b.value)) compClass++;\n    }\n\n    return compStyle === style_b.length && compStyle === style_a.length && compClass === class_b.length && compClass === class_a.length;\n  },\n\n  /**\r\n   * @description Check the line element(util.isFormatElement) is empty.\r\n   * @param {Element} element Format element node\r\n   * @returns {Boolean}\r\n   */\n  isEmptyLine: function isEmptyLine(element) {\n    return !element || !element.parentNode || !element.querySelector(\"IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE\") && this.onlyZeroWidthSpace(element.textContent);\n  },\n\n  /**\r\n   * @description Check the node is a list (ol, ul)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isList: function isList(node) {\n    return node && /^(OL|UL)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a list cell (li)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isListCell: function isListCell(node) {\n    return node && /^LI$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isTable: function isTable(node) {\n    return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a table cell (td, th)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isCell: function isCell(node) {\n    return node && /^(TD|TH)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a break node (BR)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isBreak: function isBreak(node) {\n    return node && /^BR$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a anchor node (A)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isAnchor: function isAnchor(node) {\n    return node && /^A$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isMedia: function isMedia(node) {\n    return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Checks for numeric (with decimal point).\r\n   * @param {String|Number} text Text string or number\r\n   * @returns {Boolean}\r\n   */\n  isNumber: function isNumber(text) {\n    return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + \"\");\n  },\n\n  /**\r\n   * @description Get a number.\r\n   * @param {String|Number} text Text string or number\r\n   * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n   * @returns {Number}\r\n   */\n  getNumber: function getNumber(text, maxDec) {\n    if (!text) return 0;\n    var number = (text + \"\").match(/-?\\d+(\\.\\d+)?/);\n    if (!number || !number[0]) return 0;\n    number = number[0];\n    return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\n  },\n\n  /**\r\n   * @description Get all \"children\" of the argument value element (Without text nodes)\r\n   * @param {Element} element element to get child node\r\n   * @param {Function|null} validation Conditional function\r\n   * @returns {Array}\r\n   */\n  getListChildren: function getListChildren(element, validation) {\n    var children = [];\n    if (!element || !element.children || element.children.length === 0) return children;\n\n    validation = validation || function () {\n      return true;\n    };\n\n    (function recursionFunc(current) {\n      if (element !== current && validation(current)) {\n        children.push(current);\n      }\n\n      if (!!current.children) {\n        for (var i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      }\n    })(element);\n\n    return children;\n  },\n\n  /**\r\n   * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n   * @param {Node} element element to get child node\r\n   * @param {Function|null} validation Conditional function\r\n   * @returns {Array}\r\n   */\n  getListChildNodes: function getListChildNodes(element, validation) {\n    var children = [];\n    if (!element || element.childNodes.length === 0) return children;\n\n    validation = validation || function () {\n      return true;\n    };\n\n    (function recursionFunc(current) {\n      if (element !== current && validation(current)) {\n        children.push(current);\n      }\n\n      for (var i = 0, len = current.childNodes.length; i < len; i++) {\n        recursionFunc(current.childNodes[i]);\n      }\n    })(element);\n\n    return children;\n  },\n\n  /**\r\n   * @description Returns the number of parents nodes.\r\n   * \"0\" when the parent node is the WYSIWYG area.\r\n   * \"-1\" when the element argument is the WYSIWYG area.\r\n   * @param {Node} element The element to check\r\n   * @returns {Number}\r\n   */\n  getElementDepth: function getElementDepth(element) {\n    if (!element || this.isWysiwygDiv(element)) return -1;\n    var depth = 0;\n    element = element.parentNode;\n\n    while (element && !this.isWysiwygDiv(element)) {\n      depth += 1;\n      element = element.parentNode;\n    }\n\n    return depth;\n  },\n\n  /**\r\n   * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n   * @param {Node} a Node to compare.\r\n   * @param {Node} b Node to compare.\r\n   * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n   */\n  compareElements: function compareElements(a, b) {\n    var aNode = a,\n        bNode = b;\n\n    while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\n      aNode = aNode.parentNode;\n      bNode = bNode.parentNode;\n    }\n\n    if (!aNode || !bNode) return {\n      ancestor: null,\n      a: a,\n      b: b,\n      result: 0\n    };\n    var children = aNode.parentNode.childNodes;\n    var aIndex = this.getArrayIndex(children, aNode);\n    var bIndex = this.getArrayIndex(children, bNode);\n    return {\n      ancestor: aNode.parentNode,\n      a: aNode,\n      b: bNode,\n      result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\n    };\n  },\n\n  /**\r\n   * @description Get the parent element of the argument value.\r\n   * A tag that satisfies the query condition is imported.\r\n   * Returns null if not found.\r\n   * @param {Node} element Reference element\r\n   * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n   * Not use it like jquery.\r\n   * Only one condition can be entered at a time.\r\n   * @returns {Element|null}\r\n   */\n  getParentElement: function getParentElement(element, query) {\n    var check;\n\n    if (typeof query === \"function\") {\n      check = query;\n    } else {\n      var attr;\n\n      if (/^\\./.test(query)) {\n        attr = \"className\";\n        query = query.split(\".\")[1];\n      } else if (/^#/.test(query)) {\n        attr = \"id\";\n        query = \"^\" + query.split(\"#\")[1] + \"$\";\n      } else if (/^:/.test(query)) {\n        attr = \"name\";\n        query = \"^\" + query.split(\":\")[1] + \"$\";\n      } else {\n        attr = \"nodeName\";\n        query = \"^\" + query + \"$\";\n      }\n\n      var regExp = new this._w.RegExp(query, \"i\");\n\n      check = function check(el) {\n        return regExp.test(el[attr]);\n      };\n    }\n\n    while (element && !check(element)) {\n      if (this.isWysiwygDiv(element)) {\n        return null;\n      }\n\n      element = element.parentNode;\n    }\n\n    return element;\n  },\n\n  /**\r\n   * @description Get the child element of the argument value.\r\n   * A tag that satisfies the query condition is imported.\r\n   * Returns null if not found.\r\n   * @param {Node} element Reference element\r\n   * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n   * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n   * Not use it like jquery.\r\n   * Only one condition can be entered at a time.\r\n   * @returns {Element|null}\r\n   */\n  getChildElement: function getChildElement(element, query, last) {\n    var check;\n\n    if (typeof query === \"function\") {\n      check = query;\n    } else {\n      var attr;\n\n      if (/^\\./.test(query)) {\n        attr = \"className\";\n        query = query.split(\".\")[1];\n      } else if (/^#/.test(query)) {\n        attr = \"id\";\n        query = \"^\" + query.split(\"#\")[1] + \"$\";\n      } else if (/^:/.test(query)) {\n        attr = \"name\";\n        query = \"^\" + query.split(\":\")[1] + \"$\";\n      } else {\n        attr = \"nodeName\";\n        query = \"^\" + (query === \"text\" ? \"#\" + query : query) + \"$\";\n      }\n\n      var regExp = new this._w.RegExp(query, \"i\");\n\n      check = function check(el) {\n        return regExp.test(el[attr]);\n      };\n    }\n\n    var childList = this.getListChildNodes(element, function (current) {\n      return check(current);\n    });\n    return childList[last ? childList.length - 1 : 0];\n  },\n\n  /**\r\n   * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n   * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n   * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n   * { sc: \"first\", ec: \"last\" }\r\n   * @param {Node} first First element\r\n   * @param {Node|null} last Last element\r\n   * @returns {Object}\r\n   */\n  getEdgeChildNodes: function getEdgeChildNodes(first, last) {\n    if (!first) return;\n    if (!last) last = first;\n\n    while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) {\n      first = first.firstChild;\n    }\n\n    while (last && last.nodeType === 1 && last.childNodes.length > 0 && !this.isBreak(last)) {\n      last = last.lastChild;\n    }\n\n    return {\n      sc: first,\n      ec: last || first\n    };\n  },\n\n  /**\r\n   * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n   * @param {Node} element Target node\r\n   * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n   * @returns {Object}\r\n   */\n  getOffset: function getOffset(element, wysiwygFrame) {\n    var offsetLeft = 0;\n    var offsetTop = 0;\n    var offsetElement = element.nodeType === 3 ? element.parentElement : element;\n    var wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\n\n    while (offsetElement && !this.hasClass(offsetElement, \"ke-container\") && offsetElement !== wysiwyg) {\n      offsetLeft += offsetElement.offsetLeft;\n      offsetTop += offsetElement.offsetTop;\n      offsetElement = offsetElement.offsetParent;\n    }\n\n    var iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\n    return {\n      left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\n      top: offsetTop - (wysiwyg ? wysiwyg.scrollTop : 0) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\n    };\n  },\n\n  /**\r\n   * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n   * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n   * @param {Number} aStart Start index of \"a\"\r\n   * @param {Number} aEnd End index of \"a\"\r\n   * @param {Number} bStart Start index of \"b\"\r\n   * @param {Number} bEnd Start index of \"b\"\r\n   * @returns {Number}\r\n   */\n  getOverlapRangeAtIndex: function getOverlapRangeAtIndex(aStart, aEnd, bStart, bEnd) {\n    if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\n    var overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\n    return (overlap < 0 ? overlap * -1 : overlap) + 1;\n  },\n\n  /**\r\n   * @description Set the text content value of the argument value element\r\n   * @param {Node} element Element to replace text content\r\n   * @param {String} txt Text to be applied\r\n   */\n  changeTxt: function changeTxt(element, txt) {\n    if (!element || !txt) return;\n    element.textContent = txt;\n  },\n\n  /**\r\n   * @description Replace element\r\n   * @param {Element} element Target element\r\n   * @param {String|Element} newElement String or element of the new element to apply\r\n   */\n  changeElement: function changeElement(element, newElement) {\n    if (typeof newElement === \"string\") {\n      if (element.outerHTML) {\n        element.outerHTML = newElement;\n      } else {\n        var doc = this.createElement(\"DIV\");\n        doc.innerHTML = newElement;\n        newElement = doc.firstChild;\n        element.parentNode.replaceChild(newElement, element);\n      }\n    } else if (newElement.nodeType === 1) {\n      element.parentNode.replaceChild(newElement, element);\n    }\n  },\n\n  /**\r\n   * @description Set style, if all styles are deleted, the style properties are deleted.\r\n   * @param {Element} element Element to set style\r\n   * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n   * @param {String|Number} value Style value\r\n   */\n  setStyle: function setStyle(element, styleName, value) {\n    element.style[styleName] = value;\n\n    if (!value && !element.style.cssText) {\n      element.removeAttribute(\"style\");\n    }\n  },\n\n  /**\r\n   * @description Determine whether any of the matched elements are assigned the given class\r\n   * @param {Element} element Elements to search class name\r\n   * @param {String} className Class name to search for\r\n   * @returns {Boolean}\r\n   */\n  hasClass: function hasClass(element, className) {\n    if (!element) return;\n    return new this._w.RegExp(className).test(element.className);\n  },\n\n  /**\r\n   * @description Append the className value of the argument value element\r\n   * @param {Element} element Elements to add class name\r\n   * @param {String} className Class name to be add\r\n   */\n  addClass: function addClass(element, className) {\n    if (!element) return;\n    var check = new this._w.RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    if (check.test(element.className)) return;\n    element.className += (element.className.length > 0 ? \" \" : \"\") + className;\n  },\n\n  /**\r\n   * @description Delete the className value of the argument value element\r\n   * @param {Element} element Elements to remove class name\r\n   * @param {String} className Class name to be remove\r\n   */\n  removeClass: function removeClass(element, className) {\n    if (!element) return;\n    var check = new this._w.RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(check, \" \").trim();\n    if (!element.className.trim()) element.removeAttribute(\"class\");\n  },\n\n  /**\r\n   * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n   * @param {Element} element Elements to replace class name\r\n   * @param {String} className Class name to be change\r\n   * @returns {Boolean|undefined}\r\n   */\n  toggleClass: function toggleClass(element, className) {\n    if (!element) return;\n    var result = false;\n    var check = new this._w.RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n\n    if (check.test(element.className)) {\n      element.className = element.className.replace(check, \" \").trim();\n    } else {\n      element.className += \" \" + className;\n      result = true;\n    }\n\n    if (!element.className.trim()) element.removeAttribute(\"class\");\n    return result;\n  },\n\n  /**\r\n   * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n   * core.codeViewDisabledButtons (An array of buttons whose class name is not \"ke-code-view-enabled\")\r\n   * core.resizingDisabledButtons (An array of buttons whose class name is not \"ke-resizing-enabled\")\r\n   * @param {Boolean} disabled Disabled value\r\n   * @param {Array|HTMLCollection|NodeList} toolbarItem Button array\r\n   */\n  setDisabledButtons: function setDisabledButtons(disabled, toolbarItem) {\n    for (var i = 0, len = toolbarItem.length; i < len; i++) {\n      toolbarItem[i].disabled = disabled;\n    }\n  },\n\n  /**\r\n   * @description Delete argumenu value element\r\n   * @param {Node} item Node to be remove\r\n   */\n  removeItem: function removeItem(item) {\n    if (!item) return;\n    if (typeof item.remove === \"function\") item.remove();else if (item.parentNode) item.parentNode.removeChild(item);\n  },\n\n  /**\r\n   * @description Delete all parent nodes that match the condition.\r\n   * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n   * @param {Node} item Node to be remove\r\n   * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n   * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n   * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n   */\n  removeItemAllParents: function removeItemAllParents(item, validation, stopParent) {\n    if (!item) return null;\n    var cc = null;\n\n    if (!validation) {\n      validation = function (current) {\n        if (current === stopParent || this.isComponent(current)) return false;\n        var text = current.textContent.trim();\n        return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n      }.bind(this);\n    }\n\n    (function recursionFunc(element) {\n      if (!util.isWysiwygDiv(element)) {\n        var parent = element.parentNode;\n\n        if (parent && validation(element)) {\n          cc = {\n            sc: element.previousElementSibling,\n            ec: element.nextElementSibling\n          };\n          util.removeItem(element);\n          recursionFunc(parent);\n        }\n      }\n    })(item);\n\n    return cc;\n  },\n\n  /**\r\n   * @description Detach Nested all nested lists under the \"baseNode\".\r\n   * Returns a list with nested removed.\r\n   * @param {Node} baseNode Element on which to base.\r\n   * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n   * @returns {Element}\r\n   */\n  detachNestedList: function detachNestedList(baseNode, all) {\n    var rNode = this._deleteNestedList(baseNode);\n\n    var rangeElement, cNodes;\n\n    if (rNode) {\n      rangeElement = rNode.cloneNode(false);\n      cNodes = rNode.childNodes;\n      var index = this.getPositionIndex(baseNode);\n\n      while (cNodes[index]) {\n        rangeElement.appendChild(cNodes[index]);\n      }\n    } else {\n      rangeElement = baseNode;\n    }\n\n    var rChildren;\n\n    if (!all) {\n      var depth = this.getElementDepth(baseNode) + 2;\n      rChildren = this.getListChildren(baseNode, function (current) {\n        return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth;\n      }.bind(this));\n    } else {\n      rChildren = this.getListChildren(rangeElement, function (current) {\n        return this.isListCell(current) && !current.previousElementSibling;\n      }.bind(this));\n    }\n\n    for (var i = 0, len = rChildren.length; i < len; i++) {\n      this._deleteNestedList(rChildren[i]);\n    }\n\n    if (rNode) {\n      rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\n      if (cNodes && cNodes.length === 0) this.removeItem(rNode);\n    }\n\n    return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\n  },\n\n  /**\r\n   * @description Sub function of util.detachNestedList method.\r\n   * @private\r\n   */\n  _deleteNestedList: function _deleteNestedList(baseNode) {\n    var baseParent = baseNode.parentNode;\n    var sibling = baseParent;\n    var parent = sibling.parentNode;\n    var liSibling, liParent, child, index, c;\n\n    while (this.isListCell(parent)) {\n      index = this.getPositionIndex(baseNode);\n      liSibling = parent.nextElementSibling;\n      liParent = parent.parentNode;\n      child = sibling;\n\n      while (child) {\n        sibling = sibling.nextSibling;\n\n        if (this.isList(child)) {\n          c = child.childNodes;\n\n          while (c[index]) {\n            liParent.insertBefore(c[index], liSibling);\n          }\n\n          if (c.length === 0) this.removeItem(child);\n        } else {\n          liParent.appendChild(child);\n        }\n\n        child = sibling;\n      }\n\n      sibling = liParent;\n      parent = liParent.parentNode;\n    }\n\n    if (baseParent.children.length === 0) this.removeItem(baseParent);\n    return liParent;\n  },\n\n  /**\r\n   * @description Split all tags based on \"baseNode\"\r\n   * Returns the last element of the splited tag.\r\n   * @param {Node} baseNode Element or text node on which to base\r\n   * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n   * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n   * @returns {Element}\r\n   */\n  splitElement: function splitElement(baseNode, offset, depth) {\n    var bp = baseNode.parentNode;\n    var index = 0,\n        newEl,\n        children,\n        temp;\n    var next = true;\n    if (!depth || depth < 0) depth = 0;\n\n    if (baseNode.nodeType === 3) {\n      index = this.getPositionIndex(baseNode);\n\n      if (offset >= 0) {\n        baseNode.splitText(offset);\n        var after = this.getNodeFromPath([index + 1], bp);\n        if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\n      }\n    } else if (baseNode.nodeType === 1) {\n      if (!baseNode.previousSibling) {\n        if (this.getElementDepth(baseNode) === depth) next = false;\n      } else {\n        baseNode = baseNode.previousSibling;\n      }\n    }\n\n    var depthEl = baseNode;\n\n    while (this.getElementDepth(depthEl) > depth) {\n      index = this.getPositionIndex(depthEl) + 1;\n      depthEl = depthEl.parentNode;\n      temp = newEl;\n      newEl = depthEl.cloneNode(false);\n      children = depthEl.childNodes;\n\n      if (temp) {\n        if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\n          newEl.innerHTML = temp.firstElementChild.innerHTML;\n          util.removeItem(temp.firstElementChild);\n          if (temp.children.length > 0) newEl.appendChild(temp);\n        } else {\n          newEl.appendChild(temp);\n        }\n      }\n\n      while (children[index]) {\n        newEl.appendChild(children[index]);\n      }\n    }\n\n    if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = \"<br>\";\n    var pElement = depthEl.parentNode;\n    if (next) depthEl = depthEl.nextSibling;\n    if (!newEl) return depthEl;\n    this.mergeSameTags(newEl, null, false);\n    this.mergeNestedTags(newEl, function (current) {\n      return this.isList(current);\n    }.bind(this));\n    if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);else newEl = depthEl;\n    if (bp.childNodes.length === 0) this.removeItem(bp);\n    return newEl;\n  },\n\n  /**\r\n   * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n   * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n   * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n   * @param {Element} element Element\r\n   * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n   * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n   * @returns {Array} [offset, ..]\r\n   */\n  mergeSameTags: function mergeSameTags(element, nodePathArray, onlyText) {\n    var inst = this;\n    var nodePathLen = nodePathArray ? nodePathArray.length : 0;\n    var offsets = null;\n\n    if (nodePathLen) {\n      offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\n    }\n\n    (function recursionFunc(current, depth, depthIndex) {\n      var children = current.childNodes;\n\n      for (var i = 0, len = children.length, child, next; i < len; i++) {\n        child = children[i];\n        next = children[i + 1];\n        if (!child) break;\n\n        if (onlyText && inst._isIgnoreNodeChange(child) || !onlyText && (inst.isTable(child) || inst.isListCell(child) || inst.isFormatElement(child) && !inst.isFreeFormatElement(child))) {\n          if (inst.isTable(child) || inst.isListCell(child)) {\n            recursionFunc(child, depth + 1, i);\n          }\n\n          continue;\n        }\n\n        if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\n          // update nodePath\n          if (nodePathLen) {\n            var path = void 0,\n                c = void 0,\n                p = void 0,\n                cDepth = void 0,\n                spliceDepth = void 0;\n\n            for (var n = 0; n < nodePathLen; n++) {\n              path = nodePathArray[n];\n\n              if (path && path[depth] === i) {\n                c = child, p = current, cDepth = depth, spliceDepth = true;\n\n                while (cDepth >= 0) {\n                  if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\n                    spliceDepth = false;\n                    break;\n                  }\n\n                  c = child.parentNode;\n                  p = c.parentNode;\n                  cDepth--;\n                }\n\n                if (spliceDepth) {\n                  path.splice(depth, 1);\n                  path[depth] = i;\n                }\n              }\n            }\n          } // merge tag\n\n\n          inst.copyTagAttributes(child, current);\n          current.parentNode.insertBefore(child, current);\n          inst.removeItem(current);\n        }\n\n        if (!next) {\n          if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\n          break;\n        }\n\n        if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\n          var childs = child.childNodes;\n          var childLength = 0;\n\n          for (var _n = 0, nLen = childs.length; _n < nLen; _n++) {\n            if (childs[_n].textContent.length > 0) childLength++;\n          }\n\n          var l = child.lastChild;\n          var r = next.firstChild;\n          var addOffset = 0;\n\n          if (l && r) {\n            var textOffset = l.nodeType === 3 && r.nodeType === 3;\n            addOffset = l.textContent.length;\n            var tempL = l.previousSibling;\n\n            while (tempL && tempL.nodeType === 3) {\n              addOffset += tempL.textContent.length;\n              tempL = tempL.previousSibling;\n            }\n\n            if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\n\n            if (nodePathLen) {\n              var _path = null;\n\n              for (var _n2 = 0; _n2 < nodePathLen; _n2++) {\n                _path = nodePathArray[_n2];\n\n                if (_path && _path[depth] > i) {\n                  if (depth > 0 && _path[depth - 1] !== depthIndex) continue;\n                  _path[depth] -= 1;\n\n                  if (_path[depth + 1] >= 0 && _path[depth] === i) {\n                    _path[depth + 1] += childLength;\n\n                    if (textOffset) {\n                      if (l && l.nodeType === 3 && r && r.nodeType === 3) {\n                        offsets[_n2] += addOffset;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          if (child.nodeType === 3) {\n            addOffset = child.textContent.length;\n            child.textContent += next.textContent;\n\n            if (nodePathLen) {\n              var _path2 = null;\n\n              for (var _n3 = 0; _n3 < nodePathLen; _n3++) {\n                _path2 = nodePathArray[_n3];\n\n                if (_path2 && _path2[depth] > i) {\n                  if (depth > 0 && _path2[depth - 1] !== depthIndex) continue;\n                  _path2[depth] -= 1;\n\n                  if (_path2[depth + 1] >= 0 && _path2[depth] === i) {\n                    _path2[depth + 1] += childLength;\n                    offsets[_n3] += addOffset;\n                  }\n                }\n              }\n            }\n          } else {\n            child.innerHTML += next.innerHTML;\n          }\n\n          inst.removeItem(next);\n          i--;\n        } else if (child.nodeType === 1) {\n          recursionFunc(child, depth + 1, i);\n        }\n      }\n    })(element, 0, 0);\n\n    return offsets;\n  },\n\n  /**\r\n   * @description Remove nested tags without other child nodes.\r\n   * @param {Element} element Element object\r\n   * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n   */\n  mergeNestedTags: function mergeNestedTags(element, validation) {\n    if (typeof validation === \"string\") {\n      validation = function (current) {\n        return this.test(current.tagName);\n      }.bind(new this._w.RegExp(\"^(\" + (validation ? validation : \".+\") + \")$\", \"i\"));\n    } else if (typeof validation !== \"function\") {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    (function recursionFunc(current) {\n      var children = current.children;\n\n      if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\n        var temp = children[0];\n        children = temp.children;\n\n        while (children[0]) {\n          current.appendChild(children[0]);\n        }\n\n        current.removeChild(temp);\n      }\n\n      for (var i = 0, len = current.children.length; i < len; i++) {\n        recursionFunc(current.children[i]);\n      }\n    })(element);\n  },\n\n  /**\r\n   * @description Delete a empty child node of argument element\r\n   * @param {Element} element Element node\r\n   * @param {Node|null} notRemoveNode Do not remove node\r\n   */\n  removeEmptyNode: function removeEmptyNode(element, notRemoveNode) {\n    var inst = this;\n\n    if (notRemoveNode) {\n      notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\n        return element === current.parentElement;\n      });\n    }\n\n    (function recursionFunc(current) {\n      if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\n\n      if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild)) && !current.querySelector(inst._allowedEmptyNodeList)) {\n        if (current.parentNode) {\n          current.parentNode.removeChild(current);\n          return -1;\n        }\n      } else {\n        var children = current.children;\n\n        for (var i = 0, len = children.length, r = 0; i < len; i++) {\n          if (!children[i + r] || inst.isComponent(children[i + r])) continue;\n          r += recursionFunc(children[i + r]);\n        }\n      }\n\n      return 0;\n    })(element);\n\n    if (element.childNodes.length === 0) element.innerHTML = \"<br>\";\n  },\n\n  /**\r\n   * @description Remove whitespace between tags in HTML string.\r\n   * @param {String} html HTML string\r\n   * @returns {String}\r\n   */\n  htmlRemoveWhiteSpace: function htmlRemoveWhiteSpace(html) {\n    if (!html) return \"\";\n    return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/gi, function (m) {\n      return m.trim();\n    });\n  },\n\n  /**\r\n   * @description Sort a element array by depth of element.\r\n   * @param {Array} array Array object\r\n   * @param {Boolean} des true: descending order / false: ascending order\r\n   */\n  sortByDepth: function sortByDepth(array, des) {\n    var t = !des ? -1 : 1;\n    var f = t * -1;\n    array.sort(function (a, b) {\n      if (!this.isListCell(a) || !this.isListCell(b)) return 0;\n      a = this.getElementDepth(a);\n      b = this.getElementDepth(b);\n      return a > b ? t : a < b ? f : 0;\n    }.bind(this));\n  },\n\n  /**\r\n   * @description Nodes that need to be added without modification when changing text nodes\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _isIgnoreNodeChange: function _isIgnoreNodeChange(element) {\n    return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\n  },\n\n  /**\r\n   * @description Nodes that must remain undetached when changing text nodes (A, Label, Code, Span:font-size)\r\n   * @param {Node|String} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _isMaintainedNode: function _isMaintainedNode(element) {\n    return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === \"string\" ? element : element.nodeName);\n  },\n\n  /**\r\n   * @description Node with font-size style\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _isSizeNode: function _isSizeNode(element) {\n    return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\n  },\n\n  /**\r\n   * @description Nodes without text\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _notTextNode: function _notTextNode(element) {\n    return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === \"string\" ? element : element.nodeName));\n  },\n\n  /**\r\n   * @description Check disallowed tags\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _disallowedTags: function _disallowedTags(element) {\n    return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\n  },\n\n  /**\r\n   * @description Create whitelist RegExp object.\r\n   * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?!\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n   * @param {String} list Tags list (\"br|p|div|pre...\")\r\n   * @returns {RegExp}\r\n   */\n  createTagsWhitelist: function createTagsWhitelist(list) {\n    return new RegExp(\"<\\\\/?\\\\b(?!\\\\b\" + list.replace(/\\|/g, \"\\\\b|\\\\b\") + \"\\\\b)[^>]*>\", \"gi\");\n  },\n\n  /**\r\n   * @description Fix tags that do not fit the editor format.\r\n   * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n   * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n   * @private\r\n   */\n  _consistencyCheckOfHTML: function _consistencyCheckOfHTML(documentFragment, htmlCheckWhitelistRegExp) {\n    /**\r\n     * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n     * So check the node type and exclude the text no (current.nodeType !== 1)\r\n     */\n    var removeTags = [],\n        emptyTags = [],\n        wrongList = [],\n        withoutFormatCells = []; // wrong position\n\n    var wrongTags = this.getListChildNodes(documentFragment, function (current) {\n      if (current.nodeType !== 1) return false; // white list\n\n      if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\n        removeTags.push(current);\n        return false;\n      }\n\n      var nrtag = !this.getParentElement(current, this.isNotCheckingNode); // empty tags\n\n      if (!this.isTable(current) && !this.isListCell(current) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\n        emptyTags.push(current);\n        return false;\n      } // wrong list\n\n\n      if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\n        wrongList.push(current);\n        return false;\n      } // table cells\n\n\n      if (this.isCell(current)) {\n        var fel = current.firstElementChild;\n\n        if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\n          withoutFormatCells.push(current);\n          return false;\n        }\n      }\n\n      var result = current.parentNode !== documentFragment && (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) && !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) && !this.getParentElement(current, this.isComponent) && nrtag;\n      return result;\n    }.bind(this));\n\n    for (var i = 0, len = removeTags.length; i < len; i++) {\n      this.removeItem(removeTags[i]);\n    }\n\n    var checkTags = [];\n\n    for (var _i4 = 0, _len2 = wrongTags.length, t, p; _i4 < _len2; _i4++) {\n      t = wrongTags[_i4];\n      p = t.parentNode;\n      if (!p || !p.parentNode) continue;\n      p.parentNode.insertBefore(t, p);\n      checkTags.push(p);\n    }\n\n    for (var _i5 = 0, _len3 = checkTags.length, _t; _i5 < _len3; _i5++) {\n      _t = checkTags[_i5];\n\n      if (this.onlyZeroWidthSpace(_t.textContent.trim())) {\n        this.removeItem(_t);\n      }\n    }\n\n    for (var _i6 = 0, _len4 = emptyTags.length; _i6 < _len4; _i6++) {\n      this.removeItem(emptyTags[_i6]);\n    }\n\n    for (var _i7 = 0, _len5 = wrongList.length, _t2, tp, children, _p; _i7 < _len5; _i7++) {\n      _t2 = wrongList[_i7];\n      tp = this.createElement(\"LI\");\n      children = _t2.childNodes;\n\n      while (children[0]) {\n        tp.appendChild(children[0]);\n      }\n\n      _p = _t2.parentNode;\n      if (!_p) continue;\n\n      _p.insertBefore(tp, _t2);\n\n      this.removeItem(_t2);\n    }\n\n    for (var _i8 = 0, _len6 = withoutFormatCells.length, _t3, f; _i8 < _len6; _i8++) {\n      _t3 = withoutFormatCells[_i8];\n      f = this.createElement(\"DIV\");\n      f.innerHTML = _t3.textContent.trim().length === 0 && _t3.children.length === 0 ? \"<br>\" : _t3.innerHTML;\n      _t3.innerHTML = f.outerHTML;\n    }\n  },\n  _setDefaultOptionStyle: function _setDefaultOptionStyle(options, defaultStyle) {\n    var optionStyle = \"\";\n    if (options.height) optionStyle += \"height:\" + options.height + \";\";\n    if (options.minHeight) optionStyle += \"min-height:\" + options.minHeight + \";\";\n    if (options.maxHeight) optionStyle += \"max-height:\" + options.maxHeight + \";\";\n    if (options.position) optionStyle += \"position:\" + options.position + \";\";\n    if (options.width) optionStyle += \"width:\" + options.width + \";\";\n    if (options.minWidth) optionStyle += \"min-width:\" + options.minWidth + \";\";\n    if (options.maxWidth) optionStyle += \"max-width:\" + options.maxWidth + \";\";\n    var top = \"\",\n        frame = \"\",\n        editor = \"\";\n    defaultStyle = optionStyle + defaultStyle;\n    var styleArr = defaultStyle.split(\";\");\n\n    for (var i = 0, len = styleArr.length, s; i < len; i++) {\n      s = styleArr[i].trim();\n      if (!s) continue;\n\n      if (/^(min-|max-)?width\\s*:/.test(s) || /^(z-index|position)\\s*:/.test(s)) {\n        top += s + \";\";\n        continue;\n      }\n\n      if (/^(min-|max-)?height\\s*:/.test(s)) {\n        if (/^height/.test(s) && s.split(\":\")[1].trim() === \"auto\") {\n          options.height = \"auto\";\n        }\n\n        frame += s + \";\";\n        continue;\n      }\n\n      editor += s + \";\";\n    }\n\n    return {\n      top: top,\n      frame: frame,\n      editor: editor\n    };\n  },\n  _setIframeDocument: function _setIframeDocument(frame, options) {\n    frame.setAttribute(\"scrolling\", \"auto\");\n    frame.contentDocument.head.innerHTML = \"\" + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + this._setIframeCssTags(options);\n    frame.contentDocument.body.className = options._editableClass;\n    frame.contentDocument.body.setAttribute(\"contenteditable\", true);\n  },\n  _setIframeCssTags: function _setIframeCssTags(options) {\n    var linkNames = options.iframeCSSFileName;\n    var wRegExp = this._w.RegExp;\n    var tagString = \"\";\n\n    for (var f = 0, len = linkNames.length, path; f < len; f++) {\n      path = [];\n\n      if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\n        path.push(linkNames[f]);\n      } else {\n        var CSSFileName = new wRegExp(\"(^|.*[\\\\/])\" + linkNames[f] + \"(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$\", \"i\");\n\n        for (var c = document.getElementsByTagName(\"link\"), i = 0, _len7 = c.length, styleTag; i < _len7; i++) {\n          styleTag = c[i].href.match(CSSFileName);\n          if (styleTag) path.push(styleTag[0]);\n        }\n      }\n\n      if (!path || path.length === 0) throw '[KothingEditor.constructor.iframe.fail] The KothingEditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\n\n      for (var _i9 = 0, _len8 = path.length; _i9 < _len8; _i9++) {\n        tagString += '<link href=\"' + path[_i9] + '\" rel=\"stylesheet\">';\n      }\n    }\n\n    return tagString + (options.height === \"auto\" ? \"<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>\" : \"\");\n  }\n};\nvar _default = util;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"selectMenu\",\n  add: function add(core) {\n    core.context.selectMenu = {\n      caller: {},\n      callerContext: null\n    };\n  },\n  setForm: function setForm() {\n    return '<div class=\"ke-select-list\"></div>';\n  },\n  createList: function createList(listContext, items, html) {\n    listContext.form.innerHTML = \"<ul>\" + html + \"</ul>\";\n    listContext.items = items;\n    listContext.menus = listContext.form.querySelectorAll(\"li\");\n  },\n  initEvent: function initEvent(pluginName, forms) {\n    var form = forms.querySelector(\".ke-select-list\");\n    var context = this.context.selectMenu.caller[pluginName] = {\n      form: form,\n      items: [],\n      menus: [],\n      index: -1,\n      item: null,\n      clickMethod: null,\n      callerName: pluginName\n    };\n    form.addEventListener(\"mousedown\", this.plugins.selectMenu.onMousedown_list);\n    form.addEventListener(\"mousemove\", this.plugins.selectMenu.onMouseMove_list.bind(this, context));\n    form.addEventListener(\"click\", this.plugins.selectMenu.onClick_list.bind(this, context));\n  },\n  onMousedown_list: function onMousedown_list(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  },\n  onMouseMove_list: function onMouseMove_list(context, e) {\n    this.util.addClass(context.form, \"__ke_select-menu-mouse-move\");\n    var index = e.target.getAttribute(\"data-index\");\n\n    if (!index) {\n      return;\n    }\n\n    context.index = index * 1;\n  },\n  onClick_list: function onClick_list(context, e) {\n    var index = e.target.getAttribute(\"data-index\");\n\n    if (!index) {\n      return;\n    }\n\n    context.clickMethod.call(this, context.items[index]);\n  },\n  moveItem: function moveItem(listContext, num) {\n    this.util.removeClass(listContext.form, \"__ke_select-menu-mouse-move\");\n    num = listContext.index + num;\n    var menus = listContext.menus;\n    var len = menus.length;\n    var selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\n\n    for (var i = 0; i < len; i++) {\n      if (i === selectIndex) {\n        this.util.addClass(menus[i], \"active\");\n      } else {\n        this.util.removeClass(menus[i], \"active\");\n      }\n    }\n\n    listContext.item = listContext.items[selectIndex];\n  },\n  getItem: function getItem(listContext, index) {\n    index = !index || index < 0 ? listContext.index : index;\n    return listContext.items[index];\n  },\n  on: function on(callerName, clickMethod) {\n    var listContext = this.context.selectMenu.caller[callerName];\n    this.context.selectMenu.callerContext = listContext;\n    listContext.clickMethod = clickMethod;\n    listContext.callerName = callerName;\n  },\n  open: function open(listContext, positionHandler) {\n    var form = listContext.form;\n    form.style.visibility = \"hidden\";\n    form.style.display = \"block\";\n    positionHandler(form);\n    form.style.visibility = \"\";\n  },\n  close: function close(listContext) {\n    listContext.form.style.display = \"none\";\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n  },\n  init: function init(listContext) {\n    if (!listContext) {\n      return;\n    }\n\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n    listContext.callerName = \"\";\n    this.context.selectMenu.callerContext = null;\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"list\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.list = {\n      targetButton: targetElement,\n      _list: null,\n      currentList: \"\",\n      icons: {\n        bullets: core.icons.list_bullets,\n        number: core.icons.list_number\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.list._list = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' + core.icons.list_number + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' + core.icons.list_bullets + \"</button></li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var button = this.context.list.targetButton;\n    var icon = button.firstElementChild;\n    var util = this.util;\n\n    if (!element) {\n      button.removeAttribute(\"data-focus\");\n      util.changeElement(icon, this.context.list.icons.number);\n      util.removeClass(button, \"active\");\n    } else if (util.isList(element)) {\n      var nodeName = element.nodeName;\n      button.setAttribute(\"data-focus\", nodeName);\n      util.addClass(button, \"active\");\n\n      if (/UL/i.test(nodeName)) {\n        util.changeElement(icon, this.context.list.icons.bullets);\n      } else {\n        util.changeElement(icon, this.context.list.icons.number);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var listContext = this.context.list;\n    var list = listContext._list;\n    var currentList = listContext.targetButton.getAttribute(\"data-focus\") || \"\";\n\n    if (currentList !== listContext.currentList) {\n      for (var i = 0, len = list.length; i < len; i++) {\n        if (currentList === list[i].getAttribute(\"data-command\")) {\n          this.util.addClass(list[i], \"active\");\n        } else {\n          this.util.removeClass(list[i], \"active\");\n        }\n      }\n\n      listContext.currentList = currentList;\n    }\n  },\n  editList: function editList(command, selectedCells, detach) {\n    var range = this.getRange();\n    var selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n    if (selectedFormats.length === 0) {\n      if (selectedCells) {\n        return;\n      }\n\n      range = this.getRange_addLine(range, null);\n      selectedFormats = this.getSelectedElementsAndComponents(false);\n\n      if (selectedFormats.length === 0) {\n        return;\n      }\n    }\n\n    var util = this.util;\n    util.sortByDepth(selectedFormats, true); // merge\n\n    var firstSel = selectedFormats[0];\n    var lastSel = selectedFormats[selectedFormats.length - 1];\n    var topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n    var bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n    var originRange = {\n      sc: range.startContainer,\n      so: range.startOffset,\n      ec: range.endContainer,\n      eo: range.endOffset\n    };\n    var isRemove = true;\n\n    var _loop = function _loop(i, len) {\n      if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n        return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n      }.bind(util)))) {\n        isRemove = false;\n        return \"break\";\n      }\n    };\n\n    for (var i = 0, len = selectedFormats.length; i < len; i++) {\n      var _ret = _loop(i, len);\n\n      if (_ret === \"break\") break;\n    }\n\n    if (isRemove && (!topEl || firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase()) && (!bottomEl || lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase())) {\n      if (detach) {\n        for (var _i = 0, _len = selectedFormats.length; _i < _len; _i++) {\n          for (var j = _i - 1; j >= 0; j--) {\n            if (selectedFormats[j].contains(selectedFormats[_i])) {\n              selectedFormats.splice(_i, 1);\n              _i--;\n              _len--;\n              break;\n            }\n          }\n        }\n      }\n\n      var currentFormat = util.getRangeFormatElement(firstSel);\n      var cancel = currentFormat && currentFormat.tagName === command;\n      var rangeArr, tempList;\n\n      var passComponent = function (current) {\n        return !this.isComponent(current);\n      }.bind(util);\n\n      if (!cancel) {\n        tempList = util.createElement(command);\n      }\n\n      for (var _i2 = 0, _len2 = selectedFormats.length, r, o; _i2 < _len2; _i2++) {\n        o = util.getRangeFormatElement(selectedFormats[_i2], passComponent);\n\n        if (!o || !util.isList(o)) {\n          continue;\n        }\n\n        if (!r) {\n          r = o;\n          rangeArr = {\n            r: r,\n            f: [util.getParentElement(selectedFormats[_i2], \"LI\")]\n          };\n        } else {\n          if (r !== o) {\n            if (detach && util.isListCell(o.parentNode)) {\n              this.plugins.list._detachNested.call(this, rangeArr.f);\n            } else {\n              this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n            }\n\n            o = selectedFormats[_i2].parentNode;\n\n            if (!cancel) {\n              tempList = util.createElement(command);\n            }\n\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[_i2], \"LI\")]\n            };\n          } else {\n            rangeArr.f.push(util.getParentElement(selectedFormats[_i2], \"LI\"));\n          }\n        }\n\n        if (_i2 === _len2 - 1) {\n          if (detach && util.isListCell(o.parentNode)) {\n            this.plugins.list._detachNested.call(this, rangeArr.f);\n          } else {\n            this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n          }\n        }\n      }\n    } else {\n      var topElParent = topEl ? topEl.parentNode : topEl;\n      var bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n      topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n      bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n      var mergeTop = topEl && topEl.tagName === command;\n      var mergeBottom = bottomEl && bottomEl.tagName === command;\n      var list = mergeTop ? topEl : util.createElement(command);\n      var firstList = null; // let lastList = null;\n\n      var topNumber = null; // let bottomNumber = null;\n\n      var _passComponent = function (current) {\n        return !this.isComponent(current) && !this.isList(current);\n      }.bind(util);\n\n      for (var _i3 = 0, _len3 = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; _i3 < _len3; _i3++) {\n        fTag = selectedFormats[_i3];\n\n        if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n          util.removeItem(fTag);\n          continue;\n        }\n\n        next = selectedFormats[_i3 + 1];\n        originParent = fTag.parentNode;\n        nextParent = next ? next.parentNode : null;\n        isCell = util.isListCell(fTag);\n        rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n        parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n        siblingTag = isCell && !util.isWysiwygDiv(originParent) ? !next || util.isListCell(parentTag) ? originParent : originParent.nextSibling : fTag.nextSibling;\n        newCell = util.createElement(\"LI\");\n        util.copyFormatAttributes(newCell, fTag);\n\n        if (util.isComponent(fTag)) {\n          var isHR = /^HR$/i.test(fTag.nodeName);\n\n          if (!isHR) {\n            newCell.innerHTML = \"<br>\";\n          }\n\n          newCell.innerHTML += fTag.outerHTML;\n\n          if (isHR) {\n            newCell.innerHTML += \"<br>\";\n          }\n        } else {\n          var fChildren = fTag.childNodes;\n\n          while (fChildren[0]) {\n            newCell.appendChild(fChildren[0]);\n          }\n        }\n\n        list.appendChild(newCell); // if (!next) {\n        //   lastList = list;\n        // }\n\n        if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n          if (!firstList) {\n            firstList = list;\n          }\n\n          if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n            if (list.parentNode !== parentTag) {\n              parentTag.insertBefore(list, siblingTag);\n            }\n          }\n        }\n\n        util.removeItem(fTag);\n\n        if (mergeTop && topNumber === null) {\n          topNumber = list.children.length - 1;\n        }\n\n        if (next && (util.getRangeFormatElement(nextParent, _passComponent) !== util.getRangeFormatElement(originParent, _passComponent) || util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent))) {\n          list = util.createElement(command);\n        }\n\n        if (rangeTag && rangeTag.children.length === 0) {\n          util.removeItem(rangeTag);\n        }\n      }\n\n      if (topNumber) {\n        firstList = firstList.children[topNumber];\n      }\n\n      if (mergeBottom) {\n        // bottomNumber = list.children.length - 1;\n        list.innerHTML += bottomEl.innerHTML; // lastList = list.children[bottomNumber];\n\n        util.removeItem(bottomEl);\n      }\n    }\n\n    this.effectNode = null;\n    return originRange;\n  },\n  _detachNested: function _detachNested(cells) {\n    var first = cells[0];\n    var last = cells[cells.length - 1];\n    var next = last.nextElementSibling;\n    var originList = first.parentNode;\n    var sibling = originList.parentNode.nextElementSibling;\n    var parentNode = originList.parentNode.parentNode;\n\n    for (var c = 0, cLen = cells.length; c < cLen; c++) {\n      parentNode.insertBefore(cells[c], sibling);\n    }\n\n    if (next && originList.children.length > 0) {\n      var newList = originList.cloneNode(false);\n      var children = originList.childNodes;\n      var index = this.util.getPositionIndex(next);\n\n      while (children[index]) {\n        newList.appendChild(children[index]);\n      }\n\n      last.appendChild(newList);\n    }\n\n    if (originList.children.length === 0) {\n      this.util.removeItem(originList);\n    }\n\n    this.util.mergeSameTags(parentNode);\n    var edge = this.util.getEdgeChildNodes(first, last);\n    return {\n      cc: first.parentNode,\n      sc: edge.sc,\n      ec: edge.ec\n    };\n  },\n  editInsideList: function editInsideList(remove, selectedCells) {\n    selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) {\n      return this.isListCell(el);\n    }.bind(this.util)) : selectedCells;\n    var cellsLen = selectedCells.length;\n\n    if (cellsLen === 0 || !remove && !this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)) {\n      return {\n        sc: selectedCells[0],\n        so: 0,\n        ec: selectedCells[cellsLen - 1],\n        eo: 1\n      };\n    }\n\n    var originList = selectedCells[0].parentNode;\n    var lastCell = selectedCells[cellsLen - 1];\n    var range = null;\n\n    if (remove) {\n      if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n        lastCell = lastCell.nextElementSibling;\n\n        while (lastCell) {\n          selectedCells.push(lastCell);\n          lastCell = lastCell.nextElementSibling;\n        }\n      }\n\n      range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n    } else {\n      var innerList = this.util.createElement(originList.nodeName);\n      var prev = selectedCells[0].previousElementSibling;\n      var next = lastCell.nextElementSibling;\n      var nodePath = {\n        s: null,\n        e: null,\n        sl: originList,\n        el: originList\n      };\n\n      for (var i = 0, len = cellsLen, c; i < len; i++) {\n        c = selectedCells[i];\n\n        if (c.parentNode !== originList) {\n          this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n          originList = c.parentNode;\n          innerList = this.util.createElement(originList.nodeName);\n        }\n\n        prev = c.previousElementSibling;\n        next = c.nextElementSibling;\n        innerList.appendChild(c);\n      }\n\n      this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n      var sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n      var ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n      range = {\n        sc: sc,\n        so: 0,\n        ec: ec,\n        eo: ec.textContent.length\n      };\n    }\n\n    return range;\n  },\n  _insiedList: function _insiedList(originList, innerList, prev, next, nodePath) {\n    var insertPrev = false;\n\n    if (prev && innerList.tagName === prev.tagName) {\n      var children = innerList.children;\n\n      while (children[0]) {\n        prev.appendChild(children[0]);\n      }\n\n      innerList = prev;\n      insertPrev = true;\n    }\n\n    if (next && innerList.tagName === next.tagName) {\n      var _children = next.children;\n\n      while (_children[0]) {\n        innerList.appendChild(_children[0]);\n      }\n\n      var temp = next.nextElementSibling;\n      next.parentNode.removeChild(next);\n      next = temp;\n    }\n\n    if (!insertPrev) {\n      if (this.util.isListCell(prev)) {\n        originList = prev;\n        next = null;\n      }\n\n      originList.insertBefore(innerList, next);\n\n      if (!nodePath.s) {\n        nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n        nodePath.sl = originList;\n      }\n\n      var slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n      nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n      nodePath.el = originList;\n      this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n      this.util.mergeNestedTags(originList);\n\n      if (slPath) {\n        nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n      }\n    }\n\n    return innerList;\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = \"\";\n\n    while (!command && !/^UL$/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    }\n\n    var range = this.plugins.list.editList.call(this, command, null, false);\n\n    if (range) {\n      this.setRange(range.sc, range.so, range.ec, range.eo);\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG una finestra con un documento\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"it\",\n    toolbar: {\n      default: \"Predefinita\",\n      save: \"Salva\",\n      font: \"Font\",\n      formats: \"Formato\",\n      fontSize: \"Grandezza\",\n      bold: \"Grassetto\",\n      underline: \"Sottolineato\",\n      italic: \"Corsivo\",\n      strike: \"Barrato\",\n      subscript: \"Apice\",\n      superscript: \"Pedice\",\n      removeFormat: \"Rimuovi formattazione\",\n      fontColor: \"Colore testo\",\n      hiliteColor: \"Colore sottolineatura\",\n      indent: \"Aumenta rientro\",\n      outdent: \"Riduci rientro\",\n      align: \"Allinea\",\n      alignLeft: \"Allinea a sinistra\",\n      alignRight: \"Allinea a destra\",\n      alignCenter: \"Allinea al centro\",\n      alignJustify: \"Giustifica testo\",\n      list: \"Elenco\",\n      orderList: \"Elenco numerato\",\n      unorderList: \"Elenco puntato\",\n      horizontalRule: \"Linea orizzontale\",\n      hr_solid: \"Linea continua\",\n      hr_dotted: \"Puntini\",\n      hr_dashed: \"Trattini\",\n      table: \"Tabella\",\n      link: \"Collegamento ipertestuale\",\n      math: \"Formula matematica\",\n      image: \"Immagine\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"A tutto schermo\",\n      showBlocks: \"Visualizza blocchi\",\n      codeView: \"Visualizza codice\",\n      undo: \"Annulla\",\n      redo: \"Ripristina\",\n      preview: \"Anteprima\",\n      print: \"Stampa\",\n      tag_p: \"Paragrafo\",\n      tag_div: \"Normale (DIV)\",\n      tag_h: \"Titolo\",\n      tag_blockquote: \"Citazione\",\n      tag_pre: \"Codice\",\n      template: \"Modello\",\n      lineHeight: \"Interlinea\",\n      paragraphStyle: \"Stile paragrafo\",\n      textStyle: \"Stile testo\",\n      imageGallery: \"Galleria di immagini\",\n      mention: \"Menzione\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Inserisci un link\",\n        url: \"Indirizzo\",\n        text: \"Testo da visualizzare\",\n        newWindowCheck: \"Apri in una nuova finestra\",\n        downloadLinkCheck: \"Link per scaricare\",\n        bookmark: \"Segnalibro\"\n      },\n      mathBox: {\n        title: \"Matematica\",\n        inputLabel: \"Notazione matematica\",\n        fontSizeLabel: \"Grandezza testo\",\n        previewLabel: \"Anteprima\"\n      },\n      imageBox: {\n        title: \"Inserisci immagine\",\n        file: \"Seleziona da file\",\n        url: \"Indirizzo immagine\",\n        altText: \"Testo alternativo (ALT)\"\n      },\n      videoBox: {\n        title: \"Inserisci video\",\n        file: \"Seleziona da file\",\n        url: \"Indirizzo video di embed, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Inserisci audio\",\n        file: \"Seleziona da file\",\n        url: \"Indirizzo audio\"\n      },\n      browser: {\n        tags: \"tag\",\n        search: \"Ricerca\"\n      },\n      caption: \"Inserisci didascalia\",\n      close: \"Chiudi\",\n      submitButton: \"Invia\",\n      revertButton: \"Annulla\",\n      proportion: \"Proporzionale\",\n      basic: \"Da impostazione\",\n      left: \"Sinistra\",\n      right: \"Destra\",\n      center: \"Centrato\",\n      width: \"Larghezza\",\n      height: \"Altezza\",\n      size: \"Dimensioni\",\n      ratio: \"Rapporto\"\n    },\n    controller: {\n      edit: \"Modifica\",\n      unlink: \"Elimina link\",\n      remove: \"Rimuovi\",\n      insertRowAbove: \"Inserisci riga sopra\",\n      insertRowBelow: \"Inserisci riga sotto\",\n      deleteRow: \"Cancella riga\",\n      insertColumnBefore: \"Inserisci colonna prima\",\n      insertColumnAfter: \"Inserisci colonna dopo\",\n      deleteColumn: \"Cancella colonna\",\n      fixedColumnWidth: \"Larghezza delle colonne fissa\",\n      resize100: \"Ridimensiona 100%\",\n      resize75: \"Ridimensiona 75%\",\n      resize50: \"Ridimensiona 50%\",\n      resize25: \"Ridimensiona 25%\",\n      autoSize: \"Ridimensione automatica\",\n      mirrorHorizontal: \"Capovolgi orizzontalmente\",\n      mirrorVertical: \"Capovolgi verticalmente\",\n      rotateLeft: \"Ruota a sinistra\",\n      rotateRight: \"Ruota a destra\",\n      maxSize: \"Dimensione massima\",\n      minSize: \"Dimensione minima\",\n      tableHeader: \"Intestazione tabella\",\n      mergeCells: \"Unisci celle\",\n      splitCells: \"Dividi celle\",\n      HorizontalSplit: \"Separa orizontalmente\",\n      VerticalSplit: \"Separa verticalmente\"\n    },\n    menu: {\n      spaced: \"Spaziato\",\n      bordered: \"Bordato\",\n      neon: \"Luminoso\",\n      translucent: \"Traslucido\",\n      shadow: \"Ombra\",\n      code: \"Codice\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"it\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * Rich Text Editor\r\n *\r\n * kothing-ditor.js\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2-29.4-29.4-52.5-63.6-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5c-16.1 38.1-39.2 72.3-68.6 101.7-9.3 9.3-19.1 18-29.3 26L668.2 724c-4.1-5.3-12.5-3.5-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 0.8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z\" /></svg>',\n  undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-0.3 13 6.3 12.9l167-0.8c5.2 0 9-4.9 7.7-9.9L369.8 727c-1.6-6.5-10-8.3-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26-29.4-29.4-52.5-63.6-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5c-16.1 38.1-39.2 72.3-68.6 101.7-7.5 7.5-15.3 14.5-23.4 21.2-3.4 2.8-3.9 7.7-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z\" /></svg>',\n  bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M697.8 481.4c33.6-35 54.2-82.3 54.2-134.3v-10.2C752 229.3 663.9 142 555.3 142H259.4c-15.1 0-27.4 12.3-27.4 27.4v679.1c0 16.3 13.2 29.5 29.5 29.5h318.7c117 0 211.8-94.2 211.8-210.5v-11c0-73-37.4-137.3-94.2-175.1zM328 238h224.7c57.1 0 103.3 44.4 103.3 99.3v9.5c0 54.8-46.3 99.3-103.3 99.3H328V238z m366.6 429.4c0 62.9-51.7 113.9-115.5 113.9H328V542.7h251.1c63.8 0 115.5 51 115.5 113.9v10.8z\" /></svg>',\n  underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M824 804H200c-4.4 0-8 3.4-8 7.6v60.8c0 4.2 3.6 7.6 8 7.6h624c4.4 0 8-3.4 8-7.6v-60.8c0-4.2-3.6-7.6-8-7.6zM512 728c69.4 0 134.6-27.1 183.8-76.2C745 602.7 772 537.4 772 468V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 97-79 176-176 176s-176-79-176-176V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 69.4 27.1 134.6 76.2 183.8C377.3 701 442.6 728 512 728z\" /></svg>',\n  italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M798 160H366c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h181.2l-156 544H229c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8H474.4l156-544H798c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z\" /></svg>',\n  strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M952 474H569.9c-10-2-20.5-4-31.6-6-15.9-2.9-22.2-4.1-30.8-5.8-51.3-10-82.2-20-106.8-34.2-35.1-20.5-52.2-48.3-52.2-85.1 0-37 15.2-67.7 44-89 28.4-21 68.8-32.1 116.8-32.1 54.8 0 97.1 14.4 125.8 42.8 14.6 14.4 25.3 32.1 31.8 52.6 1.3 4.1 2.8 10 4.3 17.8 0.9 4.8 5.2 8.2 9.9 8.2h72.8c5.6 0 10.1-4.6 10.1-10.1v-1c-0.7-6.8-1.3-12.1-2-16-7.3-43.5-28-81.7-59.7-110.3-44.4-40.5-109.7-61.8-188.7-61.8-72.3 0-137.4 18.1-183.3 50.9-25.6 18.4-45.4 41.2-58.6 67.7-13.5 27.1-20.3 58.4-20.3 92.9 0 29.5 5.7 54.5 17.3 76.5 8.3 15.7 19.6 29.5 34.1 42H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h433.2c2.1 0.4 3.9 0.8 5.9 1.2 30.9 6.2 49.5 10.4 66.6 15.2 23 6.5 40.6 13.3 55.2 21.5 35.8 20.2 53.3 49.2 53.3 89 0 35.3-15.5 66.8-43.6 88.8-30.5 23.9-75.6 36.4-130.5 36.4-43.7 0-80.7-8.5-110.2-25-29.1-16.3-49.1-39.8-59.7-69.5-0.8-2.2-1.7-5.2-2.7-9-1.2-4.4-5.3-7.5-9.7-7.5h-79.7c-5.6 0-10.1 4.6-10.1 10.1v1c0.2 2.3 0.4 4.2 0.6 5.7 6.5 48.8 30.3 88.8 70.7 118.8 47.1 34.8 113.4 53.2 191.8 53.2 84.2 0 154.8-19.8 204.2-57.3 25-18.9 44.2-42.2 57.1-69 13-27.1 19.7-57.9 19.7-91.5 0-31.8-5.8-58.4-17.8-81.4-5.8-11.2-13.1-21.5-21.8-30.8H952c4.4 0 8-3.6 8-8v-60c0-4.3-3.6-7.9-8-7.9z\" /></svg>',\n  subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M359.936 529.8688l195.4816-195.5328a40.96 40.96 0 1 1 57.9584 57.9584L417.792 587.776l195.5328 195.4816a40.96 40.96 0 1 1-57.9584 57.9584L359.936 645.632l-195.4816 195.584a40.96 40.96 0 1 1-57.9584-57.9584L302.08 587.776 106.496 392.2944A40.96 40.96 0 1 1 164.4544 334.336l195.4816 195.584z m417.1264 400.8448h130.5088c13.0048 0 22.8864 2.56 29.696 7.7824a25.088 25.088 0 0 1 10.2912 21.1456 27.648 27.648 0 0 1-8.1408 20.1216c-5.376 5.5296-13.6192 8.2944-24.576 8.2944h-184.0128c-12.544 0-22.272-3.3792-29.2864-10.0864a31.7952 31.7952 0 0 1-10.496-23.7056c0-5.8368 2.2528-13.568 6.7584-23.1936a82.944 82.944 0 0 1 14.7456-22.7328c22.1696-22.3232 42.1888-41.472 60.0064-57.4464 17.8176-15.9744 30.5664-26.4704 38.2464-31.488 13.6704-9.3696 25.088-18.8416 34.1504-28.3136 9.0624-9.472 15.9744-19.2 20.736-29.184 4.7616-9.9328 7.1168-19.6608 7.1168-29.184a51.6096 51.6096 0 0 0-28.3648-46.9504 61.2864 61.2864 0 0 0-28.672-6.8096c-21.8112 0-38.9632 9.3184-51.456 27.9552a119.3984 119.3984 0 0 0-8.3968 19.968 82.3808 82.3808 0 0 1-13.2096 24.9856c-4.9152 5.8368-12.1344 8.704-21.6576 8.704a28.5696 28.5696 0 0 1-20.736-7.9872 29.0816 29.0816 0 0 1-8.2432-21.8624c0-11.1616 2.56-22.8352 7.7312-34.9696 5.1712-12.1856 12.9024-23.1936 23.1424-33.0752s23.2448-17.8688 39.0144-23.9104a153.4976 153.4976 0 0 1 55.3472-9.1136c25.4976 0 47.2576 3.8912 65.2288 11.6736a98.0992 98.0992 0 0 1 51.4048 52.8384 101.5808 101.5808 0 0 1-7.9872 91.8528c-10.24 16.384-20.736 29.2864-31.3856 38.6048-10.6496 9.3184-28.5696 23.9616-53.6576 43.8784-25.088 19.968-42.2912 35.3792-51.6096 46.3872a138.3936 138.3936 0 0 0-12.288 15.8208z\"></path></svg>',\n  superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M802.6624 444.3136h130.5088c13.0048 0 22.8864 2.56 29.696 7.7824a25.088 25.088 0 0 1 10.2912 21.1456 27.648 27.648 0 0 1-8.1408 20.1216c-5.376 5.5296-13.6192 8.2944-24.576 8.2944h-184.0128c-12.544 0-22.272-3.3792-29.2864-10.0864a31.7952 31.7952 0 0 1-10.496-23.7056c0-5.8368 2.2528-13.568 6.7584-23.1936a82.944 82.944 0 0 1 14.7456-22.7328c22.1696-22.3232 42.1888-41.472 60.0064-57.4464 17.8176-15.9744 30.5664-26.4704 38.2464-31.488 13.6704-9.3696 25.088-18.8416 34.1504-28.3136 9.0624-9.472 15.9744-19.2 20.736-29.184 4.7616-9.9328 7.1168-19.6608 7.1168-29.184a51.6096 51.6096 0 0 0-28.3648-46.9504 61.2864 61.2864 0 0 0-28.672-6.8096c-21.8112 0-38.9632 9.3184-51.456 27.9552a119.3984 119.3984 0 0 0-8.3968 19.968 82.3808 82.3808 0 0 1-13.2096 24.9856c-4.9152 5.8368-12.1344 8.704-21.6576 8.704a28.5696 28.5696 0 0 1-20.736-7.9872 29.0816 29.0816 0 0 1-8.2432-21.8624c0-11.1616 2.56-22.8352 7.7312-34.9696 5.1712-12.1856 12.9024-23.1936 23.1424-33.0752s23.2448-17.8688 39.0144-23.9104a153.4976 153.4976 0 0 1 55.3472-9.1136c25.4976 0 47.2576 3.8912 65.2288 11.6736a98.0992 98.0992 0 0 1 51.4048 52.8384 101.5808 101.5808 0 0 1-7.9872 91.8528c-10.24 16.384-20.736 29.2864-31.3856 38.6048-10.6496 9.3184-28.5696 23.9616-53.6576 43.8784-25.088 19.968-42.2912 35.3792-51.6096 46.3872a138.3936 138.3936 0 0 0-12.288 15.8208zM359.936 529.8688l195.4816-195.5328a40.96 40.96 0 1 1 57.9584 57.9584L417.792 587.776l195.5328 195.4816a40.96 40.96 0 1 1-57.9584 57.9584L359.936 645.632l-195.4816 195.584a40.96 40.96 0 1 1-57.9584-57.9584L302.08 587.776 106.496 392.2944A40.96 40.96 0 1 1 164.4544 334.336l195.4816 195.584z\"></path></svg>',\n  erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M651.229 199.033c-6.769-6.77-17.845-6.77-24.615 0L74.612 751.036c-6.769 6.768-6.769 17.845 0 24.614l107.36 107.361c6.77 6.769 20.14 12.307 29.713 12.307H555.62c9.572 0 22.944-5.538 29.712-12.307l362.63-362.628c6.77-6.769 6.77-17.845 0-24.615L651.23 199.033zM551.187 817.522c-6.769 6.768-20.14 12.307-29.712 12.307H255.194c-9.573 0-22.944-5.539-29.712-12.307l-50.61-50.61c-6.769-6.769-6.769-17.845 0-24.615l202.36-202.361c6.77-6.768 17.846-6.768 24.616 0l201.155 201.156c6.769 6.768 6.769 17.845 0 24.614l-51.816 51.816z\" /></svg>',\n  indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM400 646c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zM904 160H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 792H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519c4.5-3.5 4.5-10.3 0-13.9L142.4 381.9c-5.8-4.6-14.4-0.5-14.4 6.9v246.3c0 7.4 8.5 11.6 14.4 7z\" /></svg>',\n  outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM400 646c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zM904 160H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 792H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4 0.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1c-4.5 3.5-4.5 10.3 0 13.8z\" /></svg>',\n  expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM920 664h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z\" /></svg>',\n  reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M326 664H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V696c0-17.7-14.3-32-32-32zM342 88h-48c-8.8 0-16 7.2-16 16v176H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V104c0-8.8-7.2-16-16-16zM920 664H698c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V744h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM920 280H746V104c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16z\" /></svg>',\n  code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M438.4 849.1l222.7-646.7c0.2-0.5 0.3-1.1 0.4-1.6L438.4 849.1zM661.2 168.7h-67.5c-3.4 0-6.5 2.2-7.6 5.4L354.7 846c-0.3 0.8-0.4 1.7-0.4 2.6 0 4.4 3.6 8 8 8h67.8c3.4 0 6.5-2.2 7.6-5.4l0.7-2.1 223.1-648.3 7.4-21.4c0.3-0.8 0.4-1.7 0.4-2.6-0.1-4.5-3.6-8.1-8.1-8.1zM954.6 502.1c-0.8-1-1.7-1.9-2.7-2.7l-219-171.3c-3.5-2.7-8.5-2.1-11.2 1.4-1.1 1.4-1.7 3.1-1.7 4.9v81.3c0 2.5 1.1 4.8 3.1 6.3l115 90-115 90c-1.9 1.5-3.1 3.8-3.1 6.3v81.3c0 4.4 3.6 8 8 8 1.8 0 3.5-0.6 4.9-1.7l219-171.3c6.9-5.4 8.2-15.5 2.7-22.5zM291.1 328.1l-219 171.3c-1 0.8-1.9 1.7-2.7 2.7-5.4 7-4.2 17 2.7 22.5l219 171.3c1.4 1.1 3.1 1.7 4.9 1.7 4.4 0 8-3.6 8-8v-81.3c0-2.5-1.1-4.8-3.1-6.3l-115-90 115-90c1.9-1.5 3.1-3.8 3.1-6.3v-81.3c0-1.8-0.6-3.5-1.7-4.9-2.7-3.5-7.7-4.1-11.2-1.4z\" /></svg>',\n  preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M646.656 284.672c0-19.968-19.456-35.84-43.52-35.84H243.712c-24.064 0-43.52 15.872-43.52 35.84 0 19.968 19.456 35.84 43.52 35.84h358.912c24.576 0 43.52-15.36 44.032-35.84zM404.48 466.432c0-19.968-19.456-35.84-43.52-35.84H243.712c-24.064 0-43.52 15.872-43.52 35.84 0 19.968 19.456 35.84 43.52 35.84h117.248c24.576 0 43.52-15.36 43.52-35.84zM318.976 641.536H243.712c-24.064 0-43.52 15.872-43.52 35.84 0 19.968 19.456 35.84 43.52 35.84h74.752c24.576 0 43.52-15.872 43.52-35.84 0.512-19.968-18.944-35.84-43.008-35.84zM942.08 908.288l-112.64-111.616c48.128-47.104 78.336-112.128 78.336-184.32 0-142.336-116.736-258.048-260.096-258.048-143.36 0-260.096 115.712-260.096 258.048S504.32 870.4 647.68 870.4c37.376 0 72.704-8.192 104.448-22.016L877.568 972.8c9.216 8.704 20.48 12.8 32.256 12.8 11.776 0 23.04-4.096 31.744-12.8a46.592 46.592 0 0 0 0.512-64.512z m-294.4-117.248c-99.328 0-180.224-80.384-180.224-178.688s80.896-178.688 180.224-178.688 180.224 80.384 180.224 178.688-80.896 178.688-180.224 178.688zM140.288 812.544V141.824c0-17.408 14.336-31.744 31.744-31.744h539.136c17.408 0 31.744 14.336 31.744 31.744V353.28h71.68V141.824c0-56.832-46.08-103.424-103.424-103.424H172.032c-56.832 0-103.424 46.08-103.424 103.424v670.72c0 56.832 46.08 103.424 103.424 103.424h335.36v-71.68H172.032c-17.408 0-31.744-14.336-31.744-31.744z\"></path></svg>',\n  print: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zM852 332H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180z m304 664H360V568h304v276z m200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z\" /></svg>',\n  template: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M410.055 157.468h198.201c22.983 0 42.325-22.983 42.325-49.607s-19.342-49.607-43.463-49.607h-196.95c-24.234 0-43.576 22.983-43.576 49.607s19.342 49.607 43.463 49.607z m310.727 484.125H295.253c-15.701 0-29.013 13.312-29.013 29.013s13.312 29.014 29.013 29.014H721.92c15.701 0 29.013-13.312 29.013-29.014-1.137-16.839-14.45-29.013-30.15-29.013z m0-170.667H295.253c-15.701 0-29.013 13.312-29.013 29.014s13.312 29.013 29.013 29.013H721.92c15.701 0 29.013-13.312 29.013-29.013-1.137-16.84-14.45-29.014-30.15-29.014zM266.24 342.7c0 15.701 13.312 29.013 29.013 29.013H721.92c15.701 0 29.013-13.312 29.013-29.013s-13.312-29.014-29.013-29.014H295.253c-15.701-0.113-29.013 13.199-29.013 29.014zM821.02 86.016h-56.775c-15.701 0-33.905 9.671-33.905 25.372s18.09 31.517 33.905 31.517h56.775c33.792 0 56.776 22.983 56.776 56.889v654.79c0 33.907-22.984 56.89-56.776 56.89H209.465c-33.906 0-71.339-22.983-71.339-56.89v-654.79c0-33.906 22.983-56.89 56.775-56.89h71.339c15.701 0 21.732-15.7 21.732-31.516s-6.03-25.372-21.732-25.372h-71.339c-79.758 0-113.664 49.607-113.664 115.03v647.622c0 70.201 42.326 119.808 119.695 119.808H814.99c77.37 0 119.694-41.187 119.694-119.808V201.045c0-65.422-39.936-115.029-113.664-115.029z\"></path></svg>',\n  line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M657.067 136.533H76.8c-4.693 0-8.533 3.84-8.533 8.534V281.6c0 4.693 3.84 8.533 8.533 8.533h59.733c4.694 0 8.534-3.84 8.534-8.533v-68.267h179.2v597.334h-98.134c-4.693 0-8.533 3.84-8.533 8.533v59.733c0 4.694 3.84 8.534 8.533 8.534h281.6c4.694 0 8.534-3.84 8.534-8.534V819.2c0-4.693-3.84-8.533-8.534-8.533H409.6V213.333h179.2V281.6c0 4.693 3.84 8.533 8.533 8.533h59.734c4.693 0 8.533-3.84 8.533-8.533V145.067c0-4.694-3.84-8.534-8.533-8.534z m290.986 582.4h-69.12V305.067h69.12c6.4 0 10.027-7.467 6.08-12.48L846.613 156.48c-3.093-3.947-9.066-3.947-12.053 0L727.04 292.587c-3.947 5.013-0.427 12.48 6.08 12.48h69.013v413.866h-69.12c-6.4 0-10.026 7.467-6.08 12.48l107.52 136c3.094 3.947 9.067 3.947 12.054 0l107.52-136c4.053-5.013 0.426-12.48-5.974-12.48z\" /></svg>',\n  paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M512 256v640h-85.333333v-213.333333a256 256 0 1 1 0-512h426.666666v85.333333h-128v640h-85.333333V256h-128z m-85.333333 0a170.666667 170.666667 0 1 0 0 341.333333V256z\"></path></svg>',\n  text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M890.592 729.19V296.255a115.329 115.329 0 1 0-140.099-163.93H268.452A115.257 115.257 0 1 0 135.213 298.42v428.602A115.293 115.293 0 1 0 270.98 888.426h476.987A115.293 115.293 0 1 0 890.592 729.19z m-39.719-590.727a49.468 49.468 0 1 1-49.467 49.468 49.324 49.324 0 0 1 49.467-49.468zM117.881 187.93a49.468 49.468 0 1 1 49.468 49.468 49.54 49.54 0 0 1-49.468-49.468z m49.468 698.69a49.468 49.468 0 1 1 49.468-49.469 49.324 49.324 0 0 1-49.468 49.468z m569.423-64.634h-454.96a115.834 115.834 0 0 0-80.882-94.964V298.06a114.896 114.896 0 0 0 80.882-99.297h454.6a115.076 115.076 0 0 0 87.742 101.464v424.99a114.787 114.787 0 0 0-87.382 96.77z m114.101 64.633a49.468 49.468 0 1 1 49.468-49.468 49.324 49.324 0 0 1-49.468 49.468zM539.262 283.256a4.983 4.983 0 0 1-1.084-1.444 33.544 33.544 0 0 0-17.332-21.665 32.822 32.822 0 0 0-44.051 15.526L274.95 695.61a32.822 32.822 0 0 0 15.526 44.052 33.725 33.725 0 0 0 14.444 3.25 33.292 33.292 0 0 0 29.97-18.777l64.272-133.6h211.592a10.58 10.58 0 0 0 3.25-0.721l67.883 141.543a33.292 33.292 0 0 0 29.97 18.776 34.953 34.953 0 0 0 14.443-3.25 32.93 32.93 0 0 0 15.526-44.051zM430.576 524.818l75.466-157.43 75.466 157.43z\" /></svg>',\n  save: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z\" /></svg>',\n  blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n  arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n  align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M163.84 204.8h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24V215.04c0-5.632 4.608-10.24 10.24-10.24z m0 585.728h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24v-59.392c0-5.632 4.608-10.24 10.24-10.24z m0-390.5024h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24v-59.392c0-5.632 4.608-10.24 10.24-10.24z m0 195.2768h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24v-59.392c0-5.632 4.608-10.24 10.24-10.24z\"></path></svg>',\n  align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM120 654h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" /></svg>',\n  align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 582H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" /></svg>',\n  align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM760 654c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" /></svg>',\n  font: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M170.464 313.527l-25.094 0 3.812-177.812 717.765 0 3.812 177.812-23.453 0c-8.359-48.719-19.812-83.906-34.359-105.547-14.547-21.625-30.188-34.906-46.906-39.812s-45.266-7.359-85.625-7.359L561.526 160.809l0 521.953c0 57.812 1.359 95.812 4.078 114s10.094 31.641 22.094 40.359 34.531 13.078 67.625 13.078l36 0 0 25.094L322.636 875.293l0-25.094 38.172 0c31.625 0 53.531-4 65.719-12s20-20.453 23.453-37.359 5.188-56.266 5.188-118.078L455.168 160.808 345.542 160.808c-47.641 0-79.641 2.281-96 6.812-16.375 4.547-31.734 18.281-46.094 41.188S178.089 266.621 170.464 313.527z\"></path></svg>',\n  font_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M920 416H616c-4.4 0-8 3.6-8 8v112c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-56h60v320h-46c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h164c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8h-46V480h60v56c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V424c0-4.4-3.6-8-8-8zM656 296V168c0-4.4-3.6-8-8-8H104c-4.4 0-8 3.6-8 8v128c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-64h168v560h-92c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-92V232h168v64c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8z\"></path></svg>',\n  font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zM253.7 736h85c4.2 0 8-2.7 9.3-6.8l53.7-166h219.2l53.2 166c1.3 4 5 6.8 9.3 6.8h89.1c1.1 0 2.2-0.2 3.2-0.5 5.1-1.8 7.8-7.3 6-12.4L573.6 118.6c-1.4-3.9-5.1-6.6-9.2-6.6H462.1c-4.2 0-7.9 2.6-9.2 6.6L244.5 723.1c-0.4 1-0.5 2.1-0.5 3.2-0.1 5.3 4.3 9.7 9.7 9.7z m255.9-516.1h4.1l83.8 263.8H424.9l84.7-263.8z\" /></svg>',\n  format_block: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M725.333333 469.333333V170.666667h85.333334v725.333333h-85.333334v-341.333333H298.666667v341.333333H213.333333V170.666667h85.333334v298.666666z\"></path></svg>',\n  highlight_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M766.4 744.3c43.7 0 79.4-36.2 79.4-80.5 0-53.5-79.4-140.8-79.4-140.8S687 610.3 687 663.8c0 44.3 35.7 80.5 79.4 80.5zM389.3 700.2c7.1 7.1 18.6 7.1 25.6 0l256.1-256c7.1-7.1 7.1-18.6 0-25.6l-256-256c-0.6-0.6-1.3-1.2-2-1.7l-78.2-78.2c-3.5-3.5-9.3-3.5-12.8 0l-48 48c-3.5 3.5-3.5 9.3 0 12.8l67.2 67.2-207.8 207.9c-7.1 7.1-7.1 18.6 0 25.6l255.9 256z m12.9-448.6l178.9 178.9H223.4l178.8-178.9zM904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z\" /></svg>',\n  list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM912 476H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM912 760H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM160 228m-56 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0ZM160 512m-56 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0ZM160 796m-56 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0Z\" /></svg>',\n  list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M978.285714 795.428571H310.857143c-5.028571 0-9.142857 4.114286-9.142857 9.142858v64c0 5.028571 4.114286 9.142857 9.142857 9.142857h667.428571c5.028571 0 9.142857-4.114286 9.142857-9.142857v-64c0-5.028571-4.114286-9.142857-9.142857-9.142858z m0-649.142857H310.857143c-5.028571 0-9.142857 4.114286-9.142857 9.142857v64c0 5.028571 4.114286 9.142857 9.142857 9.142858h667.428571c5.028571 0 9.142857-4.114286 9.142857-9.142858v-64c0-5.028571-4.114286-9.142857-9.142857-9.142857z m0 324.571429H310.857143c-5.028571 0-9.142857 4.114286-9.142857 9.142857v64c0 5.028571 4.114286 9.142857 9.142857 9.142857h667.428571c5.028571 0 9.142857-4.114286 9.142857-9.142857v-64c0-5.028571-4.114286-9.142857-9.142857-9.142857zM173.714286 740.571429H41.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571428v38.857143c0 2.514286 2.057143 4.571429 4.571428 4.571429h82.742857v23.428571h-40.8c-2.514286 0-4.571429 2.057143-4.571428 4.571429v38.857142c0 2.514286 2.057143 4.571429 4.571428 4.571429h40.8V884.571429H41.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571428v38.857143c0 2.514286 2.057143 4.571429 4.571428 4.571429h132.571429c2.514286 0 4.571429-2.057143 4.571428-4.571429V745.142857c0-2.514286-2.057143-4.571429-4.571428-4.571428zM41.142857 141.714286h43.428572v137.142857c0 2.514286 2.057143 4.571429 4.571428 4.571428h45.714286c2.514286 0 4.571429-2.057143 4.571428-4.571428V100.571429c0-5.028571-4.114286-9.142857-9.142857-9.142858h-89.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571429v41.142857c0 2.514286 2.057143 4.571429 4.571428 4.571429z m132.571429 274.285714H41.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571429v41.142857c0 2.514286 2.057143 4.571429 4.571428 4.571428h78.171429l-80.342857 88.8a9.485714 9.485714 0 0 0-2.4 6.171429V603.428571c0 2.514286 2.057143 4.571429 4.571428 4.571429h132.571429c2.514286 0 4.571429-2.057143 4.571428-4.571429v-41.142857c0-2.514286-2.057143-4.571429-4.571428-4.571428h-78.171429l80.342857-88.8a9.485714 9.485714 0 0 0 2.4-6.171429V420.571429c0-2.514286-2.057143-4.571429-4.571428-4.571429z\" /></svg>',\n  table: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M513.7 120.1h385.5c44.3 0 59.5 15 59.5 59 0 221.1 0 442.3-0.1 663.4 0 44.6-14.8 59.6-58.8 59.6-259.2 0.1-518.5 0.1-777.7 0-41 0-57.1-15.7-57.1-56.8-0.2-223.4-0.2-446.8 0-670.1 0-39.6 16.2-55 56.5-55.1 130.7-0.1 261.4 0 392.2 0zM345.3 693.2h-222v150.7h222V693.2z m277 151.6V693.9H401.5v150.9h220.8z m55.9-1.2h222.2V693.5H678.2v150.1zM123.6 490.9v149.4h221V490.9h-221zM678 642.3c72.4 0 142.3 0.2 212.2-0.5 3.8 0 10.7-6.6 10.7-10.3 0.7-46.7 0.5-93.3 0.5-139.8H677.9c0.1 50.4 0.1 98.7 0.1 150.6z m-277.5-1.8h222.1V491.6H400.5v148.9z m-55.7-200.9V289.4H121.9c0 46.8-0.5 91.5 0.6 136.1 0.1 4.8 9.2 13.4 14.2 13.5 68.6 0.9 137.3 0.6 208.1 0.6z m56.3-2.1h221V288.8h-221v148.7z m498.8 0.7V288.7H678.5v149.5h221.4z\"></path></svg>',\n  horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n  show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M848 160.7c8.7 0 16 7.3 16 16v140c0 8.7-7.3 16-16 16H179.5c-8.7 0-16-7.3-16-16v-140c0-8.7 7.3-16 16-16H848m0-64H179.5c-44 0-80 36-80 80v140c0 44 36 80 80 80H848c44 0 80-36 80-80v-140c0-44-36-80-80-80zM344.9 516.1c8.7 0 16 7.3 16 16V846c0 8.7-7.3 16-16 16H179.5c-8.7 0-16-7.3-16-16V532.1c0-8.7 7.3-16 16-16h165.4m0-64H179.5c-44 0-80 36-80 80V846c0 44 36 80 80 80h165.4c44 0 80-36 80-80V532.1c0-44-36-80-80-80zM848 516.1c8.7 0 16 7.3 16 16V846c0 8.7-7.3 16-16 16H596.1c-8.7 0-16-7.3-16-16V532.1c0-8.7 7.3-16 16-16H848m0-64H596.1c-44 0-80 36-80 80V846c0 44 36 80 80 80H848c44 0 80-36 80-80V532.1c0-44-36-80-80-80z\"></path></svg>',\n  cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n  image: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32z m-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792z m0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456c48.6 0 88-39.4 88-88s-39.4-88-88-88-88 39.4-88 88 39.4 88 88 88z m0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\" /></svg>',\n  audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168z m-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z\" /></svg>',\n  video: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560z m176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z\" /></svg>',\n  link: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M574 665.4c-3.1-3.1-8.2-3.1-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8c-3.1-3.1-8.2-3.1-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zM832.6 191.4c-84.6-84.6-221.5-84.6-306 0L410.3 307.6c-3.1 3.1-3.1 8.2 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6c-3.1 3.1-3.1 8.2 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3c-3.1-3.1-8.2-3.1-11.3 0L372.3 598.7c-3.1 3.1-3.1 8.2 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\" /></svg>',\n  unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n  math: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M643.015111 128c9.557333 0 18.773333 3.811556 25.486222 10.581333l0.398223 0.398223 88.974222 91.989333a36.010667 36.010667 0 0 1-51.313778 50.460444l-0.455111-0.398222-78.392889-81.009778H167.025778l196.835555 293.432889a36.010667 36.010667 0 0 1 0.227556 39.822222l-0.284445 0.455112-196.892444 290.247111h460.8l78.392889-81.009778a36.010667 36.010667 0 0 1 50.517333-1.251556l0.398222 0.398223c14.165333 13.653333 14.677333 36.181333 1.251556 50.460444l-0.398222 0.455111-88.974222 91.989333a36.010667 36.010667 0 0 1-25.372445 10.979556H98.986667a36.010667 36.010667 0 0 1-30.264889-55.466667l0.512-0.739555 221.297778-326.428445-220.899556-329.329777a36.010667 36.010667 0 0 1 29.013333-56.035556h544.369778z m306.460445 262.542222c13.880889 13.937778 14.051556 36.408889 0.398222 50.517334L878.876444 512l70.542223 70.542222a36.010667 36.010667 0 0 1-50.460445 51.313778l-0.398222-0.398222-70.542222-70.599111-70.542222 70.599111a36.010667 36.010667 0 0 1-51.370667-50.517334L777.102222 512l-70.542222-70.542222a36.010667 36.010667 0 0 1 50.460444-51.313778l70.940445 70.940444 70.542222-70.542222a36.010667 36.010667 0 0 1 50.972445 0z\"></path></svg>',\n  table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n  merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n  split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n  caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n  edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n  delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n  modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n  revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n  auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n  insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n  insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n  insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n  insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n  delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n  delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n  fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n  rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n  rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n  mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n  mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n  checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n  line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\n  image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\n  bookmark: '<svg viewBox=\"0 0 24 24\"><path d=\"M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z\" /></svg>',\n  download: '<svg viewBox=\"0 0 24 24\"><path d=\"M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z\" /></svg>',\n  // More icons\n  more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n  more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n  more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n  more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n  more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\n  // Not currently used\n  attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n  map: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n  magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n  empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"en\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Save\",\n      font: \"Font\",\n      formats: \"Formats\",\n      fontSize: \"Size\",\n      bold: \"Bold\",\n      underline: \"Underline\",\n      italic: \"Italic\",\n      strike: \"Strike\",\n      subscript: \"Subscript\",\n      superscript: \"Superscript\",\n      removeFormat: \"Remove Format\",\n      fontColor: \"Font Color\",\n      hiliteColor: \"Highlight Color\",\n      indent: \"Indent\",\n      outdent: \"Outdent\",\n      align: \"Align\",\n      alignLeft: \"Align left\",\n      alignRight: \"Align right\",\n      alignCenter: \"Align center\",\n      alignJustify: \"Align justify\",\n      list: \"List\",\n      orderList: \"Ordered list\",\n      unorderList: \"Unordered list\",\n      horizontalRule: \"Horizontal line\",\n      hr_solid: \"Solid\",\n      hr_dotted: \"Dotted\",\n      hr_dashed: \"Dashed\",\n      table: \"Table\",\n      link: \"Link\",\n      math: \"Math\",\n      image: \"Image\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Full screen\",\n      showBlocks: \"Show blocks\",\n      codeView: \"Code view\",\n      undo: \"Undo\",\n      redo: \"Redo\",\n      preview: \"Preview\",\n      print: \"print\",\n      tag_p: \"Paragraph\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Header\",\n      tag_blockquote: \"Quote\",\n      tag_pre: \"Code\",\n      template: \"Template\",\n      lineHeight: \"Line height\",\n      paragraphStyle: \"Paragraph style\",\n      textStyle: \"Text style\",\n      imageGallery: \"Image gallery\",\n      mention: \"Mention\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Insert Link\",\n        url: \"URL to link\",\n        text: \"Text to display\",\n        newWindowCheck: \"Open in new window\",\n        downloadLinkCheck: \"Download link\",\n        bookmark: \"Bookmark\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Mathematical Notation\",\n        fontSizeLabel: \"Font Size\",\n        previewLabel: \"Preview\"\n      },\n      imageBox: {\n        title: \"Insert image\",\n        file: \"Select from files\",\n        url: \"Image URL\",\n        altText: \"Alternative text\"\n      },\n      videoBox: {\n        title: \"Insert Video\",\n        file: \"Select from files\",\n        url: \"Media embed URL, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Insert Audio\",\n        file: \"Select from files\",\n        url: \"Audio URL\"\n      },\n      browser: {\n        tags: \"Tags\",\n        search: \"Search\"\n      },\n      caption: \"Insert description\",\n      close: \"Close\",\n      submitButton: \"Submit\",\n      revertButton: \"Revert\",\n      proportion: \"Constrain proportions\",\n      basic: \"Basic\",\n      left: \"Left\",\n      right: \"Right\",\n      center: \"Center\",\n      width: \"Width\",\n      height: \"Height\",\n      size: \"Size\",\n      ratio: \"Ratio\"\n    },\n    controller: {\n      edit: \"Edit\",\n      unlink: \"Unlink\",\n      remove: \"Remove\",\n      insertRowAbove: \"Insert row above\",\n      insertRowBelow: \"Insert row below\",\n      deleteRow: \"Delete row\",\n      insertColumnBefore: \"Insert column before\",\n      insertColumnAfter: \"Insert column after\",\n      deleteColumn: \"Delete column\",\n      fixedColumnWidth: \"Fixed column width\",\n      resize100: \"Resize 100%\",\n      resize75: \"Resize 75%\",\n      resize50: \"Resize 50%\",\n      resize25: \"Resize 25%\",\n      autoSize: \"Auto size\",\n      mirrorHorizontal: \"Mirror, Horizontal\",\n      mirrorVertical: \"Mirror, Vertical\",\n      rotateLeft: \"Rotate left\",\n      rotateRight: \"Rotate right\",\n      maxSize: \"Max size\",\n      minSize: \"Min size\",\n      tableHeader: \"Table header\",\n      mergeCells: \"Merge cells\",\n      splitCells: \"Split Cells\",\n      HorizontalSplit: \"Horizontal split\",\n      VerticalSplit: \"Vertical split\"\n    },\n    menu: {\n      spaced: \"Spaced\",\n      bordered: \"Bordered\",\n      neon: \"Neon\",\n      translucent: \"Translucent\",\n      shadow: \"Shadow\",\n      code: \"Code\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"en\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"pt_br\",\n    toolbar: {\n      default: \"Padro\",\n      save: \"Salvar\",\n      font: \"Fonte\",\n      formats: \"Formatos\",\n      fontSize: \"Tamanho\",\n      bold: \"Negrito\",\n      underline: \"Sublinhado\",\n      italic: \"Itlico\",\n      strike: \"Riscado\",\n      subscript: \"Subescrito\",\n      superscript: \"Sobrescrito\",\n      removeFormat: \"Remover Formatao\",\n      fontColor: \"Cor da Fonte\",\n      hiliteColor: \"Cor de destaque\",\n      indent: \"Recuo\",\n      outdent: \"Avanar\",\n      align: \"Alinhar\",\n      alignLeft: \"Alinhar  esquerda\",\n      alignRight: \"Alinhar  direita\",\n      alignCenter: \"Alinhar ao centro\",\n      alignJustify: \"Alinhat justificado\",\n      list: \"Lista\",\n      orderList: \"Lista ordenada\",\n      unorderList: \"Lista desordenada\",\n      horizontalRule: \"Linha horizontal\",\n      hr_solid: \"solida\",\n      hr_dotted: \"pontilhada\",\n      hr_dashed: \"tracejada\",\n      table: \"Tabela\",\n      link: \"Link\",\n      math: \"Matemtica\",\n      image: \"Imagem\",\n      video: \"Vdeo\",\n      audio: \"udio\",\n      fullScreen: \"Tela cheia\",\n      showBlocks: \"Mostrar blocos\",\n      codeView: \"Mostrar cdigos\",\n      undo: \"Voltar\",\n      redo: \"Refazer\",\n      preview: \"Prever\",\n      print: \"imprimir\",\n      tag_p: \"Paragrfo\",\n      tag_div: \"(DIV) Normal\",\n      tag_h: \"Cabealho\",\n      tag_blockquote: \"Citar\",\n      tag_pre: \"Cdigo\",\n      template: \"Modelo\",\n      lineHeight: \"Altura da linha\",\n      paragraphStyle: \"Estilo do pargrafo\",\n      textStyle: \"Estilo do texto\",\n      imageGallery: \"Galeria de imagens\",\n      mention: \"Meno\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Inserir link\",\n        url: \"URL para link\",\n        text: \"Texto  mostrar\",\n        newWindowCheck: \"Abrir em nova guia\",\n        downloadLinkCheck: \"Link para Download\",\n        bookmark: \"marca pginas\"\n      },\n      mathBox: {\n        title: \"Matemtica\",\n        inputLabel: \"Notao matemtica\",\n        fontSizeLabel: \"Tamanho\",\n        previewLabel: \"Prever\"\n      },\n      imageBox: {\n        title: \"Inserir imagens\",\n        file: \"Selecionar arquivos\",\n        url: \"URL da imagem\",\n        altText: \"Texto alternativo\"\n      },\n      videoBox: {\n        title: \"Inserir vdeo\",\n        file: \"Selecionar arquivos\",\n        url: \"URL do YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Inserir audio\",\n        file: \"Selecionar arquivos\",\n        url: \"URL da audio\"\n      },\n      browser: {\n        tags: \"Tag\",\n        search: \"Procurar\"\n      },\n      caption: \"Inserir descrio\",\n      close: \"Fechar\",\n      submitButton: \"Enviar\",\n      revertButton: \"Reverter\",\n      proportion: \"restringir propores\",\n      basic: \"Bsico\",\n      left: \"Esquerda\",\n      right: \"Direita\",\n      center: \"Centro\",\n      width: \"Largura\",\n      height: \"Altura\",\n      size: \"Tamanho\",\n      ratio: \"Propores\"\n    },\n    controller: {\n      edit: \"Editar\",\n      unlink: \"Retirar link\",\n      remove: \"Remover\",\n      insertRowAbove: \"Inserir linha acima\",\n      insertRowBelow: \"Inserir linha abaixo\",\n      deleteRow: \"Deletar linha\",\n      insertColumnBefore: \"Inserir coluna antes\",\n      insertColumnAfter: \"Inserir coluna depois\",\n      deleteColumn: \"Deletar coluna\",\n      fixedColumnWidth: \"Largura fixa da coluna\",\n      resize100: \"Redimensionar para 100%\",\n      resize75: \"Redimensionar para 75%\",\n      resize50: \"Redimensionar para 50%\",\n      resize25: \"Redimensionar para 25%\",\n      autoSize: \"Tamanho automtico\",\n      mirrorHorizontal: \"Espelho, Horizontal\",\n      mirrorVertical: \"Espelho, Vertical\",\n      rotateLeft: \"Girar para esquerda\",\n      rotateRight: \"Girar para direita\",\n      maxSize: \"Tam max\",\n      minSize: \"Tam min\",\n      tableHeader: \"Cabealho da tabela\",\n      mergeCells: \"Mesclar clulas\",\n      splitCells: \"Dividir clulas\",\n      HorizontalSplit: \"Diviso horizontal\",\n      VerticalSplit: \"Diviso vertical\"\n    },\n    menu: {\n      spaced: \"Espaado\",\n      bordered: \"Com borda\",\n      neon: \"Non\",\n      translucent: \"Translcido\",\n      shadow: \"Sombreado\",\n      code: \"Cdigo\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"pt_br\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});"],"sourceRoot":""}