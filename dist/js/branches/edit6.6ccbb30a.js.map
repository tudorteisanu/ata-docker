{"version":3,"sources":["webpack:///./node_modules/kothing-editor/lib/lang/ckb.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/math.js","webpack:///./node_modules/kothing-editor/lib/lang/lv.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/fileManager.js","webpack:///./node_modules/kothing-editor/lib/lang/pl.js","webpack:///./node_modules/kothing-editor/lib/lib/constructor.js","webpack:///./node_modules/kothing-editor/lib/plugins/fileBrowser/imageGallery.js","webpack:///./node_modules/kothing-editor/lib/lang/es.js","webpack:///./node_modules/kothing-editor/lib/lang/ja.js","webpack:///./node_modules/kothing-editor/lib/lang/he.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/resizing.js","webpack:///./node_modules/kothing-editor/lib/lang/zh_cn.js","webpack:///./node_modules/kothing-editor/lib/lang/ko.js","webpack:///./node_modules/kothing-editor/lib/lang/de.js","webpack:///./node_modules/kothing-editor/lib/lang/ua.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/textStyle.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/component.js","webpack:///../../../src/components/VTooltip/VTooltip.ts","webpack:///./node_modules/kothing-editor/lib/lib/history.js","webpack:///./node_modules/kothing-editor/lib/lib/core.js","webpack:///../../../src/components/VForm/VForm.ts","webpack:///./node_modules/kothing-editor/lib/editor.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/lineHeight.js","webpack:///./node_modules/kothing-editor/lib/lang/ru.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/fontSize.js","webpack:///./node_modules/kothing-editor/lib/lang/da.js","webpack:///./node_modules/kothing-editor/lib/lang/fr.js","webpack:///../../../src/components/VTabs/VTab.ts","webpack:///./src/assets/images/locales/ru.svg","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/template.js","webpack:///./src/assets/images/locales/ro.svg","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/table.js","webpack:///../../../src/components/VSlideGroup/VSlideGroup.ts","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/formatBlock.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/font.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/notice.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/audio.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/link.js","webpack:///./node_modules/kothing-editor/lib/lang/index.js","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/image.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/align.js","webpack:///../../../src/components/VIcon/index.ts","webpack:///./node_modules/kothing-editor/lib/lang/se.js","webpack:///./node_modules/kothing-editor/lib/plugins/index.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/dialog.js","webpack:///../../../src/components/VWindow/VWindow.ts","webpack:///../../../src/components/VTabs/VTabsItems.ts","webpack:///./node_modules/kothing-editor/lib/plugins/dialog/video.js","webpack:///../../../src/components/VBtn/index.ts","webpack:///./node_modules/kothing-editor/lib/lib/context.js","webpack:///./src/modules/email-templates/views/edit.vue?b604","webpack:///./src/modules/email-templates/views/edit.vue","webpack:///./src/modules/email-templates/views/edit.vue?67d7","webpack:///./src/modules/email-templates/views/edit.vue?6c03","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/fontColor.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/colorPicker.js","webpack:///./src/modules/email-templates/views/edit.vue?15e2","webpack:///../../../src/directives/touch/index.ts","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/paragraphStyle.js","webpack:///../../../src/components/VChip/VChip.ts","webpack:///./src/assets/images/locales/en.svg","webpack:///../../../src/mixins/ssr-bootable/index.ts","webpack:///./node_modules/kothing-editor/lib/plugins/modules/anchor.js","webpack:///./src/services/helpers/validation-rules.ts","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/hiliteColor.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/horizontalRule.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/fileBrowser.js","webpack:///../../../src/mixins/mobile/index.ts","webpack:///./node_modules/kothing-editor/lib/lang/ro.js","webpack:///./node_modules/kothing-editor/lib/plugins/command/blockquote.js","webpack:///./node_modules/kothing-editor/lib/lib/util.js","webpack:///./node_modules/kothing-editor/lib/plugins/modules/selectMenu.js","webpack:///./node_modules/kothing-editor/lib/plugins/submenu/list.js","webpack:///./node_modules/kothing-editor/lib/lang/it.js","webpack:///./node_modules/kothing-editor/lib/assets/defaultIcons.js","webpack:///./node_modules/kothing-editor/lib/lang/en.js","webpack:///./node_modules/kothing-editor/lib/lang/pt_br.js","webpack:///../../../src/components/VTabs/VTabsBar.ts","webpack:///../../../src/components/VTabs/VTabsSlider.ts","webpack:///../../../src/components/VTabs/VTabs.ts"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","global","factory","module","exports","document","w","Error","window","noGlobal","lang","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","audio","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","imageGallery","mention","dialogBox","linkBox","title","url","text","newWindowCheck","downloadLinkCheck","bookmark","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","file","altText","videoBox","audioBox","browser","tags","search","caption","close","submitButton","revertButton","proportion","basic","left","right","center","width","height","size","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","KothingEditor_LANG","Object","defineProperty","enumerable","writable","configurable","value","_dialog","_interopRequireDefault","__esModule","_default","name","display","add","core","addModule","context","focusElement","previewElement","fontSizeElement","defaultFontSize","_mathExp","math_dialog","this","setDialog","modal","querySelector","addEventListener","_renderMathExp","bind","e","target","style","math_controller","setController_MathButton","mathController","submit","onClick_mathController","dialog","appendChild","element","relative","util","createElement","options","mathFontSize","className","f","html","icons","cancel","i","len","length","innerHTML","math_btn","delete","open","plugins","call","currentControllerName","managedTags","method","getAttribute","katex","dom","_d","createRange","createContextualFragment","_renderer","HTMLDecoder","exp","src","renderToString","contextMath","showLoading","preventDefault","stopPropagation","submitAction","trim","mathExp","katexEl","setAttribute","HTMLEncoder","updateModal","containerEl","getParentElement","parentNode","replaceChild","setRange","selectedFormats","getSelectedElements","oFormat","nodeName","insertNode","empty","createTextNode","zeroWidthSpace","insertBefore","nextSibling","history","push","closeLoading","active","controllerArray","indexOf","call_controller","controllersOff","on","update","init","mathTag","mathBtn","setControllerPosition","top","controllersOn","command","test","removeItem","focus","fixColumnWidth","fileManager","_xmlHttp","_checkMediaComponent","tag","parentElement","upload","uploadUrl","uploadHeader","formData","callBack","errorCallBack","filePlugin","xmlHttp","getXMLHttpRequest","onreadystatechange","_callBackUpload","_w","keys","key","setRequestHeader","send","readyState","status","message","res","responseText","JSON","parse","err","errorMessage","functions","noticeOpen","checkInfo","pluginName","tagNames","uploadEventHandler","modifyHandler","resizing","concat","slice","wysiwyg","getElementsByTagName","fileManagerPlugin","infoList","_infoList","setFileInfo","setInfo","_componentsInfoReset","_i","_len","info","infoUpdate","_loop","_info","_i2","_len2","filter","t","index","toString","_ret","_resize_plugin","currentTags","infoIndex","_i3","_len3","_i4","_len4","isMediaComponent","_infoIndex","removeAttribute","dataIndex","_i5","splice","plguin","state","split","pop","_componentsInfoInit","destroy","select","scrollIntoView","setTimeout","naturalWidth","naturalHeight","container","cover","_module_getSizeX","h","_module_getSizeY","onModifyMode","applySize","_uploadFileLength","deleteInfo","resetInfo","KothingEditor_MODULES","_defaultIcons","_en","_util","_default2","doc","_initOptions","top_div","rtl","id","tool_bar","_createToolBar","toolbarItem","visibility","pluginCallButtons","_checkKatexMath","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","wysiwygFrame","placeholder_span","placeholder","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","line_break","line_breaker_t","line_breaker_b","cloneNode","resize_back","toolbarContainer","_checkCodeMirror","constructed","toolBar","menuTray","editorArea","wysiwygArea","codeArea","loading","lineBreaker","lineBreaker_t","lineBreaker_b","resizeBack","stickyDummy","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","mode","htmlMode","lineNumbers","lineWrapping","reduce","option","hasOwn","viewportMargin","Infinity","cm","fromTextArea","wrapper","cssText","codeMirrorEditor","katexOptions","throwOnError","_setOptions","mergeOptions","originOptions","originElement","el","isNewToolbarContainer","isNewToolbar","removeChild","topArea","addClass","removeClass","callButtons","topDiv","toolBarArrow","_editorStyles","toolbarWidth","wysiwygDiv","iframe","allowFullscreen","frameBorder","frame","_editableClass","editor","overflow","resizinIcon","poweredBy","charCounterLabel","charLabel","textContent","maxCharCount","char_max","innerText","defaultTag","textTags","sub","sup","_new","_textTagsMap","strong","toLowerCase","b","u","ins","em","del","s","historyStackDelayTime","whitelist","_defaultTagsWhitelist","_editorTagsWhitelist","_setWhitelist","addTagsWhitelist","tagsBlacklist","pasteTagsWhitelist","pasteTagsBlacklist","attributesWhitelist","_printClass","isNumber","stickyToolbar","undefined","getNumber","fullScreenOffset","fullPage","iframeCSSFileName","previewTemplate","printTemplate","position","popupDisplay","showPathLabel","charCounterType","clientWidth","minWidth","maxWidth","clientHeight","minHeight","maxHeight","defaultStyle","colorList","lineHeights","paragraphStyles","textStyles","fontSizeUnit","imageResizing","imageHeightShow","imageWidth","imageHeight","imageSizeOnlyPercentage","_imageSizeUnit","imageRotation","imageFileInput","imageUrlInput","imageUploadHeader","imageUploadUrl","imageUploadSizeLimit","imageMultipleFile","imageAccept","imageGalleryUrl","imageGalleryHeader","videoResizing","videoHeightShow","videoRatioShow","videoWidth","videoHeight","videoSizeOnlyPercentage","_videoSizeUnit","videoRotation","videoRatio","videoRatioList","youtubeQuery","replace","videoFileInput","videoUrlInput","videoUploadHeader","videoUploadUrl","videoUploadSizeLimit","videoMultipleFile","videoTagAttrs","videoIframeAttrs","videoAccept","audioWidth","audioHeight","audioFileInput","audioUrlInput","audioUploadHeader","audioUploadUrl","audioUploadSizeLimit","audioMultipleFile","audioTagAttrs","audioAccept","tableCellControllerPosition","linkProtocol","linkRel","Array","isArray","linkRelDefault","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","templates","mediaAutoSelect","reverse","_setDefaultOptionStyle","blacklist","join","_defaultButtons","cmd","isOSX_IOS","addShift","indentKey","erase","expansion","show_blocks","code_view","blockquote","arrow_down","formatBlock","format_block","font_size","font_color","highlight_color","align_right","align_left","list_number","horizontal_rule","line_height","paragraph_style","text_style","image_gallery","_createModuleGroup","oDiv","oUl","div","ul","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","_icons","oLi","oButton","li","button","_plugins","separator_vertical","buttonTray","stringify","defaultToolbarItem","p","pluginsValues","map","moduleElement","buttonElement","vertical","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","moreButton","j","substr","float","matched","match","custom","firstElementChild","sv","enterDiv","children","_sv","lastElementChild","unshift","tool_cover","_fileBrowser","header","listClass","itemTemplateHandler","drawItems","selectorHandler","setImage","columnSize","fileBrowser","item","srcName","alt","callPlugin","_altText","create_image","_origin_w","_origin_h","_resizeClientX","_resizeClientY","_resize_w","_resize_h","_rotateVertical","_resize_direction","_move_path","_isChange","alignIcons","align_justify","align_center","resize_div_container","setController_resize","resizeContainer","resizeDiv","resizeDot","resizeDisplay","resize_button","setController_button","resizeButton","resize_handles","resizeHandles","querySelectorAll","resizeButtonGroup","rotationButtons","percentageButtons","alignMenu","alignMenuList","alignButton","autoSizeButton","captionButton","onMouseDown_resize_handle","onClick_resizeButton","resize_container","auto_size","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","revert","modify","contextPlugin","_element","_cover","_container","paddingBottom","_module_setModifyInputSize","pluginObj","percentageRotation","_onlyPercentage","checked","_proportionChecked","x","_defaultSizeX","inputX","setInputSize","y","_defaultSizeY","inputY","disabled","setRatio","_module_setInputSize","xy","_ratio","xUnit","sizeUnit","yUnit","dec","_ratioY","_ratioX","_module_setRatio","xValue","yValue","_module_sizeRevert","_module_saveCurrentSize","_videoRatio","call_controller_resize","targetElement","plugin","contextResizing","offset","getOffset","isVertical","Math","abs","offsetHeight","offsetWidth","l","scrollLeft","isComponent","displayX","displayY","changeTxt","_resizing","resizeDotShow","_resizeDotHide","rotations","_rotation","alignList","changeElement","pButtons","_captionShow","getChildElement","_captionChecked","addOffset","offsetLeft","offsetTop","setDisabledButtons","resizingDisabledButtons","originSize","_closeAlignMenu","openAlignMenu","removeDocEvent","addDocEvent","currentContext","contextEl","currentModule","resetTransform","setAutoSize","selectComponent","percentY","percentage","setPercentSize","r","_setTransForm","slope","deg","setTransformSize","alignValue","setAlign","openModify","captionCheckEl","update_image","captionText","_caption","current","nodeType","setOriginSize","transform","transformOrigin","setSize","transOrigin","offsetW","offsetH","cancelPercentAttr","transW","transH","setCaptionPosition","translate","figcaption","marginTop","direction","classList","clientX","clientY","resizeBackground","resizing_element_bind","resizing_element","closureFunc_bind","type","keyCode","change","cancel_controller_resize","resultW","_element_w","resultH","_element_h","wh","round","padding","limit","_styleList","listDiv","setSubmenu","listUl","pickup","initMenuTarget","attrs","_class","defaultList","class","styleList","btn","data","textStyleContext","styleToolbarItem","selectionNode","getSelectionNode","node","v","isFormatElement","hasClass","tagName","firstChild","checkStyles","classes","newNode","removeNodes","nodeChange","submenuOff","component","set_container","set_cover","create_caption","props","closeDelay","Number","fixed","openDelay","openOnHover","transition","String","calculatedMinWidth","closeDependents","computed","calculatedLeft","content","unknown","activatorLeft","attach","activator","parseInt","calcXOverflow","dimensions","calculatedTop","activatorTop","bottom","calcYOverflow","computedTransition","isActive","offsetY","offsetX","styles","opacity","zIndex","activeZIndex","beforeMount","mounted","methods","activate","requestAnimationFrame","deactivate","genActivatorListeners","listeners","genActivatorAttributes","genTransition","$createElement","genContent","setBackgroundColor","staticClass","activatorFixed","directives","isContentActive","ref","render","showLazyContent","delayTime","tool","pushDelay","stackIndex","stack","setContentsFromStack","contents","getNodeFromPath","path","_checkComponents","_setCharCount","_resourcesStateChange","pushStack","getContents","range","_variable","_range","getNodePath","startContainer","startOffset","endContainer","endOffset","delay","time","clearTimeout","go","reset","ignoreChangeEvent","isChanged","_resetCachingButton","_destroy","_constructor","_context","_history","_notice","ownerDocument","defaultView","_parser","DOMParser","_wd","_ww","_shadowRoot","_shadowRootControllerEventTarget","wwComputedStyle","getComputedStyle","notice","initPlugins","_targetPlugins","effectNode","submenu","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","currentControllerTarget","currentFileComponentInfo","codeViewDisabledButtons","_moreLayerActiveButton","_htmlCheckWhitelistRegExp","_disallowedTextTagsRegExp","editorTagsWhitelistRegExp","pasteTagsWhitelistRegExp","hasFocus","isDisabled","_attributesWhitelistRegExp","_attributesTagsWhitelist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_antiBlur","lineBreakerButton","activePlugins","managedTagsInfo","_charTypeHTML","_fileInfoPluginsCheck","_fileInfoPluginsReset","_fileManager","regExp","queryString","pluginRegExp","pluginMap","commandMap","_styleCommandMap","_defaultCommand","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","currentNodesMap","_selectionNode","_originCssText","_bodyOverflow","editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","callBackFunction","_target","moduleArray","moduleName","getGlobalScrollOffset","scrollTop","host","submenuOn","submenuName","_setMenuPosition","containerOn","containerName","_containerName","containerOff","toolbarW","toolbarOffset","event","_getEditorOffsets","menuW","elementW","rtlW","rtlL","overLeft","offsetEl","offsetParent","bt","toolbarTop","menuHeight","menuHeight_bottom","innerHeight","menuTop","insTop","menuHeight_top","arg","arguments","getFileComponent","showController","contains","referEl","topMargin","controllerW","referElW","allow","overSize","_overSize","execCommand","showDefaultUI","nativeFocus","_editorRange","getRange","isWysiwygDiv","currentNode","commonAncestorContainer","format","br","_applyTagEffects","_toggleToolbarBalloon","focusEdge","focusEl","fileComponentInfo","childNodes","blur","startCon","startOff","endCon","endOff","setStart","setEnd","error","console","warn","selection","getSelection","removeAllRanges","addRange","removeRange","OUTDENT","INDENT","_createDefaultRange","collapsed","isCollapsed","focusNode","rangeCount","getRangeAt","sc","anchorNode","ec","so","anchorOffset","eo","focusOffset","compareValue","compareElements","rightDir","ancestor","result","getRange_addLine","_selectionVoid","op","nextElementSibling","extentNode","comm","_resetRangeToTextNode","tempCon","tempOffset","tempChild","lastChild","isBreak","onlyBreak","getFormatElement","getRangeFormatElement","isCell","emptyText","_onlyBreak","previousElementSibling","previousSibling","_format","_emptyText","validation","commonCon","lineNodes","getListChildren","isRangeFormatElement","startLine","endLine","startIdx","endIdx","onlyTable","isTable","startRangeEl","endRangeEl","isListCell","line","sameRange","getSelectedElementsAndComponents","removeDuplicate","myComponent","selectedLines","isEdgePoint","dir","nodeValue","_isEdgeFormat","appendFormatTag","formatNode","currentFormatEl","oFormatName","isFreeFormatElement","copyTagAttributes","insertComponent","notHistoryPush","checkCharCount","notSelect","removeNode","oNode","formatEl","depthFormat","splitElement","getElementDepth","onlyZeroWidthSpace","getEdgeChildNodes","isUneditableComponent","_setComponentLineBreaker","componentTop","wScroll","t_style","b_style","isList","afterNode","freeFormat","getFreeFormatElement","isFormats","isMedia","formatRange","originAfter","splitText","c","isSameContainer","removedTag","prevContainer","sameParent","oldParent","_r","rangeCon","fNode","cItem","isEmptyLine","_setIntoFreeFormat","previous","next","previousText","nextText","newRange","zeroWidth","_isIgnoreNodeChange","oNodeChildren","lastONode","beforeNode","getListChildNodes","startIndex","getArrayIndex","endIndex","startNode","endNode","getArrayItem","child","removeItemAllParents","substringData","rc","applyRangeFormatElement","rangeElement","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","pElement","last","_line","originParent","depth","before","nextLine","nextList","_nested","parentDepth","listParent","lineArr","removeItems","parent","origin","cc","_list","_edge","detachRangeFormatElement","cLen","removeArray","mergeSameTags","mergeNestedTags","splitRange","edge","newRangeElement","firstNode","lastNode","rangeEl","newList","insertedNew","moveComplete","appendNode","insNode","sibling","originNode","insChildren","first","_notTextNode","originNext","detachRange","detachNestedList","fChildren","lineIndex","insNext","inner","innerChildren","copyFormatAttributes","rangeParent","rangeRight","removeEmptyNode","childEdge","detachList","o","lastIndex","rangeArr","listFirst","listLast","passComponent","_edge2","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","isNonEditable","wRegExp","RegExp","newNodeName","sNode","checkCnt","checkAttrs","ckeckClasses","_i6","classReg","styleCheck","classCheck","start","end","styleRegExp","classRegExp","removeNodeRegExp","_s","_i7","_i8","wBoolean","Boolean","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","oneLine","endLength","isRemoveAnchor","arr","n","_isMaintainedNode","_isSizeNode","isSizeNode","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","_nodeChange_oneLine","_setCommonListStyle","_nodeChange_endLine","_newRange","_i9","_nodeChange_middleLine","_nodeChange_startLine","childStyle","elStyle","fontWeight","color","_stripRemoveNode","_isRemove","anchor","newInnerNode","parentCon","z","sameTag","pCurrent","nNodeArray","pNode","isSameNode","startPass","endPass","checkCss","recursionFunc","_i10","_len5","coverNode","prevNode","textNode","a","m","prevAnchorNode","childNode","_anchors","_childNode2","aChildren","_a","aLen","ancestorAnchorNode","_textNode","anchors","afterAnchorNode","_childNode","_i11","textNode_s","textNode_e","rChildren","_i12","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","_endContainer","passNode","cloneChild","isTopNode","_a2","_childNode3","_i13","offsets","tempNode","newCssText","newClass","noneChange","_i14","_len6","_child","_endPath","_i15","_i16","_a3","_childNode4","_i17","actionCall","layer","_showToolbarBalloon","_showToolbarInline","action","commandHandler","_layer","_br","_format2","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","nodesMap","margin","cells","shift","marginDir","setStyle","editInsideList","toggleClass","_setCodeDataToEditor","_hideToolbar","_setEditorDataToCodeView","scrollHeight","refresh","_checkPlaceholder","code_html","_getCodeView","parseDocument","parseFromString","headChildren","head","body","convertContentsForEditor","attributes","_i18","_len7","editableClasses","_i19","codeContents","convertHTMLForCodeView","codeValue","getAttributesToString","outerHTML","_setCodeView","_var","onScroll_window","reduction","_iframeAutoHeight","contentsHTML","printDocument","getIframeDocument","wDoc","arrts","write","links","linkHTML","_i20","_len8","isIE_Edge","documentMode","StyleMedia","contentWindow","windowObject","mimeType","_i21","_len9","setContents","convertValue","_resetComponents","setIframeContents","ctx","onlyContents","renderHTML","figcaptions","_makeLine","requireFormat","_disallowedTags","isAnchor","_HTMLConvertor","textArray","tLen","_allowHTMLComments","_tagConvertor","_deleteDisallowedTags","_cleanTags","rowLevelCheck","tAttr","cleanHTML","_consistencyCheckOfHTML","query","initMethod","textCompList","domTree","_i22","_len10","isTextStyleElement","_i23","_len11","htmlRemoveWhiteSpace","createTagsWhitelist","_i24","_len12","returnHTML","brReg","isFormat","indentSize","lineBR","nodeRegTest","tagIndent","elementRegTest","elementIndent","XMLSerializer","serializeToString","listener","useCapture","removeEventListener","_charCount","inputText","countType","nextCharCount","getCharLength","over","count","getCharCount","slicePosition","_callCounterBlink","getByteLength","getDoc","setValue","getValue","_init","reload","_initHTML","ShadowRoot","shadowRoot","disallowTextTags","allowTextTags","defaultAttr","regEndStr","_attr","tagsAttr","allAttr","k","_cachingButtons","managedClass","filePluginRegExp","checkFileInfo","resetFileInfo","fileTags","_onChange_historyStack","contentDocument","_iframeAuto","_initWysiwygArea","SUB","SUP","toUpperCase","onChange","_allowedEmptyNodeList","_setDefaultFormat","formatName","fileComponent","_setOptionsInit","_getConstructed","_editorInit","_addEvent","_offStickyToolbar","onResize_window","onload","_IEisComposing","lineBreakerBind","_responsiveCurrentSize","_responsiveButtonSize","_directionKeyCode","_nonTextKeyCode","$historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","65","66","83","85","73","89","90","219","221","_shortcutCommand","keyStr","classOnCheck","commandMapNodes","_cancelCaptionEdit","_buttonsEventHandler","onClick_toolbar","onMouseDown_wysiwyg","onMouseDown","tableCell","tablePlugin","_fixedCell","_shift","onTableCellMultiSelect","onClick_wysiwyg","onClick","hideToolbar","prevLi","_balloonDelay","_showToolbarBalloonDelay","rangeObj","isDirTop","rects","getClientRects","globalScroll","editorWidth","stickyTop","editorLeft","nodeOffset","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","editorParent","absoluteLeft","overRight","resetTop","space","_getPageBottomSpace","documentElement","floor","arrow_left","showInline","onInput_wysiwyg","onInput","_isUneditableNode","isFront","siblingNode","siblingKey","isElement","_isUneditableNode_getSibling","selectNode","_onShortcutKey","onKeyDown_wysiwyg","shiftKey","ctrl","ctrlKey","metaKey","altKey","onKeyDown","selectRange","fileComponentName","_hardDelete","isClosureFreeFormatElement","isClosureRangeFormatElement","defaultFormat","prev","_prev","prevLast","con","_offset","after","detach","sel","_prev2","ignoreZWS","nextEl","cell","_fileComponentInfo","_sel","_next","_con","_children","_child2","isEdge","lines","fc","lc","_cells","idx","prevIdx","nextIdx","moveCell","_len14","_i26","_child4","_firstChild","_endChild","tabText","textRange","_child3","_len13","_i25","endChild","freeFormatEl","enterHTML","formatInners","temp","newFormat","innerNode","selectionFormat","wSelection","_children2","_offset2","_prev3","_next2","newEl","insertHTML","wOffset","focusNext","brPrev","brNext","_newEl","_br2","_newEl2","newListCell","_newFormat","compContext","_newEl3","_ref","_cell","nbsp","textKey","onKeyUp_wysiwyg","onKeyUp","oFormatTag","zeroWidthRegExp","isComposing","frontZeroWidthCnt","substring","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onFocus","onBlur_wysiwyg","onBlur","onMouseDown_resizingBar","prevHeight","closureFunc","_resize_editor","onResizeEditor","resizeInterval","responsiveSize","responsiveWidth","setToolbarButtons","area","editorHeight","scrollY","editorTop","inlineOffset","_onStickyToolbar","scroll","_codeViewAutoHeight","sCell","eCell","sIsCell","eIsCell","sComp","eComp","onPaste_wysiwyg","clipboardData","isIE","_dataTransferAction","_setClipboardComponent","setData","onCopy_wysiwyg","onCopy","onCut_wysiwyg","onCut","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","rangeOffset","caretRangeFromPoint","_r2","plainText","cleanData","getData","tempDiv","tempRange","_setClipboardData","MSData","onlyText","onPaste","onDrop","_value","files","insertImage","onMouseMove_wysiwyg","lineBreakerStyle","ctxEl","pageY","_onMouseDown_lineBreak","_onLineBreak","eventWysiwyg","passive","_setResponsiveToolbar","_removeEvent","sizeArray","buttonsObj","sort","imageUploadHandler","videoUploadHandler","audioUploadHandler","onImageUploadBefore","onVideoUploadBefore","onAudioUploadBefore","onImageUpload","onVideoUpload","onAudioUpload","onImageUploadError","onVideoUploadError","onAudioUploadError","newToolbar","newContext","oldButton","oldCallButtons","setOptions","_options","val","cons","_setIframeDocument","setDefaultStyle","newStyles","noticeClose","getContext","getText","getImagesInfo","getFilesInfo","notCleaningData","rangeSelection","firstCon","checkHTML","appendContents","setOption","enabled","show","topAreaStyle","hide","modalForm","_k","_k2","_k3","_k4","_k5","originEl","topEl","provide","form","inheritAttrs","lazyValidation","readonly","inputs","watchers","errorBag","watch","handler","errors","deep","immediate","watchInput","watcher","input","_uid","valid","shouldValidate","validate","resetErrorBag","resetValidation","register","unregister","found","find","unwatch","novalidate","attrs$","$slots","_core","init_options","create","idOrElement","_init_options","_propertiesInit","getElementById","_sizeList","currentSize","sizeList","lineHeightContext","targetText","icon","unit","sizeIcon","fontSizeContext","baseMixins","ripple","proxyClass","groupClasses","to","$router","resolve","click","href","$el","role","tabindex","keydown","templateDiv","templateList","contextTable","_tdElement","_trElement","_trElements","_tableXY","_maxWidth","_fixedColumn","_rtl","cellControllerTop","resizeText","headerButton","mergeButton","splitButton","splitMenu","maxText","minText","_physical_cellCnt","_logical_cellCnt","_rowCnt","_rowIndex","_physical_cellIndex","_logical_cellIndex","_current_colSpan","_current_rowSpan","tablePicker","tableHighlight","tableUnHighlight","tableDisplay","tableController","setController_table","columnFixedButton","setController_tableEditor","insertRowAboveButton","insertRowBelowButton","onMouseMove_tablePicker","appendTable","onClick_tableController","tableResize","fixed_column_width","table_header","insert_row_above","insert_row_below","delete_row","merge_cell","insert_column_left","insert_column_right","delete_column","split_cell","oTable","createCells","tableHTML","changed","firstTd","reset_table_picker","cnt","returnElement","cellsHTML","ceil","highlight","unHighlight","_removeEvents","_selectedTable","selectedCells","_toggleEditor","_selectedCells","_selectedCell","_fixedCellName","call_controller_tableEdit","tdElement","tableElement","tableLayout","setTableStyle","setPositionControllerTop","setPositionControllerDiv","setCellInfo","rows","cellIndex","cellCnt","colSpan","rowIndex","rowSpan","rowSpanArr","spanIndex","cs","rs","logcalIndex","row","editTable","isRow","tableAttr","positionCell","editRow","removeCells","firstRow","rightCell","editCell","_removeCells","positionResetElement","up","originRowIndex","sign","_cell2","spanCells","spanCell","_cell3","_logcalIndex","newRow","insertRow","insertIndex","newCell","applySpan","cellColSpan","passCell","removeCell","removeSpanArr","removeIndex","_arr","lastCell","getOverlapRangeAtIndex","removeFirst","removeEnd","_row","rLen","rowSpanCell","_c","_cLen","_closeSplitMenu","openSplitMenu","currentCell","currentRow","currentColSpan","currentRowSpan","_cells2","_colSpan","newRowSpan","_rowSpanArr","nextRowIndex","_cell4","_cs","_logcalIndex2","_c2","_cLen2","_cell5","_cs2","_logcalIndex3","nextRow","nextCells","_rs","_c3","_cLen3","_colSpan2","_cells4","_c4","_cLen4","physicalIndex","_cells3","_c5","_cLen5","ch","mergeCell","emptyRowFirst","emptyRowLast","ce","re","mergeHTML","rowIndexFirst","rowIndexLast","removeRows","_cell6","_rs2","_c6","_cLen6","setActiveButton","toggleHeader","span","fixedCell","selectedCell","_bindOnSelect","_bindOffSelect","_bindOffShift","_offCellMultiSelect","_initBind","_onCellMultiSelect","_setMultiCells","startCell","endCell","findSelectedCell","newCs","newCe","newRs","newRe","emptyDiv","BaseSlideGroup","Resize","Touch","activeClass","centerActive","nextIcon","prevIcon","showArrows","validator","internalItemsLength","isOverflowing","resizeTimeout","startX","scrollOffset","widths","__cachedNext","__cachedPrev","hasAffixes","isMobile","hasNext","hasPrev","internalValue","beforeUpdate","$children","updated","genNext","slot","$scopedSlots","genData","onResize","genIcon","$vuetify","location","upperLocation","hasAffix","genPrev","genWrapper","move","calculateNewOffset","newAbosluteOffset","onAffixClick","onTouchStart","onTouchMove","onTouchEnd","maxScrollOffset","overflowCheck","fn","items","lastItemPosition","wrapperPosition","$refs","selectedIndex","calculateCenteredOffset","selectedItem","calculateUpdatedOffset","selectedElement","currentScrollOffset","totalWidth","itemOffset","additionalOffset","offsetCentered","scrollTo","setWidths","slideGroup","targetTooltip","_formatList","currentFormat","pickUp","lang_toolbar","defaultFormats","formatList","formatTitle","formatContext","_this","selectedFormsts","firstPath","lastPath","rlist","modifiedFormsts","isComp","freeElement","_first","isSameAttributes","_fontList","currentFont","fontList","tooltip","fontFamily","selectFont","fontElement","fontContext","notice_div","notice_span","notice_button","onClick_cancel","_component","contextAudio","targetSelect","_linkValue","audio_dialog","audioInputFile","audioUrlFile","audio_controller","setController","_removeSelectedFiles","_fileInputChange","onClick_controller","_onLinkPreview","link_btn","textDecoration","urlInput","_createAudioTag","oAudio","_setTagAttrs","protocol","updateCover","setupUrl","fileList","fileSize","limitSize","infoSize","audiosInfo","uploadSize","isUpdate","response","filesLen","FormData","append","callBack_upload","create_audio","existElement","prevElement","selectionTag","onControllerOff","notOpen","_anchor","contextLink","_linkAnchor","anchorCtx","link_dialog","link_controller","setController_LinkButton","linkController","onClick_linkController","initEvent","caller","forms","oA","createAnchor","selectionATag","editLink","linkAnchor","linkBtn","get","_ckb","_da","_de","_es","_fr","_he","_it","_ja","_ko","_lv","_pl","_pt_br","_ro","_ru","_se","_ua","_zh_cn","ckb","da","de","en","es","fr","he","it","ja","ko","lv","pl","pt_br","ro","ru","se","ua","zh_cn","contextImage","_linkElement","_align","_floatClassRegExp","_v_src","svgDefaultSize","base64RenderIndex","_element_l","_element_t","image_dialog","imgInputFile","imgUrlFile","previewSrc","openTab","imageGalleryButton","_openGallery","sizeRevert","onlyPercentage","onlyPercentDisplay","heightDisplay","_setUrlInput","imageEl","imageContainer","tabContent","tabLinks","tabName","contentClassName","getElementsByClassName","imagePlugin","onRender_imgUrl","imagesInfo","inputWidth","inputHeight","callBack_imgUpload","setup_reader","update_src","wFileReader","FileReader","filesStack","reader","updateElement","onRender_imgBase64","readAsDataURL","updateMethod","createMethod","onRender_link","imgTag","textAlign","linkValue","oImg","_image_create_onload","openController","changeSize","isNewContainer","modifiedCaption","imageElement","setCtx","userSize","notResetPercentage","onlyW","onlyH","heightPercentage","targetButton","_alignList","currentAlign","defaultDir","justify","leftDir","leftMenu","rightMenu","alignContext","_blockquote","_font","_fontSize","_fontColor","_hiliteColor","_horizontalRule","_table","_formatBlock","_lineHeight","_template","_paragraphStyle","_textStyle","_link","_image","_video","_audio","_math","_imageGallery","_util2","kind","_closeSignal","dialog_div","dialog_back","dialog_area","modalArea","back","_onMouseDown_dialog","_onClick_dialog","_bindClose","contextDialog","windowGroup","continuous","mandatory","showArrowsOnHover","touch","touchless","required","changedByDelimiters","internalHeight","transitionHeight","transitionCount","isBooted","isReverse","axis","internalReverse","hasActiveItems","internalIndex","findIndex","updateReverse","genContainer","VBtn","VIcon","large","genControlIcons","getNextIndex","nextIndex","getPrevIndex","prevIndex","itemsLength","oldVal","isDark","contextVideo","_youtubeQuery","_defaultRatio","video_dialog","videoInputFile","videoUrlFile","videoRatioOption","setVideoRatio","ratioList","ratioDisplay","onlyWidthDisplay","createVideoTag","videoTag","_setIframeAttrs","createIframeTag","iframeTag","setVideoRatioSelect","videoPlugin","setup_url","videosInfo","callBack_videoUpload","create_video","oIframe","splitUrl","endsWith","lastIndexOf","oFrame","isYoutube","isVimeo","_newTag","newTag","inputUpdate","isPercent","_update_videoCover","prevFrame","ratioSelected","ratioOptions","selected","dataSize","$context","_vm","_h","_self","_v","$t","staticStyle","model","callback","$$v","currentTab","expression","_l","ind","missingKeys","rawName","$set","scopedSlots","_u","_g","_b","editorRequirements","includes","selects","users","rules","email","userToSendEmailTo","$event","sendEmailToUser","staticRenderFns","extend","requiredRule","kothingConfig","editor_en","editor_ro","editor_ru","languages","flags","subjects","errorMessages","beforeRouteEnter","from","API","emailTemplates","getForEdit","params","getVariables","variables","getList","usersList","vm","getEditorsRequirements","store","dispatch","createEditor","setEditorsContent","passedValidation","setNewEditorContent","$route","$store","hasOwnProperty","language","getters","pattern","passed","form1","$API","sendEmail","sheet","VCard","VCardActions","VCardText","VCol","VForm","VImg","VListItemContent","VList","VListItemSubtitle","VListItemTitle","VRow","VSelect","VSpacer","VTab","VTabs","VTextField","VTooltip","_colorPicker","previewEl","colorInput","onChangeInput","colorArea","colorPicker","colorListHTML","contextPicker","contextFontColor","_colorInput","_defaultColor","isHexColor","rgb2hex","_styleProperty","_colorList","setCurrentColor","applyColor","_currentColor","createColorList","_makeColorList","makeColor","colorArr","fillColor","getColorInNode","setInputText","colorName2hex","hexColorStr","borderColor","findColor","styleProperty","str","rgb","rgbMatch","colorName","colors","handleGesture","touchendY","dirRatio","minDistance","touchendX","touchstartX","touchstartY","createHandlers","touchmoveX","touchmoveY","down","touchstart","touchend","touchmove","inserted","binding","handlers","vnode","eventName","unbind","_classList","menuLang","paragraphContext","paragraphList","chipGroup","closeIcon","closeLabel","draggable","filterIcon","label","outlined","pill","textColor","hasClose","isClickable","created","breakingProps","original","replacement","genFilter","genClose","setTextColor","_selectMenu","setDialogForm","pathname","callerContext","relList","defaultRel","selectMenu","setForm","download","rel","anchorPlugin","linkDefaultRel","currentRel","_change","callerName","check_new_window","check_bookmark","anchorText","downloadCheck","bookmarkButton","listContext","relButton","relPreview","onClick_relButton","onClick_relList","onChange_newWindowCheck","onChange_downloadCheck","onChangeAnchorText","onChangeUrlInput","onKeyDownUrlInput","onFocusUrlInput","onBlurUrlInput","onClick_bookmarkButton","contextAnchor","setRel","setLinkPreview","setHeaderBookmark","_closeRelMenu","toggleRelList","relAttr","relListEl","rels","checkedRel","createHeaderList","contextList","urlValue","headers","valueRegExp","createList","_setMenuListPosition","moveItem","getItem","random","reservedProtocol","sameProtocol","updateAnchor","notText","_relMerge","_relDelete","exactRule","number","selectValidation","minLengthRule","maxLengthRule","field","isSelect","mixSelect","minNumberRule","maxNumberRule","emailRule","emailValidation","minCountRule","websiteRule","phoneRule","uniqueRule","array","itemValue","isEqualStringRule","string","locales","website","minCount","phone","minNumber","maxNumber","min","max","exact","unique","isEqualString","contextHiliteColor","backgroundColor","currentHR","horizontalRulePick","appendHr","oHr","tagArea","tagElements","selectedTags","browser_div","set_browser","titleArea","onClickTag","onClickFile","_onMouseDown_browser","_onClick_browser","fileBrowserContext","pluginContext","listClassName","_drawFileList","fileBrowserPlugin","abort","showBrowserLoading","closeBrowserLoading","browserHeader","_callBackGet","_drawListItem","_tags","splitSize","drawItemHandler","tagsHTML","listHTML","columns","selectTag","sTagIndex","some","listEl","mobileBreakpoint","breakpoint","isNaN","mobile","mobileWidth","$attrs","currentBlockquote","navigator","userAgent","appVersion","platform","fromCharCode","onlyZeroWidthRegExp","ActiveXObject","XMLHttpRequest","e1","elementName","_hasOwn","getIncludePath","nameArray","extension","pathList","fileName","extRegExp","editorTag","getPageStyle","sheets","styleSheets","cssRules","wDocument","exceptAttrs","attrString","cr","cl","encoder","encodeURIComponent","unescape","TextEncoder","encode","isNotCheckingNode","getClosureFreeFormatElement","copyEl","multi","getPositionIndex","_newOffsets","finds","tempText","nodes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","maxDec","toFixed","aNode","bNode","aIndex","bIndex","check","attr","childList","offsetElement","aStart","aEnd","bStart","bEnd","overlap","txt","newElement","styleName","stopParent","baseNode","all","cNodes","rNode","_deleteNestedList","liSibling","liParent","baseParent","bp","depthEl","nodePathArray","inst","nodePathLen","apply","valueOf","depthIndex","cDepth","spliceDepth","childs","childLength","_n","nLen","textOffset","tempL","_path","_n2","_path2","_n3","notRemoveNode","sortByDepth","des","documentFragment","htmlCheckWhitelistRegExp","removeTags","emptyTags","wrongList","withoutFormatCells","wrongTags","nrtag","fel","checkTags","_t","_t2","tp","_p","_t3","optionStyle","styleArr","_setIframeCssTags","linkNames","tagString","styleTag","CSSFileName","menus","clickMethod","onMousedown_list","onMouseMove_list","onClick_list","num","selectIndex","positionHandler","currentList","bullets","list_bullets","editList","firstSel","lastSel","bottomEl","originRange","isRemove","topElParent","bottomElParent","fTag","nextParent","parentTag","siblingTag","rangeTag","mergeTop","mergeBottom","firstList","topNumber","_passComponent","isHR","tempList","_detachNested","originList","cellsLen","innerList","nodePath","sl","_insiedList","insertPrev","slPath","more_text","more_paragraph","more_plus","more_horizontal","more_vertical","attachment","magic_stick","empty_file","mixins","tabsBar","themeClasses","callSlider","onRouteChange","newPath","oldPath","hasNew","hasOld","alignWithTitle","centered","fixedTabs","grow","hideSlider","iconsAndText","optional","sliderColor","sliderSize","slider","transitionTime","isReversed","sliderStyles","computedColor","selectedItems","activeTab","scrollWidth","genBar","dark","light","VTabsBar","genSlider","genItems","VTabsItems","VTabsSlider","parseNodes","tab","modifiers","quiet"],"mappings":"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","file":"js/branches/edit6.6ccbb30a.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ckb\",\n    toolbar: {\n      default: \"بنه‌ڕه‌ت\",\n      save: \"پاشه‌كه‌وتكردن\",\n      font: \"فۆنت\",\n      formats: \"Formats\",\n      fontSize: \"قه‌باره‌\",\n      bold: \"تۆخكردن\",\n      underline: \"هێڵ به‌ژێردا بێنه‌\",\n      italic: \"لار\",\n      strike: \"هێڵ به‌ناودا بێنه‌\",\n      subscript: \"ژێرسکریپت\",\n      superscript: \"سەرنووس\",\n      removeFormat: \"لابردنی فۆرمات\",\n      fontColor: \"ره‌نگی فۆنت\",\n      hiliteColor: \"ره‌نگی دیاركراو\",\n      indent: \"بۆشایی بەجێهێشتن\",\n      outdent: \"لابردنی بۆشایی\",\n      align: \"ئاراسته‌\",\n      alignLeft: \"لای چه‌پ\",\n      alignRight: \"لای راست\",\n      alignCenter: \"ناوه‌ند\",\n      alignJustify: \"به‌رێكی دابه‌ش بكه‌\",\n      list: \"لیست\",\n      orderList: \"لیستی ریزكراو\",\n      unorderList: \"لیستی ریزنه‌كراو\",\n      horizontalRule: \"هێڵی ئاسۆیی\",\n      hr_solid: \"پته‌و\",\n      hr_dotted: \"نوكته‌ نوكته‌\",\n      hr_dashed: \"داش داش\",\n      table: \"خشته‌\",\n      link: \"به‌سته‌ر\",\n      math: \"بیركاری\",\n      image: \"وێنه‌\",\n      video: \"ڤیدیۆ\",\n      audio: \"ده‌نگ\",\n      fullScreen: \"پڕ به‌ شاشه‌\",\n      showBlocks: \"بڵۆك نیشانبده\",\n      codeView: \"بینینی كۆده‌كان\",\n      undo: \"وەک خۆی لێ بکەوە\",\n      redo: \"هەڵگەڕاندنەوە\",\n      preview: \"پێشبینین\",\n      print: \"پرینت\",\n      tag_p: \"په‌ره‌گراف\",\n      tag_div: \"ی ئاسایی (DIV)\",\n      tag_h: \"سەرپەڕە\",\n      tag_blockquote: \"ده‌ق\",\n      tag_pre: \"كۆد\",\n      template: \"قاڵب\",\n      lineHeight: \"بڵندی دێر\",\n      paragraphStyle: \"ستایلی په‌ره‌گراف\",\n      textStyle: \"ستایلی نوسین\",\n      imageGallery: \"گاله‌ری وێنه‌كان\",\n      mention: \"تنويه ب\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"به‌سته‌ر دابنێ\",\n        url: \"به‌سته‌ر\",\n        text: \"تێكستی به‌سته‌ر\",\n        newWindowCheck: \"له‌ په‌نجه‌ره‌یه‌كی نوێ بكه‌ره‌وه‌\",\n        downloadLinkCheck: \"رابط التحميل\",\n        bookmark: \"المرجعية\"\n      },\n      mathBox: {\n        title: \"بیركاری\",\n        inputLabel: \"نیشانه‌كانی بیركاری\",\n        fontSizeLabel: \"قه‌باره‌ی فۆنت\",\n        previewLabel: \"پێشبینین\"\n      },\n      imageBox: {\n        title: \"وێنه‌یه‌ك دابنێ\",\n        file: \"فایلێك هه‌ڵبژێره‌\",\n        url: \"به‌سته‌ری وێنه‌\",\n        altText: \"نوسینی جێگره‌وه‌\"\n      },\n      videoBox: {\n        title: \"ڤیدیۆیه‌ك دابنێ\",\n        file: \"فایلێك هه‌ڵبژێره‌\",\n        url: \"YouTube/Vimeo به‌سته‌ری له‌ناودانان وه‌ك \"\n      },\n      audioBox: {\n        title: \"ده‌نگێك دابنێ\",\n        file: \"فایلێك هه‌ڵبژێره‌\",\n        url: \"به‌سته‌ری ده‌نگ\"\n      },\n      browser: {\n        tags: \"تاگه‌كان\",\n        search: \"گه‌ران\"\n      },\n      caption: \"پێناسه‌یه‌ك دابنێ\",\n      close: \"داخستن\",\n      submitButton: \"ناردن\",\n      revertButton: \"بیگەڕێنەوە سەر باری سەرەتایی\",\n      proportion: \"رێژه‌كان وه‌ك خۆی بهێڵه‌وه‌\",\n      basic: \"سه‌ره‌تایی\",\n      left: \"چه‌پ\",\n      right: \"راست\",\n      center: \"ناوەڕاست\",\n      width: \"پانی\",\n      height: \"به‌رزی\",\n      size: \"قه‌باره‌\",\n      ratio: \"رێژه‌\"\n    },\n    controller: {\n      edit: \"دەسکاریکردن\",\n      unlink: \"سڕینەوەی بەستەر\",\n      remove: \"سڕینه‌وه‌\",\n      insertRowAbove: \"ریزك له‌ سه‌ره‌وه‌ زیادبكه‌\",\n      insertRowBelow: \"ریزێك له‌ خواره‌وه‌ زیادبكه‌\",\n      deleteRow: \"ریز بسره‌وه‌\",\n      insertColumnBefore: \"ستونێك له‌ پێشه‌وه‌ زیادبكه‌\",\n      insertColumnAfter: \"ستونێك له‌ دواوه‌ زیادبكه‌\",\n      deleteColumn: \"ستونێك بسره‌وه‌\",\n      fixedColumnWidth: \"پانی ستون نه‌گۆربكه‌\",\n      resize100: \"قه‌باره‌ بگۆره‌ بۆ ١٠٠%\",\n      resize75: \"قه‌باره‌ بگۆره‌ بۆ ٧٥%\",\n      resize50: \"قه‌باره‌ بگۆره‌ بۆ ٥٠%\",\n      resize25: \"قه‌باره‌ بگۆره‌ بۆ ٢٥%\",\n      autoSize: \"قه‌باره‌ی خۆكارانه‌\",\n      mirrorHorizontal: \"هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ئاسۆیی\",\n      mirrorVertical: \"هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ستونی\",\n      rotateLeft: \"بسوڕێنه‌ به‌لای چه‌پدا\",\n      rotateRight: \"بسورێنه‌ به‌لای راستدا\",\n      maxSize: \"گه‌وره‌ترین قه‌باره‌\",\n      minSize: \"بچوكترین قه‌باره‌\",\n      tableHeader: \"سه‌ردێری خشته‌ك\",\n      mergeCells: \"خانه‌كان تێكه‌ڵبكه‌\",\n      splitCells: \"خانه‌كان لێك جیابكه‌وه‌\",\n      HorizontalSplit: \"جیاكردنه‌وه‌ی ئاسۆیی\",\n      VerticalSplit: \"جیاكردنه‌وه‌ی ستونی\"\n    },\n    menu: {\n      spaced: \"بۆشای هه‌بێت\",\n      bordered: \"لێواری هه‌بێت\",\n      neon: \"نیۆن\",\n      translucent: \"كه‌مێك وه‌ك شووشه‌\",\n      shadow: \"سێبه‌ر\",\n      code: \"كۆد\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ckb\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"math\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default]);\n    var context = core.context;\n    context.math = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      previewElement: null,\n      fontSizeElement: null,\n      defaultFontSize: \"\",\n      _mathExp: null\n    };\n    /** math dialog */\n\n    var math_dialog = this.setDialog(core);\n    context.math.modal = math_dialog;\n    context.math.focusElement = math_dialog.querySelector(\".ke-math-exp\");\n    context.math.previewElement = math_dialog.querySelector(\".ke-math-preview\");\n    context.math.fontSizeElement = math_dialog.querySelector(\".ke-math-size\");\n    context.math.focusElement.addEventListener(\"keyup\", this._renderMathExp.bind(core, context.math), false);\n    context.math.focusElement.addEventListener(\"change\", this._renderMathExp.bind(core, context.math), false);\n    context.math.fontSizeElement.addEventListener(\"change\", function (e) {\n      this.fontSize = e.target.value;\n    }.bind(context.math.previewElement.style), false);\n    /** math controller */\n\n    var math_controller = this.setController_MathButton(core);\n    context.math.mathController = math_controller;\n    context.math._mathExp = null;\n    /** add event listeners */\n\n    math_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core), false);\n    math_controller.addEventListener(\"click\", this.onClick_mathController.bind(core));\n    context.math.previewElement.style.fontSize = context.math.defaultFontSize;\n    /** append html */\n\n    context.dialog.modal.appendChild(math_dialog);\n    context.element.relative.appendChild(math_controller);\n    /** empty memory */\n\n    math_dialog = null, math_controller = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    var fontSize = core.options.mathFontSize;\n    var defaultFontSize = fontSize[0].value;\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + \"<form>\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.mathBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">' + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"ke-input-form ke-math-exp\" type=\"text\"></textarea>' + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.fontSizeLabel + \"</label>\" + '<select class=\"ke-input-select ke-math-size\">';\n\n    for (var i = 0, len = fontSize.length, f; i < len; i++) {\n      f = fontSize[i];\n\n      if (f.default) {\n        defaultFontSize = f.value;\n      }\n\n      html += '<option value=\"' + f.value + '\"' + (f.default ? \" selected\" : \"\") + \">\" + f.text + \"</option>\";\n    }\n\n    html += \"</select>\" + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.previewLabel + \"</label>\" + '<p class=\"ke-math-preview\"></p>' + \"</div>\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    core.context.math.defaultFontSize = defaultFontSize;\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** modify controller button */\n  setController_MathButton: function setController_MathButton(core) {\n    var lang = core.lang;\n    var math_btn = core.util.createElement(\"DIV\");\n    math_btn.className = \"ke-controller ke-controller-link\";\n    math_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + core.icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + core.icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\" + \"\";\n    return math_btn;\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"math\", \"math\" === this.currentControllerName);\n  },\n\n  /**\r\n   * @Override core - managedTagsInfo\r\n   */\n  managedTags: function managedTags() {\n    return {\n      className: \"katex\",\n      method: function method(element) {\n        if (!element.getAttribute(\"data-exp\") || !this.options.katex) {\n          return;\n        }\n\n        var dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute(\"data-exp\"))));\n\n        element.innerHTML = dom.querySelector(\".katex\").innerHTML;\n      }\n    };\n  },\n  _renderer: function _renderer(exp) {\n    var katex = this.options.katex;\n    return katex.src.renderToString(exp, katex.options);\n  },\n  _renderMathExp: function _renderMathExp(contextMath, e) {\n    contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n  },\n  submit: function submit(e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    var submitAction = function () {\n      if (this.context.math.focusElement.value.trim().length === 0) {\n        return false;\n      }\n\n      var contextMath = this.context.math;\n      var mathExp = contextMath.focusElement.value;\n      var katexEl = contextMath.previewElement.querySelector(\".katex\");\n\n      if (!katexEl) {\n        return false;\n      }\n\n      katexEl.className = \"__ke__katex \" + katexEl.className;\n      katexEl.setAttribute(\"contenteditable\", false);\n      katexEl.setAttribute(\"data-exp\", this.util.HTMLEncoder(mathExp));\n      katexEl.setAttribute(\"data-font-size\", contextMath.fontSizeElement.value);\n      katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n      if (!this.context.dialog.updateModal) {\n        var selectedFormats = this.getSelectedElements();\n\n        if (selectedFormats.length > 1) {\n          var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(katexEl);\n\n          if (!this.insertNode(oFormat, null, true)) {\n            return false;\n          }\n        } else {\n          if (!this.insertNode(katexEl, null, true)) {\n            return false;\n          }\n        }\n\n        var empty = this.util.createTextNode(this.util.zeroWidthSpace);\n        katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n        this.setRange(katexEl, 0, katexEl, 1);\n      } else {\n        var containerEl = this.util.getParentElement(contextMath._mathExp, \".katex\");\n        containerEl.parentNode.replaceChild(katexEl, containerEl);\n        this.setRange(katexEl, 0, katexEl, 1);\n      }\n\n      contextMath.focusElement.value = \"\";\n      contextMath.fontSizeElement.value = \"1em\";\n      contextMath.previewElement.style.fontSize = \"1em\";\n      contextMath.previewElement.innerHTML = \"\";\n      return true;\n    }.bind(this);\n\n    try {\n      if (submitAction()) {\n        this.plugins.dialog.close.call(this); // history stack\n\n        this.history.push(false);\n      }\n    } catch (e) {\n      this.plugins.dialog.close.call(this);\n    } finally {\n      this.closeLoading();\n    }\n\n    return false;\n  },\n  active: function active(element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n        this.controllersOff();\n      }\n    } else if (element.getAttribute(\"data-exp\")) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n        this.setRange(element, 0, element, 1);\n        this.plugins.math.call_controller.call(this, element);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  on: function on(update) {\n    if (!update) {\n      this.plugins.math.init.call(this);\n    } else {\n      var contextMath = this.context.math;\n\n      if (contextMath._mathExp) {\n        var exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute(\"data-exp\"));\n        var fontSize = contextMath._mathExp.getAttribute(\"data-font-size\") || \"1em\";\n        this.context.dialog.updateModal = true;\n        contextMath.focusElement.value = exp;\n        contextMath.fontSizeElement.value = fontSize;\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n        contextMath.previewElement.style.fontSize = fontSize;\n      }\n    }\n  },\n  call_controller: function call_controller(mathTag) {\n    this.context.math._mathExp = mathTag;\n    var mathBtn = this.context.math.mathController;\n    this.setControllerPosition(mathBtn, mathTag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(mathBtn, mathTag, \"math\");\n  },\n  onClick_mathController: function onClick_mathController(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\") || e.target.parentNode.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute(\"data-exp\"));\n      this.plugins.dialog.open.call(this, \"math\", true);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.math._mathExp);\n      this.context.math._mathExp = null;\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n\n    this.controllersOff();\n  },\n  init: function init() {\n    var contextMath = this.context.math;\n    contextMath.mathController.style.display = \"none\";\n    contextMath._mathExp = null;\n    contextMath.focusElement.value = \"\";\n    contextMath.previewElement.innerHTML = \"\";\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"lv\",\n    toolbar: {\n      default: \"Noklusējuma\",\n      save: \"Saglabāt\",\n      font: \"Fonts\",\n      formats: \"Formāti\",\n      fontSize: \"Fonta lielums\",\n      bold: \"Treknraksts\",\n      underline: \"Pasvītrot\",\n      italic: \"Slīpraksts\",\n      strike: \"Pārsvītrojums\",\n      subscript: \"Apakšraksts\",\n      superscript: \"Augšraksts\",\n      removeFormat: \"Noņemt formātu\",\n      fontColor: \"Fonta krāsa\",\n      hiliteColor: \"Teksta iezīmēšanas krāsa\",\n      indent: \"Palielināt atkāpi\",\n      outdent: \"Samazināt atkāpi\",\n      align: \"Izlīdzināt\",\n      alignLeft: \"Līdzināt pa kreisi\",\n      alignRight: \"Līdzināt pa labi\",\n      alignCenter: \"Centrēt\",\n      alignJustify: \"Taisnot\",\n      list: \"Saraksts\",\n      orderList: \"Numerācija\",\n      unorderList: \"Aizzimes\",\n      horizontalRule: \"Horizontāla līnija\",\n      hr_solid: \"Ciets\",\n      hr_dotted: \"Punktiņš\",\n      hr_dashed: \"Braša\",\n      table: \"Tabula\",\n      link: \"Saite\",\n      math: \"Matemātika\",\n      image: \"Attēls\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Pilnekrāna režīms\",\n      showBlocks: \"Parādit blokus\",\n      codeView: \"Koda skats\",\n      undo: \"Atsaukt\",\n      redo: \"Atkārtot\",\n      preview: \"Priekšskatījums\",\n      print: \"Drukāt\",\n      tag_p: \"Paragrāfs\",\n      tag_div: \"Normāli (DIV)\",\n      tag_h: \"Galvene\",\n      tag_blockquote: \"Citāts\",\n      tag_pre: \"Kods\",\n      template: \"Veidne\",\n      lineHeight: \"Līnijas augstums\",\n      paragraphStyle: \"Paragrāfa stils\",\n      textStyle: \"Teksta stils\",\n      imageGallery: \"Attēlu galerija\",\n      mention: \"Pieminēt\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Ievietot saiti\",\n        url: \"Saites URL\",\n        text: \"Parādāmais teksts\",\n        newWindowCheck: \"Atvērt jaunā logā\",\n        downloadLinkCheck: \"Lejupielādes saite\",\n        bookmark: \"Grāmatzīme\"\n      },\n      mathBox: {\n        title: \"Matemātika\",\n        inputLabel: \"Matemātiskā notācija\",\n        fontSizeLabel: \"Fonta lielums\",\n        previewLabel: \"Priekšskatījums\"\n      },\n      imageBox: {\n        title: \"Ievietot attēlu\",\n        file: \"Izvēlieties no failiem\",\n        url: \"Attēla URL\",\n        altText: \"Alternatīvs teksts\"\n      },\n      videoBox: {\n        title: \"Ievietot video\",\n        file: \"Izvēlieties no failiem\",\n        url: \"Multivides iegulšanas URL, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Ievietot audio\",\n        file: \"Izvēlieties no failiem\",\n        url: \"Audio URL\"\n      },\n      browser: {\n        tags: \"Tagi\",\n        search: \"Meklēt\"\n      },\n      caption: \"Ievietot aprakstu\",\n      close: \"Aizvērt\",\n      submitButton: \"Iesniegt\",\n      revertButton: \"Atjaunot\",\n      proportion: \"Ierobežo proporcijas\",\n      basic: \"Nav iesaiņojuma\",\n      left: \"Pa kreisi\",\n      right: \"Labajā pusē\",\n      center: \"Centrs\",\n      width: \"Platums\",\n      height: \"Augstums\",\n      size: \"Izmērs\",\n      ratio: \"Attiecība\"\n    },\n    controller: {\n      edit: \"Rediģēt\",\n      unlink: \"Atsaistīt\",\n      remove: \"Noņemt\",\n      insertRowAbove: \"Ievietot rindu virs\",\n      insertRowBelow: \"Ievietot rindu zemāk\",\n      deleteRow: \"Dzēst rindu\",\n      insertColumnBefore: \"Ievietot kolonnu pirms\",\n      insertColumnAfter: \"Ievietot kolonnu aiz\",\n      deleteColumn: \"Dzēst kolonnu\",\n      fixColumnWidth: \"Fiksēts kolonnas platums\",\n      resize100: \"Mainīt izmēru 100%\",\n      resize75: \"Mainīt izmēru 75%\",\n      resize50: \"Mainīt izmēru 50%\",\n      resize25: \"Mainīt izmēru 25%\",\n      autoSize: \"Automātiskais izmērs\",\n      mirrorHorizontal: \"Spogulis, horizontāls\",\n      mirrorVertical: \"Spogulis, vertikāls\",\n      rotateLeft: \"Pagriezt pa kreisi\",\n      rotateRight: \"Pagriezt pa labi\",\n      maxSize: \"Maksimālais izmērs\",\n      minSize: \"Minimālais izmērs\",\n      tableHeader: \"Tabulas galvene\",\n      mergeCells: \"Apvienot šūnas\",\n      splitCells: \"Sadalīt šūnas\",\n      HorizontalSplit: \"Horizontāls sadalījums\",\n      VerticalSplit: \"Vertikāls sadalījums\"\n    },\n    menu: {\n      spaced: \"Ar atstarpi\",\n      bordered: \"Robežojās\",\n      neon: \"Neona\",\n      translucent: \"Caurspīdīgs\",\n      shadow: \"Ēna\",\n      code: \"Kods\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"lv\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var fileManager = {\n    name: \"fileManager\",\n    _xmlHttp: null,\n    _checkMediaComponent: function _checkMediaComponent(tag) {\n      if (/IMG/i.test(tag)) {\n        return !/FIGURE/i.test(tag.parentElement.nodeName) || !/FIGURE/i.test(tag.parentElement.parentElement.nodeName);\n      } else if (/VIDEO/i.test(tag)) {\n        return !/FIGURE/i.test(tag.parentElement.nodeName);\n      }\n\n      return true;\n    },\n\n    /**\r\n     * @description Upload the file to the server.\r\n     * @param {String} uploadUrl Upload server url\r\n     * @param {Object|null} uploadHeader Request header\r\n     * @param {FormData} formData FormData in body\r\n     * @param {Function|null} callBack Success call back function\r\n     * @param {Function|null} errorCallBack Error call back function\r\n     * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n     */\n    upload: function upload(uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n      this.showLoading();\n      var filePlugin = this.plugins.fileManager;\n      var xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n      xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n      xmlHttp.open(\"post\", uploadUrl, true);\n\n      if (uploadHeader !== null && _typeof(uploadHeader) === \"object\" && this._w.Object.keys(uploadHeader).length > 0) {\n        for (var key in uploadHeader) {\n          xmlHttp.setRequestHeader(key, uploadHeader[key]);\n        }\n      }\n\n      xmlHttp.send(formData);\n    },\n    _callBackUpload: function _callBackUpload(xmlHttp, callBack, errorCallBack) {\n      if (xmlHttp.readyState === 4) {\n        if (xmlHttp.status === 200) {\n          try {\n            callBack(xmlHttp);\n          } catch (e) {\n            throw Error('[KothingEditor.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n          } finally {\n            this.closeLoading();\n          }\n        } else {\n          // exception\n          this.closeLoading();\n          var res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n\n          if (typeof errorCallBack !== \"function\" || errorCallBack(\"\", res, this)) {\n            var err = \"[KothingEditor.fileManager.upload.serverException] status: \" + xmlHttp.status + \", response: \" + (res.errorMessage || xmlHttp.responseText);\n            this.functions.noticeOpen(err);\n            throw Error(err);\n          }\n        }\n      }\n    },\n\n    /**\r\n     * @description Checke the file's information and modify the tag that does not fit the format.\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Array} tagNames Tag array to check\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\r\n     * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\r\n     * @param {Boolean} resizing True if the plugin is using a resizing module\r\n     * @example\r\n     * const modifyHandler = function (tag) {\r\n     *      imagePlugin.onModifyMode.call(this, tag, null);\r\n     *      imagePlugin.openModify.call(this, true);\r\n     *      imagePlugin.update_image.call(this, true, false, true);\r\n     *  }.bind(this);\r\n     *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n     */\n    checkInfo: function checkInfo(pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n      var tags = [];\n\n      for (var i = 0, len = tagNames.length; i < len; i++) {\n        tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n      }\n\n      var fileManagerPlugin = this.plugins.fileManager;\n      var context = this.context[pluginName];\n      var infoList = context._infoList;\n      var setFileInfo = fileManagerPlugin.setInfo.bind(this);\n\n      if (tags.length === infoList.length) {\n        // reset\n        if (this._componentsInfoReset) {\n          for (var _i = 0, _len = tags.length; _i < _len; _i++) {\n            setFileInfo(pluginName, tags[_i], uploadEventHandler, null, resizing);\n          }\n\n          return;\n        } else {\n          var infoUpdate = false;\n\n          var _loop = function _loop(_info, _i2, _len2) {\n            _info = infoList[_i2];\n\n            if (tags.filter(function (t) {\n              info = _info;\n              return _info.src === t.src && _info.index.toString() === t.getAttribute(\"data-index\");\n            }).length === 0) {\n              infoUpdate = true;\n              info = _info;\n              return \"break\";\n            }\n\n            info = _info;\n          };\n\n          for (var _i2 = 0, _len2 = infoList.length, info; _i2 < _len2; _i2++) {\n            var _ret = _loop(info, _i2, _len2);\n\n            if (_ret === \"break\") break;\n          } // pass\n\n\n          if (!infoUpdate) {\n            return;\n          }\n        }\n      } // check\n\n\n      var _resize_plugin = resizing ? this.context.resizing._resize_plugin : \"\";\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = pluginName;\n      }\n\n      var currentTags = [];\n      var infoIndex = [];\n\n      for (var _i3 = 0, _len3 = infoList.length; _i3 < _len3; _i3++) {\n        infoIndex[_i3] = infoList[_i3].index;\n      }\n\n      for (var _i4 = 0, _len4 = tags.length, tag; _i4 < _len4; _i4++) {\n        tag = tags[_i4];\n\n        if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !fileManagerPlugin._checkMediaComponent(tag)) {\n          currentTags.push(context._infoIndex);\n          modifyHandler(tag);\n        } else if (!tag.getAttribute(\"data-index\") || infoIndex.indexOf(tag.getAttribute(\"data-index\") * 1) < 0) {\n          currentTags.push(context._infoIndex);\n          tag.removeAttribute(\"data-index\");\n          setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n        } else {\n          currentTags.push(tag.getAttribute(\"data-index\") * 1);\n        }\n      }\n\n      for (var _i5 = 0, dataIndex; _i5 < infoList.length; _i5++) {\n        dataIndex = infoList[_i5].index;\n\n        if (currentTags.indexOf(dataIndex) > -1) {\n          continue;\n        }\n\n        infoList.splice(_i5, 1);\n\n        if (typeof uploadEventHandler === \"function\") {\n          uploadEventHandler(null, dataIndex, \"delete\", null, 0, this);\n        }\n\n        _i5--;\n      }\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = _resize_plugin;\n      }\n    },\n\n    /**\r\n     * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Element} element\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     * @param {Object|null} file\r\n     * @param {Boolean} resizing True if the plugin is using a resizing module\r\n     * @example\r\n     * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\r\n     * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n     */\n    setInfo: function setInfo(pluginName, element, uploadEventHandler, file, resizing) {\n      var _resize_plugin = resizing ? this.context.resizing._resize_plugin : \"\";\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = pluginName;\n      }\n\n      var plguin = this.plugins[pluginName];\n      var context = this.context[pluginName];\n      var infoList = context._infoList;\n      var dataIndex = element.getAttribute(\"data-index\");\n      var info = null;\n      var state = \"\";\n\n      if (!file) {\n        file = {\n          name: element.getAttribute(\"data-file-name\") || (typeof element.src === \"string\" ? element.src.split(\"/\").pop() : \"\"),\n          size: element.getAttribute(\"data-file-size\") || 0\n        };\n      } // create\n\n\n      if (!dataIndex || this._componentsInfoInit) {\n        state = \"create\";\n        dataIndex = context._infoIndex++;\n        element.setAttribute(\"data-index\", dataIndex);\n        element.setAttribute(\"data-file-name\", file.name);\n        element.setAttribute(\"data-file-size\", file.size);\n        info = {\n          src: element.src,\n          index: dataIndex * 1,\n          name: file.name,\n          size: file.size\n        };\n        infoList.push(info);\n      } else {\n        // update\n        state = \"update\";\n        dataIndex *= 1;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          if (dataIndex === infoList[i].index) {\n            info = infoList[i];\n            break;\n          }\n        }\n\n        if (!info) {\n          dataIndex = context._infoIndex++;\n          info = {\n            index: dataIndex\n          };\n          infoList.push(info);\n        }\n\n        info.src = element.src;\n        info.name = element.getAttribute(\"data-file-name\");\n        info.size = element.getAttribute(\"data-file-size\") * 1;\n      } // method bind\n\n\n      info.element = element;\n      info.delete = plguin.destroy.bind(this, element);\n\n      info.select = function (element) {\n        element.scrollIntoView(true);\n\n        this._w.setTimeout(plguin.select.bind(this, element));\n      }.bind(this, element);\n\n      if (resizing) {\n        if (!element.getAttribute(\"origin-size\") && element.naturalWidth) {\n          element.setAttribute(\"origin-size\", element.naturalWidth + \",\" + element.naturalHeight);\n        }\n\n        if (!element.getAttribute(\"data-origin\")) {\n          var container = this.util.getParentElement(element, this.util.isMediaComponent);\n          var cover = this.util.getParentElement(element, \"FIGURE\");\n\n          var w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n\n          var h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n\n          element.setAttribute(\"data-origin\", w + \",\" + h);\n          element.setAttribute(\"data-size\", w + \",\" + h);\n        }\n\n        if (!element.style.width) {\n          var size = (element.getAttribute(\"data-size\") || element.getAttribute(\"data-origin\") || \"\").split(\",\");\n          plguin.onModifyMode.call(this, element, null);\n          plguin.applySize.call(this, size[0], size[1]);\n        }\n\n        this.context.resizing._resize_plugin = _resize_plugin;\n      }\n\n      if (typeof uploadEventHandler === \"function\") {\n        uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n      }\n    },\n\n    /**\r\n     * @description Delete info object at \"_infoList\"\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     */\n    deleteInfo: function deleteInfo(pluginName, index, uploadEventHandler) {\n      if (index >= 0) {\n        var infoList = this.context[pluginName]._infoList;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          if (index === infoList[i].index) {\n            infoList.splice(i, 1);\n\n            if (typeof uploadEventHandler === \"function\") {\n              uploadEventHandler(null, index, \"delete\", null, 0, this);\n            }\n\n            return;\n          }\n        }\n      }\n    },\n\n    /**\r\n     * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     */\n    resetInfo: function resetInfo(pluginName, uploadEventHandler) {\n      var context = this.context[pluginName];\n\n      if (typeof uploadEventHandler === \"function\") {\n        var infoList = context._infoList;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          uploadEventHandler(null, infoList[i].index, \"delete\", null, 0, this);\n        }\n      }\n\n      context._infoList = [];\n      context._infoIndex = 0;\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"fileManager\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: fileManager\n    });\n  }\n\n  return fileManager;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"pl\",\n    toolbar: {\n      default: \"Domyślne\",\n      save: \"Zapisz\",\n      font: \"Czcionka\",\n      formats: \"Formaty\",\n      fontSize: \"Rozmiar\",\n      bold: \"Pogrubienie\",\n      underline: \"Podkreślenie\",\n      italic: \"Kursywa\",\n      strike: \"Przekreślenie\",\n      subscript: \"Indeks dolny\",\n      superscript: \"Indeks górny\",\n      removeFormat: \"Wyczyść formatowanie\",\n      fontColor: \"Kolor tekstu\",\n      hiliteColor: \"Kolor tła tekstu\",\n      indent: \"Zwiększ wcięcie\",\n      outdent: \"Zmniejsz wcięcie\",\n      align: \"Wyrównaj\",\n      alignLeft: \"Do lewej\",\n      alignRight: \"Do prawej\",\n      alignCenter: \"Do środka\",\n      alignJustify: \"Wyjustuj\",\n      list: \"Lista\",\n      orderList: \"Lista numerowana\",\n      unorderList: \"Lista wypunktowana\",\n      horizontalRule: \"Pozioma linia\",\n      hr_solid: \"Ciągła\",\n      hr_dotted: \"Kropkowana\",\n      hr_dashed: \"Przerywana\",\n      table: \"Tabela\",\n      link: \"Odnośnik\",\n      math: \"Matematyczne\",\n      image: \"Obraz\",\n      video: \"Wideo\",\n      audio: \"Audio\",\n      fullScreen: \"Pełny ekran\",\n      showBlocks: \"Pokaż bloki\",\n      codeView: \"Widok kodu\",\n      undo: \"Cofnij\",\n      redo: \"Ponów\",\n      preview: \"Podgląd\",\n      print: \"Drukuj\",\n      tag_p: \"Akapit\",\n      tag_div: \"Blok (DIV)\",\n      tag_h: \"Nagłówek H\",\n      tag_blockquote: \"Cytat\",\n      tag_pre: \"Kod\",\n      template: \"Szablon\",\n      lineHeight: \"Odstęp między wierszami\",\n      paragraphStyle: \"Styl akapitu\",\n      textStyle: \"Styl tekstu\",\n      imageGallery: \"Galeria obrazów\",\n      mention: \"Wzmianka\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Wstaw odnośnik\",\n        url: \"Adres URL\",\n        text: \"Tekst do wyświetlenia\",\n        newWindowCheck: \"Otwórz w nowym oknie\",\n        downloadLinkCheck: \"Link do pobrania\",\n        bookmark: \"Zakładka\"\n      },\n      mathBox: {\n        title: \"Matematyczne\",\n        inputLabel: \"Zapis matematyczny\",\n        fontSizeLabel: \"Rozmiar czcionki\",\n        previewLabel: \"Podgląd\"\n      },\n      imageBox: {\n        title: \"Wstaw obraz\",\n        file: \"Wybierz plik\",\n        url: \"Adres URL obrazka\",\n        altText: \"Tekst alternatywny\"\n      },\n      videoBox: {\n        title: \"Wstaw wideo\",\n        file: \"Wybierz plik\",\n        url: \"Adres URL video, np. YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Wstaw audio\",\n        file: \"Wybierz plik\",\n        url: \"Adres URL audio\"\n      },\n      browser: {\n        tags: \"Tagi\",\n        search: \"Szukaj\"\n      },\n      caption: \"Wstaw opis\",\n      close: \"Zamknij\",\n      submitButton: \"Zatwierdź\",\n      revertButton: \"Cofnij zmiany\",\n      proportion: \"Ogranicz proporcje\",\n      basic: \"Bez wyrównania\",\n      left: \"Do lewej\",\n      right: \"Do prawej\",\n      center: \"Do środka\",\n      width: \"Szerokość\",\n      height: \"Wysokość\",\n      size: \"Rozmiar\",\n      ratio: \"Proporcje\"\n    },\n    controller: {\n      edit: \"Edycja\",\n      unlink: \"Usuń odnośnik\",\n      remove: \"Usuń\",\n      insertRowAbove: \"Wstaw wiersz powyżej\",\n      insertRowBelow: \"Wstaw wiersz poniżej\",\n      deleteRow: \"Usuń wiersz\",\n      insertColumnBefore: \"Wstaw kolumnę z lewej\",\n      insertColumnAfter: \"Wstaw kolumnę z prawej\",\n      deleteColumn: \"Usuń kolumnę\",\n      fixedColumnWidth: \"Stała szerokość kolumny\",\n      resize100: \"Zmień rozmiar - 100%\",\n      resize75: \"Zmień rozmiar - 75%\",\n      resize50: \"Zmień rozmiar - 50%\",\n      resize25: \"Zmień rozmiar - 25%\",\n      autoSize: \"Rozmiar automatyczny\",\n      mirrorHorizontal: \"Odbicie lustrzane w poziomie\",\n      mirrorVertical: \"Odbicie lustrzane w pionie\",\n      rotateLeft: \"Obróć w lewo\",\n      rotateRight: \"Obróć w prawo\",\n      maxSize: \"Maksymalny rozmiar\",\n      minSize: \"Minimalny rozmiar\",\n      tableHeader: \"Nagłówek tabeli\",\n      mergeCells: \"Scal komórki\",\n      splitCells: \"Podziel komórki\",\n      HorizontalSplit: \"Podział poziomy\",\n      VerticalSplit: \"Podział pionowy\"\n    },\n    menu: {\n      spaced: \"Rozstawiony\",\n      bordered: \"Z obwódką\",\n      neon: \"Neon\",\n      translucent: \"Półprzezroczysty\",\n      shadow: \"Cień\",\n      code: \"Kod\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"pl\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defaultIcons = _interopRequireDefault(require(\"../assets/defaultIcons\"));\n\nvar _en = _interopRequireDefault(require(\"../lang/en\"));\n\nvar _util = _interopRequireDefault(require(\"./util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default2 = {\n  /**\r\n   * @description document create\r\n   * @param {Element} element Textarea\r\n   * @param {Object} options Options\r\n   * @returns {Object}\r\n   */\n  init: function init(element, options) {\n    if (_typeof(options) !== \"object\") options = {};\n    var doc = document;\n    /** --- init options --- */\n\n    this._initOptions(element, options); // KothingEditor div\n\n\n    var top_div = doc.createElement(\"DIV\");\n    top_div.className = \"kothing-editor\" + (options.rtl ? \" ke-rtl\" : \"\");\n    if (element.id) top_div.id = \"kothing-editor_\" + element.id; // relative div\n\n    var relative = doc.createElement(\"DIV\");\n    relative.className = \"ke-container\"; // toolbar\n\n    var tool_bar = this._createToolBar(doc, options.toolbarItem, options.plugins, options);\n\n    tool_bar.element.style.visibility = \"hidden\";\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n    var arrow = doc.createElement(\"DIV\");\n    arrow.className = \"ke-arrow\"; // sticky toolbar dummy\n\n    var sticky_dummy = doc.createElement(\"DIV\");\n    sticky_dummy.className = \"ke-toolbar-sticky-dummy\"; // inner editor div\n\n    var editor_div = doc.createElement(\"DIV\");\n    editor_div.className = \"ke-wrapper\";\n    /** --- init elements and create bottom bar --- */\n\n    var initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n    var bottomBar = initElements.bottomBar;\n    var wysiwyg_div = initElements.wysiwygFrame;\n    var placeholder_span = initElements.placeholder;\n    var textarea = initElements.codeView; // resizing bar\n\n    var resizing_bar = bottomBar.resizingBar;\n    var navigation = bottomBar.navigation;\n    var char_wrapper = bottomBar.charWrapper;\n    var char_counter = bottomBar.charCounter; // loading box\n\n    var loading_box = doc.createElement(\"DIV\");\n    loading_box.className = \"ke-loading-box kothing-editor-common\";\n    loading_box.innerHTML = '<div class=\"ke-loading-effect\"></div>'; // enter line\n\n    var line_breaker = doc.createElement(\"DIV\");\n    line_breaker.className = \"ke-line-breaker\";\n    line_breaker.innerHTML = '<button class=\"ke-btn\">' + options.icons.line_break + \"</button>\";\n    var line_breaker_t = doc.createElement(\"DIV\");\n    line_breaker_t.className += \"ke-line-breaker-component\";\n    var line_breaker_b = line_breaker_t.cloneNode(true);\n    line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break; // resize operation background\n\n    var resize_back = doc.createElement(\"DIV\");\n    resize_back.className = \"ke-resizing-back\"; // toolbar container\n\n    var toolbarContainer = options.toolbarContainer;\n\n    if (toolbarContainer) {\n      toolbarContainer.appendChild(tool_bar.element);\n    }\n    /** append html */\n\n\n    editor_div.appendChild(textarea);\n    if (placeholder_span) editor_div.appendChild(placeholder_span);\n    if (!toolbarContainer) relative.appendChild(tool_bar.element);\n    relative.appendChild(sticky_dummy);\n    relative.appendChild(editor_div);\n    relative.appendChild(resize_back);\n    relative.appendChild(loading_box);\n    relative.appendChild(line_breaker);\n    relative.appendChild(line_breaker_t);\n    relative.appendChild(line_breaker_b);\n    if (resizing_bar) relative.appendChild(resizing_bar);\n    top_div.appendChild(relative);\n    textarea = this._checkCodeMirror(options, textarea);\n    return {\n      constructed: {\n        top: top_div,\n        relative: relative,\n        toolBar: tool_bar.element,\n        menuTray: tool_bar.menuTray,\n        editorArea: editor_div,\n        wysiwygArea: wysiwyg_div,\n        codeArea: textarea,\n        placeholder: placeholder_span,\n        resizingBar: resizing_bar,\n        navigation: navigation,\n        charWrapper: char_wrapper,\n        charCounter: char_counter,\n        loading: loading_box,\n        lineBreaker: line_breaker,\n        lineBreaker_t: line_breaker_t,\n        lineBreaker_b: line_breaker_b,\n        resizeBack: resize_back,\n        stickyDummy: sticky_dummy,\n        arrow: arrow\n      },\n      options: options,\n      plugins: tool_bar.plugins,\n      pluginCallButtons: tool_bar.pluginCallButtons,\n      _responsiveButtons: tool_bar.responsiveButtons\n    };\n  },\n\n  /**\r\n   * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n   * @param {Object} options options\r\n   * @param {Element} textarea textarea element\r\n   * @private\r\n   */\n  _checkCodeMirror: function _checkCodeMirror(options, textarea) {\n    if (options.codeMirror) {\n      var cmOptions = [{\n        mode: \"htmlmixed\",\n        htmlMode: true,\n        lineNumbers: true,\n        lineWrapping: true\n      }, options.codeMirror.options || {}].reduce(function (init, option) {\n        for (var key in option) {\n          if (_util.default.hasOwn(option, key)) init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n\n      if (options.height === \"auto\") {\n        cmOptions.viewportMargin = Infinity;\n        cmOptions.height = \"auto\";\n      }\n\n      var cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n      cm.display.wrapper.style.cssText = textarea.style.cssText;\n      options.codeMirrorEditor = cm;\n      textarea = cm.display.wrapper;\n      textarea.className += \" ke-wrapper-code-mirror\";\n    }\n\n    return textarea;\n  },\n\n  /**\r\n   * @description Check for a katex object.\r\n   * @param {Object} katex katex object\r\n   * @private\r\n   */\n  _checkKatexMath: function _checkKatexMath(katex) {\n    if (!katex) throw Error('[KothingEditor.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n    var katexOptions = [{\n      throwOnError: false\n    }, katex.options || {}].reduce(function (init, option) {\n      for (var key in option) {\n        if (_util.default.hasOwn(option, key)) init[key] = option[key];\n      }\n\n      return init;\n    }, {});\n    katex.options = katexOptions;\n  },\n\n  /**\r\n   * @description Add or reset options\r\n   * @param {Object} mergeOptions New options property\r\n   * @param {Object} context Context object of core\r\n   * @param {Object} originOptions Origin options\r\n   * @returns {Object} pluginCallButtons\r\n   * @private\r\n   */\n  _setOptions: function _setOptions(mergeOptions, context, originOptions) {\n    this._initOptions(context.element.originElement, mergeOptions);\n\n    var el = context.element;\n    var relative = el.relative;\n    var editorArea = el.editorArea;\n    var isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n    var isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.toolbarItem !== originOptions.toolbarItem || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n\n    var tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.toolbarItem : originOptions.toolbarItem, mergeOptions.plugins, mergeOptions);\n\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n    var arrow = document.createElement(\"DIV\");\n    arrow.className = \"ke-arrow\";\n\n    if (isNewToolbar) {\n      tool_bar.element.style.visibility = \"hidden\"; // toolbar container\n\n      if (isNewToolbarContainer) {\n        mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n        el.toolbar.parentElement.removeChild(el.toolbar);\n      } else {\n        el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n      }\n\n      el.toolbar = tool_bar.element;\n      el.menuTray = tool_bar.menuTray;\n      el.arrow = arrow;\n    }\n\n    var initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n    var bottomBar = initElements.bottomBar;\n    var wysiwygFrame = initElements.wysiwygFrame;\n    var placeholder_span = initElements.placeholder;\n    var code = initElements.codeView;\n    if (el.resizingBar) relative.removeChild(el.resizingBar);\n    if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\n    editorArea.innerHTML = \"\";\n    editorArea.appendChild(code);\n    if (placeholder_span) editorArea.appendChild(placeholder_span);\n    code = this._checkCodeMirror(mergeOptions, code);\n    el.resizingBar = bottomBar.resizingBar;\n    el.navigation = bottomBar.navigation;\n    el.charWrapper = bottomBar.charWrapper;\n    el.charCounter = bottomBar.charCounter;\n    el.wysiwygFrame = wysiwygFrame;\n    el.code = code;\n    el.placeholder = placeholder_span;\n    if (mergeOptions.rtl) _util.default.addClass(el.topArea, \"ke-rtl\");else _util.default.removeClass(el.topArea, \"ke-rtl\");\n    return {\n      callButtons: tool_bar.pluginCallButtons,\n      plugins: tool_bar.plugins,\n      toolbar: tool_bar\n    };\n  },\n\n  /**\r\n   * @description Initialize property of KothingEditor elements\r\n   * @param {Object} options Options\r\n   * @param {Element} topDiv KothingEditor top div\r\n   * @param {Element} toolBar Tool bar\r\n   * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n   * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n   * @private\r\n   */\n  _initElements: function _initElements(options, topDiv, toolBar, toolBarArrow) {\n    /** top div */\n    topDiv.style.cssText = options._editorStyles.top;\n    /** toolbar */\n\n    if (/inline/i.test(options.mode)) {\n      toolBar.className += \" ke-toolbar-inline\";\n      toolBar.style.width = options.toolbarWidth;\n    } else if (/balloon/i.test(options.mode)) {\n      toolBar.className += \" ke-toolbar-balloon\";\n      toolBar.style.width = options.toolbarWidth;\n      toolBar.appendChild(toolBarArrow);\n    }\n    /** editor */\n    // wysiwyg div or iframe\n\n\n    var wysiwygDiv = document.createElement(!options.iframe ? \"DIV\" : \"IFRAME\");\n    wysiwygDiv.className = \"ke-wrapper-inner ke-wrapper-wysiwyg\";\n\n    if (!options.iframe) {\n      wysiwygDiv.setAttribute(\"contenteditable\", true);\n      wysiwygDiv.setAttribute(\"scrolling\", \"auto\");\n      wysiwygDiv.className += \" \" + options._editableClass;\n      wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n    } else {\n      wysiwygDiv.allowFullscreen = true;\n      wysiwygDiv.frameBorder = 0;\n      wysiwygDiv.style.cssText = options._editorStyles.frame;\n    } // textarea for code view\n\n\n    var textarea = document.createElement(\"TEXTAREA\");\n    textarea.className = \"ke-wrapper-inner ke-wrapper-code\";\n    textarea.style.cssText = options._editorStyles.frame;\n    textarea.style.display = \"none\";\n    if (options.height === \"auto\") textarea.style.overflow = \"hidden\";\n    /** resize bar */\n\n    var resizingBar = null;\n    var resizinIcon = null;\n    var navigation = null;\n    var charWrapper = null;\n    var charCounter = null;\n    var poweredBy = null;\n\n    if (options.resizingBar) {\n      resizingBar = document.createElement(\"DIV\");\n      resizingBar.className = \"ke-resizing-bar\";\n      /** resizinIcon */\n\n      if (/\\d+/.test(options.height)) {\n        resizinIcon = document.createElement(\"DIV\");\n        resizinIcon.className = \"ke-resizing-icon\";\n        resizingBar.appendChild(resizinIcon);\n      }\n      /** navigation */\n\n\n      navigation = document.createElement(\"DIV\");\n      navigation.className = \"ke-navigation\";\n      resizingBar.appendChild(navigation);\n      /** char counter */\n\n      if (options.charCounter) {\n        charWrapper = document.createElement(\"DIV\");\n        charWrapper.className = \"ke-char-counter-wrapper\";\n\n        if (options.charCounterLabel) {\n          var charLabel = document.createElement(\"SPAN\");\n          charLabel.className = \"ke-char-label\";\n          charLabel.textContent = options.charCounterLabel;\n          charWrapper.appendChild(charLabel);\n        }\n\n        charCounter = document.createElement(\"SPAN\");\n        charCounter.className = \"ke-char-counter\";\n        charCounter.textContent = \"0\";\n        charWrapper.appendChild(charCounter);\n\n        if (options.maxCharCount > 0) {\n          var char_max = document.createElement(\"SPAN\");\n          char_max.textContent = \" / \" + options.maxCharCount;\n          charWrapper.appendChild(char_max);\n        }\n\n        resizingBar.appendChild(charWrapper);\n      }\n      /** poweredBy */\n\n\n      poweredBy = document.createElement(\"DIV\");\n      poweredBy.className = \"ke-powered-by\";\n      poweredBy.innerHTML = \"<a href=\\\"https://github.com/kothing/kothing-editor\\\" target=\\\"_blank\\\" title=\\\"Kothing-Editor\\\">Powered By Kothing</a>\";\n      resizingBar.appendChild(poweredBy);\n    }\n\n    var placeholder = null;\n\n    if (options.placeholder) {\n      placeholder = document.createElement(\"SPAN\");\n      placeholder.className = \"ke-placeholder\";\n      placeholder.innerText = options.placeholder;\n    }\n\n    return {\n      bottomBar: {\n        resizingBar: resizingBar,\n        navigation: navigation,\n        charWrapper: charWrapper,\n        charCounter: charCounter\n      },\n      wysiwygFrame: wysiwygDiv,\n      codeView: textarea,\n      placeholder: placeholder\n    };\n  },\n\n  /**\r\n   * @description Initialize options\r\n   * @param {Element} element Options object\r\n   * @param {Object} options Options object\r\n   * @private\r\n   */\n  _initOptions: function _initOptions(element, options) {\n    /** Values */\n    options.lang = options.lang || _en.default;\n    options.defaultTag = typeof options.defaultTag === \"string\" ? options.defaultTag : \"p\";\n    var textTags = options.textTags = [{\n      bold: \"STRONG\",\n      underline: \"U\",\n      italic: \"EM\",\n      strike: \"DEL\",\n      sub: \"SUB\",\n      sup: \"SUP\"\n    }, options.textTags || {}].reduce(function (_default, _new) {\n      for (var key in _new) {\n        _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    options._textTagsMap = {\n      strong: textTags.bold.toLowerCase(),\n      b: textTags.bold.toLowerCase(),\n      u: textTags.underline.toLowerCase(),\n      ins: textTags.underline.toLowerCase(),\n      em: textTags.italic.toLowerCase(),\n      i: textTags.italic.toLowerCase(),\n      del: textTags.strike.toLowerCase(),\n      strike: textTags.strike.toLowerCase(),\n      s: textTags.strike.toLowerCase(),\n      sub: textTags.sub.toLowerCase(),\n      sup: textTags.sup.toLowerCase()\n    };\n    options.value = typeof options.value === \"string\" ? options.value : null;\n    options.historyStackDelayTime = typeof options.historyStackDelayTime === \"number\" ? options.historyStackDelayTime : 400;\n    /** Whitelist */\n\n    var whitelist = \"br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path\";\n    options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === \"string\" ? options._defaultTagsWhitelist : whitelist;\n    options._editorTagsWhitelist = this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === \"string\" && options.addTagsWhitelist.length > 0 ? \"|\" + options.addTagsWhitelist : \"\"), options.tagsBlacklist);\n    options.pasteTagsWhitelist = this._setWhitelist(typeof options.pasteTagsWhitelist === \"string\" ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\n    options.attributesWhitelist = !options.attributesWhitelist || _typeof(options.attributesWhitelist) !== \"object\" ? null : options.attributesWhitelist;\n    /** Layout */\n\n    options.mode = options.mode || \"classic\"; // classic, inline, balloon, balloon-always\n\n    options.rtl = !!options.rtl;\n    options._editableClass = \"kothing-editor-editable\" + (options.rtl ? \" ke-rtl\" : \"\");\n    options._printClass = typeof options._printClass === \"string\" ? options._printClass : null;\n    options.toolbarWidth = options.toolbarWidth ? _util.default.isNumber(options.toolbarWidth) ? options.toolbarWidth + \"px\" : options.toolbarWidth : \"auto\";\n    options.toolbarContainer = typeof options.toolbarContainer === \"string\" ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n    options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? _util.default.getNumber(options.stickyToolbar, 0) : -1;\n    options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : /^\\d+/.test(options.fullScreenOffset) ? _util.default.getNumber(options.fullScreenOffset, 0) : 0;\n    options.iframe = options.fullPage || options.iframe;\n    options.fullPage = !!options.fullPage;\n    options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === \"string\" ? [options.iframeCSSFileName] : options.iframeCSSFileName || [\"kothing-editor\"] : null;\n    options.previewTemplate = typeof options.previewTemplate === \"string\" ? options.previewTemplate : null;\n    options.printTemplate = typeof options.printTemplate === \"string\" ? options.printTemplate : null;\n    /** CodeMirror object */\n\n    options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n      src: options.codeMirror\n    } : null;\n    /** katex object (Math plugin) */\n\n    options.katex = options.katex ? options.katex.src ? options.katex : {\n      src: options.katex\n    } : null;\n    options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [{\n      text: \"1\",\n      value: \"1em\"\n    }, {\n      text: \"1.5\",\n      value: \"1.5em\"\n    }, {\n      text: \"2\",\n      value: \"2em\"\n    }, {\n      text: \"2.5\",\n      value: \"2.5em\"\n    }];\n    /** Display */\n\n    options.position = typeof options.position === \"string\" ? options.position : null;\n    options.display = options.display || (element.style.display === \"none\" || !element.style.display ? \"block\" : element.style.display);\n    options.popupDisplay = options.popupDisplay || \"full\";\n    /** Bottom resizing bar */\n\n    options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n    options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === \"boolean\" ? options.showPathLabel : true;\n    /** Character count */\n\n    options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === \"boolean\" ? options.charCounter : false;\n    options.charCounterType = typeof options.charCounterType === \"string\" ? options.charCounterType : \"char\";\n    options.charCounterLabel = typeof options.charCounterLabel === \"string\" ? options.charCounterLabel.trim() : null;\n    options.maxCharCount = _util.default.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n    /** Width size */\n\n    options.width = options.width ? _util.default.isNumber(options.width) ? options.width + \"px\" : options.width : element.clientWidth ? element.clientWidth + \"px\" : \"100%\";\n    options.minWidth = (_util.default.isNumber(options.minWidth) ? options.minWidth + \"px\" : options.minWidth) || \"\";\n    options.maxWidth = (_util.default.isNumber(options.maxWidth) ? options.maxWidth + \"px\" : options.maxWidth) || \"\";\n    /** Height size */\n\n    options.height = options.height ? _util.default.isNumber(options.height) ? options.height + \"px\" : options.height : element.clientHeight ? element.clientHeight + \"px\" : \"auto\";\n    options.minHeight = (_util.default.isNumber(options.minHeight) ? options.minHeight + \"px\" : options.minHeight) || \"\";\n    options.maxHeight = (_util.default.isNumber(options.maxHeight) ? options.maxHeight + \"px\" : options.maxHeight) || \"\";\n    /** Editing area default style */\n\n    options.defaultStyle = typeof options.defaultStyle === \"string\" ? options.defaultStyle : \"\";\n    /** Defining menu items */\n\n    options.font = !options.font ? null : options.font;\n    options.fontSize = !options.fontSize ? null : options.fontSize;\n    options.formats = !options.formats ? null : options.formats;\n    options.colorList = !options.colorList ? null : options.colorList;\n    options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n    options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n    options.textStyles = !options.textStyles ? null : options.textStyles;\n    options.fontSizeUnit = typeof options.fontSizeUnit === \"string\" ? options.fontSizeUnit.trim() || \"px\" : \"px\";\n    /** Image */\n\n    options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n    options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n    options.imageWidth = !options.imageWidth ? \"auto\" : _util.default.isNumber(options.imageWidth) ? options.imageWidth + \"px\" : options.imageWidth;\n    options.imageHeight = !options.imageHeight ? \"auto\" : _util.default.isNumber(options.imageHeight) ? options.imageHeight + \"px\" : options.imageHeight;\n    options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n    options._imageSizeUnit = options.imageSizeOnlyPercentage ? \"%\" : \"px\";\n    options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n    options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n    options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n    options.imageUploadHeader = options.imageUploadHeader || null;\n    options.imageUploadUrl = typeof options.imageUploadUrl === \"string\" ? options.imageUploadUrl : null;\n    options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? _util.default.getNumber(options.imageUploadSizeLimit, 0) : null;\n    options.imageMultipleFile = !!options.imageMultipleFile;\n    options.imageAccept = typeof options.imageAccept !== \"string\" || options.imageAccept.trim() === \"*\" ? \"image/*\" : options.imageAccept.trim() || \"image/*\";\n    /** Image - image gallery */\n\n    options.imageGalleryUrl = typeof options.imageGalleryUrl === \"string\" ? options.imageGalleryUrl : null;\n    options.imageGalleryHeader = options.imageGalleryHeader || null;\n    /** Video */\n\n    options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n    options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n    options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n    options.videoWidth = !options.videoWidth || !_util.default.getNumber(options.videoWidth, 0) ? \"\" : _util.default.isNumber(options.videoWidth) ? options.videoWidth + \"px\" : options.videoWidth;\n    options.videoHeight = !options.videoHeight || !_util.default.getNumber(options.videoHeight, 0) ? \"\" : _util.default.isNumber(options.videoHeight) ? options.videoHeight + \"px\" : options.videoHeight;\n    options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n    options._videoSizeUnit = options.videoSizeOnlyPercentage ? \"%\" : \"px\";\n    options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n    options.videoRatio = _util.default.getNumber(options.videoRatio, 4) || 0.5625;\n    options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n    options.youtubeQuery = (options.youtubeQuery || \"\").replace(\"?\", \"\");\n    options.videoFileInput = !!options.videoFileInput;\n    options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n    options.videoUploadHeader = options.videoUploadHeader || null;\n    options.videoUploadUrl = typeof options.videoUploadUrl === \"string\" ? options.videoUploadUrl : null;\n    options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? _util.default.getNumber(options.videoUploadSizeLimit, 0) : null;\n    options.videoMultipleFile = !!options.videoMultipleFile;\n    options.videoTagAttrs = options.videoTagAttrs || null;\n    options.videoIframeAttrs = options.videoIframeAttrs || null;\n    options.videoAccept = typeof options.videoAccept !== \"string\" || options.videoAccept.trim() === \"*\" ? \"video/*\" : options.videoAccept.trim() || \"video/*\";\n    /** Audio */\n\n    options.audioWidth = !options.audioWidth ? \"\" : _util.default.isNumber(options.audioWidth) ? options.audioWidth + \"px\" : options.audioWidth;\n    options.audioHeight = !options.audioHeight ? \"\" : _util.default.isNumber(options.audioHeight) ? options.audioHeight + \"px\" : options.audioHeight;\n    options.audioFileInput = !!options.audioFileInput;\n    options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n    options.audioUploadHeader = options.audioUploadHeader || null;\n    options.audioUploadUrl = typeof options.audioUploadUrl === \"string\" ? options.audioUploadUrl : null;\n    options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? _util.default.getNumber(options.audioUploadSizeLimit, 0) : null;\n    options.audioMultipleFile = !!options.audioMultipleFile;\n    options.audioTagAttrs = options.audioTagAttrs || null;\n    options.audioAccept = typeof options.audioAccept !== \"string\" || options.audioAccept.trim() === \"*\" ? \"audio/*\" : options.audioAccept.trim() || \"audio/*\";\n    /** Table */\n\n    options.tableCellControllerPosition = typeof options.tableCellControllerPosition === \"string\" ? options.tableCellControllerPosition.toLowerCase() : \"cell\";\n    /** Link */\n\n    options.linkProtocol = typeof options.linkProtocol === \"string\" ? options.linkProtocol : null;\n    options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\n    options.linkRelDefault = options.linkRelDefault || {};\n    /** Key actions */\n\n    options.tabDisable = !!options.tabDisable;\n    options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\n    options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n    /** Defining save button */\n\n    options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n    /** Templates Array */\n\n    options.templates = !options.templates ? null : options.templates;\n    /** ETC */\n\n    options.placeholder = typeof options.placeholder === \"string\" ? options.placeholder : null;\n    options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\n    /** Buttons */\n\n    options.toolbarItem = !!options.toolbarItem ? options.toolbarItem : [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n    /** RTL - buttons */\n\n    if (options.rtl) {\n      options.toolbarItem = options.toolbarItem.reverse();\n    }\n    /** --- Define icons --- */\n    // custom icons\n\n\n    options.icons = !options.icons || _typeof(options.icons) !== \"object\" ? _defaultIcons.default : [_defaultIcons.default, options.icons].reduce(function (_default, _new) {\n      for (var key in _new) {\n        if (_util.default.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {}); // rtl icons\n\n    options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\n      for (var key in _new) {\n        if (_util.default.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    /** _init options */\n\n    options._editorStyles = _util.default._setDefaultOptionStyle(options, options.defaultStyle);\n  },\n  _setWhitelist: function _setWhitelist(whitelist, blacklist) {\n    if (typeof blacklist !== \"string\") return whitelist;\n    blacklist = blacklist.split(\"|\");\n    whitelist = whitelist.split(\"|\");\n\n    for (var i = 0, len = blacklist.length, index; i < len; i++) {\n      index = whitelist.indexOf(blacklist[i]);\n      if (index > -1) whitelist.splice(index, 1);\n    }\n\n    return whitelist.join(\"|\");\n  },\n\n  /**\r\n   * @description KothingEditor's Default button list\r\n   * @param {Object} options options\r\n   * @private\r\n   */\n  _defaultButtons: function _defaultButtons(options) {\n    var icons = options.icons;\n    var lang = options.lang;\n    var cmd = _util.default.isOSX_IOS ? \"⌘\" : \"CTRL\";\n    var addShift = _util.default.isOSX_IOS ? \"⇧\" : \"+SHIFT\";\n    var shortcutsDisable = !options.shortcutsHint ? [\"bold\", \"strike\", \"underline\", \"italic\", \"undo\", \"indent\", \"save\"] : options.shortcutsDisable;\n    var indentKey = options.rtl ? [\"[\", \"]\"] : [\"]\", \"[\"];\n    return {\n      /** default command */\n      bold: [\"_ke_command_bold\", lang.toolbar.bold + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"bold\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">B</span>') + \"</span>\", \"bold\", \"\", icons.bold],\n      underline: [\"_ke_command_underline\", lang.toolbar.underline + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"underline\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">U</span>') + \"</span>\", \"underline\", \"\", icons.underline],\n      italic: [\"_ke_command_italic\", lang.toolbar.italic + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"italic\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">I</span>') + \"</span>\", \"italic\", \"\", icons.italic],\n      strike: [\"_ke_command_strike\", lang.toolbar.strike + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"strike\") > -1 ? \"\" : cmd + addShift + '+<span class=\"ke-shortcut-key\">S</span>') + \"</span>\", \"strike\", \"\", icons.strike],\n      subscript: [\"_ke_command_subscript\", lang.toolbar.subscript, \"SUB\", \"\", icons.subscript],\n      superscript: [\"_ke_command_superscript\", lang.toolbar.superscript, \"SUP\", \"\", icons.superscript],\n      removeFormat: [\"\", lang.toolbar.removeFormat, \"removeFormat\", \"\", icons.erase],\n      indent: [\"_ke_command_indent\", lang.toolbar.indent + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"indent\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">' + indentKey[0] + \"</span>\") + \"</span>\", \"indent\", \"\", icons.outdent],\n      outdent: [\"_ke_command_outdent\", lang.toolbar.outdent + \" \" + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"indent\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">' + indentKey[1] + \"</span>\") + \"</span>\", \"outdent\", \"\", icons.indent],\n      fullScreen: [\"ke-code-view-enabled ke-resizing-enabled _ke_command_fullScreen\", lang.toolbar.fullScreen, \"fullScreen\", \"\", icons.expansion],\n      showBlocks: [\"_ke_command_showBlocks\", lang.toolbar.showBlocks, \"showBlocks\", \"\", icons.show_blocks],\n      codeView: [\"ke-code-view-enabled ke-resizing-enabled _ke_command_codeView\", lang.toolbar.codeView, \"codeView\", \"\", icons.code_view],\n      undo: [\"_ke_command_undo ke-resizing-enabled\", lang.toolbar.undo + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"undo\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">Z</span>') + \"</span>\", \"undo\", \"\", icons.undo],\n      redo: [\"_ke_command_redo ke-resizing-enabled\", lang.toolbar.redo + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"undo\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"ke-shortcut-key\">Z</span>') + \"</span>\", \"redo\", \"\", icons.redo],\n      preview: [\"ke-resizing-enabled\", lang.toolbar.preview, \"preview\", \"\", icons.preview],\n      print: [\"ke-resizing-enabled\", lang.toolbar.print, \"print\", \"\", icons.print],\n      save: [\"_ke_command_save ke-resizing-enabled\", lang.toolbar.save + '<span class=\"ke-shortcut\">' + (shortcutsDisable.indexOf(\"save\") > -1 ? \"\" : cmd + '+<span class=\"ke-shortcut-key\">S</span>') + \"</span>\", \"save\", \"\", icons.save],\n\n      /** plugins - command */\n      blockquote: [\"\", lang.toolbar.tag_blockquote, \"blockquote\", \"command\", icons.blockquote],\n\n      /** plugins - submenu */\n      font: [\"ke-btn-select ke-btn-tool-font\", lang.toolbar.font, \"font\", \"submenu\", \"<span class=\\\"txt\\\">\".concat(icons.font, \"</span> <span class=\\\"arrow-icon\\\">\").concat(icons.arrow_down, \"</span>\")],\n      formatBlock: [\"ke-btn-select ke-btn-tool-format\", lang.toolbar.formats, \"formatBlock\", \"submenu\", \"<span class=\\\"txt\\\">\".concat(icons.format_block, \"</span> <span class=\\\"arrow-icon\\\">\").concat(icons.arrow_down, \"</span>\")],\n      fontSize: [\"ke-btn-select ke-btn-tool-size\", lang.toolbar.fontSize, \"fontSize\", \"submenu\", \"<span class=\\\"txt\\\">\".concat(icons.font_size, \"</span> <span class=\\\"arrow-icon\\\">\").concat(icons.arrow_down, \"</span>\")],\n      fontColor: [\"\", lang.toolbar.fontColor, \"fontColor\", \"submenu\", icons.font_color],\n      hiliteColor: [\"\", lang.toolbar.hiliteColor, \"hiliteColor\", \"submenu\", icons.highlight_color],\n      align: [\"ke-btn-align\", lang.toolbar.align, \"align\", \"submenu\", options.rtl ? icons.align_right : icons.align_left],\n      list: [\"\", lang.toolbar.list, \"list\", \"submenu\", icons.list_number],\n      horizontalRule: [\"btn_line\", lang.toolbar.horizontalRule, \"horizontalRule\", \"submenu\", icons.horizontal_rule],\n      table: [\"\", lang.toolbar.table, \"table\", \"submenu\", icons.table],\n      lineHeight: [\"\", lang.toolbar.lineHeight, \"lineHeight\", \"submenu\", icons.line_height],\n      template: [\"\", lang.toolbar.template, \"template\", \"submenu\", icons.template],\n      paragraphStyle: [\"\", lang.toolbar.paragraphStyle, \"paragraphStyle\", \"submenu\", icons.paragraph_style],\n      textStyle: [\"\", lang.toolbar.textStyle, \"textStyle\", \"submenu\", icons.text_style],\n\n      /** plugins - dialog */\n      link: [\"\", lang.toolbar.link, \"link\", \"dialog\", icons.link],\n      image: [\"\", lang.toolbar.image, \"image\", \"dialog\", icons.image],\n      video: [\"\", lang.toolbar.video, \"video\", \"dialog\", icons.video],\n      audio: [\"\", lang.toolbar.audio, \"audio\", \"dialog\", icons.audio],\n      math: [\"\", lang.toolbar.math, \"math\", \"dialog\", icons.math],\n\n      /** plugins - fileBrowser */\n      imageGallery: [\"\", lang.toolbar.imageGallery, \"imageGallery\", \"fileBrowser\", icons.image_gallery]\n    };\n  },\n\n  /**\r\n   * @description Create a group div containing each module\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createModuleGroup: function _createModuleGroup() {\n    var oDiv = _util.default.createElement(\"DIV\");\n\n    oDiv.className = \"ke-btn-module ke-btn-module-border\";\n\n    var oUl = _util.default.createElement(\"UL\");\n\n    oUl.className = \"ke-menu-list\";\n    oDiv.appendChild(oUl);\n    return {\n      div: oDiv,\n      ul: oUl\n    };\n  },\n\n  /**\r\n   * @description Create a button element\r\n   * @param {string} buttonClass className in button\r\n   * @param {string} title Title in button\r\n   * @param {string} dataCommand The data-command property of the button\r\n   * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n   * @param {string} innerHTML Html in button\r\n   * @param {string} _disabled Button disabled\r\n   * @param {Object} _icons Icons\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createButton: function _createButton(buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n    var oLi = _util.default.createElement(\"LI\");\n\n    var oButton = _util.default.createElement(\"BUTTON\");\n\n    oButton.setAttribute(\"type\", \"button\");\n    oButton.setAttribute(\"class\", \"ke-btn\" + (buttonClass ? \" \" + buttonClass : \"\") + \" ke-tooltip\");\n    oButton.setAttribute(\"data-command\", dataCommand);\n    oButton.setAttribute(\"data-display\", dataDisplay);\n    oButton.setAttribute(\"tabindex\", \"-1\");\n    if (!innerHTML) innerHTML = '<span class=\"ke-icon-text\">!</span>';\n\n    if (/^default\\./i.test(innerHTML)) {\n      innerHTML = _icons[innerHTML.replace(/^default\\./i, \"\")];\n    }\n\n    if (/^text\\./i.test(innerHTML)) {\n      innerHTML = innerHTML.replace(/^text\\./i, \"\");\n      oButton.className += \" ke-btn-more-text\";\n    }\n\n    innerHTML += '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + (title || dataCommand) + \"</span></span>\";\n\n    if (_disabled) {\n      oButton.setAttribute(\"disabled\", true);\n    }\n\n    oButton.innerHTML = innerHTML;\n    oLi.appendChild(oButton);\n    return {\n      li: oLi,\n      button: oButton\n    };\n  },\n\n  /**\r\n   * @description Create editor HTML\r\n   * @param {Array} doc document object\r\n   * @param {Array} toolbarItem option.toolbarItem\r\n   * @param {Array|Object|null} _plugins Plugins\r\n   * @param {Array} options options\r\n   * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n   * @private\r\n   */\n  _createToolBar: function _createToolBar(doc, toolbarItem, _plugins, options) {\n    var separator_vertical = doc.createElement(\"DIV\");\n    separator_vertical.className = \"ke-toolbar-separator-vertical\";\n    var tool_bar = doc.createElement(\"DIV\");\n    tool_bar.className = \"ke-toolbar kothing-editor-common\";\n    var buttonTray = doc.createElement(\"DIV\");\n    buttonTray.className = \"ke-btn-tray\";\n    tool_bar.appendChild(buttonTray);\n    /** create button list */\n\n    toolbarItem = JSON.parse(JSON.stringify(toolbarItem));\n    var icons = options.icons;\n\n    var defaultToolbarItem = this._defaultButtons(options);\n\n    var pluginCallButtons = {};\n    var responsiveButtons = [];\n    var plugins = {};\n\n    if (_plugins) {\n      var pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n        return _plugins[name];\n      });\n\n      for (var i = 0, len = pluginsValues.length, p; i < len; i++) {\n        p = pluginsValues[i].default || pluginsValues[i];\n        plugins[p.name] = p;\n      }\n    }\n\n    var module = null;\n    var button = null;\n    var moduleElement = null;\n    var buttonElement = null;\n    var pluginName = \"\";\n    var vertical = false;\n\n    var moreLayer = _util.default.createElement(\"DIV\");\n\n    moreLayer.className = \"ke-toolbar-more-layer\";\n\n    buttonGroupLoop: for (var _i = 0, more, moreContainer, moreCommand, buttonGroup, align; _i < toolbarItem.length; _i++) {\n      more = false;\n      align = \"\";\n      buttonGroup = toolbarItem[_i];\n      moduleElement = this._createModuleGroup(); // button object\n\n      if (_typeof(buttonGroup) === \"object\") {\n        // buttons loop\n        for (var j = 0, moreButton; j < buttonGroup.length; j++) {\n          button = buttonGroup[j];\n          moreButton = false;\n\n          if (/^\\%\\d+/.test(button) && j === 0) {\n            buttonGroup[0] = button.replace(/[^\\d]/g, \"\");\n            responsiveButtons.push(buttonGroup);\n            toolbarItem.splice(_i--, 1);\n            continue buttonGroupLoop;\n          }\n\n          if (_typeof(button) === \"object\") {\n            if (typeof button.add === \"function\") {\n              pluginName = button.name;\n              module = defaultToolbarItem[pluginName];\n              plugins[pluginName] = button;\n            } else {\n              pluginName = button.name;\n              module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n            }\n          } else {\n            // align\n            if (/^\\-/.test(button)) {\n              align = button.substr(1);\n              moduleElement.div.style.float = align;\n              continue;\n            } // more button\n\n\n            if (/^\\:/.test(button)) {\n              moreButton = true;\n              var matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n              moreCommand = \"__ke__\" + matched[1].trim();\n              var title = matched[2].trim();\n              var innerHTML = matched[3].trim();\n              module = [\"ke-btn-more\", title, moreCommand, \"MORE\", innerHTML];\n            } // buttons\n            else {\n                module = defaultToolbarItem[button];\n              }\n\n            pluginName = button;\n\n            if (!module) {\n              var custom = plugins[pluginName];\n              if (!custom) throw Error(\"[KothingEditor.create.toolbar.fail] The button name of a plugin that does not exist. [\" + pluginName + \"]\");\n              module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n            }\n          }\n\n          buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n          (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n\n          if (plugins[pluginName]) {\n            pluginCallButtons[pluginName] = buttonElement.button;\n          } // more button\n\n\n          if (moreButton) {\n            more = true;\n            moreContainer = _util.default.createElement(\"DIV\");\n            moreContainer.className = \"ke-more-layer \" + moreCommand;\n            moreContainer.innerHTML = '<div class=\"ke-more-form\"><ul class=\"ke-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : \"\") + \"></ul></div>\";\n            moreLayer.appendChild(moreContainer);\n            moreContainer = moreContainer.firstElementChild.firstElementChild;\n          }\n        }\n\n        if (vertical) {\n          var sv = separator_vertical.cloneNode(false);\n          buttonTray.appendChild(sv);\n        }\n\n        buttonTray.appendChild(moduleElement.div);\n        vertical = true;\n      } else if (/^\\/$/.test(buttonGroup)) {\n        /** line break  */\n        var enterDiv = doc.createElement(\"DIV\");\n        enterDiv.className = \"ke-btn-module-enter\";\n        buttonTray.appendChild(enterDiv);\n        vertical = false;\n      }\n    }\n\n    switch (buttonTray.children.length) {\n      case 0:\n        buttonTray.style.display = \"none\";\n        break;\n\n      case 1:\n        _util.default.removeClass(buttonTray.firstElementChild, \"ke-btn-module-border\");\n\n        break;\n\n      default:\n        if (options.rtl) {\n          var _sv = separator_vertical.cloneNode(false);\n\n          _sv.style.float = buttonTray.lastElementChild.style.float;\n          buttonTray.appendChild(_sv);\n        }\n\n    }\n\n    if (responsiveButtons.length > 0) responsiveButtons.unshift(toolbarItem);\n    if (moreLayer.children.length > 0) buttonTray.appendChild(moreLayer); // menu tray\n\n    var menuTray = doc.createElement(\"DIV\");\n    menuTray.className = \"ke-menu-tray\";\n    tool_bar.appendChild(menuTray); // cover\n\n    var tool_cover = doc.createElement(\"DIV\");\n    tool_cover.className = \"ke-toolbar-cover\";\n    tool_bar.appendChild(tool_cover);\n    return {\n      element: tool_bar,\n      plugins: plugins,\n      pluginCallButtons: pluginCallButtons,\n      responsiveButtons: responsiveButtons,\n      menuTray: menuTray,\n      buttonTray: buttonTray\n    };\n  }\n};\nexports.default = _default2;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fileBrowser = _interopRequireDefault(require(\"../modules/fileBrowser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"imageGallery\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    core.addModule([_fileBrowser.default]);\n    var context = core.context;\n    context.imageGallery = {\n      title: core.lang.toolbar.imageGallery,\n      // @Required @Override fileBrowser - File browser window title.\n      url: core.options.imageGalleryUrl,\n      // @Required @Override fileBrowser - File server url.\n      header: core.options.imageGalleryHeader,\n      // @Required @Override fileBrowser - File server http header.\n      listClass: \"ke-image-list\",\n      // @Required @Override fileBrowser - Class name of list div.\n      itemTemplateHandler: this.drawItems,\n      // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n      selectorHandler: this.setImage.bind(core),\n      // @Required @Override fileBrowser - Function that action when item click.\n      columnSize: 4 // @Option @Override fileBrowser - Number of \"div.ke-file-item-column\" to be created (default: 4)\n\n    };\n  },\n\n  /**\r\n   * @Required @Override fileBrowser\r\n   * @description Open a file browser.\r\n   * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n   */\n  open: function open(selectorHandler) {\n    this.plugins.fileBrowser.open.call(this, \"imageGallery\", selectorHandler);\n  },\n\n  /**\r\n   * @Required @Override fileBrowser\r\n   * @description Define the HTML of the item to be put in \"div.ke-file-item-column\".\r\n   * Format: [\r\n   *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\r\n   * ]\r\n   * @param {Object} item Item of the response data's array\r\n   */\n  drawItems: function drawItems(item) {\n    var srcName = item.src.split(\"/\").pop();\n    return '<div class=\"ke-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' + '<div class=\"ke-file-img-name ke-file-name-back\"></div>' + '<div class=\"ke-file-img-name __ke__img_name\">' + (item.name || srcName) + \"</div>\" + \"</div>\";\n  },\n  setImage: function setImage(target) {\n    this.callPlugin(\"image\", function () {\n      var file = {\n        name: target.parentNode.querySelector(\".__ke__img_name\").textContent,\n        size: 0\n      };\n      this.context.image._altText = target.alt;\n      this.plugins.image.create_image.call(this, target.src, null, this.context.image._origin_w, this.context.image._origin_h, \"none\", file);\n    }.bind(this), null);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"es\",\n    toolbar: {\n      default: \"Valor por defecto\",\n      save: \"Guardar\",\n      font: \"Fuente\",\n      formats: \"Formato\",\n      fontSize: \"Tamaño de fuente\",\n      bold: \"Negrita\",\n      underline: \"Subrayado\",\n      italic: \"Cursiva\",\n      strike: \"Tachado\",\n      subscript: \"Subíndice\",\n      superscript: \"Superíndice\",\n      removeFormat: \"Eliminar formato\",\n      fontColor: \"Color de fuente\",\n      hiliteColor: \"Color de resaltado\",\n      indent: \"Más tabulación\",\n      outdent: \"Menos tabulación\",\n      align: \"Alinear\",\n      alignLeft: \"Alinear a la izquierda\",\n      alignRight: \"Alinear a la derecha\",\n      alignCenter: \"Alinear al centro\",\n      alignJustify: \"Justificar\",\n      list: \"Lista\",\n      orderList: \"Lista ordenada\",\n      unorderList: \"Lista desordenada\",\n      horizontalRule: \"Horizontal line\",\n      hr_solid: \"Línea horizontal solida\",\n      hr_dotted: \"Línea horizontal punteada\",\n      hr_dashed: \"Línea horizontal discontinua\",\n      table: \"Tabla\",\n      link: \"Link\",\n      math: \"Matemáticas\",\n      image: \"Imagen\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Pantalla completa\",\n      showBlocks: \"Ver bloques\",\n      codeView: \"Ver código fuente\",\n      undo: \"UndoDeshacer última acción\",\n      redo: \"Rehacer última acción\",\n      preview: \"Vista previa\",\n      print: \"Imprimir\",\n      tag_p: \"Párrafo\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Header\",\n      tag_blockquote: \"Cita\",\n      tag_pre: \"Código\",\n      template: \"Plantilla\",\n      lineHeight: \"Altura de la línea\",\n      paragraphStyle: \"Estilo del parrafo\",\n      textStyle: \"Estilo del texto\",\n      imageGallery: \"Galería de imágenes\",\n      mention: \"Mencionar\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Insertar Link\",\n        url: \"¿Hacia que URL lleva el link?\",\n        text: \"Texto para mostrar\",\n        newWindowCheck: \"Abrir en una nueva ventana\",\n        downloadLinkCheck: \"Enlace de descarga\",\n        bookmark: \"Marcador\"\n      },\n      mathBox: {\n        title: \"Matemáticas\",\n        inputLabel: \"Notación Matemática\",\n        fontSizeLabel: \"Tamaño de fuente\",\n        previewLabel: \"Vista previa\"\n      },\n      imageBox: {\n        title: \"Insertar imagen\",\n        file: \"Seleccionar desde los archivos\",\n        url: \"URL de la imagen\",\n        altText: \"Texto alternativo\"\n      },\n      videoBox: {\n        title: \"Insertar Video\",\n        file: \"Seleccionar desde los archivos\",\n        url: \"¿URL del vídeo? Youtube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Insertar Audio\",\n        file: \"Seleccionar desde los archivos\",\n        url: \"URL de la audio\"\n      },\n      browser: {\n        tags: \"Etiquetas\",\n        search: \"Buscar\"\n      },\n      caption: \"Insertar descripción\",\n      close: \"Cerrar\",\n      submitButton: \"Enviar\",\n      revertButton: \"revertir\",\n      proportion: \"Restringir las proporciones\",\n      basic: \"Basico\",\n      left: \"Izquierda\",\n      right: \"derecha\",\n      center: \"Centro\",\n      width: \"Ancho\",\n      height: \"Alto\",\n      size: \"Tamaño\",\n      ratio: \"Proporción\"\n    },\n    controller: {\n      edit: \"Editar\",\n      unlink: \"Desvincular\",\n      remove: \"RemoveQuitar\",\n      insertRowAbove: \"Insertar fila arriba\",\n      insertRowBelow: \"Insertar fila debajo\",\n      deleteRow: \"Eliminar fila\",\n      insertColumnBefore: \"Insertar columna antes\",\n      insertColumnAfter: \"Insertar columna después\",\n      deleteColumn: \"Eliminar columna\",\n      fixedColumnWidth: \"Ancho de columna fijo\",\n      resize100: \"Redimensionar 100%\",\n      resize75: \"Redimensionar 75%\",\n      resize50: \"Redimensionar 50%\",\n      resize25: \"Redimensionar 25%\",\n      autoSize: \"Tamaño automático\",\n      mirrorHorizontal: \"Espejo, Horizontal\",\n      mirrorVertical: \"Espejo, Vertical\",\n      rotateLeft: \"Girar a la izquierda\",\n      rotateRight: \"Girar a la derecha\",\n      maxSize: \"Tamaño máximo\",\n      minSize: \"Tamaño minímo\",\n      tableHeader: \"Encabezado de tabla\",\n      mergeCells: \"Combinar celdas\",\n      splitCells: \"Dividir celdas\",\n      HorizontalSplit: \"División horizontal\",\n      VerticalSplit: \"División vertical\"\n    },\n    menu: {\n      spaced: \"Espaciado\",\n      bordered: \"Bordeado\",\n      neon: \"Neón\",\n      translucent: \"Translúcido\",\n      shadow: \"Sombreado\",\n      code: \"Código\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"es\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ja\",\n    toolbar: {\n      default: \"デフォルト\",\n      save: \"保存\",\n      font: \"フォント\",\n      formats: \"段落形式\",\n      fontSize: \"サイズ\",\n      bold: \"太字\",\n      underline: \"下線\",\n      italic: \"イタリック\",\n      strike: \"取り消し線\",\n      subscript: \"下付き\",\n      superscript: \"上付き\",\n      removeFormat: \"形式を削除\",\n      fontColor: \"文字色\",\n      hiliteColor: \"文字の背景色\",\n      indent: \"インデント\",\n      outdent: \"インデント\",\n      align: \"ソート\",\n      alignLeft: \"左揃え\",\n      alignRight: \"右揃え\",\n      alignCenter: \"中央揃え\",\n      alignJustify: \"両端揃え\",\n      list: \"リスト\",\n      orderList: \"数値ブリット\",\n      unorderList: \"円形ブリット\",\n      horizontalRule: \"水平線を挿入\",\n      hr_solid: \"実線\",\n      hr_dotted: \"点線\",\n      hr_dashed: \"ダッシュ\",\n      table: \"テーブル\",\n      link: \"リンク\",\n      math: \"数学\",\n      image: \"画像\",\n      video: \"動画\",\n      audio: \"オーディオ\",\n      fullScreen: \"フルスクリーン\",\n      showBlocks: \"ブロック表示\",\n      codeView: \"HTMLの編集\",\n      undo: \"元に戻す\",\n      redo: \"再実行\",\n      preview: \"プレビュー\",\n      print: \"印刷\",\n      tag_p: \"本文\",\n      tag_div: \"基本（DIV）\",\n      tag_h: \"タイトル\",\n      tag_blockquote: \"引用\",\n      tag_pre: \"コード\",\n      template: \"テンプレート\",\n      lineHeight: \"行の高さ\",\n      paragraphStyle: \"段落スタイル\",\n      textStyle: \"テキストスタイル\",\n      imageGallery: \"イメージギャラリー\",\n      mention: \"言及する\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"リンクの挿入\",\n        url: \"インターネットアドレス\",\n        text: \"画面のテキスト\",\n        newWindowCheck: \"別ウィンドウで開く\",\n        downloadLinkCheck: \"ダウンロードリンク\",\n        bookmark: \"ブックマーク\"\n      },\n      mathBox: {\n        title: \"数学\",\n        inputLabel: \"数学表記\",\n        fontSizeLabel: \"サイズ\",\n        previewLabel: \"プレビュー\"\n      },\n      imageBox: {\n        title: \"画像の挿入\",\n        file: \"ファイルの選択\",\n        url: \"イメージアドレス\",\n        altText: \"置換文字列\"\n      },\n      videoBox: {\n        title: \"動画を挿入\",\n        file: \"ファイルの選択\",\n        url: \"メディア埋め込みアドレス, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"オーディオを挿入\",\n        file: \"ファイルの選択\",\n        url: \"オーディオアドレス\"\n      },\n      browser: {\n        tags: \"タグ\",\n        search: \"探す\"\n      },\n      caption: \"説明付け\",\n      close: \"閉じる\",\n      submitButton: \"確認\",\n      revertButton: \"元に戻す\",\n      proportion: \"の割合カスタマイズ\",\n      basic: \"基本\",\n      left: \"左\",\n      right: \"右\",\n      center: \"中央\",\n      width: \"横\",\n      height: \"縦\",\n      size: \"サイズ\",\n      ratio: \"比率\"\n    },\n    controller: {\n      edit: \"編集\",\n      unlink: \"リンク解除\",\n      remove: \"削除\",\n      insertRowAbove: \"上に行を挿入\",\n      insertRowBelow: \"下に行を挿入\",\n      deleteRow: \"行の削除\",\n      insertColumnBefore: \"左に列を挿入\",\n      insertColumnAfter: \"右に列を挿入\",\n      deleteColumn: \"列を削除する\",\n      fixedColumnWidth: \"固定列幅\",\n      resize100: \"100％ サイズ\",\n      resize75: \"75％ サイズ\",\n      resize50: \"50％ サイズ\",\n      resize25: \"25％ サイズ\",\n      autoSize: \"自動サイズ\",\n      mirrorHorizontal: \"左右反転\",\n      mirrorVertical: \"上下反転\",\n      rotateLeft: \"左に回転\",\n      rotateRight: \"右に回転\",\n      maxSize: \"最大サイズ\",\n      minSize: \"最小サイズ\",\n      tableHeader: \"表のヘッダー\",\n      mergeCells: \"セルの結合\",\n      splitCells: \"セルを分割\",\n      HorizontalSplit: \"横分割\",\n      VerticalSplit: \"垂直分割\"\n    },\n    menu: {\n      spaced: \"文字間隔\",\n      bordered: \"境界線\",\n      neon: \"ネオン\",\n      translucent: \"半透明\",\n      shadow: \"影\",\n      code: \"コード\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ja\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"he\",\n    toolbar: {\n      default: \"ברירת מחדל\",\n      save: \"שמור\",\n      font: \"גופן\",\n      formats: \"עיצוב\",\n      fontSize: \"גודל\",\n      bold: \"מודגש\",\n      underline: \"קו תחתון\",\n      italic: \"נטוי\",\n      strike: \"קו חוצה\",\n      subscript: \"עילי\",\n      superscript: \"תחתי\",\n      removeFormat: \"הסר עיצוב\",\n      fontColor: \"צבע גופן\",\n      hiliteColor: \"צבע קו תחתון\",\n      indent: \"הגדל כניסה\",\n      outdent: \"הקטן כניסה\",\n      align: \"יישור\",\n      alignLeft: \"יישר לשמאל\",\n      alignRight: \"יישר לימין\",\n      alignCenter: \"מרכז\",\n      alignJustify: \"יישר לשני הצדדים\",\n      list: \"רשימה\",\n      orderList: \"מספור\",\n      unorderList: \"תבליטים\",\n      horizontalRule: \"קו אופקי\",\n      hr_solid: \"קו\",\n      hr_dotted: \"נקודות\",\n      hr_dashed: \"מקפים\",\n      table: \"טבלה\",\n      link: \"קישור\",\n      math: \"מתמטיקה\",\n      image: \"תמונה\",\n      video: \"חוזי\",\n      audio: \"שמע\",\n      fullScreen: \"מסך מלא\",\n      showBlocks: \"הצג גושים\",\n      codeView: \"הצג קוד\",\n      undo: \"בטל\",\n      redo: \"חזור\",\n      preview: \"תצוגה מקדימה\",\n      print: \"הדפס\",\n      tag_p: \"פסקה\",\n      tag_div: \"רגילה (DIV)\",\n      tag_h: \"כותרת\",\n      tag_blockquote: \"ציטוט\",\n      tag_pre: \"קוד\",\n      template: \"תבנית\",\n      lineHeight: \"גובה השורה\",\n      paragraphStyle: \"סגנון פסקה\",\n      textStyle: \"סגנון גופן\",\n      imageGallery: \"גלרית תמונות\",\n      mention: \"הזכר\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"הכנס קשור\",\n        url: \"כתובת קשור\",\n        text: \"תיאור\",\n        newWindowCheck: \"פתח בחלון חדש\",\n        downloadLinkCheck: \"קישור להורדה\",\n        bookmark: \"סמניה\"\n      },\n      mathBox: {\n        title: \"נוסחה\",\n        inputLabel: \"סימנים מתמטים\",\n        fontSizeLabel: \"גודל גופן\",\n        previewLabel: \"תצוגה מקדימה\"\n      },\n      imageBox: {\n        title: \"הכנס תמונה\",\n        file: \"בחר מקובץ\",\n        url: \"כתובת URL תמונה\",\n        altText: \"תיאור (תגית alt)\"\n      },\n      videoBox: {\n        title: \"הכנס סרטון\",\n        file: \"בחר מקובץ\",\n        url: \"כתובת הטמעה YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"הכנס שמע\",\n        file: \"בחר מקובץ\",\n        url: \"כתובת URL שמע\"\n      },\n      browser: {\n        tags: \"תג\",\n        search: \"חפש\"\n      },\n      caption: \"הכנס תיאור\",\n      close: \"סגור\",\n      submitButton: \"שלח\",\n      revertButton: \"בטל\",\n      proportion: \"שמר יחס\",\n      basic: \"בסיסי\",\n      left: \"שמאל\",\n      right: \"ימין\",\n      center: \"מרכז\",\n      width: \"רוחב\",\n      height: \"גובה\",\n      size: \"גודל\",\n      ratio: \"יחס\"\n    },\n    controller: {\n      edit: \"ערוך\",\n      unlink: \"הסר קישורים\",\n      remove: \"הסר\",\n      insertRowAbove: \"הכנס שורה מעל\",\n      insertRowBelow: \"הכנס שורה מתחת\",\n      deleteRow: \"מחק שורה\",\n      insertColumnBefore: \"הכנס עמודה לפני\",\n      insertColumnAfter: \"הכנס עמודה אחרי\",\n      deleteColumn: \"מחק עמודה\",\n      fixedColumnWidth: \"קבע רוחב עמודות\",\n      resize100: \"ללא הקטנה\",\n      resize75: \"הקטן 75%\",\n      resize50: \"הקטן 50%\",\n      resize25: \"הקטן 25%\",\n      autoSize: \"הקטן אוטומטית\",\n      mirrorHorizontal: \"הפוך לרוחב\",\n      mirrorVertical: \"הפוך לגובה\",\n      rotateLeft: \"סובב שמאלה\",\n      rotateRight: \"סובב ימינה\",\n      maxSize: \"גודל מרבי\",\n      minSize: \"גודל מזערי\",\n      tableHeader: \"כותרת טבלה\",\n      mergeCells: \"מזג תאים\",\n      splitCells: \"פצל תא\",\n      HorizontalSplit: \"פצל לגובה\",\n      VerticalSplit: \"פצל לרוחב\"\n    },\n    menu: {\n      spaced: \"מרווח\",\n      bordered: \"בעל מיתאר\",\n      neon: \"זוהר\",\n      translucent: \"שקוף למחצה\",\n      shadow: \"צל\",\n      code: \"קוד\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"he\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var resizing = {\n    name: \"resizing\",\n\n    /**\r\n         * @description Constructor\r\n         * Require context properties when resizing module\r\n            inputX: Element,\r\n            inputY: Element,\r\n            _container: null,\r\n            _cover: null,\r\n            _element: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: 'auto',\r\n            _defaultSizeY: 'auto',\r\n            _origin_w: core.options.imageWidth === 'auto' ? '' : core.options.imageWidth,\r\n            _origin_h: core.options.imageHeight === 'auto' ? '' : core.options.imageHeight,\r\n            _proportionChecked: true,\r\n            // -- select function --\r\n            _resizing: core.options.imageResizing,\r\n            _resizeDotHide: !core.options.imageHeightShow,\r\n            _rotation: core.options.imageRotation,\r\n            _onlyPercentage: core.options.imageSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1\r\n            _captionShow: true,\r\n            // -- when used caption (_captionShow: true) --\r\n            _caption: null,\r\n            _captionChecked: false,\r\n            captionCheckEl: null,\r\n         * @param {Object} core Core object \r\n         */\n    add: function add(core) {\n      var icons = core.icons;\n      var context = core.context;\n      context.resizing = {\n        _resizeClientX: 0,\n        _resizeClientY: 0,\n        _resize_plugin: \"\",\n        _resize_w: 0,\n        _resize_h: 0,\n        _origin_w: 0,\n        _origin_h: 0,\n        _rotateVertical: false,\n        _resize_direction: \"\",\n        _move_path: null,\n        _isChange: false,\n        alignIcons: {\n          basic: icons.align_justify,\n          left: icons.align_left,\n          right: icons.align_right,\n          center: icons.align_center\n        }\n      };\n      /** resize controller, button */\n\n      var resize_div_container = this.setController_resize(core);\n      context.resizing.resizeContainer = resize_div_container;\n      context.resizing.resizeDiv = resize_div_container.querySelector(\".ke-modal-resize\");\n      context.resizing.resizeDot = resize_div_container.querySelector(\".ke-resize-dot\");\n      context.resizing.resizeDisplay = resize_div_container.querySelector(\".ke-resize-display\");\n      var resize_button = this.setController_button(core);\n      context.resizing.resizeButton = resize_button;\n      var resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll(\"span\");\n      context.resizing.resizeButtonGroup = resize_button.querySelector(\"._ke_resizing_btn_group\");\n      context.resizing.rotationButtons = resize_button.querySelectorAll(\"._ke_resizing_btn_group ._ke_rotation\");\n      context.resizing.percentageButtons = resize_button.querySelectorAll(\"._ke_resizing_btn_group ._ke_percentage\");\n      context.resizing.alignMenu = resize_button.querySelector(\".ke-resizing-align-list\");\n      context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll(\"button\");\n      context.resizing.alignButton = resize_button.querySelector(\"._ke_resizing_align_button\");\n      context.resizing.autoSizeButton = resize_button.querySelector(\"._ke_resizing_btn_group ._ke_auto_size\");\n      context.resizing.captionButton = resize_button.querySelector(\"._ke_resizing_caption_button\");\n      /** add event listeners */\n\n      resize_div_container.addEventListener(\"mousedown\", function (e) {\n        e.preventDefault();\n      });\n      resize_handles[0].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[1].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[2].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[3].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[4].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[5].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[6].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[7].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_button.addEventListener(\"click\", this.onClick_resizeButton.bind(core));\n      /** append html */\n\n      context.element.relative.appendChild(resize_div_container);\n      context.element.relative.appendChild(resize_button);\n      /** empty memory */\n\n      resize_div_container = null, resize_button = null, resize_handles = null;\n    },\n\n    /** resize controller, button (image, iframe, video) */\n    setController_resize: function setController_resize(core) {\n      var resize_container = core.util.createElement(\"DIV\");\n      resize_container.className = \"ke-controller ke-resizing-container\";\n      resize_container.style.display = \"none\";\n      resize_container.innerHTML = \"\" + '<div class=\"ke-modal-resize\"></div>' + '<div class=\"ke-resize-dot\">' + '<span class=\"tl\"></span>' + '<span class=\"tr\"></span>' + '<span class=\"bl\"></span>' + '<span class=\"br\"></span>' + '<span class=\"lw\"></span>' + '<span class=\"th\"></span>' + '<span class=\"rw\"></span>' + '<span class=\"bh\"></span>' + '<div class=\"ke-resize-display\"></div>' + \"</div>\";\n      return resize_container;\n    },\n    setController_button: function setController_button(core) {\n      var lang = core.lang;\n      var icons = core.icons;\n      var resize_button = core.util.createElement(\"DIV\");\n      resize_button.className = \"ke-controller ke-controller-resizing\";\n      resize_button.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"ke-btn-group _ke_resizing_btn_group\">' + '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"ke-tooltip _ke_percentage\">' + \"<span>100%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize100 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"ke-tooltip _ke_percentage\">' + \"<span>75%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize75 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"ke-tooltip _ke_percentage\">' + \"<span>50%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize50 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"auto\" class=\"ke-btn ke-tooltip _ke_auto_size\">' + icons.auto_size + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.autoSize + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"ke-btn ke-tooltip _ke_rotation\">' + icons.rotate_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.rotateLeft + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"ke-btn ke-tooltip _ke_rotation\">' + icons.rotate_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.rotateRight + \"</span></span>\" + \"</button>\" + \"</div>\" + '<div class=\"ke-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"ke-btn ke-tooltip\">' + icons.mirror_horizontal + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mirrorHorizontal + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"ke-btn ke-tooltip\">' + icons.mirror_vertical + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mirrorVertical + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"onalign\" class=\"ke-btn ke-tooltip _ke_resizing_align_button\">' + icons.align_justify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.toolbar.align + \"</span></span>\" + \"</button>\" + '<div class=\"ke-btn-group-sub kothing-editor-common ke-list-layer ke-resizing-align-list\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"basic\">' + icons.align_justify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.basic + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"left\">' + icons.align_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.left + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"center\">' + icons.align_center + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.center + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"right\">' + icons.align_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.right + \"</span></span>\" + \"</button></li>\" + \"</ul>\" + \"</div>\" + \"</div>\" + '<button type=\"button\" data-command=\"caption\" class=\"ke-btn ke-tooltip _ke_resizing_caption_button\">' + icons.caption + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.caption + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"revert\" class=\"ke-btn ke-tooltip\">' + icons.revert + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.revertButton + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"update\" class=\"ke-btn ke-tooltip\">' + icons.modify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\";\n      return resize_button;\n    },\n\n    /**\r\n     * @description Gets the width size\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Element} element Target element\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {Element} container Container element (DIV.ke-component)\r\n     * @returns {String}\r\n     */\n    _module_getSizeX: function _module_getSizeX(contextPlugin, element, cover, container) {\n      if (!element) {\n        element = contextPlugin._element;\n      }\n\n      if (!cover) {\n        cover = contextPlugin._cover;\n      }\n\n      if (!container) {\n        container = contextPlugin._container;\n      }\n\n      if (!element) {\n        return \"\";\n      }\n\n      return !/%$/.test(element.style.width) ? element.style.width : (container && this.util.getNumber(container.style.width, 2) || 100) + \"%\";\n    },\n\n    /**\r\n     * @description Gets the height size\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Element} element Target element\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {Element} container Container element (DIV.ke-component)\r\n     * @returns {String}\r\n     */\n    _module_getSizeY: function _module_getSizeY(contextPlugin, element, cover, container) {\n      if (!element) {\n        element = contextPlugin._element;\n      }\n\n      if (!cover) {\n        cover = contextPlugin._cover;\n      }\n\n      if (!container) {\n        container = contextPlugin._container;\n      }\n\n      if (!container || !cover) {\n        return element && element.style.height || \"\";\n      }\n\n      return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : !/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (container && this.util.getNumber(container.style.height, 2) || 100) + \"%\";\n    },\n\n    /**\r\n     * @description Called at the \"openModify\" to put the size of the current target into the size input element.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Object} pluginObj Plugin object\r\n     */\n    _module_setModifyInputSize: function _module_setModifyInputSize(contextPlugin, pluginObj) {\n      var percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n      contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute(\"data-proportion\") !== \"false\";\n      var x = percentageRotation ? \"\" : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n      if (x === contextPlugin._defaultSizeX) {\n        x = \"\";\n      }\n\n      if (contextPlugin._onlyPercentage) {\n        x = this.util.getNumber(x, 2);\n      }\n\n      contextPlugin.inputX.value = x;\n      pluginObj.setInputSize.call(this, \"x\");\n\n      if (!contextPlugin._onlyPercentage) {\n        var y = percentageRotation ? \"\" : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n        if (y === contextPlugin._defaultSizeY) {\n          y = \"\";\n        }\n\n        if (contextPlugin._onlyPercentage) {\n          y = this.util.getNumber(y, 2);\n        }\n\n        contextPlugin.inputY.value = y;\n      }\n\n      contextPlugin.inputX.disabled = percentageRotation ? true : false;\n      contextPlugin.inputY.disabled = percentageRotation ? true : false;\n      contextPlugin.proportion.disabled = percentageRotation ? true : false;\n      pluginObj.setRatio.call(this);\n    },\n\n    /**\r\n     * @description It is called in \"setInputSize\" (input tag keyupEvent),\r\n     * checks the value entered in the input tag,\r\n     * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {String} xy 'x': width, 'y': height\r\n     */\n    _module_setInputSize: function _module_setInputSize(contextPlugin, xy) {\n      if (contextPlugin._onlyPercentage) {\n        if (xy === \"x\" && contextPlugin.inputX.value > 100) {\n          contextPlugin.inputX.value = 100;\n        }\n\n        return;\n      }\n\n      if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n        var xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n        var yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n\n        if (xUnit !== yUnit) {\n          return;\n        }\n\n        var dec = xUnit === \"%\" ? 2 : 0;\n\n        if (xy === \"x\") {\n          contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n        } else {\n          contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n        }\n      }\n    },\n\n    /**\r\n     * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent),\r\n     * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_setRatio: function _module_setRatio(contextPlugin) {\n      var xValue = contextPlugin.inputX.value;\n      var yValue = contextPlugin.inputY.value;\n\n      if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n        var xUnit = xValue.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n        var yUnit = yValue.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n\n        if (xUnit !== yUnit) {\n          contextPlugin._ratio = false;\n        } else if (!contextPlugin._ratio) {\n          var x = this.util.getNumber(xValue, 0);\n          var y = this.util.getNumber(yValue, 0);\n          contextPlugin._ratio = true;\n          contextPlugin._ratioX = x / y;\n          contextPlugin._ratioY = y / x;\n        }\n      } else {\n        contextPlugin._ratio = false;\n      }\n    },\n\n    /**\r\n     * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_sizeRevert: function _module_sizeRevert(contextPlugin) {\n      if (contextPlugin._onlyPercentage) {\n        contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n      } else {\n        contextPlugin.inputX.value = contextPlugin._origin_w;\n        contextPlugin.inputY.value = contextPlugin._origin_h;\n      }\n    },\n\n    /**\r\n     * @description Save the size data (element.setAttribute(\"data-size\"))\r\n     * Used at the \"setSize\" method\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_saveCurrentSize: function _module_saveCurrentSize(contextPlugin) {\n      var x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n      var y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n      contextPlugin._element.setAttribute(\"data-size\", x + \",\" + y);\n\n      if (contextPlugin._videoRatio) {\n        contextPlugin._videoRatio = y;\n      }\n    },\n\n    /**\r\n     * @description Call the resizing module\r\n     * @param {Element} targetElement Resizing target element\r\n     * @param {string} plugin Plugin name\r\n     * @returns {Object} Size of resizing div {w, h, t, l}\r\n     */\n    call_controller_resize: function call_controller_resize(targetElement, plugin) {\n      var contextResizing = this.context.resizing;\n      var contextPlugin = this.context[plugin];\n      contextResizing._resize_plugin = plugin;\n      var resizeContainer = contextResizing.resizeContainer;\n      var resizeDiv = contextResizing.resizeDiv;\n      var offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n      var isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute(\"data-rotate\")).toString());\n      var w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n      var h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n      var t = offset.top;\n      var l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n      resizeContainer.style.top = t + \"px\";\n      resizeContainer.style.left = l + \"px\";\n      resizeContainer.style.width = w + \"px\";\n      resizeContainer.style.height = h + \"px\";\n      resizeDiv.style.top = \"0px\";\n      resizeDiv.style.left = \"0px\";\n      resizeDiv.style.width = w + \"px\";\n      resizeDiv.style.height = h + \"px\";\n      var align = targetElement.getAttribute(\"data-align\") || \"basic\";\n      align = align === \"none\" ? \"basic\" : align; // text\n\n      var container = this.util.getParentElement(targetElement, this.util.isComponent);\n      var cover = this.util.getParentElement(targetElement, \"FIGURE\");\n      var displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || \"auto\";\n      var displayY = contextPlugin._onlyPercentage && plugin === \"image\" ? \"\" : \", \" + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || \"auto\");\n      this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + \" (\" + displayX + displayY + \")\"); // resizing display\n\n      contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? \"\" : \"none\";\n      var resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? \"flex\" : \"none\";\n      var resizeHandles = contextResizing.resizeHandles;\n\n      for (var i = 0, len = resizeHandles.length; i < len; i++) {\n        resizeHandles[i].style.display = resizeDotShow;\n      }\n\n      if (contextPlugin._resizing) {\n        var rotations = contextResizing.rotationButtons;\n        rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? \"\" : \"none\";\n      } // align icon\n\n\n      var alignList = contextResizing.alignMenuList;\n      this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n\n      for (var _i = 0, _len = alignList.length; _i < _len; _i++) {\n        if (alignList[_i].getAttribute(\"data-value\") === align) {\n          this.util.addClass(alignList[_i], \"on\");\n        } else {\n          this.util.removeClass(alignList[_i], \"on\");\n        }\n      } // percentage active\n\n\n      var pButtons = contextResizing.percentageButtons;\n      var value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? this.util.getNumber(container.style.width, 0) / 100 + \"\" : \"\";\n\n      for (var _i2 = 0, _len2 = pButtons.length; _i2 < _len2; _i2++) {\n        if (pButtons[_i2].getAttribute(\"data-value\") === value) {\n          this.util.addClass(pButtons[_i2], \"active\");\n        } else {\n          this.util.removeClass(pButtons[_i2], \"active\");\n        }\n      } // caption display, active\n\n\n      if (!contextPlugin._captionShow) {\n        contextResizing.captionButton.style.display = \"none\";\n      } else {\n        contextResizing.captionButton.style.display = \"\";\n\n        if (this.util.getChildElement(targetElement.parentNode, \"figcaption\")) {\n          this.util.addClass(contextResizing.captionButton, \"active\");\n          contextPlugin._captionChecked = true;\n        } else {\n          this.util.removeClass(contextResizing.captionButton, \"active\");\n          contextPlugin._captionChecked = false;\n        }\n      }\n\n      resizeContainer.style.display = \"block\";\n      var addOffset = {\n        left: 0,\n        top: 50\n      };\n\n      if (this.options.iframe) {\n        addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\n        addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\n      }\n\n      this.setControllerPosition(contextResizing.resizeButton, resizeContainer, \"bottom\", addOffset);\n      this.controllersOn(resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n      this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n      contextResizing._resize_w = w;\n      contextResizing._resize_h = h;\n      var originSize = (targetElement.getAttribute(\"origin-size\") || \"\").split(\",\");\n      contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n      contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n      return {\n        w: w,\n        h: h,\n        t: t,\n        l: l\n      };\n    },\n    _closeAlignMenu: null,\n\n    /**\r\n     * @description Open align submenu of module\r\n     */\n    openAlignMenu: function openAlignMenu() {\n      var alignButton = this.context.resizing.alignButton;\n      this.util.addClass(alignButton, \"on\");\n      this.context.resizing.alignMenu.style.top = alignButton.offsetTop + alignButton.offsetHeight + \"px\";\n      this.context.resizing.alignMenu.style.left = alignButton.offsetLeft - alignButton.offsetWidth / 2 + \"px\";\n      this.context.resizing.alignMenu.style.display = \"block\";\n\n      this.plugins.resizing._closeAlignMenu = function () {\n        this.util.removeClass(this.context.resizing.alignButton, \"on\");\n        this.context.resizing.alignMenu.style.display = \"none\";\n        this.removeDocEvent(\"click\", this.plugins.resizing._closeAlignMenu);\n        this.plugins.resizing._closeAlignMenu = null;\n      }.bind(this);\n\n      this.addDocEvent(\"click\", this.plugins.resizing._closeAlignMenu);\n    },\n\n    /**\r\n     * @description Click event of resizing toolbar\r\n     * Performs the action of the clicked toolbar button.\r\n     * @param {MouseEvent} e Event object\r\n     */\n    onClick_resizeButton: function onClick_resizeButton(e) {\n      e.stopPropagation();\n      var target = e.target;\n      var command = target.getAttribute(\"data-command\") || target.parentNode.getAttribute(\"data-command\");\n\n      if (!command) {\n        return;\n      }\n\n      var value = target.getAttribute(\"data-value\") || target.parentNode.getAttribute(\"data-value\");\n      var pluginName = this.context.resizing._resize_plugin;\n      var currentContext = this.context[pluginName];\n      var contextEl = currentContext._element;\n      var currentModule = this.plugins[pluginName];\n      e.preventDefault();\n\n      if (typeof this.plugins.resizing._closeAlignMenu === \"function\") {\n        this.plugins.resizing._closeAlignMenu();\n\n        if (command === \"onalign\") {\n          return;\n        }\n      }\n\n      switch (command) {\n        case \"auto\":\n          this.plugins.resizing.resetTransform.call(this, contextEl);\n          currentModule.setAutoSize.call(this);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"percent\":\n          var percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n\n          if (this.context.resizing._rotateVertical) {\n            var percentage = contextEl.getAttribute(\"data-percentage\");\n\n            if (percentage) {\n              percentY = percentage.split(\",\")[1];\n            }\n          }\n\n          this.plugins.resizing.resetTransform.call(this, contextEl);\n          currentModule.setPercentSize.call(this, value * 100, this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY) ? \"\" : percentY);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"mirror\":\n          var r = contextEl.getAttribute(\"data-rotate\") || \"0\";\n          var x = contextEl.getAttribute(\"data-rotateX\") || \"\";\n          var y = contextEl.getAttribute(\"data-rotateY\") || \"\";\n\n          if (value === \"h\" && !this.context.resizing._rotateVertical || value === \"v\" && this.context.resizing._rotateVertical) {\n            y = y ? \"\" : \"180\";\n          } else {\n            x = x ? \"\" : \"180\";\n          }\n\n          contextEl.setAttribute(\"data-rotateX\", x);\n          contextEl.setAttribute(\"data-rotateY\", y);\n\n          this.plugins.resizing._setTransForm(contextEl, r, x, y);\n\n          break;\n\n        case \"rotate\":\n          var contextResizing = this.context.resizing;\n          var slope = contextEl.getAttribute(\"data-rotate\") * 1 + value * 1;\n          var deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n          contextEl.setAttribute(\"data-rotate\", deg);\n          contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n          this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"onalign\":\n          this.plugins.resizing.openAlignMenu.call(this);\n          return;\n\n        case \"align\":\n          var alignValue = value === \"basic\" ? \"none\" : value;\n          currentModule.setAlign.call(this, alignValue, null, null, null);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"caption\":\n          var caption = !currentContext._captionChecked;\n          currentModule.openModify.call(this, true);\n          currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n          currentModule.update_image.call(this, false, false, false);\n\n          if (caption) {\n            var captionText = this.util.getChildElement(currentContext._caption, function (current) {\n              return current.nodeType === 3;\n            });\n\n            if (!captionText) {\n              currentContext._caption.focus();\n            } else {\n              this.setRange(captionText, 0, captionText, captionText.textContent.length);\n            }\n\n            this.controllersOff();\n          } else {\n            this.selectComponent(contextEl, pluginName);\n            currentModule.openModify.call(this, true);\n          }\n\n          break;\n\n        case \"revert\":\n          currentModule.setOriginSize.call(this);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"update\":\n          currentModule.openModify.call(this);\n          this.controllersOff();\n          break;\n\n        case \"delete\":\n          currentModule.destroy.call(this);\n          break;\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description Initialize the transform style (rotation) of the element.\r\n     * @param {Element} element Target element\r\n     */\n    resetTransform: function resetTransform(element) {\n      var size = (element.getAttribute(\"data-size\") || element.getAttribute(\"data-origin\") || \"\").split(\",\");\n      this.context.resizing._rotateVertical = false;\n      element.style.maxWidth = \"\";\n      element.style.transform = \"\";\n      element.style.transformOrigin = \"\";\n      element.setAttribute(\"data-rotate\", \"\");\n      element.setAttribute(\"data-rotateX\", \"\");\n      element.setAttribute(\"data-rotateY\", \"\");\n\n      this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : \"auto\", size[1] ? size[1] : \"\", true);\n    },\n\n    /**\r\n     * @description Set the transform style (rotation) of the element.\r\n     * @param {Element} element Target element\r\n     * @param {Number|null} width Element's width size\r\n     * @param {Number|null} height Element's height size\r\n     */\n    setTransformSize: function setTransformSize(element, width, height) {\n      var percentage = element.getAttribute(\"data-percentage\");\n      var isVertical = this.context.resizing._rotateVertical;\n      var deg = element.getAttribute(\"data-rotate\") * 1;\n      var transOrigin = \"\";\n\n      if (percentage && !isVertical) {\n        percentage = percentage.split(\",\");\n\n        if (percentage[0] === \"auto\" && percentage[1] === \"auto\") {\n          this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n        } else {\n          this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n        }\n      } else {\n        var cover = this.util.getParentElement(element, \"FIGURE\");\n        var offsetW = width || element.offsetWidth;\n        var offsetH = height || element.offsetHeight;\n        var w = (isVertical ? offsetH : offsetW) + \"px\";\n        var h = (isVertical ? offsetW : offsetH) + \"px\";\n\n        this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + \"px\", offsetH + \"px\", true);\n\n        cover.style.width = w;\n        cover.style.height = this.context[this.context.resizing._resize_plugin]._caption ? \"\" : h;\n\n        if (isVertical) {\n          var transW = offsetW / 2 + \"px \" + offsetW / 2 + \"px 0\";\n          var transH = offsetH / 2 + \"px \" + offsetH / 2 + \"px 0\";\n          transOrigin = deg === 90 || deg === -270 ? transH : transW;\n        }\n      }\n\n      element.style.transformOrigin = transOrigin;\n\n      this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute(\"data-rotateX\") || \"\", element.getAttribute(\"data-rotateY\") || \"\");\n\n      if (isVertical) {\n        element.style.maxWidth = \"none\";\n      } else {\n        element.style.maxWidth = \"\";\n      }\n\n      this.plugins.resizing.setCaptionPosition.call(this, element);\n    },\n    _setTransForm: function _setTransForm(element, r, x, y) {\n      var width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n      var translate = \"\";\n\n      if (/[1-9]/.test(r) && (x || y)) {\n        translate = x ? \"Y\" : \"X\";\n\n        switch (r) {\n          case \"90\":\n            translate = x && y ? \"X\" : y ? translate : \"\";\n            break;\n\n          case \"270\":\n            width *= -1;\n            translate = x && y ? \"Y\" : x ? translate : \"\";\n            break;\n\n          case \"-90\":\n            translate = x && y ? \"Y\" : x ? translate : \"\";\n            break;\n\n          case \"-270\":\n            width *= -1;\n            translate = x && y ? \"X\" : y ? translate : \"\";\n            break;\n\n          default:\n            translate = \"\";\n        }\n      }\n\n      if (r % 180 === 0) {\n        element.style.maxWidth = \"\";\n      }\n\n      element.style.transform = \"rotate(\" + r + \"deg)\" + (x ? \" rotateX(\" + x + \"deg)\" : \"\") + (y ? \" rotateY(\" + y + \"deg)\" : \"\") + (translate ? \" translate\" + translate + \"(\" + width + \"px)\" : \"\");\n    },\n\n    /**\r\n     * @description The position of the caption is set automatically.\r\n     * @param {Element} element Target element (not caption element)\r\n     */\n    setCaptionPosition: function setCaptionPosition(element) {\n      var figcaption = this.util.getChildElement(this.util.getParentElement(element, \"FIGURE\"), \"FIGCAPTION\");\n\n      if (figcaption) {\n        figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + \"px\";\n      }\n    },\n\n    /**\r\n     * @description Mouse down event of resize handles\r\n     * @param {MouseEvent} e Event object\r\n     */\n    onMouseDown_resize_handle: function onMouseDown_resize_handle(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var contextResizing = this.context.resizing;\n      var direction = contextResizing._resize_direction = e.target.classList[0];\n      contextResizing._resizeClientX = e.clientX;\n      contextResizing._resizeClientY = e.clientY;\n      this.context.element.resizeBackground.style.display = \"block\";\n      contextResizing.resizeButton.style.display = \"none\";\n      contextResizing.resizeDiv.style.float = /l/.test(direction) ? \"right\" : /r/.test(direction) ? \"left\" : \"none\";\n      var resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n\n      var closureFunc_bind = function closureFunc(e) {\n        if (e.type === \"keydown\" && e.keyCode !== 27) {\n          return;\n        }\n\n        var change = contextResizing._isChange;\n        contextResizing._isChange = false;\n        this.removeDocEvent(\"mousemove\", resizing_element_bind);\n        this.removeDocEvent(\"mouseup\", closureFunc_bind);\n        this.removeDocEvent(\"keydown\", closureFunc_bind);\n\n        if (e.type === \"keydown\") {\n          this.controllersOff();\n          this.context.element.resizeBackground.style.display = \"none\";\n\n          this.plugins[this.context.resizing._resize_plugin].init.call(this);\n        } else {\n          // element resize\n          this.plugins.resizing.cancel_controller_resize.call(this, direction); // history stack\n\n          if (change) {\n            this.history.push(false);\n          }\n        }\n      }.bind(this);\n\n      this.addDocEvent(\"mousemove\", resizing_element_bind);\n      this.addDocEvent(\"mouseup\", closureFunc_bind);\n      this.addDocEvent(\"keydown\", closureFunc_bind);\n    },\n\n    /**\r\n     * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\r\n     * The size of the module's \"div\" is adjusted according to the mouse move event.\r\n     * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\r\n     * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\r\n     * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\r\n     * @param {MouseEvent} e Event object\r\n     */\n    resizing_element: function resizing_element(contextResizing, direction, plugin, e) {\n      var clientX = e.clientX;\n      var clientY = e.clientY;\n      var resultW = plugin._element_w;\n      var resultH = plugin._element_h;\n      var w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n      var h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n      var wh = plugin._element_h / plugin._element_w * w;\n\n      if (/t/.test(direction)) {\n        contextResizing.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + \"px\";\n      }\n\n      if (/l/.test(direction)) {\n        contextResizing.resizeDiv.style.left = plugin._element_w - w + \"px\";\n      }\n\n      if (/r|l/.test(direction)) {\n        contextResizing.resizeDiv.style.width = w + \"px\";\n        resultW = w;\n      }\n\n      if (/^(t|b)[^h]$/.test(direction)) {\n        contextResizing.resizeDiv.style.height = wh + \"px\";\n        resultH = wh;\n      } else if (/^(t|b)h$/.test(direction)) {\n        contextResizing.resizeDiv.style.height = h + \"px\";\n        resultH = h;\n      }\n\n      contextResizing._resize_w = resultW;\n      contextResizing._resize_h = resultH;\n      this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + \" x \" + this._w.Math.round(resultH));\n      contextResizing._isChange = true;\n    },\n\n    /**\r\n     * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\r\n     * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\r\n     * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\r\n     */\n    cancel_controller_resize: function cancel_controller_resize(direction) {\n      var isVertical = this.context.resizing._rotateVertical;\n      this.controllersOff();\n      this.context.element.resizeBackground.style.display = \"none\";\n\n      var w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n\n      var h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n\n      if (!isVertical && !/%$/.test(w)) {\n        var padding = 16;\n        var limit = this.context.element.wysiwygFrame.clientWidth - padding * 2 - 2;\n\n        if (this.util.getNumber(w, 0) > limit) {\n          h = this._w.Math.round(h / w * limit);\n          w = limit;\n        }\n      }\n\n      var pluginName = this.context.resizing._resize_plugin;\n      this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n\n      if (isVertical) {\n        this.plugins.resizing.setTransformSize.call(this, this.context[this.context.resizing._resize_plugin]._element, w, h);\n      }\n\n      this.selectComponent(this.context[pluginName]._element, pluginName);\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"resizing\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: resizing\n    });\n  }\n\n  return resizing;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"zh_cn\",\n    toolbar: {\n      default: \"默认\",\n      save: \"保存\",\n      font: \"字体\",\n      formats: \"格式\",\n      fontSize: \"字号\",\n      bold: \"粗体\",\n      underline: \"下划线\",\n      italic: \"斜体\",\n      strike: \"删除线\",\n      subscript: \"下标\",\n      superscript: \"上标\",\n      removeFormat: \"清除格式\",\n      fontColor: \"字体颜色\",\n      hiliteColor: \"背景颜色\",\n      indent: \"增加缩进\",\n      outdent: \"减少缩进\",\n      align: \"对齐方式\",\n      alignLeft: \"左对齐\",\n      alignRight: \"右对齐\",\n      alignCenter: \"居中\",\n      alignJustify: \"两端对齐\",\n      list: \"列表\",\n      orderList: \"有序列表\",\n      unorderList: \"无序列表\",\n      horizontalRule: \"水平线\",\n      hr_solid: \"实线\",\n      hr_dotted: \"点线\",\n      hr_dashed: \"虚线\",\n      table: \"表格\",\n      link: \"超链接\",\n      math: \"数学\",\n      image: \"图片\",\n      video: \"视频\",\n      audio: \"音讯\",\n      fullScreen: \"全屏\",\n      showBlocks: \"显示块区域\",\n      codeView: \"代码视图\",\n      undo: \"撤消\",\n      redo: \"恢复\",\n      preview: \"预览\",\n      print: \"打印\",\n      tag_p: \"段落\",\n      tag_div: \"正文 (DIV)\",\n      tag_h: \"标题\",\n      tag_blockquote: \"引用\",\n      tag_pre: \"代码\",\n      template: \"模板\",\n      lineHeight: \"行高\",\n      paragraphStyle: \"段落样式\",\n      textStyle: \"文字样式\",\n      imageGallery: \"图片库\",\n      mention: \"提到\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"插入超链接\",\n        url: \"网址\",\n        text: \"字体\",\n        newWindowCheck: \"在新标签页中打开\",\n        downloadLinkCheck: \"下载链接\",\n        bookmark: \"书签\"\n      },\n      mathBox: {\n        title: \"数学\",\n        inputLabel: \"数学符号\",\n        fontSizeLabel: \"字号\",\n        previewLabel: \"预览\"\n      },\n      imageBox: {\n        title: \"插入图片\",\n        file: \"上传图片\",\n        url: \"图片网址\",\n        altText: \"替换文字\"\n      },\n      videoBox: {\n        title: \"插入视频\",\n        file: \"上传图片\",\n        url: \"嵌入网址, Youtube,Vimeo\"\n      },\n      audioBox: {\n        title: \"插入音频\",\n        file: \"上传图片\",\n        url: \"音频网址\"\n      },\n      browser: {\n        tags: \"标签\",\n        search: \"搜索\"\n      },\n      caption: \"标题\",\n      close: \"取消\",\n      submitButton: \"确定\",\n      revertButton: \"恢复\",\n      proportion: \"约束比例\",\n      basic: \"基本\",\n      left: \"左\",\n      right: \"右\",\n      center: \"居中\",\n      width: \"宽度\",\n      height: \"高度\",\n      size: \"尺寸\",\n      ratio: \"比例\"\n    },\n    controller: {\n      edit: \"编辑\",\n      unlink: \"去除链接\",\n      remove: \"删除\",\n      insertRowAbove: \"在上方插入\",\n      insertRowBelow: \"在下方插入\",\n      deleteRow: \"删除行\",\n      insertColumnBefore: \"在左侧插入\",\n      insertColumnAfter: \"在右侧插入\",\n      deleteColumn: \"删除列\",\n      fixedColumnWidth: \"固定列宽\",\n      resize100: \"放大 100%\",\n      resize75: \"放大 75%\",\n      resize50: \"放大 50%\",\n      resize25: \"放大 25%\",\n      mirrorHorizontal: \"翻转左右\",\n      mirrorVertical: \"翻转上下\",\n      rotateLeft: \"向左旋转\",\n      rotateRight: \"向右旋转\",\n      maxSize: \"最大尺寸\",\n      minSize: \"最小尺寸\",\n      tableHeader: \"表格标题\",\n      mergeCells: \"合并单元格\",\n      splitCells: \"分割单元格\",\n      HorizontalSplit: \"水平分割\",\n      VerticalSplit: \"垂直分割\"\n    },\n    menu: {\n      spaced: \"间隔开\",\n      bordered: \"边界线\",\n      neon: \"霓虹灯\",\n      translucent: \"半透明\",\n      shadow: \"阴影\",\n      code: \"代码\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"zh_cn\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ko\",\n    toolbar: {\n      default: \"기본값\",\n      save: \"저장\",\n      font: \"글꼴\",\n      formats: \"문단 형식\",\n      fontSize: \"크기\",\n      bold: \"굵게\",\n      underline: \"밑줄\",\n      italic: \"기울임\",\n      strike: \"취소선\",\n      subscript: \"아래 첨자\",\n      superscript: \"위 첨자\",\n      removeFormat: \"형식 제거\",\n      fontColor: \"글자색\",\n      hiliteColor: \"배경색\",\n      indent: \"들여쓰기\",\n      outdent: \"내어쓰기\",\n      align: \"정렬\",\n      alignLeft: \"왼쪽 정렬\",\n      alignRight: \"오른쪽 정렬\",\n      alignCenter: \"가운데 정렬\",\n      alignJustify: \"양쪽 정렬\",\n      list: \"리스트\",\n      orderList: \"숫자형 리스트\",\n      unorderList: \"원형 리스트\",\n      horizontalRule: \"가로 줄 삽입\",\n      hr_solid: \"실선\",\n      hr_dotted: \"점선\",\n      hr_dashed: \"대시\",\n      table: \"테이블\",\n      link: \"링크\",\n      math: \"수식\",\n      image: \"이미지\",\n      video: \"동영상\",\n      audio: \"오디오\",\n      fullScreen: \"전체 화면\",\n      showBlocks: \"블록 보기\",\n      codeView: \"HTML 편집\",\n      undo: \"실행 취소\",\n      redo: \"다시 실행\",\n      preview: \"미리보기\",\n      print: \"인쇄\",\n      tag_p: \"본문\",\n      tag_div: \"기본 (DIV)\",\n      tag_h: \"제목\",\n      tag_blockquote: \"인용문\",\n      tag_pre: \"코드\",\n      template: \"템플릿\",\n      lineHeight: \"줄 높이\",\n      paragraphStyle: \"문단 스타일\",\n      textStyle: \"글자 스타일\",\n      imageGallery: \"이미지 갤러리\",\n      mention: \"멘션\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"링크 삽입\",\n        url: \"인터넷 주소\",\n        text: \"화면 텍스트\",\n        newWindowCheck: \"새창으로 열기\",\n        downloadLinkCheck: \"다운로드 링크\",\n        bookmark: \"북마크\"\n      },\n      mathBox: {\n        title: \"수식\",\n        inputLabel: \"수학적 표기법\",\n        fontSizeLabel: \"글자 크기\",\n        previewLabel: \"미리보기\"\n      },\n      imageBox: {\n        title: \"이미지 삽입\",\n        file: \"파일 선택\",\n        url: \"이미지 주소\",\n        altText: \"대체 문자열\"\n      },\n      videoBox: {\n        title: \"동영상 삽입\",\n        file: \"파일 선택\",\n        url: \"미디어 임베드 주소, 유튜브/비메오\"\n      },\n      audioBox: {\n        title: \"오디오 삽입\",\n        file: \"파일 선택\",\n        url: \"오디오 파일 주소\"\n      },\n      browser: {\n        tags: \"태그\",\n        search: \"검색\"\n      },\n      caption: \"설명 넣기\",\n      close: \"닫기\",\n      submitButton: \"확인\",\n      revertButton: \"되돌리기\",\n      proportion: \"비율 맞춤\",\n      basic: \"기본\",\n      left: \"왼쪽\",\n      right: \"오른쪽\",\n      center: \"가운데\",\n      width: \"가로\",\n      height: \"세로\",\n      size: \"크기\",\n      ratio: \"비율\"\n    },\n    controller: {\n      edit: \"편집\",\n      unlink: \"링크 해제\",\n      remove: \"삭제\",\n      insertRowAbove: \"위에 행 삽입\",\n      insertRowBelow: \"아래에 행 삽입\",\n      deleteRow: \"행 삭제\",\n      insertColumnBefore: \"왼쪽에 열 삽입\",\n      insertColumnAfter: \"오른쪽에 열 삽입\",\n      deleteColumn: \"열 삭제\",\n      fixedColumnWidth: \"고정 된 열 너비\",\n      resize100: \"100% 크기\",\n      resize75: \"75% 크기\",\n      resize50: \"50% 크기\",\n      resize25: \"25% 크기\",\n      autoSize: \"자동 크기\",\n      mirrorHorizontal: \"좌우 반전\",\n      mirrorVertical: \"상하 반전\",\n      rotateLeft: \"왼쪽으로 회전\",\n      rotateRight: \"오른쪽으로 회전\",\n      maxSize: \"최대화\",\n      minSize: \"최소화\",\n      tableHeader: \"테이블 제목\",\n      mergeCells: \"셀 병합\",\n      splitCells: \"셀 분할\",\n      HorizontalSplit: \"가로 분할\",\n      VerticalSplit: \"세로 분할\"\n    },\n    menu: {\n      spaced: \"글자 간격\",\n      bordered: \"경계선\",\n      neon: \"네온\",\n      translucent: \"반투명\",\n      shadow: \"그림자\",\n      code: \"코드\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ko\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"de\",\n    toolbar: {\n      default: \"Standard\",\n      save: \"Speichern\",\n      font: \"Schriftart\",\n      formats: \"Format\",\n      fontSize: \"Schriftgröße\",\n      bold: \"Fett\",\n      underline: \"Unterstrichen\",\n      italic: \"Kursiv\",\n      strike: \"Durchgestrichen\",\n      subscript: \"Tiefgestellt\",\n      superscript: \"Hochgestellt\",\n      removeFormat: \"Format entfernen\",\n      fontColor: \"Schriftfarbe\",\n      hiliteColor: \"Farbe für Hervorhebungen\",\n      indent: \"Einzug vergrößern\",\n      outdent: \"Einzug verkleinern\",\n      align: \"Ausrichtung\",\n      alignLeft: \"Links ausrichten\",\n      alignRight: \"Rechts ausrichten\",\n      alignCenter: \"Zentriert ausrichten\",\n      alignJustify: \"Blocksatz\",\n      list: \"Liste\",\n      orderList: \"Nummerierte Liste\",\n      unorderList: \"Aufzählung\",\n      horizontalRule: \"Horizontale Linie\",\n      hr_solid: \"Strich\",\n      hr_dotted: \"Gepunktet\",\n      hr_dashed: \"Gestrichelt\",\n      table: \"Tabelle\",\n      link: \"Link\",\n      math: \"Mathematik\",\n      image: \"Bild\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Vollbild\",\n      showBlocks: \"Blockformatierungen anzeigen\",\n      codeView: \"Quelltext anzeigen\",\n      undo: \"Rückgängig\",\n      redo: \"Wiederholen\",\n      preview: \"Vorschau\",\n      print: \"Drucken\",\n      tag_p: \"Absatz\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Header\",\n      tag_blockquote: \"Zitat\",\n      tag_pre: \"Quellcode\",\n      template: \"Vorlage\",\n      lineHeight: \"Zeilenhöhe\",\n      paragraphStyle: \"Absatzstil\",\n      textStyle: \"Textstil\",\n      imageGallery: \"Bildergalerie\",\n      mention: \"Erwähnen\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Link einfügen\",\n        url: \"Link-URL\",\n        text: \"Link-Text\",\n        newWindowCheck: \"In neuem Fenster anzeigen\",\n        downloadLinkCheck: \"Download-Link\",\n        bookmark: \"Lesezeichen\"\n      },\n      mathBox: {\n        title: \"Mathematik\",\n        inputLabel: \"Mathematische Notation\",\n        fontSizeLabel: \"Schriftgröße\",\n        previewLabel: \"Vorschau\"\n      },\n      imageBox: {\n        title: \"Bild einfügen\",\n        file: \"Datei auswählen\",\n        url: \"Bild-URL\",\n        altText: \"Alternativer Text\"\n      },\n      videoBox: {\n        title: \"Video enfügen\",\n        file: \"Datei auswählen\",\n        url: \"Video-URL, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Audio enfügen\",\n        file: \"Datei auswählen\",\n        url: \"Audio-URL\"\n      },\n      browser: {\n        tags: \"Stichworte\",\n        search: \"Suche\"\n      },\n      caption: \"Beschreibung eingeben\",\n      close: \"Schließen\",\n      submitButton: \"Übernehmen\",\n      revertButton: \"Rückgängig\",\n      proportion: \"Seitenverhältnis beibehalten\",\n      basic: \"Standard\",\n      left: \"Links\",\n      right: \"Rechts\",\n      center: \"Zentriert\",\n      width: \"Breite\",\n      height: \"Höhe\",\n      size: \"Größe\",\n      ratio: \"Verhältnis\"\n    },\n    controller: {\n      edit: \"Bearbeiten\",\n      unlink: \"Link entfernen\",\n      remove: \"Löschen\",\n      insertRowAbove: \"Zeile oberhalb einfügen\",\n      insertRowBelow: \"Zeile unterhalb einfügen\",\n      deleteRow: \"Zeile löschen\",\n      insertColumnBefore: \"Spalte links einfügen\",\n      insertColumnAfter: \"Spalte rechts einfügen\",\n      deleteColumn: \"Spalte löschen\",\n      fixedColumnWidth: \"Feste Spaltenbreite\",\n      resize100: \"Zoom 100%\",\n      resize75: \"Zoom 75%\",\n      resize50: \"Zoom 50%\",\n      resize25: \"Zoom 25%\",\n      autoSize: \"Automatische Größenanpassung\",\n      mirrorHorizontal: \"Horizontal spiegeln\",\n      mirrorVertical: \"Vertikal spiegeln\",\n      rotateLeft: \"Nach links drehen\",\n      rotateRight: \"Nach rechts drehen\",\n      maxSize: \"Maximale Größe\",\n      minSize: \"Mindestgröße\",\n      tableHeader: \"Tabellenüberschrift\",\n      mergeCells: \"Zellen verbinden\",\n      splitCells: \"Zellen teilen\",\n      HorizontalSplit: \"Horizontal teilen\",\n      VerticalSplit: \"Vertikal teilen\"\n    },\n    menu: {\n      spaced: \"Buchstabenabstand\",\n      bordered: \"Umrandet\",\n      neon: \"Neon\",\n      translucent: \"Durchscheinend\",\n      shadow: \"Schatten\",\n      code: \"Quellcode\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"de\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ua\",\n    toolbar: {\n      default: \"По замовчуванням\",\n      save: \"Зберегти\",\n      font: \"Шрифт\",\n      formats: \"Стиль абзацу\",\n      fontSize: \"Розмір шрифту\",\n      bold: \"Жирний\",\n      underline: \"Підкреслений\",\n      italic: \"Курсив\",\n      strike: \"Перекреслити\",\n      subscript: \"Нижній індекс\",\n      superscript: \"Верхній індекс\",\n      removeFormat: \"Очистити форматування\",\n      fontColor: \"Колір тексту\",\n      hiliteColor: \"Колір виділення\",\n      indent: \"Збільшити відступ\",\n      outdent: \"Зменшити відступ\",\n      align: \"Вирівнювання\",\n      alignLeft: \"За лівим краєм\",\n      alignRight: \"За правим краєм\",\n      alignCenter: \"По центру\",\n      alignJustify: \"За шириною\",\n      list: \"Список\",\n      orderList: \"Нумерований\",\n      unorderList: \"Маркований\",\n      horizontalRule: \"Горизонтальна лінія\",\n      hr_solid: \"Суцільна\",\n      hr_dotted: \"Пунктирна\",\n      hr_dashed: \"Штрихова\",\n      table: \"Таблиця\",\n      link: \"Посилання\",\n      math: \"Формула\",\n      image: \"Зображення\",\n      video: \"Відео\",\n      audio: \"Аудіо\",\n      fullScreen: \"Повний екран\",\n      showBlocks: \"Показати блоки\",\n      codeView: \"Редагувати як HTML\",\n      undo: \"Скасувати\",\n      redo: \"Виконати знову\",\n      preview: \"Попередній перегляд\",\n      print: \"Друк\",\n      tag_p: \"Абзац\",\n      tag_div: \"Базовий\",\n      tag_h: \"Заголовок\",\n      tag_blockquote: \"Цитата\",\n      tag_pre: \"Код\",\n      template: \"Шаблон\",\n      lineHeight: \"Висота лінії\",\n      paragraphStyle: \"Стиль абзацу\",\n      textStyle: \"Стиль тексту\",\n      imageGallery: \"Галерея\",\n      mention: \"Згадати\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Вставити посилання\",\n        url: \"Посилання\",\n        text: \"Текст\",\n        newWindowCheck: \"Відкривати в новому вікні\",\n        downloadLinkCheck: \"Посилання для завантаження\",\n        bookmark: \"Закладка\"\n      },\n      mathBox: {\n        title: \"Формула\",\n        inputLabel: \"Математична запис\",\n        fontSizeLabel: \"Розмір шрифту\",\n        previewLabel: \"Попередній перегляд\"\n      },\n      imageBox: {\n        title: \"Вставити зображення\",\n        file: \"Виберіть файл\",\n        url: \"Посилання на зображення\",\n        altText: \"Текстовий опис зображення\"\n      },\n      videoBox: {\n        title: \"Вставити відео\",\n        file: \"Виберіть файл\",\n        url: \"Посилання на відео, Youtube, Vimeo\"\n      },\n      audioBox: {\n        title: \"Вставити аудіо\",\n        file: \"Виберіть файл\",\n        url: \"Посилання на аудіо\"\n      },\n      browser: {\n        tags: \"Теги\",\n        search: \"Пошук\"\n      },\n      caption: \"Додати підпис\",\n      close: \"Закрити\",\n      submitButton: \"Підтвердити\",\n      revertButton: \"Скинути\",\n      proportion: \"Зберегти пропорції\",\n      basic: \"Без обтікання\",\n      left: \"Зліва\",\n      right: \"Справа\",\n      center: \"По центру\",\n      width: \"Ширина\",\n      height: \"Висота\",\n      size: \"Розмір\",\n      ratio: \"Співвідношення\"\n    },\n    controller: {\n      edit: \"Змінити\",\n      unlink: \"Прибрати посилання\",\n      remove: \"Видалити\",\n      insertRowAbove: \"Вставити рядок вище\",\n      insertRowBelow: \"Вставити рядок нижче\",\n      deleteRow: \"Видалити рядок\",\n      insertColumnBefore: \"Вставити стовпець зліва\",\n      insertColumnAfter: \"Вставити стовпець справа\",\n      deleteColumn: \"Видалити стовпець\",\n      fixedColumnWidth: \"Фіксована ширина стовпця\",\n      resize100: \"Розмір 100%\",\n      resize75: \"Розмір 75%\",\n      resize50: \"Розмір 50%\",\n      resize25: \"Розмір 25%\",\n      autoSize: \"Авто розмір\",\n      mirrorHorizontal: \"Відобразити по горизонталі\",\n      mirrorVertical: \"Відобразити по вертикалі\",\n      rotateLeft: \"Повернути проти годинникової стрілки\",\n      rotateRight: \"Повернути за годинниковою стрілкою\",\n      maxSize: \"Ширина за розміром сторінки\",\n      minSize: \"Ширина за вмістом\",\n      tableHeader: \"Заголовок таблиці\",\n      mergeCells: \"Об'єднати клітинки\",\n      splitCells: \"Розділити клітинку\",\n      HorizontalSplit: \"Розділити горизонтально\",\n      VerticalSplit: \"Розділити вертикально\"\n    },\n    menu: {\n      spaced: \"Інтервал\",\n      bordered: \"З лініями\",\n      neon: \"Неон\",\n      translucent: \"Напівпрозорий\",\n      shadow: \"Тінь\",\n      code: \"Код\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ua\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"textStyle\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.textStyle = {\n      _styleList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.textStyle._styleList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var defaultList = {\n      code: {\n        name: core.lang.menu.code,\n        class: \"__ke__t-code\",\n        tag: \"code\"\n      },\n      translucent: {\n        name: core.lang.menu.translucent,\n        style: \"opacity: 0.5;\",\n        tag: \"span\"\n      },\n      shadow: {\n        name: core.lang.menu.shadow,\n        class: \"__ke__t-shadow\",\n        tag: \"span\"\n      }\n    };\n    var styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n      t = styleList[i];\n      attrs = \"\", value = \"\", command = [];\n\n      if (typeof t === \"string\") {\n        var defaultStyle = defaultList[t.toLowerCase()];\n\n        if (!defaultStyle) {\n          continue;\n        }\n\n        t = defaultStyle;\n      }\n\n      name = t.name;\n      tag = t.tag || \"span\";\n      _class = t._class;\n\n      if (t.style) {\n        attrs += ' style=\"' + t.style + '\"';\n        value += t.style.replace(/:[^;]+(;|$)\\s*/g, \",\");\n        command.push(\"style\");\n      }\n\n      if (t.class) {\n        attrs += ' class=\"' + t.class + '\"';\n        value += \".\" + t.class.trim().replace(/\\s+/g, \",.\");\n        command.push(\"class\");\n      }\n\n      value = value.replace(/,$/, \"\");\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list' + (_class ? \" \" + _class : \"\") + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' + \"<\" + tag + attrs + \">\" + name + \"</\" + tag + \">\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var util = this.util;\n    var textStyleContext = this.context.textStyle;\n    var styleToolbarItem = textStyleContext._styleList;\n    var selectionNode = this.getSelectionNode();\n\n    for (var i = 0, len = styleToolbarItem.length, btn, data, active; i < len; i++) {\n      btn = styleToolbarItem[i];\n      data = btn.getAttribute(\"data-value\").split(\",\");\n\n      for (var v = 0, node, value; v < data.length; v++) {\n        node = selectionNode;\n        active = false;\n\n        while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n          if (node.nodeName.toLowerCase() === btn.getAttribute(\"data-command\").toLowerCase()) {\n            value = data[v];\n\n            if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, \"\")) : !!node.style[value]) {\n              active = true;\n              break;\n            }\n          }\n\n          node = node.parentNode;\n        }\n\n        if (!active) {\n          break;\n        }\n      }\n\n      active ? util.addClass(btn, \"active\") : util.removeClass(btn, \"active\");\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = null,\n        tag = null;\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    }\n\n    var checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, \",\").split(\",\");\n    checkStyles.pop();\n    var classes = tag.classList;\n\n    for (var i = 0, len = classes.length; i < len; i++) {\n      checkStyles.push(\".\" + classes[i]);\n    }\n\n    var newNode = this.util.hasClass(target, \"active\") ? null : tag.cloneNode(false);\n    var removeNodes = newNode ? null : [tag.nodeName];\n    this.nodeChange(newNode, checkStyles, removeNodes, true);\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var component = {\n    name: \"component\",\n\n    /**\r\n     * @description Create a container for the resizing component and insert the element.\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {String} className Class name of container (fixed: ke-component)\r\n     * @returns {Element} Created container element\r\n     */\n    set_container: function set_container(cover, className) {\n      var container = this.util.createElement(\"DIV\");\n      container.className = \"ke-component \" + className;\n      container.setAttribute(\"contenteditable\", false);\n      container.appendChild(cover);\n      return container;\n    },\n\n    /**\r\n     * @description Cover the target element with a FIGURE element.\r\n     * @param {Element} element Target element\r\n     */\n    set_cover: function set_cover(element) {\n      var cover = this.util.createElement(\"FIGURE\");\n      cover.appendChild(element);\n      return cover;\n    },\n\n    /**\r\n     * @description Return HTML string of caption(FIGCAPTION) element\r\n     * @returns {String}\r\n     */\n    create_caption: function create_caption() {\n      var caption = this.util.createElement(\"FIGCAPTION\");\n      caption.setAttribute(\"contenteditable\", true);\n      caption.innerHTML = \"<div>\" + this.lang.dialogBox.caption + \"</div>\";\n      return caption;\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"component\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: component\n    });\n  }\n\n  return component;\n});","import './VTooltip.sass'\n\n// Mixins\nimport Activatable from '../../mixins/activatable'\nimport Colorable from '../../mixins/colorable'\nimport Delayable from '../../mixins/delayable'\nimport Dependent from '../../mixins/dependent'\nimport Detachable from '../../mixins/detachable'\nimport Menuable from '../../mixins/menuable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Helpers\nimport { convertToUnit, keyCodes, getSlotType } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Colorable, Delayable, Dependent, Detachable, Menuable, Toggleable).extend({\n  name: 'v-tooltip',\n\n  props: {\n    closeDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n    disabled: Boolean,\n    fixed: {\n      type: Boolean,\n      default: true,\n    },\n    openDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n    openOnHover: {\n      type: Boolean,\n      default: true,\n    },\n    tag: {\n      type: String,\n      default: 'span',\n    },\n    transition: String,\n  },\n\n  data: () => ({\n    calculatedMinWidth: 0,\n    closeDependents: false,\n  }),\n\n  computed: {\n    calculatedLeft (): string {\n      const { activator, content } = this.dimensions\n      const unknown = !this.bottom && !this.left && !this.top && !this.right\n      const activatorLeft = this.attach !== false ? activator.offsetLeft : activator.left\n      let left = 0\n\n      if (this.top || this.bottom || unknown) {\n        left = (\n          activatorLeft +\n          (activator.width / 2) -\n          (content.width / 2)\n        )\n      } else if (this.left || this.right) {\n        left = (\n          activatorLeft +\n          (this.right ? activator.width : -content.width) +\n          (this.right ? 10 : -10)\n        )\n      }\n\n      if (this.nudgeLeft) left -= parseInt(this.nudgeLeft)\n      if (this.nudgeRight) left += parseInt(this.nudgeRight)\n\n      return `${this.calcXOverflow(left, this.dimensions.content.width)}px`\n    },\n    calculatedTop (): string {\n      const { activator, content } = this.dimensions\n      const activatorTop = this.attach !== false ? activator.offsetTop : activator.top\n      let top = 0\n\n      if (this.top || this.bottom) {\n        top = (\n          activatorTop +\n          (this.bottom ? activator.height : -content.height) +\n          (this.bottom ? 10 : -10)\n        )\n      } else if (this.left || this.right) {\n        top = (\n          activatorTop +\n          (activator.height / 2) -\n          (content.height / 2)\n        )\n      }\n\n      if (this.nudgeTop) top -= parseInt(this.nudgeTop)\n      if (this.nudgeBottom) top += parseInt(this.nudgeBottom)\n\n      return `${this.calcYOverflow(top + this.pageYOffset)}px`\n    },\n    classes (): object {\n      return {\n        'v-tooltip--top': this.top,\n        'v-tooltip--right': this.right,\n        'v-tooltip--bottom': this.bottom,\n        'v-tooltip--left': this.left,\n        'v-tooltip--attached':\n          this.attach === '' ||\n          this.attach === true ||\n          this.attach === 'attach',\n      }\n    },\n    computedTransition (): string {\n      if (this.transition) return this.transition\n\n      return this.isActive ? 'scale-transition' : 'fade-transition'\n    },\n    offsetY (): boolean {\n      return this.top || this.bottom\n    },\n    offsetX (): boolean {\n      return this.left || this.right\n    },\n    styles (): object {\n      return {\n        left: this.calculatedLeft,\n        maxWidth: convertToUnit(this.maxWidth),\n        minWidth: convertToUnit(this.minWidth),\n        opacity: this.isActive ? 0.9 : 0,\n        top: this.calculatedTop,\n        zIndex: this.zIndex || this.activeZIndex,\n      }\n    },\n  },\n\n  beforeMount () {\n    this.$nextTick(() => {\n      this.value && this.callActivate()\n    })\n  },\n\n  mounted () {\n    if (getSlotType(this, 'activator', true) === 'v-slot') {\n      consoleError(`v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'`, this)\n    }\n  },\n\n  methods: {\n    activate () {\n      // Update coordinates and dimensions of menu\n      // and its activator\n      this.updateDimensions()\n      // Start the transition\n      requestAnimationFrame(this.startTransition)\n    },\n    deactivate () {\n      this.runDelay('close')\n    },\n    genActivatorListeners () {\n      const listeners = Activatable.options.methods.genActivatorListeners.call(this)\n\n      listeners.focus = (e: Event) => {\n        this.getActivator(e)\n        this.runDelay('open')\n      }\n      listeners.blur = (e: Event) => {\n        this.getActivator(e)\n        this.runDelay('close')\n      }\n      listeners.keydown = (e: KeyboardEvent) => {\n        if (e.keyCode === keyCodes.esc) {\n          this.getActivator(e)\n          this.runDelay('close')\n        }\n      }\n\n      return listeners\n    },\n    genActivatorAttributes () {\n      return {\n        'aria-haspopup': true,\n        'aria-expanded': String(this.isActive),\n      }\n    },\n    genTransition () {\n      const content = this.genContent()\n\n      if (!this.computedTransition) return content\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.computedTransition,\n        },\n      }, [content])\n    },\n    genContent () {\n      return this.$createElement(\n        'div',\n        this.setBackgroundColor(this.color, {\n          staticClass: 'v-tooltip__content',\n          class: {\n            [this.contentClass]: true,\n            menuable__content__active: this.isActive,\n            'v-tooltip__content--fixed': this.activatorFixed,\n          },\n          style: this.styles,\n          attrs: this.getScopeIdAttrs(),\n          directives: [{\n            name: 'show',\n            value: this.isContentActive,\n          }],\n          ref: 'content',\n        }),\n        this.getContentSlot()\n      )\n    },\n  },\n\n  render (h): VNode {\n    return h(this.tag, {\n      staticClass: 'v-tooltip',\n      class: this.classes,\n    }, [\n      this.showLazyContent(() => [this.genTransition()]),\n      this.genActivator(),\n    ])\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nfunction _default(core, change) {\n  var _w = core._w;\n  var util = core.util;\n  var delayTime = core.options.historyStackDelayTime;\n  var editor = core.context.element;\n  var undo = core.context.tool.undo;\n  var redo = core.context.tool.redo;\n  var pushDelay = null;\n  var stackIndex = 0;\n  var stack = [];\n\n  function setContentsFromStack() {\n    var item = stack[stackIndex];\n    editor.wysiwyg.innerHTML = item.contents;\n    core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n    core.focus();\n\n    if (stackIndex === 0) {\n      if (undo) undo.setAttribute(\"disabled\", true);\n      if (redo) redo.removeAttribute(\"disabled\");\n    } else if (stackIndex === stack.length - 1) {\n      if (undo) undo.removeAttribute(\"disabled\");\n      if (redo) redo.setAttribute(\"disabled\", true);\n    } else {\n      if (undo) undo.removeAttribute(\"disabled\");\n      if (redo) redo.removeAttribute(\"disabled\");\n    }\n\n    core.controllersOff();\n\n    core._checkComponents();\n\n    core._setCharCount();\n\n    core._resourcesStateChange(); // onChange\n\n\n    change();\n  }\n\n  function pushStack() {\n    core._checkComponents();\n\n    var current = core.getContents(true);\n    if (!current || !!stack[stackIndex] && current === stack[stackIndex].contents) return;\n    stackIndex++;\n    var range = core._variable._range;\n\n    if (stack.length > stackIndex) {\n      stack = stack.slice(0, stackIndex);\n      if (redo) redo.setAttribute(\"disabled\", true);\n    }\n\n    if (!range) {\n      stack[stackIndex] = {\n        contents: current,\n        s: {\n          path: [0, 0],\n          offset: [0, 0]\n        },\n        e: {\n          path: 0,\n          offset: 0\n        }\n      };\n    } else {\n      stack[stackIndex] = {\n        contents: current,\n        s: {\n          path: util.getNodePath(range.startContainer, null, null),\n          offset: range.startOffset\n        },\n        e: {\n          path: util.getNodePath(range.endContainer, null, null),\n          offset: range.endOffset\n        }\n      };\n    }\n\n    if (stackIndex === 1 && undo) undo.removeAttribute(\"disabled\");\n\n    core._setCharCount(); // onChange\n\n\n    change();\n  }\n\n  return {\n    /**\r\n     * @description History stack\r\n     */\n    stack: stack,\n\n    /**\r\n     * @description Saving the current status to the history object stack\r\n     * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\r\n     * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\r\n     * You can specify the delay time by sending a number.\r\n     * @param {Boolean|Number} delay If true, Add stack without delay time.\r\n     */\n    push: function push(delay) {\n      _w.setTimeout(core._resourcesStateChange.bind(core));\n\n      var time = typeof delay === \"number\" ? delay > 0 ? delay : 0 : !delay ? 0 : delayTime;\n\n      if (!time || pushDelay) {\n        _w.clearTimeout(pushDelay);\n\n        if (!time) {\n          pushStack();\n          return;\n        }\n      }\n\n      pushDelay = _w.setTimeout(function () {\n        _w.clearTimeout(pushDelay);\n\n        pushDelay = null;\n        pushStack();\n      }, time);\n    },\n\n    /**\r\n     * @description Undo function\r\n     */\n    undo: function undo() {\n      if (stackIndex > 0) {\n        stackIndex--;\n        setContentsFromStack();\n      }\n    },\n\n    /**\r\n     * @description Redo function\r\n     */\n    redo: function redo() {\n      if (stack.length - 1 > stackIndex) {\n        stackIndex++;\n        setContentsFromStack();\n      }\n    },\n\n    /**\r\n     * @description Go to the history stack for that index.\r\n     * If \"index\" is -1, go to the last stack\r\n     * @param {Number} index Stack index\r\n     */\n    go: function go(index) {\n      stackIndex = index < 0 ? stack.length - 1 : index;\n      setContentsFromStack();\n    },\n\n    /**\r\n     * @description Reset the history object\r\n     */\n    reset: function reset(ignoreChangeEvent) {\n      if (undo) undo.setAttribute(\"disabled\", true);\n      if (redo) redo.setAttribute(\"disabled\", true);\n      core._variable.isChanged = false;\n      if (core.context.tool.save) core.context.tool.save.setAttribute(\"disabled\", true);\n      stack.splice(0);\n      stackIndex = 0; // pushStack\n\n      stack[stackIndex] = {\n        contents: core.getContents(true),\n        s: {\n          path: [0, 0],\n          offset: 0\n        },\n        e: {\n          path: [0, 0],\n          offset: 0\n        }\n      };\n      if (!ignoreChangeEvent) change();\n    },\n\n    /**\r\n     * @description Reset the disabled state of the buttons to fit the current stack.\r\n     * @private\r\n     */\n    _resetCachingButton: function _resetCachingButton() {\n      editor = core.context.element;\n      undo = core.context.tool.undo;\n      redo = core.context.tool.redo;\n\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute(\"disabled\", true);\n        if (redo && stackIndex === stack.length - 1) redo.setAttribute(\"disabled\", true);\n        core._variable.isChanged = false;\n        if (core.context.tool.save) core.context.tool.save.setAttribute(\"disabled\", true);\n      } else if (stackIndex === stack.length - 1) {\n        if (redo) redo.setAttribute(\"disabled\", true);\n      }\n    },\n\n    /**\r\n     * @description Remove all stacks and remove the timeout function.\r\n     * @private\r\n     */\n    _destroy: function _destroy() {\n      if (pushDelay) _w.clearTimeout(pushDelay);\n      stack = null;\n    }\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _constructor = _interopRequireDefault(require(\"./constructor\"));\n\nvar _context = _interopRequireDefault(require(\"./context\"));\n\nvar _history = _interopRequireDefault(require(\"./history\"));\n\nvar _util = _interopRequireDefault(require(\"./util\"));\n\nvar _notice = _interopRequireDefault(require(\"../plugins/modules/notice\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\r\n * @description KothingEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins\r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _responsiveButtons\r\n * @returns {Object} functions Object\r\n */\nfunction _default(context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\n  var _d = context.element.originElement.ownerDocument || document;\n\n  var _w = _d.defaultView || window;\n\n  var util = _util.default;\n  var icons = options.icons;\n  /**\r\n   * @description editor core object\r\n   * should always bind this object when registering an event in the plug-in.\r\n   */\n\n  var core = {\n    _d: _d,\n    _w: _w,\n    _parser: new _w.DOMParser(),\n\n    /**\r\n     * @description Document object of the iframe if created as an iframe || _d\r\n     * @private\r\n     */\n    _wd: null,\n\n    /**\r\n     * @description Window object of the iframe if created as an iframe || _w\r\n     * @private\r\n     */\n    _ww: null,\n\n    /**\r\n     * @description Closest ShadowRoot to editor if found\r\n     * @private\r\n     */\n    _shadowRoot: null,\n\n    /**\r\n     * @description Block controller mousedown events in \"shadowRoot\" environment\r\n     * @private\r\n     */\n    _shadowRootControllerEventTarget: null,\n\n    /**\r\n     * @description Util object\r\n     */\n    util: util,\n\n    /**\r\n     * @description Functions object\r\n     */\n    functions: null,\n\n    /**\r\n     * @description Editor options\r\n     */\n    options: null,\n\n    /**\r\n     * @description Computed style of the wysiwyg area (window.getComputedStyle(context.element.wysiwyg))\r\n     */\n    wwComputedStyle: _w.getComputedStyle(context.element.wysiwyg),\n\n    /**\r\n     * @description Notice object\r\n     */\n    notice: _notice.default,\n\n    /**\r\n     * @description Default icons object\r\n     */\n    icons: icons,\n\n    /**\r\n     * @description History object for undo, redo\r\n     */\n    history: null,\n\n    /**\r\n     * @description Elements and user options parameters of the KothingEditor\r\n     */\n    context: context,\n\n    /**\r\n     * @description Plugin buttons\r\n     */\n    pluginCallButtons: pluginCallButtons,\n\n    /**\r\n     * @description Loaded plugins\r\n     */\n    plugins: plugins || {},\n\n    /**\r\n     * @description Whether the plugin is initialized\r\n     */\n    initPlugins: {},\n\n    /**\r\n     * @description Object for managing submenu elements\r\n     * @private\r\n     */\n    _targetPlugins: {},\n\n    /**\r\n     * @description Save rendered submenus and containers\r\n     * @private\r\n     */\n    menuTray: {},\n\n    /**\r\n     * @description loaded language\r\n     */\n    lang: lang,\n\n    /**\r\n     * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n     */\n    effectNode: null,\n\n    /**\r\n     * @description submenu element\r\n     */\n    submenu: null,\n\n    /**\r\n     * @description container element\r\n     */\n    container: null,\n\n    /**\r\n     * @description current subment name\r\n     * @private\r\n     */\n    _submenuName: \"\",\n\n    /**\r\n     * @description binded submenuOff method\r\n     * @private\r\n     */\n    _bindedSubmenuOff: null,\n\n    /**\r\n     * @description binded containerOff method\r\n     * @private\r\n     */\n    _bindedContainerOff: null,\n\n    /**\r\n     * @description active button element in submenu\r\n     */\n    submenuActiveButton: null,\n\n    /**\r\n     * @description active button element in container\r\n     */\n    containerActiveButton: null,\n\n    /**\r\n     * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n     */\n    controllerArray: [],\n\n    /**\r\n     * @description The name of the plugin that called the currently active controller\r\n     */\n    currentControllerName: \"\",\n\n    /**\r\n     * @description The target element of current controller\r\n     */\n    currentControllerTarget: null,\n\n    /**\r\n     * @description The file component object of current selected file tag (getFileComponent)\r\n     */\n    currentFileComponentInfo: null,\n\n    /**\r\n     * @description An array of buttons whose class name is not \"ke-code-view-enabled\"\r\n     */\n    codeViewDisabledButtons: null,\n\n    /**\r\n     * @description An array of buttons whose class name is not \"ke-resizing-enabled\"\r\n     */\n    resizingDisabledButtons: null,\n\n    /**\r\n     * @description active more layer element in submenu\r\n     * @private\r\n     */\n    _moreLayerActiveButton: null,\n\n    /**\r\n     * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n     * ^(options._editorTagsWhitelist)$\r\n     * @private\r\n     */\n    _htmlCheckWhitelistRegExp: null,\n\n    /**\r\n     * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n     * @private\r\n     */\n    _disallowedTextTagsRegExp: null,\n\n    /**\r\n     * @description Editor tags whitelist (RegExp object)\r\n     * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n     */\n    editorTagsWhitelistRegExp: null,\n\n    /**\r\n     * @description Tag whitelist when pasting (RegExp object)\r\n     * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n     */\n    pasteTagsWhitelistRegExp: null,\n\n    /**\r\n     * @description Boolean value of whether the editor has focus\r\n     */\n    hasFocus: false,\n\n    /**\r\n     * @description Boolean value of whether the editor is disabled\r\n     */\n    isDisabled: false,\n\n    /**\r\n     * @description Attributes whitelist used by the cleanHTML method\r\n     * @private\r\n     */\n    _attributesWhitelistRegExp: null,\n\n    /**\r\n     * @description Attributes of tags whitelist used by the cleanHTML method\r\n     * @private\r\n     */\n    _attributesTagsWhitelist: null,\n\n    /**\r\n     * @description binded controllersOff method\r\n     * @private\r\n     */\n    _bindControllersOff: null,\n\n    /**\r\n     * @description Is inline mode?\r\n     * @private\r\n     */\n    _isInline: null,\n\n    /**\r\n     * @description Is balloon|balloon-always mode?\r\n     * @private\r\n     */\n    _isBalloon: null,\n\n    /**\r\n     * @description Is balloon-always mode?\r\n     * @private\r\n     */\n    _isBalloonAlways: null,\n\n    /**\r\n     * @description Required value when using inline mode to sticky toolbar\r\n     * @private\r\n     */\n    _inlineToolbarAttr: {\n      top: \"\",\n      width: \"\",\n      isShow: false\n    },\n\n    /**\r\n     * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n     * @private\r\n     */\n    _notHideToolbar: false,\n\n    /**\r\n     * @description Variable value that sticky toolbar mode\r\n     * @private\r\n     */\n    _sticky: false,\n\n    /**\r\n     * @description Variables for controlling focus and blur events\r\n     * @private\r\n     */\n    _antiBlur: false,\n\n    /**\r\n     * @description Component line breaker element\r\n     * @private\r\n     */\n    lineBreaker: null,\n    lineBreakerButton: null,\n\n    /**\r\n     * @description If true, (initialize, reset) all indexes of image, video information\r\n     * @private\r\n     */\n    _componentsInfoInit: true,\n    _componentsInfoReset: false,\n\n    /**\r\n     * @description Plugins array with \"active\" method.\r\n     * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n     */\n    activePlugins: null,\n\n    /**\r\n     * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n     * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n     * Basic Editor Actions:\r\n     * 1. All classes not starting with \"__ke__\" or \"ke-\" in the editor are removed.\r\n     * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n     * \"managedTagsInfo\" structure ex:\r\n     * managedTagsInfo: {\r\n     *   query: '.__ke__xxx, ke-xxx'\r\n     *   map: {\r\n     *     '__ke__xxx': method.bind(core),\r\n     *     'ke-xxx': method.bind(core),\r\n     *   }\r\n     * }\r\n     * @example\r\n     * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n     * managedTagInfo() => {\r\n     *  return {\r\n     *    className: 'string', // Class name to identify the tag. (\"__ke__xxx\", \"ke-xxx\")\r\n     *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n     *    // \"method\" is executed by binding \"core\".\r\n     *    method: function (element) {\r\n     *      // this === core\r\n     *      element.innerHTML = // (rendered html);\r\n     *    }\r\n     *  }\r\n     * }\r\n     */\n    managedTagsInfo: null,\n\n    /**\r\n     * @description cashing: options.charCounterType === 'byte-html'\r\n     * @private\r\n     */\n    _charTypeHTML: false,\n\n    /**\r\n     * @description Array of \"checkFileInfo\" functions with the core bound\r\n     * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n     * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n     * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n     * @private\r\n     */\n    _fileInfoPluginsCheck: null,\n\n    /**\r\n     * @description Array of \"resetFileInfo\" functions with the core bound\r\n     * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n     * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n     * @private\r\n     */\n    _fileInfoPluginsReset: null,\n\n    /**\r\n     * @description Variables for file component management\r\n     * @private\r\n     */\n    _fileManager: {\n      tags: null,\n      regExp: null,\n      queryString: null,\n      pluginRegExp: null,\n      pluginMap: null\n    },\n\n    /**\r\n     * @description Elements that need to change text or className for each selection change\r\n     * After creating the editor, \"activePlugins\" are added.\r\n     * @property {Element} STRONG bold button\r\n     * @property {Element} U underline button\r\n     * @property {Element} EM italic button\r\n     * @property {Element} DEL strike button\r\n     * @property {Element} SUB subscript button\r\n     * @property {Element} SUP superscript button\r\n     * @property {Element} OUTDENT outdent button\r\n     * @property {Element} INDENT indent button\r\n     */\n    commandMap: null,\n\n    /**\r\n     * @description Style button related to edit area\r\n     * @property {Element} fullScreen fullScreen button element\r\n     * @property {Element} showBlocks showBlocks button element\r\n     * @property {Element} codeView codeView button element\r\n     * @private\r\n     */\n    _styleCommandMap: null,\n\n    /**\r\n     * @description Map of default command\r\n     * @private\r\n     */\n    _defaultCommand: {\n      bold: options.textTags.bold,\n      underline: options.textTags.underline,\n      italic: options.textTags.italic,\n      strike: options.textTags.strike,\n      subscript: options.textTags.sub,\n      superscript: options.textTags.sup\n    },\n\n    /**\r\n     * @description Variables used internally in editor operation\r\n     * @property {Boolean} isCodeView State of code view\r\n     * @property {Boolean} isFullScreen State of full screen\r\n     * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n     * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n     * @property {Number} tabSize Indent size of tab (4)\r\n     * @property {Number} codeIndent Indent size of Code view mode (2)\r\n     * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.ke-wrapper-inner {min-height: 65px;} || 65)\r\n     * @property {Array} currentNodes  An array of the current cursor's node structure\r\n     * @private\r\n     */\n    _variable: {\n      isChanged: false,\n      isCodeView: false,\n      isFullScreen: false,\n      innerHeight_fullScreen: 0,\n      resizeClientY: 0,\n      tabSize: 4,\n      codeIndent: 2,\n      minResizingSize: util.getNumber(context.element.wysiwygFrame.style.minHeight || \"65\", 0),\n      currentNodes: [],\n      currentNodesMap: [],\n      _range: null,\n      _selectionNode: null,\n      _originCssText: context.element.topArea.style.cssText,\n      _bodyOverflow: \"\",\n      editorAreaOriginCssText: \"\",\n      _wysiwygOriginCssText: \"\",\n      _codeOriginCssText: \"\",\n      _fullScreenAttrs: {\n        sticky: false,\n        balloon: false,\n        inline: false\n      },\n      _lineBreakComp: null,\n      _lineBreakDir: \"\"\n    },\n\n    /**\r\n     * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n     * If the plugin is added call callBack function.\r\n     * @param {String} pluginName The name of the plugin to call\r\n     * @param {function} callBackFunction Function to be executed immediately after module call\r\n     * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n     */\n    callPlugin: function callPlugin(pluginName, callBackFunction, _target) {\n      _target = _target || pluginCallButtons[pluginName];\n\n      if (!this.plugins[pluginName]) {\n        throw Error('[KothingEditor.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\n      } else if (!this.initPlugins[pluginName]) {\n        this.plugins[pluginName].add(this, _target);\n        this.initPlugins[pluginName] = true;\n      } else if (_typeof(this._targetPlugins[pluginName]) === \"object\" && !!_target) {\n        this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\n      }\n\n      if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\n        this.commandMap[pluginName] = _target;\n        this.activePlugins.push(pluginName);\n      }\n\n      if (typeof callBackFunction === \"function\") callBackFunction();\n    },\n\n    /**\r\n     * @description If the module is not added, add the module and call the 'add' function\r\n     * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n     */\n    addModule: function addModule(moduleArray) {\n      for (var i = 0, len = moduleArray.length, moduleName; i < len; i++) {\n        moduleName = moduleArray[i].name;\n\n        if (!this.plugins[moduleName]) {\n          this.plugins[moduleName] = moduleArray[i];\n        }\n\n        if (!this.initPlugins[moduleName]) {\n          this.initPlugins[moduleName] = true;\n          if (typeof this.plugins[moduleName].add === \"function\") this.plugins[moduleName].add(this);\n        }\n      }\n    },\n\n    /**\r\n     * @description Gets the current editor-relative scroll offset.\r\n     * @returns {Object} {top, left}\r\n     */\n    getGlobalScrollOffset: function getGlobalScrollOffset() {\n      var t = 0,\n          l = 0;\n      var el = context.element.topArea;\n\n      while (el) {\n        t += el.scrollTop;\n        l += el.scrollLeft;\n        el = el.parentElement;\n      }\n\n      el = this._shadowRoot ? this._shadowRoot.host : null;\n\n      while (el) {\n        t += el.scrollTop;\n        l += el.scrollLeft;\n        el = el.parentElement;\n      }\n\n      return {\n        top: t,\n        left: l\n      };\n    },\n\n    /**\r\n     * @description Method for managing submenu element.\r\n     * You must add the \"submenu\" element using the this method at custom plugin.\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Element|null} target Target button\r\n     * @param {Element} menu Submenu element\r\n     */\n    initMenuTarget: function initMenuTarget(pluginName, target, menu) {\n      if (!target) {\n        this._targetPlugins[pluginName] = menu;\n      } else {\n        context.element.menuTray.appendChild(menu);\n        this._targetPlugins[pluginName] = true;\n        this.menuTray[target.getAttribute(\"data-command\")] = menu;\n      }\n    },\n\n    /**\r\n     * @description Enabled submenu\r\n     * @param {Element} element Submenu's button element to call\r\n     */\n    submenuOn: function submenuOn(element) {\n      if (this._bindedSubmenuOff) this._bindedSubmenuOff();\n      if (this._bindControllersOff) this.controllersOff();\n      var submenuName = this._submenuName = element.getAttribute(\"data-command\");\n      var menu = this.submenu = this.menuTray[submenuName];\n      this.submenuActiveButton = element;\n\n      this._setMenuPosition(element, menu);\n\n      this._bindedSubmenuOff = this.submenuOff.bind(this);\n      this.addDocEvent(\"mousedown\", this._bindedSubmenuOff, false);\n      if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\n      this._antiBlur = true;\n    },\n\n    /**\r\n     * @description Disable submenu\r\n     */\n    submenuOff: function submenuOff() {\n      this.removeDocEvent(\"mousedown\", this._bindedSubmenuOff);\n      this._bindedSubmenuOff = null;\n\n      if (this.submenu) {\n        this._submenuName = \"\";\n        this.submenu.style.display = \"none\";\n        this.submenu = null;\n        util.removeClass(this.submenuActiveButton, \"on\");\n        this.submenuActiveButton = null;\n        this._notHideToolbar = false;\n      }\n\n      this._antiBlur = false;\n    },\n\n    /**\r\n     * @description Enabled container\r\n     * @param {Element} element Container's button element to call\r\n     */\n    containerOn: function containerOn(element) {\n      if (this._bindedContainerOff) this._bindedContainerOff();\n      var containerName = this._containerName = element.getAttribute(\"data-command\");\n      var menu = this.container = this.menuTray[containerName];\n      this.containerActiveButton = element;\n\n      this._setMenuPosition(element, menu);\n\n      this._bindedContainerOff = this.containerOff.bind(this);\n      this.addDocEvent(\"mousedown\", this._bindedContainerOff, false);\n      if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\n      this._antiBlur = true;\n    },\n\n    /**\r\n     * @description Disable container\r\n     */\n    containerOff: function containerOff() {\n      this.removeDocEvent(\"mousedown\", this._bindedContainerOff);\n      this._bindedContainerOff = null;\n\n      if (this.container) {\n        this._containerName = \"\";\n        this.container.style.display = \"none\";\n        this.container = null;\n        util.removeClass(this.containerActiveButton, \"on\");\n        this.containerActiveButton = null;\n        this._notHideToolbar = false;\n      }\n\n      this._antiBlur = false;\n    },\n\n    /**\r\n     * @description Set the menu position. (submenu, container)\r\n     * @param {*} element Button element\r\n     * @param {*} menu Menu element\r\n     * @private\r\n     */\n    _setMenuPosition: function _setMenuPosition(element, menu) {\n      menu.style.visibility = \"hidden\";\n      menu.style.display = \"block\";\n      menu.style.height = \"\";\n      util.addClass(element, \"on\");\n      var toolbar = this.context.element.toolbar;\n      var toolbarW = toolbar.offsetWidth;\n\n      var toolbarOffset = event._getEditorOffsets(context.element.toolbar);\n\n      var menuW = menu.offsetWidth;\n      var l = element.parentElement.offsetLeft + 3; // rtl\n\n      if (options.rtl) {\n        var elementW = element.offsetWidth;\n        var rtlW = menuW > elementW ? menuW - elementW : 0;\n        var rtlL = rtlW > 0 ? 0 : elementW - menuW;\n        menu.style.left = l - rtlW + rtlL + \"px\";\n\n        if (toolbarOffset.left > event._getEditorOffsets(menu).left) {\n          menu.style.left = \"0px\";\n        }\n      } else {\n        var overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\n        if (overLeft < 0) menu.style.left = l + overLeft + \"px\";else menu.style.left = l + \"px\";\n      } // get element top\n\n\n      var t = 0;\n      var offsetEl = element;\n\n      while (offsetEl && offsetEl !== toolbar) {\n        t += offsetEl.offsetTop;\n        offsetEl = offsetEl.offsetParent;\n      }\n\n      var bt = t;\n\n      if (this._isBalloon) {\n        t += toolbar.offsetTop + element.offsetHeight;\n      } else {\n        t -= element.offsetHeight;\n      } // set menu position\n\n\n      var toolbarTop = toolbarOffset.top;\n      var menuHeight = menu.offsetHeight;\n      var scrollTop = this.getGlobalScrollOffset().top;\n      var menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\n\n      if (menuHeight_bottom < menuHeight) {\n        var menuTop = -1 * (menuHeight - bt + 3);\n        var insTop = toolbarTop - scrollTop + menuTop;\n        var menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\n\n        if (menuHeight_top > menuHeight_bottom) {\n          menu.style.height = menuHeight_top + \"px\";\n          menuTop = -1 * (menuHeight_top - bt + 3);\n        } else {\n          menu.style.height = menuHeight_bottom + \"px\";\n          menuTop = bt + element.parentElement.offsetHeight;\n        }\n\n        menu.style.top = menuTop + \"px\";\n      } else {\n        menu.style.top = bt + element.parentElement.offsetHeight + \"px\";\n      }\n\n      menu.style.visibility = \"\";\n    },\n\n    /**\r\n     * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n     * @param {*} arguments controller elements, functions..\r\n     */\n    controllersOn: function controllersOn() {\n      if (this._bindControllersOff) this._bindControllersOff();\n      this.controllerArray = [];\n\n      for (var i = 0, arg; i < arguments.length; i++) {\n        arg = arguments[i];\n        if (!arg) continue;\n\n        if (typeof arg === \"string\") {\n          this.currentControllerName = arg;\n          continue;\n        }\n\n        if (typeof arg === \"function\") {\n          this.controllerArray.push(arg);\n          continue;\n        }\n\n        if (!util.hasClass(arg, \"ke-controller\")) {\n          this.currentControllerTarget = arg;\n          this.currentFileComponentInfo = this.getFileComponent(arg);\n          continue;\n        }\n\n        if (arg.style) {\n          arg.style.display = \"block\";\n\n          if (this._shadowRoot && this._shadowRootControllerEventTarget.indexOf(arg) === -1) {\n            arg.addEventListener(\"mousedown\", function (e) {\n              e.preventDefault();\n              e.stopPropagation();\n            });\n\n            this._shadowRootControllerEventTarget.push(arg);\n          }\n        }\n\n        this.controllerArray.push(arg);\n      }\n\n      this._bindControllersOff = this.controllersOff.bind(this);\n      this.addDocEvent(\"mousedown\", this._bindControllersOff, false);\n      this.addDocEvent(\"keydown\", this._bindControllersOff, false);\n      this._antiBlur = true;\n      if (typeof functions.showController === \"function\") functions.showController(this.currentControllerName, this.controllerArray, this);\n    },\n\n    /**\r\n     * @description Hide controller at editor area (link button, image resize button..)\r\n     * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n     */\n    controllersOff: function controllersOff(e) {\n      this.lineBreaker.style.display = \"none\";\n      var len = this.controllerArray.length;\n\n      if (e && e.target && len > 0) {\n        for (var i = 0; i < len; i++) {\n          if (typeof this.controllerArray[i].contains === \"function\" && this.controllerArray[i].contains(e.target)) return;\n        }\n      }\n\n      if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === \"keydown\" && e.keyCode !== 27) return;\n      context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = \"none\";\n      this._variable._lineBreakComp = null;\n      this.currentControllerName = \"\";\n      this.currentControllerTarget = null;\n      this.currentFileComponentInfo = null;\n      this.effectNode = null;\n      if (!this._bindControllersOff) return;\n      this.removeDocEvent(\"mousedown\", this._bindControllersOff);\n      this.removeDocEvent(\"keydown\", this._bindControllersOff);\n      this._bindControllersOff = null;\n\n      if (len > 0) {\n        for (var _i = 0; _i < len; _i++) {\n          if (typeof this.controllerArray[_i] === \"function\") this.controllerArray[_i]();else this.controllerArray[_i].style.display = \"none\";\n        }\n\n        this.controllerArray = [];\n      }\n\n      this._antiBlur = false;\n    },\n\n    /**\r\n     * @description Specify the position of the controller.\r\n     * @param {Element} controller Controller element.\r\n     * @param {Element} referEl Element that is the basis of the controller's position.\r\n     * @param {String} position Type of position (\"top\" | \"bottom\")\r\n     * When using the \"top\" position, there should not be an arrow on the controller.\r\n     * When using the \"bottom\" position there should be an arrow on the controller.\r\n     * @param {Object} addOffset These are the left and top values that need to be added specially.\r\n     * This argument is required. - {left: 0, top: 0}\r\n     * Please enter the value based on ltr mode.\r\n     * Calculated automatically in rtl mode.\r\n     */\n    setControllerPosition: function setControllerPosition(controller, referEl, position, addOffset) {\n      if (options.rtl) addOffset.left *= -1;\n      var offset = util.getOffset(referEl, context.element.wysiwygFrame);\n      controller.style.visibility = \"hidden\";\n      controller.style.display = \"block\"; // Height value of the arrow element is 11px\n\n      var topMargin = position === \"top\" ? -(controller.offsetHeight + 2) : referEl.offsetHeight + 12;\n      controller.style.top = offset.top + topMargin + addOffset.top + \"px\";\n      var l = offset.left - context.element.wysiwygFrame.scrollLeft + addOffset.left;\n      var controllerW = controller.offsetWidth;\n      var referElW = referEl.offsetWidth;\n      var allow = util.hasClass(controller.firstElementChild, \"ke-arrow\") ? controller.firstElementChild : null; // rtl (Width value of the arrow element is 22px)\n\n      if (options.rtl) {\n        var rtlW = controllerW > referElW ? controllerW - referElW : 0;\n        var rtlL = rtlW > 0 ? 0 : referElW - controllerW;\n        controller.style.left = l - rtlW + rtlL + \"px\";\n\n        if (rtlW > 0) {\n          if (allow) allow.style.left = (controllerW - 14 < 10 + rtlW ? controllerW - 14 : 10 + rtlW) + \"px\";\n        }\n\n        var overSize = context.element.wysiwygFrame.offsetLeft - controller.offsetLeft;\n\n        if (overSize > 0) {\n          controller.style.left = \"0px\";\n          if (allow) allow.style.left = overSize + \"px\";\n        }\n      } else {\n        controller.style.left = l + \"px\";\n\n        var _overSize = context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controllerW);\n\n        if (_overSize < 0) {\n          controller.style.left = controller.offsetLeft + _overSize + \"px\";\n          if (allow) allow.style.left = 20 - _overSize + \"px\";\n        } else {\n          if (allow) allow.style.left = \"20px\";\n        }\n      }\n\n      controller.style.visibility = \"\";\n    },\n\n    /**\r\n     * @description javascript execCommand\r\n     * @param {String} command javascript execCommand function property\r\n     * @param {Boolean|undefined} showDefaultUI javascript execCommand function property\r\n     * @param {String|undefined} value javascript execCommand function property\r\n     */\n    execCommand: function execCommand(command, showDefaultUI, value) {\n      this._wd.execCommand(command, showDefaultUI, command === \"formatBlock\" ? \"<\" + value + \">\" : value); // history stack\n\n\n      this.history.push(true);\n    },\n\n    /**\r\n     * @description Focus to wysiwyg area using \"native focus function\"\r\n     */\n    nativeFocus: function nativeFocus() {\n      var caption = util.getParentElement(this.getSelectionNode(), \"figcaption\");\n\n      if (caption) {\n        caption.focus();\n      } else {\n        context.element.wysiwyg.focus();\n      }\n\n      this._editorRange();\n    },\n\n    /**\r\n     * @description Focus to wysiwyg area\r\n     */\n    focus: function focus() {\n      if (context.element.wysiwygFrame.style.display === \"none\") return;\n\n      if (options.iframe) {\n        this.nativeFocus();\n      } else {\n        try {\n          var range = this.getRange();\n\n          if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\n            var currentNode = range.commonAncestorContainer.children[range.startOffset];\n\n            if (!util.isFormatElement(currentNode) && !util.isComponent(currentNode)) {\n              var format = util.createElement(options.defaultTag);\n              var br = util.createElement(\"BR\");\n              format.appendChild(br);\n              context.element.wysiwyg.insertBefore(format, currentNode);\n              this.setRange(br, 0, br, 0);\n              return;\n            }\n          }\n\n          this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n        } catch (e) {\n          this.nativeFocus();\n        }\n      }\n\n      event._applyTagEffects();\n\n      if (this._isBalloon) event._toggleToolbarBalloon();\n    },\n\n    /**\r\n     * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n     * If \"focusEdge\" is null, then selected last element\r\n     * @param {Element|null} focusEl Focus element\r\n     */\n    focusEdge: function focusEdge(focusEl) {\n      if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\n      var fileComponentInfo = this.getFileComponent(focusEl);\n\n      if (fileComponentInfo) {\n        this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n      } else if (focusEl) {\n        focusEl = util.getChildElement(focusEl, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, true);\n        if (!focusEl) this.nativeFocus();else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\n      } else {\n        this.focus();\n      }\n    },\n\n    /**\r\n     * @description Focusout to wysiwyg area (.blur())\r\n     */\n    blur: function blur() {\n      if (options.iframe) {\n        context.element.wysiwygFrame.blur();\n      } else {\n        context.element.wysiwyg.blur();\n      }\n    },\n\n    /**\r\n     * @description Set current editor's range object and return.\r\n     * @param {Node} startCon The startContainer property of the selection object.\r\n     * @param {Number} startOff The startOffset property of the selection object.\r\n     * @param {Node} endCon The endContainer property of the selection object.\r\n     * @param {Number} endOff The endOffset property of the selection object.\r\n     * @returns {Object} Range object.\r\n     */\n    setRange: function setRange(startCon, startOff, endCon, endOff) {\n      if (!startCon || !endCon) return;\n      if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\n      if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\n\n      if (util.isFormatElement(startCon)) {\n        startCon = startCon.childNodes[startOff] || startCon;\n        startOff = 0;\n      }\n\n      if (util.isFormatElement(endCon)) {\n        endCon = endCon.childNodes[endOff] || endCon;\n        endOff = startOff > 1 ? startOff : 0;\n      }\n\n      var range = this._wd.createRange();\n\n      try {\n        range.setStart(startCon, startOff);\n        range.setEnd(endCon, endOff);\n      } catch (error) {\n        console.warn(\"[KothingEditor.core.focus.error] \" + error);\n        this.nativeFocus();\n        return;\n      }\n\n      var selection = this.getSelection();\n\n      if (selection.removeAllRanges) {\n        selection.removeAllRanges();\n      }\n\n      selection.addRange(range);\n\n      this._editorRange();\n\n      if (options.iframe) this.nativeFocus();\n      return range;\n    },\n\n    /**\r\n     * @description Remove range object and button effect\r\n     */\n    removeRange: function removeRange() {\n      this._variable._range = null;\n      this._variable._selectionNode = null;\n      if (this.hasFocus) this.getSelection().removeAllRanges();\n      var commandMap = this.commandMap;\n      var activePlugins = this.activePlugins;\n\n      for (var key in commandMap) {\n        if (!util.hasOwn(commandMap, key)) continue;\n\n        if (activePlugins.indexOf(key) > -1) {\n          plugins[key].active.call(this, null);\n        } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n          commandMap.OUTDENT.setAttribute(\"disabled\", true);\n        } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n          commandMap.INDENT.removeAttribute(\"disabled\");\n        } else {\n          util.removeClass(commandMap[key], \"active\");\n        }\n      }\n    },\n\n    /**\r\n     * @description Get current editor's range object\r\n     * @returns {Object}\r\n     */\n    getRange: function getRange() {\n      var range = this._variable._range || this._createDefaultRange();\n\n      var selection = this.getSelection();\n      if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\n\n      if (selection.rangeCount > 0) {\n        this._variable._range = selection.getRangeAt(0);\n        return this._variable._range;\n      } else {\n        var sc = selection.anchorNode,\n            ec = selection.focusNode,\n            so = selection.anchorOffset,\n            eo = selection.focusOffset;\n        var compareValue = util.compareElements(sc, ec);\n        var rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\n        return this.setRange(rightDir ? sc : ec, rightDir ? so : eo, rightDir ? ec : sc, rightDir ? eo : so);\n      }\n    },\n\n    /**\r\n     * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n     * Returns a new \"range\" or argument \"range\".\r\n     * @param {Object} range core.getRange()\r\n     * @param {Element|null} container If there is \"container\" argument, it creates a line in front of the container.\r\n     * @returns {Object} range\r\n     */\n    getRange_addLine: function getRange_addLine(range, container) {\n      if (this._selectionVoid(range)) {\n        var wysiwyg = context.element.wysiwyg;\n        var op = util.createElement(options.defaultTag);\n        op.innerHTML = \"<br>\";\n        wysiwyg.insertBefore(op, container && container !== wysiwyg ? container.nextElementSibling : wysiwyg.firstElementChild);\n        this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\n        range = this._variable._range;\n      }\n\n      return range;\n    },\n\n    /**\r\n     * @description Get window selection obejct\r\n     * @returns {Object}\r\n     */\n    getSelection: function getSelection() {\n      return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\n    },\n\n    /**\r\n     * @description Get current select node\r\n     * @returns {Node}\r\n     */\n    getSelectionNode: function getSelectionNode() {\n      if (!context.element.wysiwyg.contains(this._variable._selectionNode)) this._editorRange();\n\n      if (!this._variable._selectionNode) {\n        var selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, false);\n\n        if (!selectionNode) {\n          this._editorRange();\n        } else {\n          this._variable._selectionNode = selectionNode;\n          return selectionNode;\n        }\n      }\n\n      return this._variable._selectionNode;\n    },\n\n    /**\r\n     * @description Saving the range object and the currently selected node of editor\r\n     * @private\r\n     */\n    _editorRange: function _editorRange() {\n      var selection = this.getSelection();\n      if (!selection) return null;\n      var range = null;\n      var selectionNode = null;\n\n      if (selection.rangeCount > 0) {\n        range = selection.getRangeAt(0);\n      } else {\n        range = this._createDefaultRange();\n      }\n\n      this._variable._range = range;\n\n      if (range.collapsed) {\n        if (util.isWysiwygDiv(range.commonAncestorContainer)) selectionNode = range.commonAncestorContainer.children[range.startOffset] || range.commonAncestorContainer;else selectionNode = range.commonAncestorContainer;\n      } else {\n        selectionNode = selection.extentNode || selection.anchorNode;\n      }\n\n      this._variable._selectionNode = selectionNode;\n    },\n\n    /**\r\n     * @description Return the range object of editor's first child node\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createDefaultRange: function _createDefaultRange() {\n      var wysiwyg = context.element.wysiwyg;\n      wysiwyg.focus();\n\n      var range = this._wd.createRange();\n\n      var focusEl = wysiwyg.firstElementChild;\n\n      if (!focusEl) {\n        focusEl = util.createElement(options.defaultTag);\n        focusEl.innerHTML = \"<br>\";\n        wysiwyg.appendChild(focusEl);\n      }\n\n      range.setStart(focusEl, 0);\n      range.setEnd(focusEl, 0);\n      return range;\n    },\n\n    /**\r\n     * @description Returns true if there is no valid \"selection\".\r\n     * @param {Object} range core.getRange()\r\n     * @returns {Object} range\r\n     * @private\r\n     */\n    _selectionVoid: function _selectionVoid(range) {\n      var comm = range.commonAncestorContainer;\n      return util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\n    },\n\n    /**\r\n     * @description Reset range object to text node selected status.\r\n     * @returns {Boolean} Returns false if there is no valid selection.\r\n     * @private\r\n     */\n    _resetRangeToTextNode: function _resetRangeToTextNode() {\n      var range = this.getRange();\n      if (this._selectionVoid(range)) return false;\n      var startCon = range.startContainer;\n      var startOff = range.startOffset;\n      var endCon = range.endContainer;\n      var endOff = range.endOffset;\n      var tempCon, tempOffset, tempChild;\n\n      if (util.isFormatElement(startCon)) {\n        startCon = startCon.childNodes[startOff] || startCon.lastChild;\n        startOff = startCon.textContent.length;\n      }\n\n      if (util.isFormatElement(endCon)) {\n        endCon = endCon.childNodes[endOff] || endCon.lastChild;\n        endOff = endCon.textContent.length;\n      } // startContainer\n\n\n      tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\n      tempOffset = startOff;\n\n      if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n        var onlyBreak = util.isBreak(tempCon);\n\n        if (!onlyBreak) {\n          while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n            tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\n            tempOffset = 0;\n          }\n\n          var format = util.getFormatElement(tempCon, null);\n\n          if (format === util.getRangeFormatElement(format, null)) {\n            format = util.createElement(util.getParentElement(tempCon, util.isCell) ? \"DIV\" : options.defaultTag);\n            tempCon.parentNode.insertBefore(format, tempCon);\n            format.appendChild(tempCon);\n          }\n        }\n\n        if (util.isBreak(tempCon)) {\n          var emptyText = util.createTextNode(util.zeroWidthSpace);\n          tempCon.parentNode.insertBefore(emptyText, tempCon);\n          tempCon = emptyText;\n\n          if (onlyBreak) {\n            if (startCon === endCon) {\n              endCon = tempCon;\n              endOff = 1;\n            }\n          }\n        }\n      } // set startContainer\n\n\n      startCon = tempCon;\n      startOff = tempOffset; // endContainer\n\n      tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\n      tempOffset = endOff;\n\n      if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n        var _onlyBreak = util.isBreak(tempCon);\n\n        if (!_onlyBreak) {\n          while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n            tempChild = tempCon.childNodes;\n            if (tempChild.length === 0) break;\n            tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : tempCon.previousElementSibling || tempCon.previousSibling || startCon;\n            tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\n          }\n\n          var _format = util.getFormatElement(tempCon, null);\n\n          if (_format === util.getRangeFormatElement(_format, null)) {\n            _format = util.createElement(util.isCell(_format) ? \"DIV\" : options.defaultTag);\n            tempCon.parentNode.insertBefore(_format, tempCon);\n\n            _format.appendChild(tempCon);\n          }\n        }\n\n        if (util.isBreak(tempCon)) {\n          var _emptyText = util.createTextNode(util.zeroWidthSpace);\n\n          tempCon.parentNode.insertBefore(_emptyText, tempCon);\n          tempCon = _emptyText;\n          tempOffset = 1;\n\n          if (_onlyBreak && !tempCon.previousSibling) {\n            util.removeItem(endCon);\n          }\n        }\n      } // set endContainer\n\n\n      endCon = tempCon;\n      endOff = tempOffset; // set Range\n\n      this.setRange(startCon, startOff, endCon, endOff);\n      return true;\n    },\n\n    /**\r\n     * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n     * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n     * @returns {Array}\r\n     */\n    getSelectedElements: function getSelectedElements(validation) {\n      if (!this._resetRangeToTextNode()) return [];\n      var range = this.getRange();\n\n      if (util.isWysiwygDiv(range.startContainer)) {\n        var children = context.element.wysiwyg.children;\n        if (children.length === 0) return [];\n        this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\n        range = this.getRange();\n      }\n\n      var startCon = range.startContainer;\n      var endCon = range.endContainer;\n      var commonCon = range.commonAncestorContainer; // get line nodes\n\n      var lineNodes = util.getListChildren(commonCon, function (current) {\n        return validation ? validation(current) : util.isFormatElement(current);\n      });\n      if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\n      if (startCon === endCon || lineNodes.length === 1) return lineNodes;\n      var startLine = util.getFormatElement(startCon, null);\n      var endLine = util.getFormatElement(endCon, null);\n      var startIdx = null;\n      var endIdx = null;\n\n      var onlyTable = function onlyTable(current) {\n        return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\n      };\n\n      var startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\n      var endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\n      if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\n      if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\n      var sameRange = startRangeEl === endRangeEl;\n\n      for (var i = 0, len = lineNodes.length, line; i < len; i++) {\n        line = lineNodes[i];\n\n        if (startLine === line || !sameRange && line === startRangeEl) {\n          startIdx = i;\n          continue;\n        }\n\n        if (endLine === line || !sameRange && line === endRangeEl) {\n          endIdx = i;\n          break;\n        }\n      }\n\n      if (startIdx === null) startIdx = 0;\n      if (endIdx === null) endIdx = lineNodes.length - 1;\n      return lineNodes.slice(startIdx, endIdx + 1);\n    },\n\n    /**\r\n     * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n     * If some of the component are included in the selection, get the entire that component.\r\n     * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n     * @returns {Array}\r\n     */\n    getSelectedElementsAndComponents: function getSelectedElementsAndComponents(removeDuplicate) {\n      var commonCon = this.getRange().commonAncestorContainer;\n      var myComponent = util.getParentElement(commonCon, util.isComponent);\n      var selectedLines = util.isTable(commonCon) ? this.getSelectedElements(null) : this.getSelectedElements(function (current) {\n        var component = this.getParentElement(current, this.isComponent);\n        return this.isFormatElement(current) && (!component || component === myComponent) || this.isComponent(current) && !this.getFormatElement(current);\n      }.bind(util));\n\n      if (removeDuplicate) {\n        for (var i = 0, len = selectedLines.length; i < len; i++) {\n          for (var j = i - 1; j >= 0; j--) {\n            if (selectedLines[j].contains(selectedLines[i])) {\n              selectedLines.splice(i, 1);\n              i--;\n              len--;\n              break;\n            }\n          }\n        }\n      }\n\n      return selectedLines;\n    },\n\n    /**\r\n     * @description Determine if this offset is the edge offset of container\r\n     * @param {Node} container The node of the selection object. (range.startContainer..)\r\n     * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n     * @param {String|undefined} dir Select check point - Both edge, Front edge or End edge. (\"front\": Front edge, \"end\": End edge, undefined: Both edge)\r\n     * @returns {Boolean}\r\n     */\n    isEdgePoint: function isEdgePoint(container, offset, dir) {\n      return dir !== \"end\" && offset === 0 || (!dir || dir !== \"front\") && !container.nodeValue && offset === 1 || (!dir || dir === \"end\") && !!container.nodeValue && offset === container.nodeValue.length;\n    },\n\n    /**\r\n     * @description Check if the container and offset values are the edges of the format tag\r\n     * @param {Node} container The node of the selection object. (range.startContainer..)\r\n     * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n     * @param {String} dir Select check point - \"front\": Front edge, \"end\": End edge, undefined: Both edge.\r\n     * @returns {Array|null}\r\n     * @private\r\n     */\n    _isEdgeFormat: function _isEdgeFormat(node, offset, dir) {\n      if (!this.isEdgePoint(node, offset, dir)) return false;\n      var result = [];\n      dir = dir === \"front\" ? \"previousSibling\" : \"nextSibling\";\n\n      while (node && !util.isFormatElement(node) && !util.isWysiwygDiv(node)) {\n        if (!node[dir] || util.isBreak(node[dir]) && !node[dir][dir]) {\n          if (node.nodeType === 1) result.push(node.cloneNode(false));\n          node = node.parentNode;\n        } else {\n          return null;\n        }\n      }\n\n      return result;\n    },\n\n    /**\r\n     * @description Show loading box\r\n     */\n    showLoading: function showLoading() {\n      context.element.loading.style.display = \"block\";\n    },\n\n    /**\r\n     * @description Close loading box\r\n     */\n    closeLoading: function closeLoading() {\n      context.element.loading.style.display = \"none\";\n    },\n\n    /**\r\n     * @description Append format element to sibling node of argument element.\r\n     * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n     * If not, the currently selected format tag is inserted.\r\n     * @param {Element} element Insert as siblings of that element\r\n     * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n     * @returns {Element}\r\n     */\n    appendFormatTag: function appendFormatTag(element, formatNode) {\n      var currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\n      var oFormatName = formatNode ? typeof formatNode === \"string\" ? formatNode : formatNode.nodeName : util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl) ? currentFormatEl.nodeName : options.defaultTag;\n      var oFormat = util.createElement(oFormatName);\n      oFormat.innerHTML = \"<br>\";\n\n      if (formatNode && typeof formatNode !== \"string\" || !formatNode && util.isFormatElement(currentFormatEl)) {\n        util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\n      }\n\n      if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\n      return oFormat;\n    },\n\n    /**\r\n     * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n     * If \"element\" is \"HR\", insert and return the new line.\r\n     * @param {Element} element Element to be inserted\r\n     * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n     * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n     * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n     * @returns {Element}\r\n     */\n    insertComponent: function insertComponent(element, notHistoryPush, checkCharCount, notSelect) {\n      if (checkCharCount && !this.checkCharCount(element, null)) {\n        return null;\n      }\n\n      var r = this.removeNode();\n      this.getRange_addLine(this.getRange(), r.container);\n      var oNode = null;\n      var selectionNode = this.getSelectionNode();\n      var formatEl = util.getFormatElement(selectionNode, null);\n\n      if (util.isListCell(formatEl)) {\n        this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\n        if (!element.nextSibling) element.parentNode.appendChild(util.createElement(\"BR\"));\n      } else {\n        if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\n          var depthFormat = util.getParentElement(r.container, function (current) {\n            return this.isRangeFormatElement(current);\n          }.bind(util));\n          oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          if (oNode) formatEl = oNode.previousSibling;\n        }\n\n        this.insertNode(element, formatEl, false);\n        if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\n      }\n\n      this.setRange(element, 0, element, 0);\n\n      if (!notSelect) {\n        var fileComponentInfo = this.getFileComponent(element);\n\n        if (fileComponentInfo) {\n          this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n        } else if (oNode) {\n          oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\n          this.setRange(oNode, 0, oNode, 0);\n        }\n      } // history stack\n\n\n      if (!notHistoryPush) this.history.push(1);\n      return oNode || element;\n    },\n\n    /**\r\n     * @description Gets the file component and that plugin name\r\n     * return: {target, component, pluginName} | null\r\n     * @param {Element} element Target element (figure tag, component div, file tag)\r\n     * @returns {Object|null}\r\n     */\n    getFileComponent: function getFileComponent(element) {\n      if (!this._fileManager.queryString || !element) return null;\n      var target, pluginName;\n\n      if (/^FIGURE$/i.test(element.nodeName) || /ke-component/.test(element.className)) {\n        target = element.querySelector(this._fileManager.queryString);\n      }\n\n      if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\n        target = element;\n      }\n\n      if (target) {\n        pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\n\n        if (pluginName) {\n          return {\n            target: target,\n            component: util.getParentElement(target, util.isComponent),\n            pluginName: pluginName\n          };\n        }\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description The component(image, video) is selected and the resizing module is called.\r\n     * @param {Element} element Element tag (img, iframe, video)\r\n     * @param {String} pluginName Plugin name (image, video)\r\n     */\n    selectComponent: function selectComponent(element, pluginName) {\n      if (util.isUneditableComponent(util.getParentElement(element, util.isComponent)) || util.isUneditableComponent(element)) return false;\n      if (!this.hasFocus) this.focus();\n      var plugin = this.plugins[pluginName];\n      if (!plugin) return;\n\n      _w.setTimeout(function () {\n        if (typeof plugin.select === \"function\") this.callPlugin(pluginName, plugin.select.bind(this, element), null);\n\n        this._setComponentLineBreaker(element);\n      }.bind(this));\n    },\n\n    /**\r\n     * @description Set line breaker of component\r\n     * @param {Element} element Element tag (img, iframe, video)\r\n     * @private\r\n     */\n    _setComponentLineBreaker: function _setComponentLineBreaker(element) {\n      // line breaker\n      this.lineBreaker.style.display = \"none\";\n      var container = util.getParentElement(element, util.isComponent);\n      var t_style = context.element.lineBreaker_t.style;\n      var b_style = context.element.lineBreaker_b.style;\n      var target = this.context.resizing.resizeContainer.style.display === \"block\" ? this.context.resizing.resizeContainer : element;\n      var isList = util.isListCell(container.parentNode);\n      var componentTop, wScroll, w; // top\n\n      if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\n        this._variable._lineBreakComp = container;\n        wScroll = context.element.wysiwyg.scrollTop;\n        componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n        w = target.offsetWidth / 2 / 2;\n        t_style.top = componentTop - wScroll - 12 + \"px\";\n        t_style.left = util.getOffset(target).left + w + \"px\";\n        t_style.display = \"block\";\n      } else {\n        t_style.display = \"none\";\n      } // bottom\n\n\n      if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\n        if (!componentTop) {\n          this._variable._lineBreakComp = container;\n          wScroll = context.element.wysiwyg.scrollTop;\n          componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n          w = target.offsetWidth / 2 / 2;\n        }\n\n        b_style.top = componentTop + target.offsetHeight - wScroll - 12 + \"px\";\n        b_style.left = util.getOffset(target).left + target.offsetWidth - w - 24 + \"px\";\n        b_style.display = \"block\";\n      } else {\n        b_style.display = \"none\";\n      }\n    },\n\n    /**\r\n     * @description Delete selected node and insert argument value node and return.\r\n     * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n     * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n     * @param {Node} oNode Element to be inserted\r\n     * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n     * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n     * @returns {Object|Node|null}\r\n     */\n    insertNode: function insertNode(oNode, afterNode, checkCharCount) {\n      if (checkCharCount && !this.checkCharCount(oNode, null)) {\n        return null;\n      }\n\n      var freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\n      var isFormats = !freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) || util.isComponent(oNode);\n\n      if (!afterNode && (isFormats || util.isComponent(oNode) || util.isMedia(oNode))) {\n        var r = this.removeNode();\n\n        if (r.container.nodeType === 3 || util.isBreak(r.container)) {\n          var depthFormat = util.getParentElement(r.container, function (current) {\n            return this.isRangeFormatElement(current) || this.isListCell(current);\n          }.bind(util));\n          afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          if (afterNode) afterNode = afterNode.previousSibling;\n        }\n      }\n\n      var range = !afterNode && !isFormats ? this.getRange_addLine(this.getRange(), null) : this.getRange();\n      var commonCon = range.commonAncestorContainer;\n      var startOff = range.startOffset;\n      var endOff = range.endOffset;\n      var formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\n      var startCon = formatRange ? commonCon.childNodes[startOff] || commonCon.childNodes[0] : range.startContainer;\n      var endCon = formatRange ? commonCon.childNodes[endOff] || commonCon.childNodes[commonCon.childNodes.length - 1] : range.endContainer;\n      var parentNode,\n          originAfter = null;\n\n      if (!afterNode) {\n        parentNode = startCon;\n\n        if (startCon.nodeType === 3) {\n          parentNode = startCon.parentNode;\n        }\n        /** No Select range node */\n\n\n        if (range.collapsed) {\n          if (commonCon.nodeType === 3) {\n            if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);else afterNode = commonCon.nextSibling;\n          } else {\n            if (!util.isBreak(parentNode)) {\n              var c = parentNode.childNodes[startOff];\n              var focusNode = c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling) ? c.nextSibling : c;\n\n              if (focusNode) {\n                if (!focusNode.nextSibling) {\n                  parentNode.removeChild(focusNode);\n                  afterNode = null;\n                } else {\n                  afterNode = util.isBreak(focusNode) && !util.isBreak(oNode) ? focusNode : focusNode.nextSibling;\n                }\n              } else {\n                afterNode = null;\n              }\n            } else {\n              afterNode = parentNode;\n              parentNode = parentNode.parentNode;\n            }\n          }\n        } else {\n          /** Select range nodes */\n          var isSameContainer = startCon === endCon;\n\n          if (isSameContainer) {\n            if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;else afterNode = endCon.splitText(endOff);\n            var removeNode = startCon;\n            if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\n            parentNode.removeChild(removeNode);\n\n            if (parentNode.childNodes.length === 0 && isFormats) {\n              parentNode.innerHTML = \"<br>\";\n            }\n          } else {\n            var removedTag = this.removeNode();\n            var container = removedTag.container;\n            var prevContainer = removedTag.prevContainer;\n\n            if (container && container.childNodes.length === 0 && isFormats) {\n              if (util.isFormatElement(container)) {\n                container.innerHTML = \"<br>\";\n              } else if (util.isRangeFormatElement(container)) {\n                container.innerHTML = \"<\" + options.defaultTag + \"><br></\" + options.defaultTag + \">\";\n              }\n            }\n\n            if (!isFormats && prevContainer) {\n              parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\n\n              if (parentNode.contains(container)) {\n                var sameParent = true;\n                afterNode = container;\n\n                while (afterNode.parentNode !== parentNode) {\n                  afterNode = afterNode.parentNode;\n                  sameParent = false;\n                }\n\n                if (sameParent && container === prevContainer) afterNode = afterNode.nextSibling;\n              } else {\n                afterNode = null;\n              }\n            } else {\n              afterNode = isFormats ? endCon : container === prevContainer ? container.nextSibling : container;\n              parentNode = !afterNode || !afterNode.parentNode ? commonCon : afterNode.parentNode;\n            }\n\n            while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\n              afterNode = afterNode.parentNode;\n            }\n          }\n        }\n      } // has afterNode\n      else {\n          parentNode = afterNode.parentNode;\n          afterNode = afterNode.nextSibling;\n          originAfter = true;\n        } // --- insert node ---\n\n\n      try {\n        if (util.isWysiwygDiv(afterNode) || parentNode === context.element.wysiwyg.parentNode) {\n          parentNode = context.element.wysiwyg;\n          afterNode = null;\n        }\n\n        if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || !util.isListCell(parentNode) && util.isComponent(oNode)) {\n          var oldParent = parentNode;\n\n          if (util.isList(afterNode)) {\n            parentNode = afterNode;\n            afterNode = null;\n          } else if (util.isListCell(afterNode)) {\n            parentNode = afterNode.previousElementSibling || afterNode;\n          } else if (!originAfter && !afterNode) {\n            var _r = this.removeNode();\n\n            var _container = _r.container.nodeType === 3 ? util.isListCell(util.getFormatElement(_r.container, null)) ? _r.container : util.getFormatElement(_r.container, null) || _r.container.parentNode : _r.container;\n\n            var rangeCon = util.isWysiwygDiv(_container) || util.isRangeFormatElement(_container);\n            parentNode = rangeCon ? _container : _container.parentNode;\n            afterNode = rangeCon ? null : _container.nextSibling;\n          }\n\n          if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\n        }\n\n        if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\n          afterNode = parentNode.nextElementSibling;\n          parentNode = parentNode.parentNode;\n        }\n\n        if (util.isWysiwygDiv(parentNode) && (oNode.nodeType === 3 || util.isBreak(oNode))) {\n          var fNode = util.createElement(options.defaultTag);\n          fNode.appendChild(oNode);\n          oNode = fNode;\n        }\n\n        parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\n      } catch (e) {\n        parentNode.appendChild(oNode);\n      } finally {\n        if ((util.isFormatElement(oNode) || util.isComponent(oNode)) && startCon === endCon) {\n          var cItem = util.getFormatElement(commonCon, null);\n\n          if (cItem && cItem.nodeType === 1 && util.isEmptyLine(cItem)) {\n            util.removeItem(cItem);\n          }\n        }\n\n        if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\n          oNode = this._setIntoFreeFormat(oNode);\n        }\n\n        if (!util.isComponent(oNode)) {\n          var offset = 1;\n\n          if (oNode.nodeType === 3) {\n            var previous = oNode.previousSibling;\n            var next = oNode.nextSibling;\n            var previousText = !previous || previous.nodeType === 1 || util.onlyZeroWidthSpace(previous) ? \"\" : previous.textContent;\n            var nextText = !next || next.nodeType === 1 || util.onlyZeroWidthSpace(next) ? \"\" : next.textContent;\n\n            if (previous && previousText.length > 0) {\n              oNode.textContent = previousText + oNode.textContent;\n              util.removeItem(previous);\n            }\n\n            if (next && next.length > 0) {\n              oNode.textContent += nextText;\n              util.removeItem(next);\n            }\n\n            var newRange = {\n              container: oNode,\n              startOffset: previousText.length,\n              endOffset: oNode.textContent.length - nextText.length\n            };\n            this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\n            return newRange;\n          } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\n            var zeroWidth = null;\n\n            if (!oNode.previousSibling || util.isBreak(oNode.previousSibling)) {\n              zeroWidth = util.createTextNode(util.zeroWidthSpace);\n              oNode.parentNode.insertBefore(zeroWidth, oNode);\n            }\n\n            if (!oNode.nextSibling || util.isBreak(oNode.nextSibling)) {\n              zeroWidth = util.createTextNode(util.zeroWidthSpace);\n              oNode.parentNode.insertBefore(zeroWidth, oNode.nextSibling);\n            }\n\n            if (util._isIgnoreNodeChange(oNode)) {\n              oNode = oNode.nextSibling;\n              offset = 0;\n            }\n          }\n\n          this.setRange(oNode, offset, oNode, offset);\n        } // history stack\n\n\n        this.history.push(true);\n        return oNode;\n      }\n    },\n    _setIntoFreeFormat: function _setIntoFreeFormat(oNode) {\n      var parentNode = oNode.parentNode;\n      var oNodeChildren, lastONode;\n\n      while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\n        oNodeChildren = oNode.childNodes;\n        lastONode = null;\n\n        while (oNodeChildren[0]) {\n          lastONode = oNodeChildren[0];\n\n          if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\n            this._setIntoFreeFormat(lastONode);\n\n            if (!oNode.parentNode) break;\n            oNodeChildren = oNode.childNodes;\n            continue;\n          }\n\n          parentNode.insertBefore(lastONode, oNode);\n        }\n\n        if (oNode.childNodes.length === 0) util.removeItem(oNode);\n        oNode = util.createElement(\"BR\");\n        parentNode.insertBefore(oNode, lastONode.nextSibling);\n      }\n\n      return oNode;\n    },\n\n    /**\r\n     * @description Delete the currently selected nodes and reset selection range\r\n     * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n     * @returns {Object}\r\n     */\n    removeNode: function removeNode() {\n      this._resetRangeToTextNode();\n\n      var range = this.getRange();\n      var container,\n          offset = 0;\n      var startCon = range.startContainer;\n      var endCon = range.endContainer;\n      var startOff = range.startOffset;\n      var endOff = range.endOffset;\n      var commonCon = range.commonAncestorContainer.nodeType === 3 && range.commonAncestorContainer.parentNode === startCon.parentNode ? startCon.parentNode : range.commonAncestorContainer;\n\n      if (commonCon === startCon && commonCon === endCon) {\n        startCon = commonCon.children[startOff];\n        endCon = commonCon.children[endOff];\n        startOff = endOff = 0;\n      }\n\n      var beforeNode = null;\n      var afterNode = null;\n      var childNodes = util.getListChildNodes(commonCon, null);\n      var startIndex = util.getArrayIndex(childNodes, startCon);\n      var endIndex = util.getArrayIndex(childNodes, endCon);\n\n      if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\n        for (var i = startIndex + 1, startNode = startCon; i >= 0; i--) {\n          if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\n            startIndex = i;\n            startNode = startNode.parentNode;\n          }\n        }\n\n        for (var _i2 = endIndex - 1, endNode = endCon; _i2 > startIndex; _i2--) {\n          if (childNodes[_i2] === endNode.parentNode && childNodes[_i2].nodeType === 1) {\n            childNodes.splice(_i2, 1);\n            endNode = endNode.parentNode;\n            --endIndex;\n          }\n        }\n      } else {\n        if (childNodes.length === 0) {\n          if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\n            return {\n              container: commonCon,\n              offset: 0\n            };\n          } else if (commonCon.nodeType === 3) {\n            return {\n              container: commonCon,\n              offset: endOff\n            };\n          }\n\n          childNodes.push(commonCon);\n          startCon = endCon = commonCon;\n        } else {\n          startCon = endCon = childNodes[0];\n\n          if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\n            return {\n              container: util.isMedia(commonCon) ? commonCon : startCon,\n              offset: 0\n            };\n          }\n        }\n\n        startIndex = endIndex = 0;\n      }\n\n      function remove(item) {\n        var format = util.getFormatElement(item, null);\n        util.removeItem(item);\n\n        if (util.isListCell(format)) {\n          var list = util.getArrayItem(format.children, util.isList, false);\n\n          if (list) {\n            var child = list.firstElementChild;\n            var children = child.childNodes;\n\n            while (children[0]) {\n              format.insertBefore(children[0], list);\n            }\n\n            util.removeItemAllParents(child, null, null);\n          }\n        }\n      }\n\n      for (var _i3 = startIndex; _i3 <= endIndex; _i3++) {\n        var item = childNodes[_i3];\n\n        if (item.length === 0 || item.nodeType === 3 && item.data === undefined) {\n          remove(item);\n          continue;\n        }\n\n        if (item === startCon) {\n          if (startCon.nodeType === 1) {\n            if (util.isComponent(startCon)) continue;else beforeNode = util.createTextNode(startCon.textContent);\n          } else {\n            if (item === endCon) {\n              beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, endCon.length - endOff));\n              offset = startOff;\n            } else {\n              beforeNode = util.createTextNode(startCon.substringData(0, startOff));\n            }\n          }\n\n          if (beforeNode.length > 0) {\n            startCon.data = beforeNode.data;\n          } else {\n            remove(startCon);\n          }\n\n          if (item === endCon) break;\n          continue;\n        }\n\n        if (item === endCon) {\n          if (endCon.nodeType === 1) {\n            if (util.isComponent(endCon)) continue;else afterNode = util.createTextNode(endCon.textContent);\n          } else {\n            afterNode = util.createTextNode(endCon.substringData(endOff, endCon.length - endOff));\n          }\n\n          if (afterNode.length > 0) {\n            endCon.data = afterNode.data;\n          } else {\n            remove(endCon);\n          }\n\n          continue;\n        }\n\n        remove(item);\n      }\n\n      container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : range.endContainer || range.startContainer;\n\n      if (!util.isWysiwygDiv(container) && container.childNodes.length === 0) {\n        var rc = util.removeItemAllParents(container, function (current) {\n          if (this.isComponent(current)) return false;\n          var text = current.textContent;\n          return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n        }.bind(util), null);\n        if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\n      } // set range\n\n\n      this.setRange(container, offset, container, offset); // history stack\n\n      this.history.push(true);\n      return {\n        container: container,\n        offset: offset,\n        prevContainer: startCon && startCon.parentNode ? startCon : null\n      };\n    },\n\n    /**\r\n     * @description Appended all selected format Element to the argument element and insert\r\n     * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n     */\n    applyRangeFormatElement: function applyRangeFormatElement(rangeElement) {\n      this.getRange_addLine(this.getRange(), null);\n      var rangeLines = this.getSelectedElementsAndComponents(false);\n      if (!rangeLines || rangeLines.length === 0) return;\n\n      linesLoop: for (var i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\n        line = rangeLines[i];\n        if (!util.isListCell(line)) continue;\n        nested = line.lastElementChild;\n\n        if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\n          lEl = nested.lastElementChild;\n\n          if (rangeLines.indexOf(lEl) > -1) {\n            var list = null;\n\n            while (list = lEl.lastElementChild) {\n              if (util.isList(list)) {\n                if (rangeLines.indexOf(list.lastElementChild) > -1) {\n                  lEl = list.lastElementChild;\n                } else {\n                  continue linesLoop;\n                }\n              }\n            }\n\n            fEl = nested.firstElementChild;\n            f = rangeLines.indexOf(fEl);\n            l = rangeLines.indexOf(lEl);\n            rangeLines.splice(f, l - f + 1);\n            len = rangeLines.length;\n            continue;\n          }\n        }\n      }\n\n      var last = rangeLines[rangeLines.length - 1];\n      var standTag, beforeTag, pElement;\n\n      if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\n        standTag = last;\n      } else {\n        standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\n      }\n\n      if (util.isCell(standTag)) {\n        beforeTag = null;\n        pElement = standTag;\n      } else {\n        beforeTag = standTag.nextSibling;\n        pElement = standTag.parentNode;\n      }\n\n      var parentDepth = util.getElementDepth(standTag);\n      var listParent = null;\n      var lineArr = [];\n\n      var removeItems = function removeItems(parent, origin, before) {\n        var cc = null;\n\n        if (parent !== origin && !util.isTable(origin)) {\n          if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\n          cc = util.removeItemAllParents(origin, null, parent);\n        }\n\n        return cc ? cc.ec : before;\n      };\n\n      for (var _i4 = 0, _len = rangeLines.length, _line, originParent, depth, before, nextLine, nextList, _nested; _i4 < _len; _i4++) {\n        _line = rangeLines[_i4];\n        originParent = _line.parentNode;\n        if (!originParent || rangeElement.contains(originParent)) continue;\n        depth = util.getElementDepth(_line);\n\n        if (util.isList(originParent)) {\n          if (listParent === null) {\n            if (nextList) {\n              listParent = nextList;\n              _nested = true;\n              nextList = null;\n            } else {\n              listParent = originParent.cloneNode(false);\n            }\n          }\n\n          lineArr.push(_line);\n          nextLine = rangeLines[_i4 + 1];\n\n          if (_i4 === _len - 1 || nextLine && nextLine.parentNode !== originParent) {\n            // nested list\n            if (nextLine && _line.contains(nextLine.parentNode)) {\n              nextList = nextLine.parentNode.cloneNode(false);\n            }\n\n            var _list = originParent.parentNode,\n                p = void 0;\n\n            while (util.isList(_list)) {\n              p = util.createElement(_list.nodeName);\n              p.appendChild(listParent);\n              listParent = p;\n              _list = _list.parentNode;\n            }\n\n            var _edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\n\n            if (parentDepth >= depth) {\n              parentDepth = depth;\n              pElement = _edge.cc;\n              beforeTag = removeItems(pElement, originParent, _edge.ec);\n              if (beforeTag) pElement = beforeTag.parentNode;\n            } else if (pElement === _edge.cc) {\n              beforeTag = _edge.ec;\n            }\n\n            if (pElement !== _edge.cc) {\n              before = removeItems(pElement, _edge.cc, before);\n              if (before !== undefined) beforeTag = before;else beforeTag = _edge.cc;\n            }\n\n            for (var c = 0, cLen = _edge.removeArray.length; c < cLen; c++) {\n              listParent.appendChild(_edge.removeArray[c]);\n            }\n\n            if (!_nested) rangeElement.appendChild(listParent);\n            if (nextList) _edge.removeArray[_edge.removeArray.length - 1].appendChild(nextList);\n            listParent = null;\n            _nested = false;\n          }\n        } else {\n          if (parentDepth >= depth) {\n            parentDepth = depth;\n            pElement = originParent;\n            beforeTag = _line.nextSibling;\n          }\n\n          rangeElement.appendChild(_line);\n\n          if (pElement !== originParent) {\n            before = removeItems(pElement, originParent);\n            if (before !== undefined) beforeTag = before;\n          }\n        }\n      }\n\n      this.effectNode = null;\n      util.mergeSameTags(rangeElement, null, false);\n      util.mergeNestedTags(rangeElement, function (current) {\n        return this.isList(current);\n      }.bind(util)); // Nested list\n\n      if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\n        var depthFormat = util.getParentElement(beforeTag, function (current) {\n          return this.isRangeFormatElement(current) && !this.isList(current);\n        }.bind(util));\n        var splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n        splitRange.parentNode.insertBefore(rangeElement, splitRange);\n      } else {\n        // basic\n        pElement.insertBefore(rangeElement, beforeTag);\n        removeItems(rangeElement, beforeTag);\n      }\n\n      var edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\n\n      if (rangeLines.length > 1) {\n        this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\n      } else {\n        this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n     * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n     * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n     * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n     * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n     * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n     * @param {Boolean} remove If true, deleted without detached.\r\n     * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n     * @returns {Object}\r\n     */\n    detachRangeFormatElement: function detachRangeFormatElement(rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\n      var range = this.getRange();\n      var so = range.startOffset;\n      var eo = range.endOffset;\n      var children = util.getListChildNodes(rangeElement, function (current) {\n        return current.parentNode === rangeElement;\n      });\n      var parent = rangeElement.parentNode;\n      var firstNode = null;\n      var lastNode = null;\n      var rangeEl = rangeElement.cloneNode(false);\n      var removeArray = [];\n      var newList = util.isList(newRangeElement);\n      var insertedNew = false;\n      var reset = false;\n      var moveComplete = false;\n\n      function appendNode(parent, insNode, sibling, originNode) {\n        if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\n\n        if (insNode.nodeType === 3) {\n          parent.insertBefore(insNode, sibling);\n          return insNode;\n        }\n\n        var insChildren = (moveComplete ? insNode : originNode).childNodes;\n        var format = insNode.cloneNode(false);\n        var first = null;\n        var c = null;\n\n        while (insChildren[0]) {\n          c = insChildren[0];\n\n          if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\n            if (format.childNodes.length > 0) {\n              if (!first) first = format;\n              parent.insertBefore(format, sibling);\n              format = insNode.cloneNode(false);\n            }\n\n            parent.insertBefore(c, sibling);\n            if (!first) first = c;\n          } else {\n            format.appendChild(c);\n          }\n        }\n\n        if (format.childNodes.length > 0) {\n          if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\n            if (newList) {\n              first = sibling;\n\n              while (sibling) {\n                format.appendChild(sibling);\n                sibling = sibling.nextSibling;\n              }\n\n              parent.parentNode.insertBefore(format, parent.nextElementSibling);\n            } else {\n              var originNext = originNode.nextElementSibling;\n              var detachRange = util.detachNestedList(originNode, false);\n\n              if (rangeElement !== detachRange || originNext !== originNode.nextElementSibling) {\n                var fChildren = format.childNodes;\n\n                while (fChildren[0]) {\n                  originNode.appendChild(fChildren[0]);\n                }\n\n                rangeElement = detachRange;\n                reset = true;\n              }\n            }\n          } else {\n            parent.insertBefore(format, sibling);\n          }\n\n          if (!first) first = format;\n        }\n\n        return first;\n      } // detach loop\n\n\n      for (var i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\n        insNode = children[i];\n        if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\n        moveComplete = false;\n\n        if (remove && i === 0) {\n          if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\n            firstNode = rangeElement.previousSibling;\n          } else {\n            firstNode = rangeEl;\n          }\n        }\n\n        if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\n\n        if (selectedFormats && lineIndex === -1) {\n          if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\n          rangeEl.appendChild(insNode);\n        } else {\n          if (selectedFormats) next = selectedFormats[lineIndex + 1];\n\n          if (rangeEl && rangeEl.children.length > 0) {\n            parent.insertBefore(rangeEl, rangeElement);\n            rangeEl = null;\n          }\n\n          if (!newList && util.isListCell(insNode)) {\n            if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\n              var insNext = insNode.nextElementSibling;\n              var detachRange = util.detachNestedList(insNode, false);\n\n              if (rangeElement !== detachRange || insNext !== insNode.nextElementSibling) {\n                rangeElement = detachRange;\n                reset = true;\n              }\n            } else {\n              var inner = insNode;\n              insNode = util.createElement(remove ? inner.nodeName : util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode) ? \"LI\" : util.isCell(rangeElement.parentNode) ? \"DIV\" : options.defaultTag);\n              var isCell = util.isListCell(insNode);\n              var innerChildren = inner.childNodes;\n\n              while (innerChildren[0]) {\n                if (util.isList(innerChildren[0]) && !isCell) break;\n                insNode.appendChild(innerChildren[0]);\n              }\n\n              util.copyFormatAttributes(insNode, inner);\n              moveComplete = true;\n            }\n          } else {\n            insNode = insNode.cloneNode(false);\n          }\n\n          if (!reset) {\n            if (!remove) {\n              if (newRangeElement) {\n                if (!insertedNew) {\n                  parent.insertBefore(newRangeElement, rangeElement);\n                  insertedNew = true;\n                }\n\n                insNode = appendNode(newRangeElement, insNode, null, children[i]);\n              } else {\n                insNode = appendNode(parent, insNode, rangeElement, children[i]);\n              }\n\n              if (!reset) {\n                if (selectedFormats) {\n                  lastNode = insNode;\n\n                  if (!firstNode) {\n                    firstNode = insNode;\n                  }\n                } else if (!firstNode) {\n                  firstNode = lastNode = insNode;\n                }\n              }\n            } else {\n              removeArray.push(insNode);\n              util.removeItem(children[i]);\n            }\n\n            if (reset) {\n              reset = moveComplete = false;\n              children = util.getListChildNodes(rangeElement, function (current) {\n                return current.parentNode === rangeElement;\n              });\n              rangeEl = rangeElement.cloneNode(false);\n              parent = rangeElement.parentNode;\n              i = -1;\n              len = children.length;\n              continue;\n            }\n          }\n        }\n      }\n\n      var rangeParent = rangeElement.parentNode;\n      var rangeRight = rangeElement.nextSibling;\n\n      if (rangeEl && rangeEl.children.length > 0) {\n        rangeParent.insertBefore(rangeEl, rangeRight);\n      }\n\n      if (newRangeElement) firstNode = newRangeElement.previousSibling;else if (!firstNode) firstNode = rangeElement.previousSibling;\n      rangeRight = rangeElement.nextSibling;\n\n      if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\n        util.removeItem(rangeElement);\n      } else {\n        util.removeEmptyNode(rangeElement, null);\n      }\n\n      var edge = null;\n\n      if (remove) {\n        edge = {\n          cc: rangeParent,\n          sc: firstNode,\n          ec: rangeRight,\n          removeArray: removeArray\n        };\n      } else {\n        if (!firstNode) firstNode = lastNode;\n        if (!lastNode) lastNode = firstNode;\n        var childEdge = util.getEdgeChildNodes(firstNode, lastNode.parentNode ? firstNode : lastNode);\n        edge = {\n          cc: (childEdge.sc || childEdge.ec).parentNode,\n          sc: childEdge.sc,\n          ec: childEdge.ec\n        };\n      }\n\n      this.effectNode = null;\n      if (notHistoryPush) return edge;\n\n      if (!remove && edge) {\n        if (!selectedFormats) {\n          this.setRange(edge.sc, 0, edge.sc, 0);\n        } else {\n          this.setRange(edge.sc, so, edge.ec, eo);\n        }\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description \"selectedFormats\" array are detached from the list element.\r\n     * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n     * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n     * @param {Boolean} remove If true, deleted without detached.\r\n     * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n     */\n    detachList: function detachList(selectedFormats, remove) {\n      var rangeArr = {};\n      var listFirst = false;\n      var listLast = false;\n      var first = null;\n      var last = null;\n\n      var passComponent = function (current) {\n        return !this.isComponent(current);\n      }.bind(util);\n\n      for (var i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\n        lastIndex = i === len - 1;\n        o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n        isList = util.isList(o);\n\n        if (!r && isList) {\n          r = o;\n          rangeArr = {\n            r: r,\n            f: [util.getParentElement(selectedFormats[i], \"LI\")]\n          };\n          if (i === 0) listFirst = true;\n        } else if (r && isList) {\n          if (r !== o) {\n            var edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n            o = selectedFormats[i].parentNode;\n\n            if (listFirst) {\n              first = edge.sc;\n              listFirst = false;\n            }\n\n            if (lastIndex) last = edge.ec;\n\n            if (isList) {\n              r = o;\n              rangeArr = {\n                r: r,\n                f: [util.getParentElement(selectedFormats[i], \"LI\")]\n              };\n              if (lastIndex) listLast = true;\n            } else {\n              r = null;\n            }\n          } else {\n            rangeArr.f.push(util.getParentElement(selectedFormats[i], \"LI\"));\n            if (lastIndex) listLast = true;\n          }\n        }\n\n        if (lastIndex && util.isList(r)) {\n          var _edge2 = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n\n          if (listLast || len === 1) last = _edge2.ec;\n          if (listFirst) first = _edge2.sc || last;\n        }\n      }\n\n      return {\n        sc: first,\n        ec: last\n      };\n    },\n\n    /**\r\n     * @description Add, update, and delete nodes from selected text.\r\n     * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n     * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n     * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n     * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n     *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n     * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n     *    (The class name is preceded by \".\" [\".className\"])\r\n     * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n     * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n     * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n     * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n     *10. It won't work if the parent node has the same class and same value style.\r\n     *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n     * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n     * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n     * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n     * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n     */\n    nodeChange: function nodeChange(appendNode, styleArray, removeNodeArray, strictRemove) {\n      this._resetRangeToTextNode();\n\n      var range = this.getRange_addLine(this.getRange(), null);\n      styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\n      removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\n      var isRemoveNode = !appendNode;\n      var isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\n      var startCon = range.startContainer;\n      var startOff = range.startOffset;\n      var endCon = range.endContainer;\n      var endOff = range.endOffset;\n\n      if (isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode) || startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon)) {\n        return;\n      }\n\n      if (range.collapsed && !isRemoveFormat) {\n        if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\n          var afterNode = null;\n          var focusNode = startCon.childNodes[startOff];\n\n          if (focusNode) {\n            if (!focusNode.nextSibling) {\n              afterNode = null;\n            } else {\n              afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\n            }\n          }\n\n          var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          startCon.insertBefore(zeroWidth, afterNode);\n          this.setRange(zeroWidth, 1, zeroWidth, 1);\n          range = this.getRange();\n          startCon = range.startContainer;\n          startOff = range.startOffset;\n          endCon = range.endContainer;\n          endOff = range.endOffset;\n        }\n      }\n\n      if (util.isFormatElement(startCon)) {\n        startCon = startCon.childNodes[startOff] || startCon.firstChild;\n        startOff = 0;\n      }\n\n      if (util.isFormatElement(endCon)) {\n        endCon = endCon.childNodes[endOff] || endCon.lastChild;\n        endOff = endCon.textContent.length;\n      }\n\n      if (isRemoveNode) {\n        appendNode = util.createElement(\"DIV\");\n      }\n\n      var wRegExp = _w.RegExp;\n      var newNodeName = appendNode.nodeName;\n      /* checked same style property */\n\n      if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\n        var sNode = startCon;\n        var checkCnt = 0;\n        var checkAttrs = [];\n        var checkStyles = appendNode.style;\n\n        for (var i = 0, len = checkStyles.length; i < len; i++) {\n          checkAttrs.push(checkStyles[i]);\n        }\n\n        var ckeckClasses = appendNode.classList;\n\n        for (var _i5 = 0, _len2 = ckeckClasses.length; _i5 < _len2; _i5++) {\n          checkAttrs.push(\".\" + ckeckClasses[_i5]);\n        }\n\n        if (checkAttrs.length > 0) {\n          while (!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\n            for (var _i6 = 0; _i6 < checkAttrs.length; _i6++) {\n              if (sNode.nodeType === 1) {\n                var s = checkAttrs[_i6];\n                var classReg = /^\\./.test(s) ? new wRegExp(\"\\\\s*\" + s.replace(/^\\./, \"\") + \"(\\\\s+|$)\", \"ig\") : false;\n                var styleCheck = isRemoveNode ? !!sNode.style[s] : !!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s];\n                var classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\n\n                if (styleCheck || classCheck) {\n                  checkCnt++;\n                }\n              }\n            }\n\n            sNode = sNode.parentNode;\n          }\n\n          if (checkCnt >= checkAttrs.length) return;\n        }\n      }\n\n      var start = {},\n          end = {};\n      var newNode,\n          styleRegExp = \"\",\n          classRegExp = \"\",\n          removeNodeRegExp = \"\";\n\n      if (styleArray) {\n        for (var _i7 = 0, _len3 = styleArray.length, _s; _i7 < _len3; _i7++) {\n          _s = styleArray[_i7];\n\n          if (/^\\./.test(_s)) {\n            classRegExp += (classRegExp ? \"|\" : \"\\\\s*(?:\") + _s.replace(/^\\./, \"\");\n          } else {\n            styleRegExp += (styleRegExp ? \"|\" : \"(?:;|^|\\\\s)(?:\") + _s;\n          }\n        }\n\n        if (styleRegExp) {\n          styleRegExp += \")\\\\s*:[^;]*\\\\s*(?:;|$)\";\n          styleRegExp = new wRegExp(styleRegExp, \"ig\");\n        }\n\n        if (classRegExp) {\n          classRegExp += \")(?=\\\\s+|$)\";\n          classRegExp = new wRegExp(classRegExp, \"ig\");\n        }\n      }\n\n      if (removeNodeArray) {\n        removeNodeRegExp = \"^(?:\" + removeNodeArray[0];\n\n        for (var _i8 = 1; _i8 < removeNodeArray.length; _i8++) {\n          removeNodeRegExp += \"|\" + removeNodeArray[_i8];\n        }\n\n        removeNodeRegExp += \")$\";\n        removeNodeRegExp = new wRegExp(removeNodeRegExp, \"i\");\n      }\n      /** validation check function*/\n\n\n      var wBoolean = _w.Boolean;\n      var _removeCheck = {\n        v: false\n      };\n\n      var validation = function validation(checkNode) {\n        var vNode = checkNode.cloneNode(false); // all path\n\n        if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode; // all remove\n\n        if (isRemoveFormat) return null; // remove node check\n\n        var tagRemove = !removeNodeRegExp && isRemoveNode || removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName); // tag remove\n\n        if (tagRemove && !strictRemove) {\n          _removeCheck.v = true;\n          return null;\n        } // style regexp\n\n\n        var originStyle = vNode.style.cssText;\n        var style = \"\";\n\n        if (styleRegExp && originStyle.length > 0) {\n          style = originStyle.replace(styleRegExp, \"\").trim();\n          if (style !== originStyle) _removeCheck.v = true;\n        } // class check\n\n\n        var originClasses = vNode.className;\n        var classes = \"\";\n\n        if (classRegExp && originClasses.length > 0) {\n          classes = originClasses.replace(classRegExp, \"\").trim();\n          if (classes !== originClasses) _removeCheck.v = true;\n        } // remove only\n\n\n        if (isRemoveNode) {\n          if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\n            _removeCheck.v = true;\n            return null;\n          }\n        } // change\n\n\n        if (style || classes || vNode.nodeName !== newNodeName || wBoolean(styleRegExp) !== wBoolean(originStyle) || wBoolean(classRegExp) !== wBoolean(originClasses)) {\n          if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\n\n          if (!vNode.style.cssText) {\n            vNode.removeAttribute(\"style\");\n          }\n\n          if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\n\n          if (!vNode.className.trim()) {\n            vNode.removeAttribute(\"class\");\n          }\n\n          if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\n            _removeCheck.v = true;\n            return null;\n          }\n\n          return vNode;\n        }\n\n        _removeCheck.v = true;\n        return null;\n      }; // get line nodes\n\n\n      var lineNodes = this.getSelectedElements(null);\n      range = this.getRange();\n      startCon = range.startContainer;\n      startOff = range.startOffset;\n      endCon = range.endContainer;\n      endOff = range.endOffset;\n\n      if (!util.getFormatElement(startCon, null)) {\n        startCon = util.getChildElement(lineNodes[0], function (current) {\n          return current.nodeType === 3;\n        }, false);\n        startOff = 0;\n      }\n\n      if (!util.getFormatElement(endCon, null)) {\n        endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) {\n          return current.nodeType === 3;\n        }, false);\n        endOff = endCon.textContent.length;\n      }\n\n      var oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\n      var endLength = lineNodes.length - (oneLine ? 0 : 1); // node Changes\n\n      newNode = appendNode.cloneNode(false);\n\n      var isRemoveAnchor = isRemoveFormat || isRemoveNode && function (arr) {\n        for (var n = 0, _len4 = arr.length; n < _len4; n++) {\n          if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\n        }\n\n        return false;\n      }(removeNodeArray);\n\n      var isSizeNode = isRemoveNode || util._isSizeNode(newNode);\n\n      var _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\n\n      var _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode); // one line\n\n\n      if (oneLine) {\n        var newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n\n        start.container = newRange.startContainer;\n        start.offset = newRange.startOffset;\n        end.container = newRange.endContainer;\n        end.offset = newRange.endOffset;\n\n        if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\n          start.offset = end.offset = 1;\n        }\n\n        this._setCommonListStyle(newRange.ancestor, null);\n      } else {\n        // multi line\n        // end\n        if (endLength > 0) {\n          newNode = appendNode.cloneNode(false);\n          end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n        } // mid\n\n\n        for (var _i9 = endLength - 1, _newRange; _i9 > 0; _i9--) {\n          newNode = appendNode.cloneNode(false);\n          _newRange = this._nodeChange_middleLine(lineNodes[_i9], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\n\n          if (_newRange.endContainer) {\n            end.ancestor = null;\n            end.container = _newRange.endContainer;\n          }\n\n          this._setCommonListStyle(_newRange.ancestor, null);\n        } // start\n\n\n        newNode = appendNode.cloneNode(false);\n        start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\n\n        if (start.endContainer) {\n          end.ancestor = null;\n          end.container = start.endContainer;\n        }\n\n        if (endLength <= 0) {\n          end = start;\n        } else if (!end.container) {\n          end.ancestor = null;\n          end.container = start.container;\n          end.offset = start.container.textContent.length;\n        }\n\n        this._setCommonListStyle(start.ancestor, null);\n\n        this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\n      } // set range\n\n\n      this.controllersOff();\n      this.setRange(start.container, start.offset, end.container, end.offset); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n     * @param {Element} el List cell element. <li>\r\n     * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n     * @private\r\n     */\n    _setCommonListStyle: function _setCommonListStyle(el, child) {\n      if (!util.isListCell(el)) return;\n      if (!child) el.removeAttribute(\"style\");\n      var children = util.getArrayItem((child || el).childNodes, function (current) {\n        return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim());\n      }, true);\n\n      if (children[0] && children.length === 1) {\n        child = children[0];\n        if (!child || child.nodeType !== 1) return;\n        var childStyle = child.style;\n        var elStyle = el.style; // bold\n\n        if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = \"bold\"; // bold\n        else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight; // styles\n\n        if (childStyle.color) elStyle.color = childStyle.color; // color\n\n        if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\n\n        this._setCommonListStyle(el, child);\n      }\n    },\n\n    /**\r\n     * @description Strip remove node\r\n     * @param {Node} removeNode The remove node\r\n     * @private\r\n     */\n    _stripRemoveNode: function _stripRemoveNode(removeNode) {\n      var element = removeNode.parentNode;\n      if (!removeNode || removeNode.nodeType === 3 || !element) return;\n      var children = removeNode.childNodes;\n\n      while (children[0]) {\n        element.insertBefore(children[0], removeNode);\n      }\n\n      element.removeChild(removeNode);\n    },\n\n    /**\r\n     * @description Return the parent maintained tag. (bind and use a util object)\r\n     * @param {Element} element Element\r\n     * @returns {Element}\r\n     * @private\r\n     */\n    _util_getMaintainedNode: function _util_getMaintainedNode(_isRemove, _isSizeNode, element) {\n      if (!element || _isRemove) return null;\n      return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\n    },\n\n    /**\r\n     * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n     * @param {Element} element Element\r\n     * @returns {Element}\r\n     * @private\r\n     */\n    _util_isMaintainedNode: function _util_isMaintainedNode(_isRemove, _isSizeNode, element) {\n      if (!element || _isRemove || element.nodeType !== 1) return false;\n\n      var anchor = this._isMaintainedNode(element);\n\n      return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : anchor || (!_isSizeNode ? this._isSizeNode(element) : false);\n    },\n\n    /**\r\n     * @description wraps text nodes of line selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Node} startCon The startContainer property of the selection object.\r\n     * @param {Number} startOff The startOffset property of the selection object.\r\n     * @param {Node} endCon The endContainer property of the selection object.\r\n     * @param {Number} endOff The endOffset property of the selection object.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @param {Boolean} collapsed range.collapsed\r\n     * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n     * @private\r\n     */\n    _nodeChange_oneLine: function _nodeChange_oneLine(element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n      // not add tag\n      var parentCon = startCon.parentNode;\n\n      while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n        if (parentCon.nodeName === newInnerNode.nodeName) break;\n        parentCon = parentCon.parentNode;\n      }\n\n      if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\n        if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n          var children = parentCon.childNodes;\n          var sameTag = true;\n\n          for (var i = 0, len = children.length, c, s, e, z; i < len; i++) {\n            c = children[i];\n            z = !util.onlyZeroWidthSpace(c);\n\n            if (c === startCon) {\n              s = true;\n              continue;\n            }\n\n            if (c === endCon) {\n              e = true;\n              continue;\n            }\n\n            if (!s && z || s && e && z) {\n              sameTag = false;\n              break;\n            }\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              startContainer: startCon,\n              startOffset: startOff,\n              endContainer: endCon,\n              endOffset: endOff\n            };\n          }\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var el = element;\n      var nNodeArray = [newInnerNode];\n      var pNode = element.cloneNode(false);\n      var isSameNode = startCon === endCon;\n      var startContainer = startCon;\n      var startOffset = startOff;\n      var endContainer = endCon;\n      var endOffset = endOff;\n      var startPass = false;\n      var endPass = false;\n      var pCurrent, newNode, appendNode, cssText, anchorNode;\n      var wRegExp = _w.RegExp;\n\n      function checkCss(vNode) {\n        var regExp = new wRegExp(\"(?:;|^|\\\\s)(?:\" + cssText + \"null)\\\\s*:[^;]*\\\\s*(?:;|$)\", \"ig\");\n        var style = \"\";\n\n        if (regExp && vNode.style.cssText.length > 0) {\n          style = regExp.test(vNode.style.cssText);\n        }\n\n        return !style;\n      }\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var _i10 = 0, _len5 = childNodes.length, vNode; _i10 < _len5; _i10++) {\n          var child = childNodes[_i10];\n          if (!child) continue;\n          var coverNode = ancestor;\n          var cloneNode = void 0; // startContainer\n\n          if (!startPass && child === startContainer) {\n            var line = pNode;\n            anchorNode = _getMaintainedNode(child);\n            var prevNode = util.createTextNode(startContainer.nodeType === 1 ? \"\" : startContainer.substringData(0, startOffset));\n            var textNode = util.createTextNode(startContainer.nodeType === 1 ? \"\" : startContainer.substringData(startOffset, isSameNode ? endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset : startContainer.data.length - startOffset));\n\n            if (anchorNode) {\n              var a = _getMaintainedNode(ancestor);\n\n              if (a && a.parentNode !== line) {\n                var m = a;\n                var p = null;\n\n                while (m.parentNode !== line) {\n                  ancestor = p = m.parentNode.cloneNode(false);\n\n                  while (m.childNodes[0]) {\n                    p.appendChild(m.childNodes[0]);\n                  }\n\n                  m.appendChild(p);\n                  m = m.parentNode;\n                }\n\n                m.parentNode.appendChild(a);\n              }\n\n              anchorNode = anchorNode.cloneNode(false);\n            }\n\n            if (!util.onlyZeroWidthSpace(prevNode)) {\n              ancestor.appendChild(prevNode);\n            }\n\n            var prevAnchorNode = _getMaintainedNode(ancestor);\n\n            if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n            if (anchorNode) line = anchorNode;\n            newNode = child;\n            pCurrent = [];\n            cssText = \"\";\n\n            while (newNode !== line && newNode !== el && newNode !== null) {\n              vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n              if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                pCurrent.push(vNode);\n                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var childNode = pCurrent.pop() || textNode;\n            appendNode = newNode = childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            newInnerNode.appendChild(childNode);\n            line.appendChild(newInnerNode);\n\n            if (anchorNode && !_getMaintainedNode(endContainer)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            startContainer = textNode;\n            startOffset = 0;\n            startPass = true;\n            if (newNode !== textNode) newNode.appendChild(startContainer);\n            if (!isSameNode) continue;\n          } // endContainer\n\n\n          if (!endPass && child === endContainer) {\n            anchorNode = _getMaintainedNode(child);\n            var afterNode = util.createTextNode(endContainer.nodeType === 1 ? \"\" : endContainer.substringData(endOffset, endContainer.length - endOffset));\n\n            var _textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? \"\" : endContainer.substringData(0, endOffset));\n\n            if (anchorNode) {\n              anchorNode = anchorNode.cloneNode(false);\n            } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!util.onlyZeroWidthSpace(afterNode)) {\n              newNode = child;\n              cssText = \"\";\n              pCurrent = [];\n              var anchors = [];\n\n              while (newNode !== pNode && newNode !== el && newNode !== null) {\n                if (newNode.nodeType === 1 && checkCss(newNode)) {\n                  if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));else pCurrent.push(newNode.cloneNode(false));\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              pNode.appendChild(cloneNode);\n              newNode.textContent = afterNode.data;\n            }\n\n            if (anchorNode && cloneNode) {\n              var afterAnchorNode = _getMaintainedNode(cloneNode);\n\n              if (afterAnchorNode) {\n                anchorNode = afterAnchorNode;\n              }\n            }\n\n            newNode = child;\n            pCurrent = [];\n            cssText = \"\";\n\n            while (newNode !== pNode && newNode !== el && newNode !== null) {\n              vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n              if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                pCurrent.push(vNode);\n                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var _childNode = pCurrent.pop() || _textNode;\n\n            appendNode = newNode = _childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (anchorNode) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              newInnerNode.appendChild(_childNode);\n              anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n              pNode.appendChild(anchorNode);\n              nNodeArray.push(newInnerNode);\n              anchorNode = null;\n            } else {\n              newInnerNode.appendChild(_childNode);\n            }\n\n            endContainer = _textNode;\n            endOffset = _textNode.data.length;\n            endPass = true;\n\n            if (!isRemoveFormat && collapsed) {\n              newInnerNode = _textNode;\n              _textNode.textContent = util.zeroWidthSpace;\n            }\n\n            if (newNode !== _textNode) newNode.appendChild(endContainer);\n            continue;\n          } // other\n\n\n          if (startPass) {\n            if (child.nodeType === 1 && !util.isBreak(child)) {\n              if (util._isIgnoreNodeChange(child)) {\n                pNode.appendChild(child.cloneNode(true));\n\n                if (!collapsed) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  pNode.appendChild(newInnerNode);\n                  nNodeArray.push(newInnerNode);\n                }\n              } else {\n                recursionFunc(child, child);\n              }\n\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n            cssText = \"\";\n            var _anchors = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\n\n              if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\n                if (_isMaintainedNode(newNode)) {\n                  if (!anchorNode) _anchors.push(vNode);\n                } else {\n                  pCurrent.push(vNode);\n                }\n\n                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(\":\")) + \"|\";\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            pCurrent = pCurrent.concat(_anchors);\n\n            var _childNode2 = pCurrent.pop() || child;\n\n            appendNode = newNode = _childNode2;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(_childNode2) && !util.onlyZeroWidthSpace(newInnerNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!endPass && !anchorNode && _isMaintainedNode(_childNode2)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              var aChildren = _childNode2.childNodes;\n\n              for (var _a = 0, aLen = aChildren.length; _a < aLen; _a++) {\n                newInnerNode.appendChild(aChildren[_a]);\n              }\n\n              _childNode2.appendChild(newInnerNode);\n\n              pNode.appendChild(_childNode2);\n              nNodeArray.push(newInnerNode);\n              if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n            } else if (_childNode2 === child) {\n              if (!endPass) ancestor = newInnerNode;else ancestor = pNode;\n            } else if (endPass) {\n              pNode.appendChild(_childNode2);\n              ancestor = newNode;\n            } else {\n              newInnerNode.appendChild(_childNode2);\n              ancestor = newNode;\n            }\n\n            if (anchorNode && child.nodeType === 3) {\n              if (_getMaintainedNode(child)) {\n                var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                  return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                }.bind(util));\n                anchorNode.appendChild(ancestorAnchorNode);\n                newInnerNode = ancestorAnchorNode.cloneNode(false);\n                nNodeArray.push(newInnerNode);\n                pNode.appendChild(newInnerNode);\n              } else {\n                anchorNode = null;\n              }\n            }\n          }\n\n          cloneNode = child.cloneNode(false);\n          ancestor.appendChild(cloneNode);\n          if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode); // not remove tag\n\n\n      if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n        return {\n          ancestor: element,\n          startContainer: startCon,\n          startOffset: startOff,\n          endContainer: endCon,\n          endOffset: endOff\n        };\n      }\n\n      isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n      if (isRemoveFormat) {\n        for (var _i11 = 0; _i11 < nNodeArray.length; _i11++) {\n          var removeNode = nNodeArray[_i11];\n          var textNode = void 0,\n              textNode_s = void 0,\n              textNode_e = void 0;\n\n          if (collapsed) {\n            textNode = util.createTextNode(util.zeroWidthSpace);\n            pNode.replaceChild(textNode, removeNode);\n          } else {\n            var rChildren = removeNode.childNodes;\n            textNode_s = rChildren[0];\n\n            while (rChildren[0]) {\n              textNode_e = rChildren[0];\n              pNode.insertBefore(textNode_e, removeNode);\n            }\n\n            util.removeItem(removeNode);\n          }\n\n          if (_i11 === 0) {\n            if (collapsed) {\n              startContainer = endContainer = textNode;\n            } else {\n              startContainer = textNode_s;\n              endContainer = textNode_e;\n            }\n          }\n        }\n      } else {\n        if (isRemoveNode) {\n          for (var _i12 = 0; _i12 < nNodeArray.length; _i12++) {\n            this._stripRemoveNode(nNodeArray[_i12]);\n          }\n        }\n\n        if (collapsed) {\n          startContainer = endContainer = newInnerNode;\n        }\n      }\n\n      util.removeEmptyNode(pNode, newInnerNode);\n\n      if (collapsed) {\n        startOffset = startContainer.textContent.length;\n        endOffset = endContainer.textContent.length;\n      } // endContainer reset\n\n\n      var endConReset = isRemoveFormat || endContainer.textContent.length === 0;\n\n      if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\n        util.removeItem(endContainer);\n        endContainer = startContainer;\n      }\n\n      endOffset = endConReset ? endContainer.textContent.length : endOffset; // node change\n\n      var newStartOffset = {\n        s: 0,\n        e: 0\n      };\n      var startPath = util.getNodePath(startContainer, pNode, newStartOffset);\n      var mergeEndCon = !endContainer.parentNode;\n      if (mergeEndCon) endContainer = startContainer;\n      var newEndOffset = {\n        s: 0,\n        e: 0\n      };\n      var endPath = util.getNodePath(endContainer, pNode, !mergeEndCon && !endConReset ? newEndOffset : null);\n      startOffset += newStartOffset.s;\n      endOffset = collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s; // tag merge\n\n      var newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\n      element.parentNode.replaceChild(pNode, element);\n      startContainer = util.getNodeFromPath(startPath, pNode);\n      endContainer = util.getNodeFromPath(endPath, pNode);\n      return {\n        ancestor: pNode,\n        startContainer: startContainer,\n        startOffset: startOffset + newOffsets[0],\n        endContainer: endContainer,\n        endOffset: endOffset + newOffsets[1]\n      };\n    },\n\n    /**\r\n     * @description wraps first line selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Node} startCon The startContainer property of the selection object.\r\n     * @param {Number} startOff The startOffset property of the selection object.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @returns {null|Node} If end container is renewed, returned renewed node\r\n     * @returns {Object} { ancestor, container, offset, endContainer }\r\n     * @private\r\n     */\n    _nodeChange_startLine: function _nodeChange_startLine(element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\n      // not add tag\n      var parentCon = startCon.parentNode;\n\n      while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n        if (parentCon.nodeName === newInnerNode.nodeName) break;\n        parentCon = parentCon.parentNode;\n      }\n\n      if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\n        var sameTag = true;\n        var s = startCon.previousSibling;\n\n        while (s) {\n          if (!util.onlyZeroWidthSpace(s)) {\n            sameTag = false;\n            break;\n          }\n\n          s = s.previousSibling;\n        }\n\n        if (sameTag) {\n          util.copyTagAttributes(parentCon, newInnerNode);\n          return {\n            ancestor: element,\n            container: startCon,\n            offset: startOff\n          };\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var el = element;\n      var nNodeArray = [newInnerNode];\n      var pNode = element.cloneNode(false);\n      var container = startCon;\n      var offset = startOff;\n      var passNode = false;\n      var pCurrent, newNode, appendNode, anchorNode;\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n          var child = childNodes[i];\n          if (!child) continue;\n          var coverNode = ancestor;\n\n          if (passNode && !util.isBreak(child)) {\n            if (child.nodeType === 1) {\n              if (util._isIgnoreNodeChange(child)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                cloneChild = child.cloneNode(true);\n                pNode.appendChild(cloneChild);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode); // end container\n\n                if (_endContainer && child.contains(_endContainer)) {\n                  var endPath = util.getNodePath(_endContainer, child);\n                  _endContainer = util.getNodeFromPath(endPath, cloneChild);\n                }\n              } else {\n                recursionFunc(child, child);\n              }\n\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n            var anchors = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              vNode = validation(newNode);\n\n              if (newNode.nodeType === 1 && vNode) {\n                if (_isMaintainedNode(newNode)) {\n                  if (!anchorNode) anchors.push(vNode);\n                } else {\n                  pCurrent.push(vNode);\n                }\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            pCurrent = pCurrent.concat(anchors);\n            var isTopNode = pCurrent.length > 0;\n            var childNode = pCurrent.pop() || child;\n            appendNode = newNode = childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!anchorNode && _isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              var aChildren = childNode.childNodes;\n\n              for (var a = 0, aLen = aChildren.length; a < aLen; a++) {\n                newInnerNode.appendChild(aChildren[a]);\n              }\n\n              childNode.appendChild(newInnerNode);\n              pNode.appendChild(childNode);\n              ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\n              nNodeArray.push(newInnerNode);\n            } else if (isTopNode) {\n              newInnerNode.appendChild(childNode);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (anchorNode && child.nodeType === 3) {\n              if (_getMaintainedNode(child)) {\n                var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                  return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                }.bind(util));\n                anchorNode.appendChild(ancestorAnchorNode);\n                newInnerNode = ancestorAnchorNode.cloneNode(false);\n                nNodeArray.push(newInnerNode);\n                pNode.appendChild(newInnerNode);\n              } else {\n                anchorNode = null;\n              }\n            }\n          } // startContainer\n\n\n          if (!passNode && child === container) {\n            var line = pNode;\n            anchorNode = _getMaintainedNode(child);\n            var prevNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(0, offset));\n            var textNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(offset, container.length - offset));\n\n            if (anchorNode) {\n              var _a2 = _getMaintainedNode(ancestor);\n\n              if (_a2 && _a2.parentNode !== line) {\n                var m = _a2;\n                var p = null;\n\n                while (m.parentNode !== line) {\n                  ancestor = p = m.parentNode.cloneNode(false);\n\n                  while (m.childNodes[0]) {\n                    p.appendChild(m.childNodes[0]);\n                  }\n\n                  m.appendChild(p);\n                  m = m.parentNode;\n                }\n\n                m.parentNode.appendChild(_a2);\n              }\n\n              anchorNode = anchorNode.cloneNode(false);\n            }\n\n            if (!util.onlyZeroWidthSpace(prevNode)) {\n              ancestor.appendChild(prevNode);\n            }\n\n            var prevAnchorNode = _getMaintainedNode(ancestor);\n\n            if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n            if (anchorNode) line = anchorNode;\n            newNode = ancestor;\n            pCurrent = [];\n\n            while (newNode !== line && newNode !== null) {\n              vNode = validation(newNode);\n\n              if (newNode.nodeType === 1 && vNode) {\n                pCurrent.push(vNode);\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var _childNode3 = pCurrent.pop() || ancestor;\n\n            appendNode = newNode = _childNode3;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_childNode3 !== ancestor) {\n              newInnerNode.appendChild(_childNode3);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n            line.appendChild(newInnerNode);\n            container = textNode;\n            offset = 0;\n            passNode = true;\n            ancestor.appendChild(container);\n            continue;\n          }\n\n          vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n          if (vNode) {\n            ancestor.appendChild(vNode);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n          }\n\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode); // not remove tag\n\n\n      if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n        return {\n          ancestor: element,\n          container: startCon,\n          offset: startOff,\n          endContainer: _endContainer\n        };\n      }\n\n      isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n      if (isRemoveFormat) {\n        for (var i = 0; i < nNodeArray.length; i++) {\n          var removeNode = nNodeArray[i];\n          var rChildren = removeNode.childNodes;\n          var textNode = rChildren[0];\n\n          while (rChildren[0]) {\n            pNode.insertBefore(rChildren[0], removeNode);\n          }\n\n          util.removeItem(removeNode);\n          if (i === 0) container = textNode;\n        }\n      } else if (isRemoveNode) {\n        newInnerNode = newInnerNode.firstChild;\n\n        for (var _i13 = 0; _i13 < nNodeArray.length; _i13++) {\n          this._stripRemoveNode(nNodeArray[_i13]);\n        }\n      }\n\n      if (!isRemoveFormat && pNode.childNodes.length === 0) {\n        if (element.childNodes) {\n          container = element.childNodes[0];\n        } else {\n          container = util.createTextNode(util.zeroWidthSpace);\n          element.appendChild(container);\n        }\n      } else {\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (util.onlyZeroWidthSpace(pNode.textContent)) {\n          container = pNode.firstChild;\n          offset = 0;\n        } // node change\n\n\n        var offsets = {\n          s: 0,\n          e: 0\n        };\n        var path = util.getNodePath(container, pNode, offsets);\n        offset += offsets.s; // tag merge\n\n        var newOffsets = util.mergeSameTags(pNode, [path], true);\n        element.parentNode.replaceChild(pNode, element);\n        container = util.getNodeFromPath(path, pNode);\n        offset += newOffsets[0];\n      }\n\n      return {\n        ancestor: pNode,\n        container: container,\n        offset: offset,\n        endContainer: _endContainer\n      };\n    },\n\n    /**\r\n     * @description wraps mid lines selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n     * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n     * @private\r\n     */\n    _nodeChange_middleLine: function _nodeChange_middleLine(element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\n      // not add tag\n      if (!isRemoveNode) {\n        // end container path\n        var endPath = null;\n        if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\n        var tempNode = element.cloneNode(true);\n        var newNodeName = newInnerNode.nodeName;\n        var newCssText = newInnerNode.style.cssText;\n        var newClass = newInnerNode.className;\n        var children = tempNode.childNodes;\n        var i = 0,\n            len = children.length;\n\n        for (var child; i < len; i++) {\n          child = children[i];\n          if (child.nodeType === 3) break;\n\n          if (child.nodeName === newNodeName) {\n            child.style.cssText += newCssText;\n            util.addClass(child, newClass);\n          } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n            continue;\n          } else if (len === 1) {\n            children = child.childNodes;\n            len = children.length;\n            i = -1;\n            continue;\n          } else {\n            break;\n          }\n        }\n\n        if (len > 0 && i === len) {\n          element.innerHTML = tempNode.innerHTML;\n          return {\n            ancestor: element,\n            endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\n          };\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var pNode = element.cloneNode(false);\n      var nNodeArray = [newInnerNode];\n      var noneChange = true;\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var _i14 = 0, _len6 = childNodes.length, vNode, cloneChild; _i14 < _len6; _i14++) {\n          var _child = childNodes[_i14];\n          if (!_child) continue;\n          var coverNode = ancestor;\n\n          if (!util.isBreak(_child) && util._isIgnoreNodeChange(_child)) {\n            if (newInnerNode.childNodes.length > 0) {\n              pNode.appendChild(newInnerNode);\n              newInnerNode = newInnerNode.cloneNode(false);\n            }\n\n            cloneChild = _child.cloneNode(true);\n            pNode.appendChild(cloneChild);\n            pNode.appendChild(newInnerNode);\n            nNodeArray.push(newInnerNode);\n            ancestor = newInnerNode; // end container\n\n            if (_endContainer && _child.contains(_endContainer)) {\n              var _endPath = util.getNodePath(_endContainer, _child);\n\n              _endContainer = util.getNodeFromPath(_endPath, cloneChild);\n            }\n\n            continue;\n          } else {\n            vNode = validation(_child);\n\n            if (vNode) {\n              noneChange = false;\n              ancestor.appendChild(vNode);\n              if (_child.nodeType === 1) coverNode = vNode;\n            }\n          }\n\n          if (!util.isBreak(_child)) recursionFunc(_child, coverNode);\n        }\n      })(element, newInnerNode); // not remove tag\n\n\n      if (noneChange || isRemoveNode && !isRemoveFormat && !_removeCheck.v) return {\n        ancestor: element,\n        endContainer: _endContainer\n      };\n      pNode.appendChild(newInnerNode);\n\n      if (isRemoveFormat && isRemoveNode) {\n        for (var _i15 = 0; _i15 < nNodeArray.length; _i15++) {\n          var removeNode = nNodeArray[_i15];\n          var rChildren = removeNode.childNodes;\n\n          while (rChildren[0]) {\n            pNode.insertBefore(rChildren[0], removeNode);\n          }\n\n          util.removeItem(removeNode);\n        }\n      } else if (isRemoveNode) {\n        newInnerNode = newInnerNode.firstChild;\n\n        for (var _i16 = 0; _i16 < nNodeArray.length; _i16++) {\n          this._stripRemoveNode(nNodeArray[_i16]);\n        }\n      }\n\n      util.removeEmptyNode(pNode, newInnerNode);\n      util.mergeSameTags(pNode, null, true); // node change\n\n      element.parentNode.replaceChild(pNode, element);\n      return {\n        ancestor: pNode,\n        endContainer: _endContainer\n      };\n    },\n\n    /**\r\n     * @description wraps last line selected text.\r\n     * @param {Element} element The node of the line that contains the selected text node.\r\n     * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n     * @param {Function} validation Check if the node should be stripped.\r\n     * @param {Node} endCon The endContainer property of the selection object.\r\n     * @param {Number} endOff The endOffset property of the selection object.\r\n     * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n     * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n     * @returns {Object} { ancestor, container, offset }\r\n     * @private\r\n     */\n    _nodeChange_endLine: function _nodeChange_endLine(element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n      // not add tag\n      var parentCon = endCon.parentNode;\n\n      while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n        if (parentCon.nodeName === newInnerNode.nodeName) break;\n        parentCon = parentCon.parentNode;\n      }\n\n      if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n        var sameTag = true;\n        var e = endCon.nextSibling;\n\n        while (e) {\n          if (!util.onlyZeroWidthSpace(e)) {\n            sameTag = false;\n            break;\n          }\n\n          e = e.nextSibling;\n        }\n\n        if (sameTag) {\n          util.copyTagAttributes(parentCon, newInnerNode);\n          return {\n            ancestor: element,\n            container: endCon,\n            offset: endOff\n          };\n        }\n      } // add tag\n\n\n      _removeCheck.v = false;\n      var el = element;\n      var nNodeArray = [newInnerNode];\n      var pNode = element.cloneNode(false);\n      var container = endCon;\n      var offset = endOff;\n      var passNode = false;\n      var pCurrent, newNode, appendNode, anchorNode;\n\n      (function recursionFunc(current, ancestor) {\n        var childNodes = current.childNodes;\n\n        for (var i = childNodes.length - 1, vNode; 0 <= i; i--) {\n          var child = childNodes[i];\n          if (!child) continue;\n          var coverNode = ancestor;\n\n          if (passNode && !util.isBreak(child)) {\n            if (child.nodeType === 1) {\n              if (util._isIgnoreNodeChange(child)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                var cloneChild = child.cloneNode(true);\n                pNode.insertBefore(cloneChild, ancestor);\n                pNode.insertBefore(newInnerNode, cloneChild);\n                nNodeArray.push(newInnerNode);\n              } else {\n                recursionFunc(child, child);\n              }\n\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n            var anchors = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              vNode = validation(newNode);\n\n              if (vNode && newNode.nodeType === 1) {\n                if (_isMaintainedNode(newNode)) {\n                  if (!anchorNode) anchors.push(vNode);\n                } else {\n                  pCurrent.push(vNode);\n                }\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            pCurrent = pCurrent.concat(anchors);\n            var isTopNode = pCurrent.length > 0;\n            var childNode = pCurrent.pop() || child;\n            appendNode = newNode = childNode;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.insertBefore(newInnerNode, pNode.firstChild);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!anchorNode && _isMaintainedNode(childNode)) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              var aChildren = childNode.childNodes;\n\n              for (var a = 0, aLen = aChildren.length; a < aLen; a++) {\n                newInnerNode.appendChild(aChildren[a]);\n              }\n\n              childNode.appendChild(newInnerNode);\n              pNode.insertBefore(childNode, pNode.firstChild);\n              nNodeArray.push(newInnerNode);\n              if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n            } else if (isTopNode) {\n              newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (anchorNode && child.nodeType === 3) {\n              if (_getMaintainedNode(child)) {\n                var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                  return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                }.bind(util));\n                anchorNode.appendChild(ancestorAnchorNode);\n                newInnerNode = ancestorAnchorNode.cloneNode(false);\n                nNodeArray.push(newInnerNode);\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n              } else {\n                anchorNode = null;\n              }\n            }\n          } // endContainer\n\n\n          if (!passNode && child === container) {\n            anchorNode = _getMaintainedNode(child);\n            var afterNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(offset, container.length - offset));\n            var textNode = util.createTextNode(container.nodeType === 1 ? \"\" : container.substringData(0, offset));\n\n            if (anchorNode) {\n              anchorNode = anchorNode.cloneNode(false);\n\n              var _a3 = _getMaintainedNode(ancestor);\n\n              if (_a3 && _a3.parentNode !== pNode) {\n                var m = _a3;\n                var p = null;\n\n                while (m.parentNode !== pNode) {\n                  ancestor = p = m.parentNode.cloneNode(false);\n\n                  while (m.childNodes[0]) {\n                    p.appendChild(m.childNodes[0]);\n                  }\n\n                  m.appendChild(p);\n                  m = m.parentNode;\n                }\n\n                m.parentNode.insertBefore(_a3, m.parentNode.firstChild);\n              }\n\n              anchorNode = anchorNode.cloneNode(false);\n            } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n              newInnerNode = newInnerNode.cloneNode(false);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n            }\n\n            if (!util.onlyZeroWidthSpace(afterNode)) {\n              ancestor.insertBefore(afterNode, ancestor.firstChild);\n            }\n\n            newNode = ancestor;\n            pCurrent = [];\n\n            while (newNode !== pNode && newNode !== null) {\n              vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n              if (vNode && newNode.nodeType === 1) {\n                pCurrent.push(vNode);\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            var _childNode4 = pCurrent.pop() || ancestor;\n\n            appendNode = newNode = _childNode4;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n              appendNode = newNode;\n            }\n\n            if (_childNode4 !== ancestor) {\n              newInnerNode.insertBefore(_childNode4, newInnerNode.firstChild);\n              ancestor = newNode;\n            } else {\n              ancestor = newInnerNode;\n            }\n\n            if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n\n            if (anchorNode) {\n              anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n              pNode.insertBefore(anchorNode, pNode.firstChild);\n              anchorNode = null;\n            } else {\n              pNode.insertBefore(newInnerNode, pNode.firstChild);\n            }\n\n            container = textNode;\n            offset = textNode.data.length;\n            passNode = true;\n            ancestor.insertBefore(container, ancestor.firstChild);\n            continue;\n          }\n\n          vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n          if (vNode) {\n            ancestor.insertBefore(vNode, ancestor.firstChild);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n          }\n\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode); // not remove tag\n\n\n      if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n        return {\n          ancestor: element,\n          container: endCon,\n          offset: endOff\n        };\n      }\n\n      isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n      if (isRemoveFormat) {\n        for (var i = 0; i < nNodeArray.length; i++) {\n          var removeNode = nNodeArray[i];\n          var rChildren = removeNode.childNodes;\n          var textNode = null;\n\n          while (rChildren[0]) {\n            textNode = rChildren[0];\n            pNode.insertBefore(textNode, removeNode);\n          }\n\n          util.removeItem(removeNode);\n\n          if (i === nNodeArray.length - 1) {\n            container = textNode;\n            offset = textNode.textContent.length;\n          }\n        }\n      } else if (isRemoveNode) {\n        newInnerNode = newInnerNode.firstChild;\n\n        for (var _i17 = 0; _i17 < nNodeArray.length; _i17++) {\n          this._stripRemoveNode(nNodeArray[_i17]);\n        }\n      }\n\n      if (!isRemoveFormat && pNode.childNodes.length === 0) {\n        if (element.childNodes) {\n          container = element.childNodes[0];\n        } else {\n          container = util.createTextNode(util.zeroWidthSpace);\n          element.appendChild(container);\n        }\n      } else {\n        if (!isRemoveNode && newInnerNode.textContent.length === 0) {\n          util.removeEmptyNode(pNode, null);\n          return {\n            ancestor: null,\n            container: null,\n            offset: 0\n          };\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (util.onlyZeroWidthSpace(pNode.textContent)) {\n          container = pNode.firstChild;\n          offset = container.textContent.length;\n        } else if (util.onlyZeroWidthSpace(container)) {\n          container = newInnerNode;\n          offset = 1;\n        } // node change\n\n\n        var offsets = {\n          s: 0,\n          e: 0\n        };\n        var path = util.getNodePath(container, pNode, offsets);\n        offset += offsets.s; // tag merge\n\n        var newOffsets = util.mergeSameTags(pNode, [path], true);\n        element.parentNode.replaceChild(pNode, element);\n        container = util.getNodeFromPath(path, pNode);\n        offset += newOffsets[0];\n      }\n\n      return {\n        ancestor: pNode,\n        container: container,\n        offset: offset\n      };\n    },\n\n    /**\r\n     * @description Run plugin calls and basic commands.\r\n     * @param {String} command Command string\r\n     * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n     * @param {Element} target The element of command button\r\n     */\n    actionCall: function actionCall(command, display, target) {\n      // call plugins\n      if (display) {\n        if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\n          var layer = context.element.toolbar.querySelector(\".\" + command);\n\n          if (layer) {\n            if (this._moreLayerActiveButton) {\n              context.element.toolbar.querySelector(\".\" + this._moreLayerActiveButton.getAttribute(\"data-command\")).style.display = \"none\";\n              util.removeClass(this._moreLayerActiveButton, \"on\");\n            }\n\n            util.addClass(target, \"on\");\n            this._moreLayerActiveButton = target;\n            layer.style.display = \"block\";\n\n            event._showToolbarBalloon();\n\n            event._showToolbarInline();\n          }\n\n          return;\n        } else if (/submenu/.test(display) && (this.menuTray[command] === null || target !== this.submenuActiveButton)) {\n          this.callPlugin(command, this.submenuOn.bind(this, target), target);\n          return;\n        } else if (/dialog/.test(display)) {\n          this.callPlugin(command, this.plugins[command].open.bind(this), target);\n          return;\n        } else if (/command/.test(display)) {\n          this.callPlugin(command, this.plugins[command].action.bind(this), target);\n        } else if (/container/.test(display) && (this.menuTray[command] === null || target !== this.containerActiveButton)) {\n          this.callPlugin(command, this.containerOn.bind(this, target), target);\n          return;\n        } else if (/fileBrowser/.test(display)) {\n          this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\n        }\n      } // default command\n      else if (command) {\n          this.commandHandler(target, command);\n        }\n\n      if (/more/i.test(display)) {\n        var _layer = context.element.toolbar.querySelector(\".\" + this._moreLayerActiveButton.getAttribute(\"data-command\"));\n\n        if (_layer) {\n          util.removeClass(this._moreLayerActiveButton, \"on\");\n          this._moreLayerActiveButton = null;\n          _layer.style.display = \"none\";\n\n          event._showToolbarBalloon();\n\n          event._showToolbarInline();\n        }\n      } else if (/submenu/.test(display)) {\n        this.submenuOff();\n      } else if (!/command/.test(display)) {\n        this.submenuOff();\n        this.containerOff();\n      }\n    },\n\n    /**\r\n     * @description Execute command of command button(All Buttons except submenu and dialog)\r\n     * (selectAll, codeView, fullScreen, indent, outdent, undo, redo, removeFormat, print, preview, showBlocks, save, bold, underline, italic, strike, subscript, superscript, copy, cut, paste)\r\n     * @param {Element|null} target The element of command button\r\n     * @param {String} command Property of command button (data-value)\r\n     */\n    commandHandler: function commandHandler(target, command) {\n      switch (command) {\n        case \"copy\":\n        case \"cut\":\n          this.execCommand(command);\n          break;\n\n        case \"paste\":\n          break;\n\n        case \"selectAll\":\n          var wysiwyg = context.element.wysiwyg;\n          var first = util.getChildElement(wysiwyg.firstChild, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, false) || wysiwyg.firstChild;\n          var last = util.getChildElement(wysiwyg.lastChild, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, true) || wysiwyg.lastChild;\n          if (!first || !last) return;\n\n          if (util.isMedia(first)) {\n            var info = this.getFileComponent(first);\n            var br = util.createElement(\"BR\");\n            var format = util.createElement(options.defaultTag);\n            format.appendChild(br);\n            first = info ? info.component : first;\n            first.parentNode.insertBefore(format, first);\n            first = br;\n          }\n\n          if (util.isMedia(last)) {\n            var _br = util.createElement(\"BR\");\n\n            var _format2 = util.createElement(options.defaultTag);\n\n            _format2.appendChild(_br);\n\n            wysiwyg.appendChild(_format2);\n            last = _br;\n          }\n\n          this.setRange(first, 0, last, last.textContent.length);\n          break;\n\n        case \"codeView\":\n          this.toggleCodeView();\n          break;\n\n        case \"fullScreen\":\n          this.toggleFullScreen(target);\n          break;\n\n        case \"indent\":\n        case \"outdent\":\n          this.indent(command);\n          break;\n\n        case \"undo\":\n          this.history.undo();\n          break;\n\n        case \"redo\":\n          this.history.redo();\n          break;\n\n        case \"removeFormat\":\n          this.removeFormat();\n          this.focus();\n          break;\n\n        case \"print\":\n          this.print();\n          break;\n\n        case \"preview\":\n          this.preview();\n          break;\n\n        case \"showBlocks\":\n          this.toggleDisplayBlocks();\n          break;\n\n        case \"save\":\n          if (typeof options.callBackSave === \"function\") {\n            options.callBackSave(this.getContents(false), this._variable.isChanged);\n          } else if (this._variable.isChanged && typeof functions.save === \"function\") {\n            functions.save();\n          } else {\n            throw Error(\"[KothingEditor.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)\");\n          }\n\n          this._variable.isChanged = false;\n          if (context.tool.save) context.tool.save.setAttribute(\"disabled\", true);\n          break;\n\n        default:\n          // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\n          command = this._defaultCommand[command.toLowerCase()] || command;\n          if (!this.commandMap[command]) this.commandMap[command] = target;\n          var nodesMap = this._variable.currentNodesMap;\n          var cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\n          var removeNode = command;\n\n          if (/^SUB$/i.test(command) && nodesMap.indexOf(\"SUP\") > -1) {\n            removeNode = \"SUP\";\n          } else if (/^SUP$/i.test(command) && nodesMap.indexOf(\"SUB\") > -1) {\n            removeNode = \"SUB\";\n          }\n\n          this.nodeChange(cmd, null, [removeNode], false);\n          this.focus();\n      }\n    },\n\n    /**\r\n     * @description Remove format of the currently selected range\r\n     */\n    removeFormat: function removeFormat() {\n      this.nodeChange(null, null, null, null);\n    },\n\n    /**\r\n     * @description This method implements indentation to selected range.\r\n     * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n     * @param {String} command Separator (\"indent\" or \"outdent\")\r\n     */\n    indent: function indent(command) {\n      var range = this.getRange();\n      var rangeLines = this.getSelectedElements(null);\n      var cells = [];\n      var shift = \"indent\" !== command;\n      var marginDir = options.rtl ? \"marginRight\" : \"marginLeft\";\n      var sc = range.startContainer;\n      var ec = range.endContainer;\n      var so = range.startOffset;\n      var eo = range.endOffset;\n\n      for (var i = 0, len = rangeLines.length, f, margin; i < len; i++) {\n        f = rangeLines[i];\n\n        if (!util.isListCell(f) || !this.plugins.list) {\n          margin = /\\d+/.test(f.style[marginDir]) ? util.getNumber(f.style[marginDir], 0) : 0;\n\n          if (shift) {\n            margin -= 25;\n          } else {\n            margin += 25;\n          }\n\n          util.setStyle(f, marginDir, margin <= 0 ? \"\" : margin + \"px\");\n        } else {\n          if (shift || f.previousElementSibling) {\n            cells.push(f);\n          }\n        }\n      } // list cells\n\n\n      if (cells.length > 0) {\n        this.plugins.list.editInsideList.call(this, shift, cells);\n      }\n\n      this.effectNode = null;\n      this.setRange(sc, so, ec, eo); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description Add or remove the class name of \"body\" so that the code block is visible\r\n     */\n    toggleDisplayBlocks: function toggleDisplayBlocks() {\n      var wysiwyg = context.element.wysiwyg;\n      util.toggleClass(wysiwyg, \"ke-show-block\");\n\n      if (util.hasClass(wysiwyg, \"ke-show-block\")) {\n        util.addClass(this._styleCommandMap.showBlocks, \"active\");\n      } else {\n        util.removeClass(this._styleCommandMap.showBlocks, \"active\");\n      }\n\n      this._resourcesStateChange();\n    },\n\n    /**\r\n     * @description Changes to code view or wysiwyg view\r\n     */\n    toggleCodeView: function toggleCodeView() {\n      var isCodeView = this._variable.isCodeView;\n      this.controllersOff();\n      util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\n\n      if (isCodeView) {\n        this._setCodeDataToEditor();\n\n        context.element.wysiwygFrame.scrollTop = 0;\n        context.element.code.style.display = \"none\";\n        context.element.wysiwygFrame.style.display = \"block\";\n        this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: none\");\n        this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: block\");\n        if (options.height === \"auto\" && !options.codeMirrorEditor) context.element.code.style.height = \"0px\";\n        this._variable.isCodeView = false;\n\n        if (!this._variable.isFullScreen) {\n          this._notHideToolbar = false;\n\n          if (/balloon|balloon-always/i.test(options.mode)) {\n            context.element.arrow.style.display = \"\";\n            this._isInline = false;\n            this._isBalloon = true;\n\n            event._hideToolbar();\n          }\n        }\n\n        this.nativeFocus();\n        util.removeClass(this._styleCommandMap.codeView, \"active\"); // history stack\n\n        this.history.push(false);\n\n        this.history._resetCachingButton();\n      } else {\n        this._setEditorDataToCodeView();\n\n        this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: block\");\n        this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, \"display: none\");\n        if (options.height === \"auto\" && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? context.element.code.scrollHeight + \"px\" : \"auto\";\n        if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\n        this._variable.isCodeView = true;\n\n        if (!this._variable.isFullScreen) {\n          this._notHideToolbar = true;\n\n          if (this._isBalloon) {\n            context.element.arrow.style.display = \"none\";\n            context.element.toolbar.style.left = \"\";\n            this._isInline = true;\n            this._isBalloon = false;\n\n            event._showToolbarInline();\n          }\n        }\n\n        this._variable._range = null;\n        context.element.code.focus();\n        util.addClass(this._styleCommandMap.codeView, \"active\");\n      }\n\n      this._checkPlaceholder(); // user event\n\n\n      if (typeof functions.toggleCodeView === \"function\") functions.toggleCodeView(this._variable.isCodeView, this);\n    },\n\n    /**\r\n     * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n     * @private\r\n     */\n    _setCodeDataToEditor: function _setCodeDataToEditor() {\n      var code_html = this._getCodeView();\n\n      if (options.fullPage) {\n        var parseDocument = this._parser.parseFromString(code_html, \"text/html\");\n\n        var headChildren = parseDocument.head.children;\n\n        for (var i = 0, len = headChildren.length; i < len; i++) {\n          if (/^script$/i.test(headChildren[i].tagName)) {\n            parseDocument.head.removeChild(headChildren[i]);\n            i--, len--;\n          }\n        }\n\n        this._wd.head.innerHTML = parseDocument.head.innerHTML;\n        this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\n        var attrs = parseDocument.body.attributes;\n\n        for (var _i18 = 0, _len7 = attrs.length; _i18 < _len7; _i18++) {\n          if (attrs[_i18].name === \"contenteditable\") continue;\n\n          this._wd.body.setAttribute(attrs[_i18].name, attrs[_i18].value);\n        }\n\n        if (!util.hasClass(this._wd.body, \"kothing-editor-editable\")) {\n          var editableClasses = options._editableClass.split(\" \");\n\n          for (var _i19 = 0; _i19 < editableClasses.length; _i19++) {\n            util.addClass(this._wd.body, options._editableClass[_i19]);\n          }\n        }\n      } else {\n        context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : \"<\" + options.defaultTag + \"><br></\" + options.defaultTag + \">\";\n      }\n    },\n\n    /**\r\n     * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n     * @private\r\n     */\n    _setEditorDataToCodeView: function _setEditorDataToCodeView() {\n      var codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\n      var codeValue = \"\";\n\n      if (options.fullPage) {\n        var attrs = util.getAttributesToString(this._wd.body, null);\n        codeValue = \"<!DOCTYPE html>\\n<html>\\n\" + this._wd.head.outerHTML.replace(/>(?!\\n)/g, \">\\n\") + \"<body \" + attrs + \">\\n\" + codeContents + \"</body>\\n</html>\";\n      } else {\n        codeValue = codeContents;\n      }\n\n      context.element.code.style.display = \"block\";\n      context.element.wysiwygFrame.style.display = \"none\";\n\n      this._setCodeView(codeValue);\n    },\n\n    /**\r\n     * @description Changes to full screen or default screen\r\n     * @param {Element} element full screen button\r\n     */\n    toggleFullScreen: function toggleFullScreen(element) {\n      var topArea = context.element.topArea;\n      var toolbar = context.element.toolbar;\n      var editorArea = context.element.editorArea;\n      var wysiwygFrame = context.element.wysiwygFrame;\n      var code = context.element.code;\n      var _var = this._variable;\n      this.controllersOff();\n\n      if (!_var.isFullScreen) {\n        _var.isFullScreen = true;\n        _var._fullScreenAttrs.inline = this._isInline;\n        _var._fullScreenAttrs.balloon = this._isBalloon;\n\n        if (this._isInline || this._isBalloon) {\n          this._isInline = false;\n          this._isBalloon = false;\n        }\n\n        if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\n        topArea.style.position = \"fixed\";\n        topArea.style.top = \"0\";\n        topArea.style.left = \"0\";\n        topArea.style.width = \"100%\";\n        topArea.style.maxWidth = \"100%\";\n        topArea.style.height = \"100%\";\n        topArea.style.zIndex = \"2147483647\";\n\n        if (context.element.stickyDummy.style.display !== (\"none\" && \"\")) {\n          _var._fullScreenAttrs.sticky = true;\n          context.element.stickyDummy.style.display = \"none\";\n          util.removeClass(toolbar, \"ke-toolbar-sticky\");\n        }\n\n        _var._bodyOverflow = _d.body.style.overflow;\n        _d.body.style.overflow = \"hidden\";\n        _var.editorAreaOriginCssText = editorArea.style.cssText;\n        _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\n        _var._codeOriginCssText = code.style.cssText;\n        editorArea.style.cssText = toolbar.style.cssText = \"\";\n        wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [\"\"])[0];\n        code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [\"\"])[0];\n        toolbar.style.width = wysiwygFrame.style.height = code.style.height = \"100%\";\n        toolbar.style.position = \"relative\";\n        toolbar.style.display = \"block\";\n        _var.innerHeight_fullScreen = _w.innerHeight - toolbar.offsetHeight;\n        editorArea.style.height = _var.innerHeight_fullScreen - options.fullScreenOffset + \"px\";\n        util.changeElement(element.firstElementChild, icons.reduction);\n\n        if (options.iframe && options.height === \"auto\") {\n          editorArea.style.overflow = \"auto\";\n\n          this._iframeAutoHeight();\n        }\n\n        context.element.topArea.style.marginTop = options.fullScreenOffset + \"px\";\n        util.addClass(this._styleCommandMap.fullScreen, \"active\");\n      } else {\n        _var.isFullScreen = false;\n        wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\n        code.style.cssText = _var._codeOriginCssText;\n        toolbar.style.cssText = \"\";\n        editorArea.style.cssText = _var.editorAreaOriginCssText;\n        topArea.style.cssText = _var._originCssText;\n        _d.body.style.overflow = _var._bodyOverflow;\n        if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\n\n        if (options.stickyToolbar > -1) {\n          util.removeClass(toolbar, \"ke-toolbar-sticky\");\n        }\n\n        if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\n          _var._fullScreenAttrs.sticky = false;\n          context.element.stickyDummy.style.display = \"block\";\n          util.addClass(toolbar, \"ke-toolbar-sticky\");\n        }\n\n        this._isInline = _var._fullScreenAttrs.inline;\n        this._isBalloon = _var._fullScreenAttrs.balloon;\n        if (this._isInline) event._showToolbarInline();\n        if (!!options.toolbarContainer) util.removeClass(toolbar, \"ke-toolbar-balloon\");\n        event.onScroll_window();\n        util.changeElement(element.firstElementChild, icons.expansion);\n        context.element.topArea.style.marginTop = \"\";\n        util.removeClass(this._styleCommandMap.fullScreen, \"active\");\n      } // user event\n\n\n      if (typeof functions.toggleFullScreen === \"function\") functions.toggleFullScreen(this._variable.isFullScreen, this);\n    },\n\n    /**\r\n     * @description Prints the current contents of the editor.\r\n     */\n    print: function print() {\n      var iframe = util.createElement(\"IFRAME\");\n      iframe.style.display = \"none\";\n\n      _d.body.appendChild(iframe);\n\n      var contentsHTML = options.printTemplate ? options.printTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\n      var printDocument = util.getIframeDocument(iframe);\n      var wDoc = this._wd;\n\n      if (options.iframe) {\n        var arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, [\"contenteditable\"]) : 'class=\"' + options._editableClass + '\"';\n        printDocument.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + wDoc.head.innerHTML + \"</head>\" + \"<body \" + arrts + \">\" + contentsHTML + \"</body>\" + \"</html>\");\n      } else {\n        var links = _d.head.getElementsByTagName(\"link\");\n\n        var styles = _d.head.getElementsByTagName(\"style\");\n\n        var linkHTML = \"\";\n\n        for (var i = 0, len = links.length; i < len; i++) {\n          linkHTML += links[i].outerHTML;\n        }\n\n        for (var _i20 = 0, _len8 = styles.length; _i20 < _len8; _i20++) {\n          linkHTML += styles[_i20].outerHTML;\n        }\n\n        printDocument.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + linkHTML + \"</head>\" + '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\">' + contentsHTML + \"</body>\" + \"</html>\");\n      }\n\n      this.showLoading();\n\n      _w.setTimeout(function () {\n        try {\n          iframe.focus(); // IE or Edge\n\n          if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\n            try {\n              iframe.contentWindow.document.execCommand(\"print\", false, null);\n            } catch (e) {\n              iframe.contentWindow.print();\n            }\n          } else {\n            // Other browsers\n            iframe.contentWindow.print();\n          }\n        } catch (error) {\n          throw Error(\"[KothingEditor.core.print.fail] error: \" + error);\n        } finally {\n          core.closeLoading();\n          util.removeItem(iframe);\n        }\n      }, 1000);\n    },\n\n    /**\r\n     * @description Open the preview window.\r\n     */\n    preview: function preview() {\n      core.submenuOff();\n      core.containerOff();\n      core.controllersOff();\n      var contentsHTML = options.previewTemplate ? options.previewTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\n\n      var windowObject = _w.open(\"\", \"_blank\");\n\n      windowObject.mimeType = \"text/html\";\n      var wDoc = this._wd;\n\n      if (options.iframe) {\n        var arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, [\"contenteditable\"]) : 'class=\"' + options._editableClass + '\"';\n        windowObject.document.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + wDoc.head.innerHTML + \"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style>\" + \"</head>\" + \"<body \" + arrts + \">\" + contentsHTML + \"</body>\" + \"</html>\");\n      } else {\n        var links = _d.head.getElementsByTagName(\"link\");\n\n        var styles = _d.head.getElementsByTagName(\"style\");\n\n        var linkHTML = \"\";\n\n        for (var i = 0, len = links.length; i < len; i++) {\n          linkHTML += links[i].outerHTML;\n        }\n\n        for (var _i21 = 0, _len9 = styles.length; _i21 < _len9; _i21++) {\n          linkHTML += styles[_i21].outerHTML;\n        }\n\n        windowObject.document.write(\"\" + \"<!DOCTYPE html><html>\" + \"<head>\" + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + \"<title>\" + lang.toolbar.preview + \"</title>\" + linkHTML + \"</head>\" + '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\" style=\"margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;\">' + contentsHTML + \"</body>\" + \"</html>\");\n      }\n    },\n\n    /**\r\n     * @description Sets the HTML string\r\n     * @param {String|undefined} html HTML string\r\n     */\n    setContents: function setContents(html) {\n      this.removeRange();\n      var convertValue = html === null || html === undefined ? \"\" : this.convertContentsForEditor(html);\n\n      this._resetComponents();\n\n      if (!this._variable.isCodeView) {\n        context.element.wysiwyg.innerHTML = convertValue; // history stack\n\n        this.history.push(false);\n      } else {\n        var value = this.convertHTMLForCodeView(convertValue);\n\n        this._setCodeView(value);\n      }\n    },\n\n    /**\r\n     * @description Sets the contents of the iframe's head tag and body tag when using the \"iframe\" or \"fullPage\" option.\r\n     * @param {Object} ctx { head: HTML string, body: HTML string}\r\n     */\n    setIframeContents: function setIframeContents(ctx) {\n      if (!options.iframe) return false;\n      if (ctx.head) this._wd.head.innerHTML = ctx.head.replace(/<script[\\s\\S]*>[\\s\\S]*<\\/script>/gi, \"\");\n      if (ctx.body) this._wd.body.innerHTML = this.convertContentsForEditor(ctx.body);\n    },\n\n    /**\r\n     * @description Gets the current contents\r\n     * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n     * @returns {Object}\r\n     */\n    getContents: function getContents(onlyContents) {\n      var contents = context.element.wysiwyg.innerHTML;\n      var renderHTML = util.createElement(\"DIV\");\n      renderHTML.innerHTML = contents;\n      var figcaptions = util.getListChildren(renderHTML, function (current) {\n        return /FIGCAPTION/i.test(current.nodeName);\n      });\n\n      for (var i = 0, len = figcaptions.length; i < len; i++) {\n        figcaptions[i].removeAttribute(\"contenteditable\");\n      }\n\n      if (options.fullPage && !onlyContents) {\n        var attrs = util.getAttributesToString(this._wd.body, [\"contenteditable\"]);\n        return \"<!DOCTYPE html><html>\" + this._wd.head.outerHTML + \"<body \" + attrs + \">\" + renderHTML.innerHTML + \"</body></html>\";\n      } else {\n        return renderHTML.innerHTML;\n      }\n    },\n\n    /**\r\n     * @description Returns HTML string according to tag type and configuration.\r\n     * Use only \"cleanHTML\"\r\n     * @param {Node} node Node\r\n     * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n     * @private\r\n     */\n    _makeLine: function _makeLine(node, requireFormat) {\n      var defaultTag = options.defaultTag; // element\n\n      if (node.nodeType === 1) {\n        if (util._disallowedTags(node)) return \"\";\n\n        if (!requireFormat || util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || util.isAnchor(node) && util.isMedia(node.firstElementChild)) {\n          return node.outerHTML;\n        } else {\n          return \"<\" + defaultTag + \">\" + node.outerHTML + \"</\" + defaultTag + \">\";\n        }\n      } // text\n\n\n      if (node.nodeType === 3) {\n        if (!requireFormat) return util._HTMLConvertor(node.textContent);\n        var textArray = node.textContent.split(/\\n/g);\n        var html = \"\";\n\n        for (var i = 0, tLen = textArray.length, text; i < tLen; i++) {\n          text = textArray[i].trim();\n          if (text.length > 0) html += \"<\" + defaultTag + \">\" + util._HTMLConvertor(text) + \"</\" + defaultTag + \">\";\n        }\n\n        return html;\n      } // comments\n\n\n      if (node.nodeType === 8 && this._allowHTMLComments) {\n        return \"<!--\" + node.textContent.trim() + \"-->\";\n      }\n\n      return \"\";\n    },\n\n    /**\r\n     * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n     * @param {String} text\r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\n    _tagConvertor: function _tagConvertor(text) {\n      if (!this._disallowedTextTagsRegExp) return text;\n      var ec = options._textTagsMap;\n      return text.replace(this._disallowedTextTagsRegExp, function (m, t, n, p) {\n        return t + (typeof ec[n] === \"string\" ? ec[n] : n) + (p ? \" \" + p : \"\");\n      });\n    },\n\n    /**\r\n     * @description Delete disallowed tags\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     * @private\r\n     */\n    _deleteDisallowedTags: function _deleteDisallowedTags(html) {\n      return html.replace(/\\n/g, \"\").replace(/<(script|style)[\\s\\S]*>[\\s\\S]*<\\/(script|style)>/gi, \"\").replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, \"\").replace(this.editorTagsWhitelistRegExp, \"\");\n    },\n\n    /**\r\n     * @description Tag and tag attribute check RegExp function. (used by \"cleanHTML\" and \"convertContentsForEditor\")\r\n     * @param {Boolean} rowLevelCheck Row level check\r\n     * @param {String} m RegExp value\r\n     * @param {String} t RegExp value\r\n     * @returns {String}\r\n     * @private\r\n     */\n    _cleanTags: function _cleanTags(rowLevelCheck, m, t) {\n      if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\n      var v = null;\n\n      var tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9\\-]+/)[0].toLowerCase()];\n\n      if (tAttr) v = m.match(tAttr);else v = m.match(this._attributesWhitelistRegExp);\n\n      if ((rowLevelCheck || /<span/i.test(t)) && (!v || !/style=/i.test(v.toString()))) {\n        var sv = m.match(/style\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\n\n        if (sv) {\n          if (!v) v = [];\n          v.push(sv[0]);\n        }\n      }\n\n      if (/<a\\b/i.test(t)) {\n        var _sv = m.match(/id\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\n\n        if (_sv) {\n          if (!v) v = [];\n          v.push(_sv[0]);\n        }\n      }\n\n      if (v) {\n        for (var i = 0, len = v.length; i < len; i++) {\n          if (!rowLevelCheck && /^class=\"(?!(__ke__|ke-|katex))/.test(v[i])) continue;\n          t += \" \" + (/^href\\s*=\\s*('|\"|\\s)*javascript\\s*\\:/i.test(v[i]) ? \"\" : v[i]);\n        }\n      }\n\n      return t;\n    },\n\n    /**\r\n     * @description Gets the clean HTML code for editor\r\n     * @param {String} html HTML string\r\n     * @param {String|RegExp|null} whitelist Regular expression of allowed tags.\r\n     * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n     * @returns {String}\r\n     */\n    cleanHTML: function cleanHTML(html, whitelist) {\n      html = this._deleteDisallowedTags(this._parser.parseFromString(html, \"text/html\").body.innerHTML).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, false));\n\n      var dom = _d.createRange().createContextualFragment(html);\n\n      try {\n        util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n      } catch (error) {\n        console.warn(\"[KothingEditor.cleanHTML.consistencyCheck.fail] \" + error);\n      }\n\n      if (this.managedTagsInfo && this.managedTagsInfo.query) {\n        var textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n        for (var i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n          classList = [].slice.call(textCompList[i].classList);\n\n          for (var c = 0, cLen = classList.length; c < cLen; c++) {\n            initMethod = this.managedTagsInfo.map[classList[c]];\n\n            if (initMethod) {\n              initMethod(textCompList[i]);\n              break;\n            }\n          }\n        }\n      }\n\n      var domTree = dom.childNodes;\n      var cleanHTML = \"\";\n      var requireFormat = false;\n\n      for (var _i22 = 0, _len10 = domTree.length, t; _i22 < _len10; _i22++) {\n        t = domTree[_i22];\n\n        if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\n          requireFormat = true;\n          break;\n        }\n      }\n\n      for (var _i23 = 0, _len11 = domTree.length; _i23 < _len11; _i23++) {\n        cleanHTML += this._makeLine(domTree[_i23], requireFormat);\n      }\n\n      cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n      return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === \"string\" ? util.createTagsWhitelist(whitelist) : whitelist, \"\"));\n    },\n\n    /**\r\n     * @description Converts contents into a format that can be placed in an editor\r\n     * @param {String} contents contents\r\n     * @returns {String}\r\n     */\n    convertContentsForEditor: function convertContentsForEditor(contents) {\n      contents = this._deleteDisallowedTags(this._parser.parseFromString(contents, \"text/html\").body.innerHTML).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, true));\n\n      var dom = _d.createRange().createContextualFragment(contents);\n\n      try {\n        util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n      } catch (error) {\n        console.warn(\"[KothingEditor.convertContentsForEditor.consistencyCheck.fail] \" + error);\n      }\n\n      if (this.managedTagsInfo && this.managedTagsInfo.query) {\n        var textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n        for (var i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n          classList = [].slice.call(textCompList[i].classList);\n\n          for (var c = 0, cLen = classList.length; c < cLen; c++) {\n            initMethod = this.managedTagsInfo.map[classList[c]];\n\n            if (initMethod) {\n              initMethod(textCompList[i]);\n              break;\n            }\n          }\n        }\n      }\n\n      var domTree = dom.childNodes;\n      var cleanHTML = \"\";\n\n      for (var _i24 = 0, _len12 = domTree.length; _i24 < _len12; _i24++) {\n        cleanHTML += this._makeLine(domTree[_i24], true);\n      }\n\n      if (cleanHTML.length === 0) return \"<\" + options.defaultTag + \"><br></\" + options.defaultTag + \">\";\n      cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n      return this._tagConvertor(cleanHTML);\n    },\n\n    /**\r\n     * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n     * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n     * @returns {String}\r\n     */\n    convertHTMLForCodeView: function convertHTMLForCodeView(html) {\n      var returnHTML = \"\";\n      var wRegExp = _w.RegExp;\n      var brReg = new wRegExp(\"^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$\", \"i\");\n      var wDoc = typeof html === \"string\" ? _d.createRange().createContextualFragment(html) : html;\n\n      var isFormat = function (current) {\n        return this.isFormatElement(current) || this.isComponent(current);\n      }.bind(util);\n\n      var indentSize = this._variable.codeIndent * 1;\n      indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(\" \") : \"\";\n\n      (function recursionFunc(element, indent, lineBR) {\n        var children = element.childNodes;\n        var elementRegTest = brReg.test(element.nodeName);\n        var elementIndent = elementRegTest ? indent : \"\";\n\n        for (var i = 0, len = children.length, node, br, nodeRegTest, tag, tagIndent; i < len; i++) {\n          node = children[i];\n          nodeRegTest = brReg.test(node.nodeName);\n          br = nodeRegTest ? \"\\n\" : \"\";\n          lineBR = isFormat(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? \"\\n\" : \"\";\n\n          if (node.nodeType === 8) {\n            returnHTML += \"\\n<!-- \" + node.textContent.trim() + \" -->\" + br;\n            continue;\n          }\n\n          if (node.nodeType === 3) {\n            if (!util.isList(node.parentElement)) returnHTML += util._HTMLConvertor(/^\\n+$/.test(node.data) ? \"\" : node.data);\n            continue;\n          }\n\n          if (node.childNodes.length === 0) {\n            returnHTML += (/^HR$/i.test(node.nodeName) ? \"\\n\" : \"\") + (/^PRE$/i.test(node.parentElement.nodeName) && /^BR$/i.test(node.nodeName) ? \"\" : elementIndent) + node.outerHTML + br;\n            continue;\n          }\n\n          if (!node.outerHTML) {\n            // IE\n            returnHTML += new _w.XMLSerializer().serializeToString(node);\n          } else {\n            tag = node.nodeName.toLowerCase();\n            tagIndent = elementIndent || nodeRegTest ? indent : \"\";\n            returnHTML += (lineBR || (elementRegTest ? \"\" : br)) + tagIndent + node.outerHTML.match(wRegExp(\"<\" + tag + \"[^>]*>\", \"i\"))[0] + br;\n            recursionFunc(node, indent + indentSize, \"\");\n            returnHTML += (/\\n$/.test(returnHTML) ? tagIndent : \"\") + \"</\" + tag + \">\" + (lineBR || br || elementRegTest ? \"\\n\" : \"\" || /^(TH|TD)$/i.test(node.nodeName) ? \"\\n\" : \"\");\n          }\n        }\n      })(wDoc, \"\", \"\\n\");\n\n      return returnHTML.trim() + \"\\n\";\n    },\n\n    /**\r\n     * @description Add an event to document.\r\n     * When created as an Iframe, the same event is added to the document in the Iframe.\r\n     * @param {String} type Event type\r\n     * @param {Function} listener Event listener\r\n     * @param {Boolean} useCapture Use event capture\r\n     */\n    addDocEvent: function addDocEvent(type, listener, useCapture) {\n      _d.addEventListener(type, listener, useCapture);\n\n      if (options.iframe) {\n        this._wd.addEventListener(type, listener);\n      }\n    },\n\n    /**\r\n     * @description Remove events from document.\r\n     * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n     * @param {String} type Event type\r\n     * @param {Function} listener Event listener\r\n     */\n    removeDocEvent: function removeDocEvent(type, listener) {\n      _d.removeEventListener(type, listener);\n\n      if (options.iframe) {\n        this._wd.removeEventListener(type, listener);\n      }\n    },\n\n    /**\r\n     * @description The current number of characters is counted and displayed.\r\n     * @param {String} inputText Text added.\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _charCount: function _charCount(inputText) {\n      var maxCharCount = options.maxCharCount;\n      var countType = options.charCounterType;\n      var nextCharCount = 0;\n      if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\n\n      this._setCharCount();\n\n      if (maxCharCount > 0) {\n        var over = false;\n        var count = functions.getCharCount(countType);\n\n        if (count > maxCharCount) {\n          over = true;\n\n          if (nextCharCount > 0) {\n            this._editorRange();\n\n            var range = this.getRange();\n            var endOff = range.endOffset - 1;\n            var text = this.getSelectionNode().textContent;\n            var slicePosition = range.endOffset - (count - maxCharCount);\n            this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\n            this.setRange(range.endContainer, endOff, range.endContainer, endOff);\n          }\n        } else if (count + nextCharCount > maxCharCount) {\n          over = true;\n        }\n\n        if (over) {\n          this._callCounterBlink();\n\n          if (nextCharCount > 0) return false;\n        }\n      }\n\n      return true;\n    },\n\n    /**\r\n     * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n     * @param {Node|String} element Element node or String.\r\n     * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n     * @returns {Boolean}\r\n     */\n    checkCharCount: function checkCharCount(element, charCounterType) {\n      if (options.maxCharCount) {\n        var countType = charCounterType || options.charCounterType;\n        var length = this.getCharLength(typeof element === \"string\" ? element : this._charTypeHTML && element.nodeType === 1 ? element.outerHTML : element.textContent, countType);\n\n        if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\n          this._callCounterBlink();\n\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    /**\r\n     * @description Get the length of the content.\r\n     * Depending on the option, the length of the character is taken. (charCounterType)\r\n     * @param {String} content Content to count\r\n     * @param {String} charCounterType options.charCounterType\r\n     * @returns {Number}\r\n     */\n    getCharLength: function getCharLength(content, charCounterType) {\n      return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\n    },\n\n    /**\r\n     * @description Set the char count to charCounter element textContent.\r\n     * @private\r\n     */\n    _setCharCount: function _setCharCount() {\n      if (context.element.charCounter) {\n        _w.setTimeout(function () {\n          context.element.charCounter.textContent = functions.getCharCount(options.charCounterType);\n        });\n      }\n    },\n\n    /**\r\n     * @description The character counter blinks.\r\n     * @private\r\n     */\n    _callCounterBlink: function _callCounterBlink() {\n      var charWrapper = context.element.charWrapper;\n\n      if (charWrapper && !util.hasClass(charWrapper, \"ke-blink\")) {\n        util.addClass(charWrapper, \"ke-blink\");\n\n        _w.setTimeout(function () {\n          util.removeClass(charWrapper, \"ke-blink\");\n        }, 600);\n      }\n    },\n\n    /**\r\n     * @description Check the components such as image and video and modify them according to the format.\r\n     * @private\r\n     */\n    _checkComponents: function _checkComponents() {\n      for (var i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\n        this._fileInfoPluginsCheck[i]();\n      }\n    },\n\n    /**\r\n     * @description Initialize the information of the components.\r\n     * @private\r\n     */\n    _resetComponents: function _resetComponents() {\n      for (var i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\n        this._fileInfoPluginsReset[i]();\n      }\n    },\n\n    /**\r\n     * @description Set method in the code view area\r\n     * @param {String} value HTML string\r\n     * @private\r\n     */\n    _setCodeView: function _setCodeView(value) {\n      if (options.codeMirrorEditor) {\n        options.codeMirrorEditor.getDoc().setValue(value);\n      } else {\n        context.element.code.value = value;\n      }\n    },\n\n    /**\r\n     * @description Get method in the code view area\r\n     * @private\r\n     */\n    _getCodeView: function _getCodeView() {\n      return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\n    },\n\n    /**\r\n     * @description Initializ core variable\r\n     * @param {Boolean} reload Is relooad?\r\n     * @param {String} _initHTML initial html string\r\n     * @private\r\n     */\n    _init: function _init(reload, _initHTML) {\n      var wRegExp = _w.RegExp;\n      this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\n      this._wd = _d;\n      this._charTypeHTML = options.charCounterType === \"byte-html\";\n\n      if (!options.iframe && typeof _w.ShadowRoot === \"function\") {\n        var child = context.element.wysiwygFrame;\n\n        while (child) {\n          if (child.shadowRoot) {\n            this._shadowRoot = child.shadowRoot;\n            break;\n          } else if (child instanceof _w.ShadowRoot) {\n            this._shadowRoot = child;\n            break;\n          }\n\n          child = child.parentNode;\n        }\n\n        if (this._shadowRoot) this._shadowRootControllerEventTarget = [];\n      } // set disallow text nodes\n\n\n      var disallowTextTags = _w.Object.keys(options._textTagsMap);\n\n      var allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split(\"|\").filter(function (v) {\n        return /b|i|ins|s|strike/i.test(v);\n      });\n\n      for (var i = 0; i < allowTextTags.length; i++) {\n        disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\n      }\n\n      this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp(\"(<\\\\/?)(\" + disallowTextTags.join(\"|\") + \")\\\\b\\\\s*([^>^<]+)?\\\\s*(?=>)\", \"gi\"); // set whitelist\n\n      var defaultAttr = \"contenteditable|id|colspan|rowspan|target|href|download|rel|src|alt|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size\";\n      this._allowHTMLComments = options._editorTagsWhitelist.indexOf(\"//\") > -1;\n      this._htmlCheckWhitelistRegExp = new wRegExp(\"^(\" + options._editorTagsWhitelist.replace(\"|//\", \"\") + \")$\", \"i\");\n      this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace(\"|//\", \"|<!--|-->\"));\n      this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\n      var regEndStr = '\\\\s*=\\\\s*(\")[^\"]*\\\\1';\n      var _attr = options.attributesWhitelist;\n      var tagsAttr = {};\n      var allAttr = \"\";\n\n      if (!!_attr) {\n        for (var k in _attr) {\n          if (!util.hasOwn(_attr, k) || /^on[a-z]+$/i.test(_attr[k])) continue;\n\n          if (k === \"all\") {\n            allAttr = _attr[k] + \"|\";\n          } else {\n            tagsAttr[k] = new wRegExp(\"(?:\" + _attr[k] + \"|\" + defaultAttr + \")\" + regEndStr, \"ig\");\n          }\n        }\n      }\n\n      this._attributesWhitelistRegExp = new wRegExp(\"(?:\" + allAttr + defaultAttr + \")\" + regEndStr, \"ig\");\n      this._attributesTagsWhitelist = tagsAttr; // set modes\n\n      this._isInline = /inline/i.test(options.mode);\n      this._isBalloon = /balloon|balloon-always/i.test(options.mode);\n      this._isBalloonAlways = /balloon-always/i.test(options.mode); // caching buttons\n\n      this._cachingButtons(); // file components\n\n\n      this._fileInfoPluginsCheck = [];\n      this._fileInfoPluginsReset = []; // text components\n\n      this.managedTagsInfo = {\n        query: \"\",\n        map: {}\n      };\n      var managedClass = []; // Command and file plugins registration\n\n      this.activePlugins = [];\n      this._fileManager.tags = [];\n      this._fileManager.pluginMap = {};\n      var filePluginRegExp = [];\n      var plugin, button;\n\n      for (var key in plugins) {\n        if (!util.hasOwn(plugins, key)) continue;\n        plugin = plugins[key];\n        button = pluginCallButtons[key];\n\n        if (plugin.active && button) {\n          this.callPlugin(key, null, button);\n        }\n\n        if (typeof plugin.checkFileInfo === \"function\" && typeof plugin.resetFileInfo === \"function\") {\n          this.callPlugin(key, null, button);\n\n          this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\n\n          this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\n        }\n\n        if (_w.Array.isArray(plugin.fileTags)) {\n          var fileTags = plugin.fileTags;\n          this.callPlugin(key, null, button);\n          this._fileManager.tags = this._fileManager.tags.concat(fileTags);\n          filePluginRegExp.push(key);\n\n          for (var tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\n            this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\n          }\n        }\n\n        if (plugin.managedTags) {\n          var info = plugin.managedTags();\n          managedClass.push(\".\" + info.className);\n          this.managedTagsInfo.map[info.className] = info.method.bind(this);\n        }\n      }\n\n      this.managedTagsInfo.query = managedClass.toString();\n      this._fileManager.queryString = this._fileManager.tags.join(\",\");\n      this._fileManager.regExp = new wRegExp(\"^(\" + this._fileManager.tags.join(\"|\") + \")$\", \"i\");\n      this._fileManager.pluginRegExp = new wRegExp(\"^(\" + (filePluginRegExp.length === 0 ? \"undefined\" : filePluginRegExp.join(\"|\")) + \")$\", \"i\"); // cache editor's element\n\n      this._variable._originCssText = context.element.topArea.style.cssText;\n      this.placeholder = context.element.placeholder;\n      this.lineBreaker = context.element.lineBreaker;\n      this.lineBreakerButton = this.lineBreaker.querySelector(\"button\"); // Excute history function\n\n      this.history = (0, _history.default)(this, this._onChange_historyStack.bind(this)); // register notice module\n\n      this.addModule([_notice.default]); // Init, validate\n\n      if (options.iframe) {\n        this._wd = context.element.wysiwygFrame.contentDocument;\n        context.element.wysiwyg = this._wd.body;\n        if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\n        if (options.height === \"auto\") this._iframeAuto = this._wd.body;\n      }\n\n      this._initWysiwygArea(reload, _initHTML);\n    },\n\n    /**\r\n     * @description Caching basic buttons to use\r\n     * @private\r\n     */\n    _cachingButtons: function _cachingButtons() {\n      _w.setTimeout(function () {\n        this.codeViewDisabledButtons = context.element.buttonTray.querySelectorAll('.ke-menu-list button[data-display]:not([class~=\"ke-code-view-enabled\"])');\n        this.resizingDisabledButtons = context.element.buttonTray.querySelectorAll('.ke-menu-list button[data-display]:not([class~=\"ke-resizing-enabled\"]):not([data-display=\"MORE\"])');\n      }.bind(this));\n\n      var tool = context.tool;\n      this.commandMap = {\n        SUB: tool.subscript,\n        SUP: tool.superscript,\n        OUTDENT: tool.outdent,\n        INDENT: tool.indent\n      };\n      this.commandMap[options.textTags.bold.toUpperCase()] = tool.bold;\n      this.commandMap[options.textTags.underline.toUpperCase()] = tool.underline;\n      this.commandMap[options.textTags.italic.toUpperCase()] = tool.italic;\n      this.commandMap[options.textTags.strike.toUpperCase()] = tool.strike;\n      this._styleCommandMap = {\n        fullScreen: tool.fullScreen,\n        showBlocks: tool.showBlocks,\n        codeView: tool.codeView\n      };\n    },\n\n    /**\r\n     * @description Initializ wysiwyg area (Only called from core._init)\r\n     * @param {Boolean} reload Is relooad?\r\n     * @param {String} _initHTML initial html string\r\n     * @private\r\n     */\n    _initWysiwygArea: function _initWysiwygArea(reload, _initHTML) {\n      context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === \"string\" ? _initHTML : context.element.originElement.value);\n    },\n\n    /**\r\n     * @description Called when there are changes to tags in the wysiwyg region.\r\n     * @private\r\n     */\n    _resourcesStateChange: function _resourcesStateChange() {\n      this._iframeAutoHeight();\n\n      this._checkPlaceholder();\n    },\n\n    /**\r\n     * @description Called when after execute \"history.push\"\r\n     * @private\r\n     */\n    _onChange_historyStack: function _onChange_historyStack() {\n      if (this.hasFocus) event._applyTagEffects();\n      this._variable.isChanged = true;\n      if (context.tool.save) context.tool.save.removeAttribute(\"disabled\"); // user event\n\n      if (functions.onChange) functions.onChange(this.getContents(true), this);\n      if (context.element.toolbar.style.display === \"block\") event._showToolbarBalloon();\n    },\n\n    /**\r\n     * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n     * @private\r\n     */\n    _iframeAutoHeight: function _iframeAutoHeight() {\n      if (this._iframeAuto) {\n        _w.setTimeout(function () {\n          context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + \"px\";\n        });\n      }\n    },\n\n    /**\r\n     * @description Set display property when there is placeholder.\r\n     * @private\r\n     */\n    _checkPlaceholder: function _checkPlaceholder() {\n      if (this.placeholder) {\n        if (this._variable.isCodeView) {\n          this.placeholder.style.display = \"none\";\n          return;\n        }\n\n        var wysiwyg = context.element.wysiwyg;\n\n        if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector(util._allowedEmptyNodeList) || (wysiwyg.innerText.match(/\\n/g) || \"\").length > 1) {\n          this.placeholder.style.display = \"none\";\n        } else {\n          this.placeholder.style.display = \"block\";\n        }\n      }\n    },\n\n    /**\r\n     * @description If there is no default format, add a format and move \"selection\".\r\n     * @param {String|null} formatName Format tag name (default: 'P')\r\n     * @private\r\n     */\n    _setDefaultFormat: function _setDefaultFormat(formatName) {\n      if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\n      var range = this.getRange();\n      var commonCon = range.commonAncestorContainer;\n      var startCon = range.startContainer;\n      var rangeEl = util.getRangeFormatElement(commonCon, null);\n      var focusNode, offset, format;\n      var fileComponent = util.getParentElement(commonCon, util.isComponent);\n      if (fileComponent && !util.isTable(fileComponent)) return;\n      if ((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && (util.isComponent(startCon.children[range.startOffset]) || util.isComponent(startCon.children[range.startOffset - 1]))) return;\n\n      if (rangeEl) {\n        format = util.createElement(formatName || options.defaultTag);\n        format.innerHTML = rangeEl.innerHTML;\n        if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\n        rangeEl.innerHTML = format.outerHTML;\n        format = rangeEl.firstChild;\n        focusNode = util.getEdgeChildNodes(format, null).sc;\n\n        if (!focusNode) {\n          focusNode = util.createTextNode(util.zeroWidthSpace);\n          format.insertBefore(focusNode, format.firstChild);\n        }\n\n        offset = focusNode.textContent.length;\n        this.setRange(focusNode, offset, focusNode, offset);\n        return;\n      }\n\n      if (util.isRangeFormatElement(commonCon) && commonCon.childNodes.length <= 1) {\n        var br = null;\n\n        if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\n          br = commonCon.firstChild;\n        } else {\n          br = util.createTextNode(util.zeroWidthSpace);\n          commonCon.appendChild(br);\n        }\n\n        this.setRange(br, 1, br, 1);\n        return;\n      }\n\n      this.execCommand(\"formatBlock\", false, formatName || options.defaultTag);\n      focusNode = util.getEdgeChildNodes(commonCon, commonCon);\n      focusNode = focusNode ? focusNode.ec : commonCon;\n      format = util.getFormatElement(focusNode, null);\n\n      if (!format) {\n        this.removeRange();\n\n        this._editorRange();\n\n        return;\n      }\n\n      if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\n      if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\n\n      if (util.isBreak(focusNode)) {\n        var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n        focusNode.parentNode.insertBefore(zeroWidth, focusNode);\n        focusNode = zeroWidth;\n      }\n\n      this.effectNode = null;\n      this.nativeFocus();\n    },\n\n    /**\r\n     * @description Initialization after \"setOptions\"\r\n     * @param {Object} el context.element\r\n     * @param {String} _initHTML Initial html string\r\n     * @private\r\n     */\n    _setOptionsInit: function _setOptionsInit(el, _initHTML) {\n      this.context = context = (0, _context.default)(el.originElement, this._getConstructed(el), options);\n      this._componentsInfoReset = true;\n\n      this._editorInit(true, _initHTML);\n    },\n\n    /**\r\n     * @description Initializ editor\r\n     * @param {Boolean} reload Is relooad?\r\n     * @param {String} _initHTML initial html string\r\n     * @private\r\n     */\n    _editorInit: function _editorInit(reload, _initHTML) {\n      // initialize core and add event listeners\n      this._init(reload, _initHTML);\n\n      event._addEvent();\n\n      this._setCharCount();\n\n      event._offStickyToolbar();\n\n      event.onResize_window(); // toolbar visibility\n\n      context.element.toolbar.style.visibility = \"\";\n\n      this._checkComponents();\n\n      this._componentsInfoInit = false;\n      this._componentsInfoReset = false;\n      this.history.reset(true);\n\n      this._resourcesStateChange();\n\n      _w.setTimeout(function () {\n        // user event\n        if (typeof functions.onload === \"function\") functions.onload(core, reload);\n      });\n    },\n\n    /**\r\n     * @description Create and return an object to cache the new context.\r\n     * @param {Element} contextEl context.element\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _getConstructed: function _getConstructed(contextEl) {\n      return {\n        top: contextEl.topArea,\n        relative: contextEl.relative,\n        toolBar: contextEl.toolbar,\n        menuTray: contextEl.menuTray,\n        editorArea: contextEl.editorArea,\n        wysiwygArea: contextEl.wysiwygFrame,\n        codeArea: contextEl.code,\n        placeholder: contextEl.placeholder,\n        resizingBar: contextEl.resizingBar,\n        navigation: contextEl.navigation,\n        charCounter: contextEl.charCounter,\n        charWrapper: contextEl.charWrapper,\n        loading: contextEl.loading,\n        lineBreaker: contextEl.lineBreaker,\n        lineBreaker_t: contextEl.lineBreaker_t,\n        lineBreaker_b: contextEl.lineBreaker_b,\n        resizeBack: contextEl.resizeBackground,\n        stickyDummy: contextEl.stickyDummy,\n        arrow: contextEl.arrow\n      };\n    }\n  };\n  /**\r\n   * @description event function\r\n   */\n\n  var event = {\n    _IEisComposing: false,\n    // In IE, there is no \"e.isComposing\" in the key-up event.\n    lineBreakerBind: null,\n    _responsiveCurrentSize: \"default\",\n    _responsiveButtonSize: null,\n    _responsiveButtons: null,\n    _directionKeyCode: new _w.RegExp(\"^(8|13|3[2-9]|40|46)$\"),\n    _nonTextKeyCode: new _w.RegExp(\"^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$\"),\n    $historyIgnoreKeyCode: new _w.RegExp(\"^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$\"),\n    _onButtonsCheck: new _w.RegExp(\"^(\" + _w.Object.keys(options._textTagsMap).join(\"|\") + \")$\", \"i\"),\n    _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + \"+\", \"\"),\n    _keyCodeShortcut: {\n      65: \"A\",\n      66: \"B\",\n      83: \"S\",\n      85: \"U\",\n      73: \"I\",\n      89: \"Y\",\n      90: \"Z\",\n      219: \"[\",\n      221: \"]\"\n    },\n    _shortcutCommand: function _shortcutCommand(keyCode, shift) {\n      var command = null;\n      var keyStr = event._keyCodeShortcut[keyCode];\n\n      switch (keyStr) {\n        case \"A\":\n          command = \"selectAll\";\n          break;\n\n        case \"B\":\n          if (options.shortcutsDisable.indexOf(\"bold\") === -1) {\n            command = \"bold\";\n          }\n\n          break;\n\n        case \"S\":\n          if (shift && options.shortcutsDisable.indexOf(\"strike\") === -1) {\n            command = \"strike\";\n          } else if (!shift && options.shortcutsDisable.indexOf(\"save\") === -1) {\n            command = \"save\";\n          }\n\n          break;\n\n        case \"U\":\n          if (options.shortcutsDisable.indexOf(\"underline\") === -1) {\n            command = \"underline\";\n          }\n\n          break;\n\n        case \"I\":\n          if (options.shortcutsDisable.indexOf(\"italic\") === -1) {\n            command = \"italic\";\n          }\n\n          break;\n\n        case \"Z\":\n          if (options.shortcutsDisable.indexOf(\"undo\") === -1) {\n            if (shift) {\n              command = \"redo\";\n            } else {\n              command = \"undo\";\n            }\n          }\n\n          break;\n\n        case \"Y\":\n          if (options.shortcutsDisable.indexOf(\"undo\") === -1) {\n            command = \"redo\";\n          }\n\n          break;\n\n        case \"[\":\n          if (options.shortcutsDisable.indexOf(\"indent\") === -1) {\n            command = options.rtl ? \"indent\" : \"outdent\";\n          }\n\n          break;\n\n        case \"]\":\n          if (options.shortcutsDisable.indexOf(\"indent\") === -1) {\n            command = options.rtl ? \"outdent\" : \"indent\";\n          }\n\n          break;\n      }\n\n      if (!command) return false;\n      core.commandHandler(core.commandMap[command], command);\n      return true;\n    },\n    _applyTagEffects: function _applyTagEffects() {\n      var selectionNode = core.getSelectionNode();\n      if (selectionNode === core.effectNode) return;\n      core.effectNode = selectionNode;\n      var marginDir = options.rtl ? \"marginRight\" : \"marginLeft\";\n      var commandMap = core.commandMap;\n      var classOnCheck = this._onButtonsCheck;\n      var commandMapNodes = [];\n      var currentNodes = [];\n      var activePlugins = core.activePlugins;\n      var cLen = activePlugins.length;\n      var nodeName = \"\";\n\n      while (selectionNode.firstChild) {\n        selectionNode = selectionNode.firstChild;\n      }\n\n      for (var element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\n        if (!element) break;\n        if (element.nodeType !== 1 || util.isBreak(element)) continue;\n        nodeName = element.nodeName.toUpperCase();\n        currentNodes.push(nodeName);\n        /* Active plugins */\n\n        for (var c = 0, name; c < cLen; c++) {\n          name = activePlugins[c];\n\n          if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\n            commandMapNodes.push(name);\n          }\n        }\n\n        if (util.isFormatElement(element)) {\n          /* Outdent */\n          if (commandMapNodes.indexOf(\"OUTDENT\") === -1 && commandMap.OUTDENT) {\n            if (util.isListCell(element) || element.style[marginDir] && util.getNumber(element.style[marginDir], 0) > 0) {\n              commandMapNodes.push(\"OUTDENT\");\n              commandMap.OUTDENT.removeAttribute(\"disabled\");\n            }\n          }\n          /* Indent */\n\n\n          if (commandMapNodes.indexOf(\"INDENT\") === -1 && commandMap.INDENT) {\n            commandMapNodes.push(\"INDENT\");\n\n            if (util.isListCell(element) && !element.previousElementSibling) {\n              commandMap.INDENT.setAttribute(\"disabled\", true);\n            } else {\n              commandMap.INDENT.removeAttribute(\"disabled\");\n            }\n          }\n\n          continue;\n        }\n        /** default active buttons [strong, ins, em, del, sub, sup] */\n\n\n        if (classOnCheck.test(nodeName)) {\n          commandMapNodes.push(nodeName);\n          util.addClass(commandMap[nodeName], \"active\");\n        }\n      }\n      /** remove class, display text */\n\n\n      for (var key in commandMap) {\n        if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\n\n        if (activePlugins.indexOf(key) > -1) {\n          plugins[key].active.call(core, null);\n        } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n          commandMap.OUTDENT.setAttribute(\"disabled\", true);\n        } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n          commandMap.INDENT.removeAttribute(\"disabled\");\n        } else {\n          util.removeClass(commandMap[key], \"active\");\n        }\n      }\n      /** save current nodes */\n\n\n      core._variable.currentNodes = currentNodes.reverse();\n      core._variable.currentNodesMap = commandMapNodes;\n      /**  Displays the current node structure to resizingBar */\n\n      if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(\" > \");\n    },\n    _cancelCaptionEdit: function _cancelCaptionEdit() {\n      this.setAttribute(\"contenteditable\", false);\n      this.removeEventListener(\"blur\", event._cancelCaptionEdit);\n    },\n    _buttonsEventHandler: function _buttonsEventHandler(e) {\n      var target = e.target;\n      if (core._bindControllersOff) e.stopPropagation();\n\n      if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\n        core._antiBlur = false;\n      } else {\n        e.preventDefault();\n      }\n\n      if (util.getParentElement(target, \".ke-submenu\")) {\n        e.stopPropagation();\n        core._notHideToolbar = true;\n      } else {\n        var command = target.getAttribute(\"data-command\");\n        var className = target.className;\n\n        while (!command && !/ke-menu-list/.test(className) && !/kothing-editor-common/.test(className)) {\n          target = target.parentNode;\n          command = target.getAttribute(\"data-command\");\n          className = target.className;\n        }\n\n        if (command === core._submenuName || command === core._containerName) {\n          e.stopPropagation();\n        }\n      }\n    },\n    onClick_toolbar: function onClick_toolbar(e) {\n      var target = e.target;\n      var display = target.getAttribute(\"data-display\");\n      var command = target.getAttribute(\"data-command\");\n      var className = target.className;\n      core.controllersOff();\n\n      while (target.parentNode && !command && !/ke-menu-list/.test(className) && !/ke-toolbar/.test(className)) {\n        target = target.parentNode;\n        command = target.getAttribute(\"data-command\");\n        display = target.getAttribute(\"data-display\");\n        className = target.className;\n      }\n\n      if (!command && !display) return;\n      if (target.disabled) return;\n      if (!core.hasFocus) core.nativeFocus();\n      if (!core._variable.isCodeView) core._editorRange();\n      core.actionCall(command, display, target);\n    },\n    onMouseDown_wysiwyg: function onMouseDown_wysiwyg(e) {\n      if (util.isNonEditable(context.element.wysiwyg)) return; // user event\n\n      if (typeof functions.onMouseDown === \"function\" && functions.onMouseDown(e, core) === false) return;\n      var tableCell = util.getParentElement(e.target, util.isCell);\n\n      if (tableCell) {\n        var tablePlugin = core.plugins.table;\n\n        if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\n          core.callPlugin(\"table\", function () {\n            tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\n          }, null);\n        }\n      }\n\n      if (core._isBalloon) {\n        event._hideToolbar();\n      }\n\n      if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\n    },\n    onClick_wysiwyg: function onClick_wysiwyg(e) {\n      var targetElement = e.target;\n      if (util.isNonEditable(context.element.wysiwyg)) return; // user event\n\n      if (typeof functions.onClick === \"function\" && functions.onClick(e, core) === false) return;\n      var fileComponentInfo = core.getFileComponent(targetElement);\n\n      if (fileComponentInfo) {\n        e.preventDefault();\n        core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n        return;\n      }\n\n      var figcaption = util.getParentElement(targetElement, \"FIGCAPTION\");\n\n      if (util.isNonEditable(figcaption)) {\n        e.preventDefault();\n        figcaption.setAttribute(\"contenteditable\", true);\n        figcaption.focus();\n\n        if (core._isInline && !core._inlineToolbarAttr.isShow) {\n          event._showToolbarInline();\n\n          var hideToolbar = function hideToolbar() {\n            event._hideToolbar();\n\n            figcaption.removeEventListener(\"blur\", hideToolbar);\n          };\n\n          figcaption.addEventListener(\"blur\", hideToolbar);\n        }\n      }\n\n      _w.setTimeout(core._editorRange.bind(core));\n\n      core._editorRange();\n\n      var selectionNode = core.getSelectionNode();\n      var formatEl = util.getFormatElement(selectionNode, null);\n      var rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n      if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\n        var range = core.getRange();\n\n        if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\n          if (util.isList(rangeEl)) {\n            e.preventDefault();\n            var oLi = util.createElement(\"LI\");\n            var prevLi = selectionNode.nextElementSibling;\n            oLi.appendChild(selectionNode);\n            rangeEl.insertBefore(oLi, prevLi);\n            core.focus();\n          } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\n            e.preventDefault();\n\n            core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? \"DIV\" : options.defaultTag);\n\n            core.focus();\n          } else {\n            event._applyTagEffects();\n          }\n        }\n      } else {\n        event._applyTagEffects();\n      }\n\n      if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\n    },\n    _balloonDelay: null,\n    _showToolbarBalloonDelay: function _showToolbarBalloonDelay() {\n      if (event._balloonDelay) {\n        _w.clearTimeout(event._balloonDelay);\n      }\n\n      event._balloonDelay = _w.setTimeout(function () {\n        _w.clearTimeout(this._balloonDelay);\n\n        this._balloonDelay = null;\n\n        this._showToolbarBalloon();\n      }.bind(event), 350);\n    },\n    _toggleToolbarBalloon: function _toggleToolbarBalloon() {\n      core._editorRange();\n\n      var range = core.getRange();\n      if (core._bindControllersOff || !core._isBalloonAlways && range.collapsed) event._hideToolbar();else event._showToolbarBalloon(range);\n    },\n    _showToolbarBalloon: function _showToolbarBalloon(rangeObj) {\n      if (!core._isBalloon) return;\n      var range = rangeObj || core.getRange();\n      var toolbar = context.element.toolbar;\n      var topArea = context.element.topArea;\n      var selection = core.getSelection();\n      var isDirTop;\n\n      if (core._isBalloonAlways && range.collapsed) {\n        isDirTop = true;\n      } else if (selection.focusNode === selection.anchorNode) {\n        isDirTop = selection.focusOffset < selection.anchorOffset;\n      } else {\n        var childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\n        isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\n      }\n\n      var rects = range.getClientRects();\n      rects = rects[isDirTop ? 0 : rects.length - 1];\n      var globalScroll = core.getGlobalScrollOffset();\n      var scrollLeft = globalScroll.left;\n      var scrollTop = globalScroll.top;\n      var editorWidth = topArea.offsetWidth;\n\n      var offsets = event._getEditorOffsets(null);\n\n      var stickyTop = offsets.top;\n      var editorLeft = offsets.left;\n      toolbar.style.top = \"-10000px\";\n      toolbar.style.visibility = \"hidden\";\n      toolbar.style.display = \"block\";\n\n      if (!rects) {\n        var node = core.getSelectionNode();\n\n        if (util.isFormatElement(node)) {\n          var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          core.insertNode(zeroWidth, null, false);\n          core.setRange(zeroWidth, 1, zeroWidth, 1);\n\n          core._editorRange();\n\n          rects = core.getRange().getClientRects();\n          rects = rects[isDirTop ? 0 : rects.length - 1];\n        }\n\n        if (!rects) {\n          var nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\n          rects = {\n            left: nodeOffset.left,\n            top: nodeOffset.top,\n            right: nodeOffset.left,\n            bottom: nodeOffset.top + node.offsetHeight,\n            noText: true\n          };\n          scrollLeft = 0;\n          scrollTop = 0;\n        }\n\n        isDirTop = true;\n      }\n\n      var arrowMargin = _w.Math.round(context.element.arrow.offsetWidth / 2);\n\n      var toolbarWidth = toolbar.offsetWidth;\n      var toolbarHeight = toolbar.offsetHeight;\n      var iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\n\n      if (iframeRects) {\n        rects = {\n          left: rects.left + iframeRects.left,\n          top: rects.top + iframeRects.top,\n          right: rects.right + iframeRects.right - iframeRects.width,\n          bottom: rects.bottom + iframeRects.bottom - iframeRects.height\n        };\n      }\n\n      event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n\n      if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\n        event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n      }\n\n      if (options.toolbarContainer) {\n        var editorParent = topArea.parentElement;\n        var container = options.toolbarContainer;\n        var left = container.offsetLeft;\n        var top = container.offsetTop;\n\n        while (!container.parentElement.contains(editorParent) || !/^(BODY|HTML)$/i.test(container.parentElement.nodeName)) {\n          container = container.offsetParent;\n          left += container.offsetLeft;\n          top += container.offsetTop;\n        }\n\n        toolbar.style.left = toolbar.offsetLeft - left + topArea.offsetLeft + \"px\";\n        toolbar.style.top = toolbar.offsetTop - top + topArea.offsetTop + \"px\";\n      }\n\n      toolbar.style.visibility = \"\";\n    },\n    _setToolbarOffset: function _setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\n      var padding = 1;\n      var toolbarWidth = toolbar.offsetWidth;\n      var toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\n      var absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - toolbarWidth / 2 + scrollLeft;\n      var overRight = absoluteLeft + toolbarWidth - editorWidth;\n      var t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n      var l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\n      var resetTop = false;\n      var space = t + (isDirTop ? event._getEditorOffsets(null).top : toolbar.offsetHeight - context.element.wysiwyg.offsetHeight);\n\n      if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\n        isDirTop = true;\n        resetTop = true;\n      } else if (isDirTop && _d.documentElement.offsetTop > space) {\n        isDirTop = false;\n        resetTop = true;\n      }\n\n      if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n      toolbar.style.left = _w.Math.floor(l) + \"px\";\n      toolbar.style.top = _w.Math.floor(t) + \"px\";\n\n      if (isDirTop) {\n        util.removeClass(context.element.arrow, \"ke-arrow-up\");\n        util.addClass(context.element.arrow, \"ke-arrow-down\");\n        context.element.arrow.style.top = toolbarHeight + \"px\";\n      } else {\n        util.removeClass(context.element.arrow, \"ke-arrow-down\");\n        util.addClass(context.element.arrow, \"ke-arrow-up\");\n        context.element.arrow.style.top = -arrowMargin + \"px\";\n      }\n\n      var arrow_left = _w.Math.floor(toolbarWidth / 2 + (absoluteLeft - l));\n\n      context.element.arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + \"px\";\n    },\n    _showToolbarInline: function _showToolbarInline() {\n      if (!core._isInline) return;\n      var toolbar = context.element.toolbar;\n      if (options.toolbarContainer) toolbar.style.position = \"relative\";else toolbar.style.position = \"absolute\";\n      toolbar.style.visibility = \"hidden\";\n      toolbar.style.display = \"block\";\n      core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\n      core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : -1 - toolbar.offsetHeight) + \"px\";\n      if (typeof functions.showInline === \"function\") functions.showInline(toolbar, context, core);\n      event.onScroll_window();\n      core._inlineToolbarAttr.isShow = true;\n      toolbar.style.visibility = \"\";\n    },\n    _hideToolbar: function _hideToolbar() {\n      if (!core._notHideToolbar && !core._variable.isFullScreen) {\n        context.element.toolbar.style.display = \"none\";\n        core._inlineToolbarAttr.isShow = false;\n      }\n    },\n    onInput_wysiwyg: function onInput_wysiwyg(e) {\n      core._editorRange(); // user event\n\n\n      if (typeof functions.onInput === \"function\" && functions.onInput(e, core) === false) return;\n      var data = (e.data === null ? \"\" : e.data === undefined ? \" \" : e.data) || \"\";\n\n      if (!core._charCount(data)) {\n        e.preventDefault();\n        e.stopPropagation();\n      } // history stack\n\n\n      core.history.push(true);\n    },\n    _isUneditableNode: function _isUneditableNode(range, isFront) {\n      var container = isFront ? range.startContainer : range.endContainer;\n      var offset = isFront ? range.startOffset : range.endOffset;\n      var siblingKey = isFront ? \"previousSibling\" : \"nextSibling\";\n      var isElement = container.nodeType === 1;\n      var siblingNode;\n\n      if (isElement) {\n        siblingNode = event._isUneditableNode_getSibling(container.childNodes[offset], siblingKey, container);\n        return siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute(\"contenteditable\") === \"false\";\n      } else {\n        siblingNode = event._isUneditableNode_getSibling(container, siblingKey, container);\n        return core.isEdgePoint(container, offset, isFront ? \"front\" : \"end\") && siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute(\"contenteditable\") === \"false\";\n      }\n    },\n    _isUneditableNode_getSibling: function _isUneditableNode_getSibling(selectNode, siblingKey, container) {\n      if (!selectNode) return null;\n      var siblingNode = selectNode[siblingKey];\n\n      if (!siblingNode) {\n        siblingNode = util.getFormatElement(container);\n        siblingNode = siblingNode ? siblingNode[siblingKey] : null;\n        if (siblingNode && !util.isComponent(siblingNode)) siblingNode = siblingKey === \"previousSibling\" ? siblingNode.firstElementChild : siblingNode.lastElementChild;else return null;\n      }\n\n      return siblingNode;\n    },\n    _onShortcutKey: false,\n    onKeyDown_wysiwyg: function onKeyDown_wysiwyg(e) {\n      var keyCode = e.keyCode;\n      var shift = e.shiftKey;\n      var ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n      var alt = e.altKey;\n      event._IEisComposing = keyCode === 229;\n      core.submenuOff();\n\n      if (core._isBalloon) {\n        event._hideToolbar();\n      } // user event\n\n\n      if (typeof functions.onKeyDown === \"function\" && functions.onKeyDown(e, core) === false) return;\n      /** Shortcuts */\n\n      if (ctrl && event._shortcutCommand(keyCode, shift)) {\n        event._onShortcutKey = true;\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      } else if (event._onShortcutKey) {\n        event._onShortcutKey = false;\n      }\n      /** default key action */\n\n\n      var selectionNode = core.getSelectionNode();\n      var range = core.getRange();\n      var selectRange = !range.collapsed || range.startContainer !== range.endContainer;\n      var fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : \"\";\n      var formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\n      var rangeEl = util.getRangeFormatElement(formatEl, null);\n\n      switch (keyCode) {\n        case 8\n        /** backspace key */\n        :\n          if (!selectRange) {\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.plugins[fileComponentName].destroy.call(core);\n              break;\n            }\n          }\n\n          if (selectRange && event._hardDelete()) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          }\n\n          if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            core._setDefaultFormat(options.defaultTag);\n\n            return false;\n          }\n\n          if (!selectRange && !formatEl.previousElementSibling && range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))) {\n            // closure range\n            if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\n              e.preventDefault();\n              e.stopPropagation();\n              return false;\n            } // maintain default format\n\n\n            if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              if (formatEl.nodeName.toUpperCase() === options.defaultTag.toUpperCase()) {\n                formatEl.innerHTML = \"<br>\";\n                var attrs = formatEl.attributes;\n\n                while (attrs[0]) {\n                  formatEl.removeAttribute(attrs[0].name);\n                }\n              } else {\n                var defaultFormat = util.createElement(options.defaultTag);\n                defaultFormat.innerHTML = \"<br>\";\n                formatEl.parentElement.replaceChild(defaultFormat, formatEl);\n              }\n\n              core.nativeFocus();\n              return false;\n            }\n          } // clean remove tag\n\n\n          if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\n            if (range.collapsed ? selectionNode.textContent.length === 1 : range.endOffset - range.startOffset === selectionNode.textContent.length) {\n              e.preventDefault();\n              var offset = null;\n              var prev = selectionNode.parentNode.previousSibling;\n              var next = selectionNode.parentNode.nextSibling;\n\n              if (!prev) {\n                if (!next) {\n                  prev = util.createElement(\"BR\");\n                  formatEl.appendChild(prev);\n                } else {\n                  prev = next;\n                  offset = 0;\n                }\n              }\n\n              selectionNode.textContent = \"\";\n              util.removeItemAllParents(selectionNode, null, formatEl);\n              offset = typeof offset === \"number\" ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\n              core.setRange(prev, offset, prev, offset);\n              break;\n            }\n          } // tag[contenteditable=\"false\"]\n\n\n          if (event._isUneditableNode(range, true)) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          } // nested list\n\n\n          var commonCon = range.commonAncestorContainer;\n          formatEl = util.getFormatElement(range.startContainer, null);\n          rangeEl = util.getRangeFormatElement(formatEl, null);\n\n          if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n            if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling))) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : range.startOffset === 0 && range.collapsed)) {\n              if (range.startContainer !== range.endContainer) {\n                e.preventDefault();\n                core.removeNode();\n\n                if (range.startContainer.nodeType === 3) {\n                  core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\n                } // history stack\n\n\n                core.history.push(true);\n              } else {\n                var _prev = formatEl.previousElementSibling || rangeEl.parentNode;\n\n                if (util.isListCell(_prev)) {\n                  e.preventDefault();\n                  var prevLast = _prev;\n\n                  if (!_prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                    prevLast = prevLast.lastElementChild.lastElementChild;\n\n                    while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                      prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\n                    }\n\n                    _prev = prevLast;\n                  }\n\n                  var con = _prev === rangeEl.parentNode ? rangeEl.previousSibling : _prev.lastChild;\n\n                  if (!con) {\n                    con = util.createTextNode(util.zeroWidthSpace);\n                    rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\n                  }\n\n                  var _offset = con.nodeType === 3 ? con.textContent.length : 1;\n\n                  var children = formatEl.childNodes;\n                  var after = con;\n                  var child = children[0];\n\n                  while (child = children[0]) {\n                    _prev.insertBefore(child, after.nextSibling);\n\n                    after = child;\n                  }\n\n                  util.removeItem(formatEl);\n                  if (rangeEl.children.length === 0) util.removeItem(rangeEl);\n                  core.setRange(con, _offset, con, _offset); // history stack\n\n                  core.history.push(true);\n                }\n              }\n\n              break;\n            } // detach range\n\n\n            if (!selectRange && range.startOffset === 0) {\n              var detach = true;\n              var comm = commonCon;\n\n              while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\n                if (comm.previousSibling) {\n                  if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\n                    detach = false;\n                    break;\n                  }\n                }\n\n                comm = comm.parentNode;\n              }\n\n              if (detach && rangeEl.parentNode) {\n                e.preventDefault();\n                core.detachRangeFormatElement(rangeEl, util.isListCell(formatEl) ? [formatEl] : null, null, false, false); // history stack\n\n                core.history.push(true);\n                break;\n              }\n            }\n          } // component\n\n\n          if (!selectRange && formatEl && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n            var sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\n            var _prev2 = formatEl.previousSibling; // select file component\n\n            var ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\n\n            if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || ignoreZWS && util.isComponent(_prev2))) {\n              var fileComponentInfo = core.getFileComponent(_prev2);\n\n              if (fileComponentInfo) {\n                e.preventDefault();\n                e.stopPropagation();\n                if (formatEl.textContent.length === 0) util.removeItem(formatEl);\n                if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\n              } else if (util.isComponent(_prev2)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(_prev2);\n              }\n\n              break;\n            } // delete nonEditable\n\n\n            if (util.isNonEditable(sel.previousSibling)) {\n              e.preventDefault();\n              e.stopPropagation();\n              util.removeItem(sel.previousSibling);\n              break;\n            }\n          }\n\n          break;\n\n        case 46\n        /** delete key */\n        :\n          if (fileComponentName) {\n            e.preventDefault();\n            e.stopPropagation();\n            core.plugins[fileComponentName].destroy.call(core);\n            break;\n          }\n\n          if (selectRange && event._hardDelete()) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          } // tag[contenteditable=\"false\"]\n\n\n          if (event._isUneditableNode(range, false)) {\n            e.preventDefault();\n            e.stopPropagation();\n            break;\n          } // component\n\n\n          if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null) && range.startOffset === selectionNode.textContent.length) {\n            var nextEl = formatEl.nextElementSibling;\n            if (!nextEl) break;\n\n            if (util.isComponent(nextEl)) {\n              e.preventDefault();\n\n              if (util.onlyZeroWidthSpace(formatEl)) {\n                util.removeItem(formatEl); // table component\n\n                if (util.isTable(nextEl)) {\n                  var cell = util.getChildElement(nextEl, util.isCell, false);\n                  cell = cell.firstElementChild || cell;\n                  core.setRange(cell, 0, cell, 0);\n                  break;\n                }\n              } // select file component\n\n\n              var _fileComponentInfo = core.getFileComponent(nextEl);\n\n              if (_fileComponentInfo) {\n                e.stopPropagation();\n                if (core.selectComponent(_fileComponentInfo.target, _fileComponentInfo.pluginName) === false) core.blur();\n              } else if (util.isComponent(nextEl)) {\n                e.stopPropagation();\n                util.removeItem(nextEl);\n              }\n\n              break;\n            }\n          }\n\n          if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n            var _sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode; // delete nonEditable\n\n\n            if (util.isNonEditable(_sel.nextSibling)) {\n              e.preventDefault();\n              e.stopPropagation();\n              util.removeItem(_sel.nextSibling);\n              break;\n            }\n          } // nested list\n\n\n          formatEl = util.getFormatElement(range.startContainer, null);\n          rangeEl = util.getRangeFormatElement(formatEl, null);\n\n          if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : range.endOffset === selectionNode.textContent.length && range.collapsed))) {\n            if (range.startContainer !== range.endContainer) core.removeNode();\n\n            var _next = util.getArrayItem(formatEl.children, util.isList, false);\n\n            _next = _next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\n\n            if (_next && (util.isList(_next) || util.getArrayItem(_next.children, util.isList, false))) {\n              e.preventDefault();\n\n              var _con, _children;\n\n              if (util.isList(_next)) {\n                var _child2 = _next.firstElementChild;\n                _children = _child2.childNodes;\n                _con = _children[0];\n\n                while (_children[0]) {\n                  formatEl.insertBefore(_children[0], _next);\n                }\n\n                util.removeItem(_child2);\n              } else {\n                _con = _next.firstChild;\n                _children = _next.childNodes;\n\n                while (_children[0]) {\n                  formatEl.appendChild(_children[0]);\n                }\n\n                util.removeItem(_next);\n              }\n\n              core.setRange(_con, 0, _con, 0); // history stack\n\n              core.history.push(true);\n            }\n\n            break;\n          }\n\n          break;\n\n        case 9\n        /** tab key */\n        :\n          if (fileComponentName || options.tabDisable) break;\n          e.preventDefault();\n          if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\n          var isEdge = !range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset);\n          var selectedFormats = core.getSelectedElements(null);\n          selectionNode = core.getSelectionNode();\n          var cells = [];\n          var lines = [];\n          var fc = util.isListCell(selectedFormats[0]),\n              lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\n          var r = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n          };\n\n          for (var i = 0, len = selectedFormats.length, f; i < len; i++) {\n            f = selectedFormats[i];\n\n            if (util.isListCell(f)) {\n              if (!f.previousElementSibling && !shift) {\n                continue;\n              } else {\n                cells.push(f);\n              }\n            } else {\n              lines.push(f);\n            }\n          } // Nested list\n\n\n          if (cells.length > 0 && isEdge && core.plugins.list) {\n            r = core.plugins.list.editInsideList.call(core, shift, cells);\n          } else {\n            // table\n            var tableCell = util.getParentElement(selectionNode, util.isCell);\n\n            if (tableCell && isEdge) {\n              var table = util.getParentElement(tableCell, \"table\");\n\n              var _cells = util.getListChildren(table, util.isCell);\n\n              var idx = shift ? util.prevIdx(_cells, tableCell) : util.nextIdx(_cells, tableCell);\n              if (idx === _cells.length && !shift) idx = 0;\n              if (idx === -1 && shift) idx = _cells.length - 1;\n              var moveCell = _cells[idx];\n              if (!moveCell) break;\n              moveCell = moveCell.firstElementChild || moveCell;\n              core.setRange(moveCell, 0, moveCell, 0);\n              break;\n            }\n\n            lines = lines.concat(cells);\n            fc = lc = null;\n          } // Lines tab(4)\n\n\n          if (lines.length > 0) {\n            if (!shift) {\n              var tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join(\"\\xA0\"));\n\n              if (lines.length === 1) {\n                var textRange = core.insertNode(tabText, null, true);\n                if (!textRange) return false;\n\n                if (!fc) {\n                  r.sc = tabText;\n                  r.so = textRange.endOffset;\n                }\n\n                if (!lc) {\n                  r.ec = tabText;\n                  r.eo = textRange.endOffset;\n                }\n              } else {\n                var _len13 = lines.length - 1;\n\n                for (var _i25 = 0, _child3; _i25 <= _len13; _i25++) {\n                  _child3 = lines[_i25].firstChild;\n                  if (!_child3) continue;\n\n                  if (util.isBreak(_child3)) {\n                    lines[_i25].insertBefore(tabText.cloneNode(false), _child3);\n                  } else {\n                    _child3.textContent = tabText.textContent + _child3.textContent;\n                  }\n                }\n\n                var firstChild = util.getChildElement(lines[0], \"text\", false);\n                var endChild = util.getChildElement(lines[_len13], \"text\", true);\n\n                if (!fc && firstChild) {\n                  r.sc = firstChild;\n                  r.so = 0;\n                }\n\n                if (!lc && endChild) {\n                  r.ec = endChild;\n                  r.eo = endChild.textContent.length;\n                }\n              }\n            } else {\n              var _len14 = lines.length - 1;\n\n              for (var _i26 = 0, line; _i26 <= _len14; _i26++) {\n                line = lines[_i26].childNodes;\n\n                for (var c = 0, cLen = line.length, _child4; c < cLen; c++) {\n                  _child4 = line[c];\n                  if (!_child4) break;\n                  if (util.onlyZeroWidthSpace(_child4)) continue;\n\n                  if (/^\\s{1,4}$/.test(_child4.textContent)) {\n                    util.removeItem(_child4);\n                  } else if (/^\\s{1,4}/.test(_child4.textContent)) {\n                    _child4.textContent = _child4.textContent.replace(/^\\s{1,4}/, \"\");\n                  }\n\n                  break;\n                }\n              }\n\n              var _firstChild = util.getChildElement(lines[0], \"text\", false);\n\n              var _endChild = util.getChildElement(lines[_len14], \"text\", true);\n\n              if (!fc && _firstChild) {\n                r.sc = _firstChild;\n                r.so = 0;\n              }\n\n              if (!lc && _endChild) {\n                r.ec = _endChild;\n                r.eo = _endChild.textContent.length;\n              }\n            }\n          }\n\n          core.setRange(r.sc, r.so, r.ec, r.eo); // history stack\n\n          core.history.push(false);\n          break;\n\n        case 13\n        /** enter key */\n        :\n          var freeFormatEl = util.getFreeFormatElement(selectionNode, null);\n\n          if (core._charTypeHTML) {\n            var enterHTML = \"\";\n\n            if (!shift && freeFormatEl || shift) {\n              enterHTML = \"<br>\";\n            } else {\n              enterHTML = \"<\" + formatEl.nodeName + \"><br></\" + formatEl.nodeName + \">\";\n            }\n\n            if (!core.checkCharCount(enterHTML, \"byte-html\")) {\n              e.preventDefault();\n              return false;\n            }\n          }\n\n          if (!shift) {\n            var formatInners = core._isEdgeFormat(range.endContainer, range.endOffset, \"end\");\n\n            if (formatInners && /^H[1-6]$/i.test(formatEl.nodeName) || /^HR$/i.test(formatEl.nodeName)) {\n              e.preventDefault();\n              var temp = null;\n              var newFormat = core.appendFormatTag(formatEl, options.defaultTag);\n\n              if (formatInners && formatInners.length > 0) {\n                temp = formatInners.pop();\n                var innerNode = temp;\n\n                while (formatInners.length > 0) {\n                  temp = temp.appendChild(formatInners.pop());\n                }\n\n                newFormat.appendChild(innerNode);\n              }\n\n              temp = !temp ? newFormat.firstChild : temp.appendChild(newFormat.firstChild);\n              core.setRange(temp, 0, temp, 0);\n              break;\n            }\n\n            if (freeFormatEl) {\n              e.preventDefault();\n              var selectionFormat = selectionNode === freeFormatEl;\n              var wSelection = core.getSelection();\n              var _children2 = selectionNode.childNodes,\n                  _offset2 = wSelection.focusOffset,\n                  _prev3 = selectionNode.previousElementSibling,\n                  _next2 = selectionNode.nextSibling;\n\n              if (!util.isClosureFreeFormatElement(freeFormatEl) && !!_children2 && (selectionFormat && range.collapsed && _children2.length - 1 <= _offset2 + 1 && util.isBreak(_children2[_offset2]) && (!_children2[_offset2 + 1] || (!_children2[_offset2 + 2] || util.onlyZeroWidthSpace(_children2[_offset2 + 2].textContent)) && _children2[_offset2 + 1].nodeType === 3 && util.onlyZeroWidthSpace(_children2[_offset2 + 1].textContent)) && _offset2 > 0 && util.isBreak(_children2[_offset2 - 1]) || !selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(_prev3) && (util.isBreak(_prev3.previousSibling) || !util.onlyZeroWidthSpace(_prev3.previousSibling.textContent)) && (!_next2 || !util.isBreak(_next2) && util.onlyZeroWidthSpace(_next2.textContent)))) {\n                if (selectionFormat) util.removeItem(_children2[_offset2 - 1]);else util.removeItem(selectionNode);\n                var newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\n                util.copyFormatAttributes(newEl, freeFormatEl);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n\n              if (selectionFormat) {\n                functions.insertHTML(range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1]) ? \"<br>\" : \"<br><br>\", true, false);\n                var focusNode = wSelection.focusNode;\n                var wOffset = wSelection.focusOffset;\n\n                if (freeFormatEl === focusNode) {\n                  focusNode = focusNode.childNodes[wOffset - _offset2 > 1 ? wOffset - 1 : wOffset];\n                }\n\n                core.setRange(focusNode, 1, focusNode, 1);\n              } else {\n                var focusNext = wSelection.focusNode.nextSibling;\n                var br = util.createElement(\"BR\");\n                core.insertNode(br, null, false);\n                var brPrev = br.previousSibling,\n                    brNext = br.nextSibling;\n\n                if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\n                  br.parentNode.insertBefore(br.cloneNode(false), br);\n                  core.setRange(br, 1, br, 1);\n                } else {\n                  core.setRange(brNext, 0, brNext, 0);\n                }\n              }\n\n              event._onShortcutKey = true;\n              break;\n            }\n          }\n\n          if (selectRange) break;\n\n          if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n            var _range = core.getRange();\n\n            if (core.isEdgePoint(_range.endContainer, _range.endOffset) && util.isList(selectionNode.nextSibling)) {\n              e.preventDefault();\n\n              var _newEl = util.createElement(\"LI\");\n\n              var _br2 = util.createElement(\"BR\");\n\n              _newEl.appendChild(_br2);\n\n              formatEl.parentNode.insertBefore(_newEl, formatEl.nextElementSibling);\n\n              _newEl.appendChild(selectionNode.nextSibling);\n\n              core.setRange(_br2, 1, _br2, 1);\n              break;\n            }\n\n            if ((_range.commonAncestorContainer.nodeType === 3 ? !_range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\n              e.preventDefault();\n              var _newEl2 = null;\n\n              if (util.isListCell(rangeEl.parentNode)) {\n                rangeEl = formatEl.parentNode.parentNode.parentNode;\n                _newEl2 = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\n\n                if (!_newEl2) {\n                  var newListCell = util.createElement(\"LI\");\n                  newListCell.innerHTML = \"<br>\";\n                  rangeEl.insertBefore(newListCell, _newEl2);\n                  _newEl2 = newListCell;\n                }\n              } else {\n                var _newFormat = util.isCell(rangeEl.parentNode) ? \"DIV\" : util.isList(rangeEl.parentNode) ? \"LI\" : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : options.defaultTag;\n\n                _newEl2 = util.createElement(_newFormat);\n                var edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\n                edge.cc.insertBefore(_newEl2, edge.ec);\n              }\n\n              _newEl2.innerHTML = \"<br>\";\n              util.copyFormatAttributes(_newEl2, formatEl);\n              util.removeItemAllParents(formatEl, null, null);\n              core.setRange(_newEl2, 1, _newEl2, 1);\n              break;\n            }\n          }\n\n          if (rangeEl && util.getParentElement(rangeEl, \"FIGCAPTION\") && util.getParentElement(rangeEl, util.isList)) {\n            e.preventDefault();\n            formatEl = core.appendFormatTag(formatEl, null);\n            core.setRange(formatEl, 0, formatEl, 0);\n          }\n\n          if (fileComponentName) {\n            e.preventDefault();\n            e.stopPropagation();\n            var compContext = context[fileComponentName];\n            var container = compContext._container;\n            var sibling = container.previousElementSibling || container.nextElementSibling;\n            var _newEl3 = null;\n\n            if (util.isListCell(container.parentNode)) {\n              _newEl3 = util.createElement(\"BR\");\n            } else {\n              _newEl3 = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : options.defaultTag);\n              _newEl3.innerHTML = \"<br>\";\n            }\n\n            container.parentNode.insertBefore(_newEl3, container);\n            core.callPlugin(fileComponentName, function () {\n              if (core.selectComponent(compContext._element, fileComponentName) === false) core.blur();\n            }, null);\n          }\n\n          break;\n\n        case 27:\n          if (fileComponentName) {\n            e.preventDefault();\n            e.stopPropagation();\n            core.controllersOff();\n            return false;\n          }\n\n          break;\n      }\n\n      if (shift && keyCode === 16) {\n        e.preventDefault();\n        e.stopPropagation();\n        var tablePlugin = core.plugins.table;\n\n        if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\n          var _cell = util.getParentElement(formatEl, util.isCell);\n\n          if (_cell) {\n            tablePlugin.onTableCellMultiSelect.call(core, _cell, true);\n            return;\n          }\n        }\n      } else if (shift && (util.isOSX_IOS ? alt : ctrl) && keyCode === 32) {\n        e.preventDefault();\n        e.stopPropagation();\n        var nbsp = core.insertNode(util.createTextNode(\"\\xA0\"));\n\n        if (nbsp && nbsp.container) {\n          core.setRange(nbsp.container, nbsp.endOffset, nbsp.container, nbsp.endOffset);\n          return;\n        }\n      }\n\n      var textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\n\n      if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\n        var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n        core.insertNode(zeroWidth, null, false);\n        core.setRange(zeroWidth, 1, zeroWidth, 1);\n      }\n    },\n    onKeyUp_wysiwyg: function onKeyUp_wysiwyg(e) {\n      if (event._onShortcutKey) return;\n\n      core._editorRange();\n\n      var range = core.getRange();\n      var keyCode = e.keyCode;\n      var ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n      var alt = e.altKey;\n      var selectionNode = core.getSelectionNode();\n\n      if (core._isBalloon && (core._isBalloonAlways && keyCode !== 27 || !range.collapsed)) {\n        if (core._isBalloonAlways) {\n          if (keyCode !== 27) event._showToolbarBalloonDelay();\n        } else {\n          event._showToolbarBalloon();\n\n          return;\n        }\n      } // user event\n\n\n      if (typeof functions.onKeyUp === \"function\" && functions.onKeyUp(e, core) === false) return;\n      /** when format tag deleted */\n\n      if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === \"\" && selectionNode.children.length === 0) {\n        e.preventDefault();\n        e.stopPropagation();\n        selectionNode.innerHTML = \"\";\n        var oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : options.defaultTag);\n        oFormatTag.innerHTML = \"<br>\";\n        selectionNode.appendChild(oFormatTag);\n        core.setRange(oFormatTag, 0, oFormatTag, 0);\n\n        event._applyTagEffects();\n\n        core.history.push(false);\n        return;\n      }\n\n      var formatEl = util.getFormatElement(selectionNode, null);\n      var rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n      if ((!formatEl && range.collapsed || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\n        core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? \"DIV\" : options.defaultTag);\n\n        selectionNode = core.getSelectionNode();\n      }\n\n      if (event._directionKeyCode.test(keyCode)) {\n        event._applyTagEffects();\n      }\n\n      var textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\n\n      if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\n        var so = range.startOffset,\n            eo = range.endOffset;\n        var frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || \"\").length;\n        so = range.startOffset - frontZeroWidthCnt;\n        eo = range.endOffset - frontZeroWidthCnt;\n        selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, \"\");\n        core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\n      }\n\n      core._charCount(\"\"); // history stack\n\n\n      core.history.push(true);\n    },\n    onScroll_wysiwyg: function onScroll_wysiwyg(e) {\n      core.controllersOff();\n      if (core._isBalloon) event._hideToolbar(); // user event\n\n      if (typeof functions.onScroll === \"function\") functions.onScroll(e, core);\n    },\n    onFocus_wysiwyg: function onFocus_wysiwyg(e) {\n      if (core._antiBlur) return;\n      core.hasFocus = true;\n\n      event._applyTagEffects();\n\n      if (core._isInline) event._showToolbarInline(); // user event\n\n      if (typeof functions.onFocus === \"function\") functions.onFocus(e, core);\n    },\n    onBlur_wysiwyg: function onBlur_wysiwyg(e) {\n      if (core._antiBlur || core._variable.isCodeView) return;\n      core.hasFocus = false;\n      core.controllersOff();\n      if (core._isInline || core._isBalloon) event._hideToolbar(); // user event\n\n      if (typeof functions.onBlur === \"function\") functions.onBlur(e, core); // active class reset of buttons\n\n      var commandMap = core.commandMap;\n      var activePlugins = core.activePlugins;\n\n      for (var key in commandMap) {\n        if (!util.hasOwn(commandMap, key)) continue;\n\n        if (activePlugins.indexOf(key) > -1) {\n          plugins[key].active.call(core, null);\n        } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n          commandMap.OUTDENT.setAttribute(\"disabled\", true);\n        } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n          commandMap.INDENT.removeAttribute(\"disabled\");\n        } else {\n          util.removeClass(commandMap[key], \"active\");\n        }\n      }\n\n      core._variable.currentNodes = [];\n      core._variable.currentNodesMap = [];\n      if (options.showPathLabel) context.element.navigation.textContent = \"\";\n    },\n    onMouseDown_resizingBar: function onMouseDown_resizingBar(e) {\n      e.stopPropagation();\n      core.submenuOff();\n      core.controllersOff();\n      var prevHeight = util.getNumber(context.element.wysiwygFrame.style.height, 0);\n      core._variable.resizeClientY = e.clientY;\n      context.element.resizeBackground.style.display = \"block\";\n\n      function closureFunc() {\n        context.element.resizeBackground.style.display = \"none\";\n\n        _d.removeEventListener(\"mousemove\", event._resize_editor);\n\n        _d.removeEventListener(\"mouseup\", closureFunc);\n\n        if (typeof functions.onResizeEditor === \"function\") functions.onResizeEditor(util.getNumber(context.element.wysiwygFrame.style.height, 0), prevHeight, core);\n      }\n\n      _d.addEventListener(\"mousemove\", event._resize_editor);\n\n      _d.addEventListener(\"mouseup\", closureFunc);\n    },\n    _resize_editor: function _resize_editor(e) {\n      var resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\n      context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + \"px\";\n      core._variable.resizeClientY = e.clientY;\n    },\n    onResize_window: function onResize_window() {\n      core.controllersOff();\n      var responsiveSize = event._responsiveButtonSize;\n\n      if (responsiveSize) {\n        var w = 0;\n\n        if ((core._isBalloon || core._isInline) && options.toolbarWidth === \"auto\") {\n          w = context.element.topArea.offsetWidth;\n        } else {\n          w = context.element.toolbar.offsetWidth;\n        }\n\n        var responsiveWidth = \"default\";\n\n        for (var i = 1, len = responsiveSize.length; i < len; i++) {\n          if (w < responsiveSize[i]) {\n            responsiveWidth = responsiveSize[i] + \"\";\n            break;\n          }\n        }\n\n        if (event._responsiveCurrentSize !== responsiveWidth) {\n          event._responsiveCurrentSize = responsiveWidth;\n          functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\n        }\n      }\n\n      if (context.element.toolbar.offsetWidth === 0) return;\n\n      if (context.fileBrowser && context.fileBrowser.area.style.display === \"block\") {\n        context.fileBrowser.body.style.maxHeight = _w.innerHeight - context.fileBrowser.header.offsetHeight - 50 + \"px\";\n      }\n\n      if (core.submenuActiveButton && core.submenu) {\n        core._setMenuPosition(core.submenuActiveButton, core.submenu);\n      }\n\n      if (core._variable.isFullScreen) {\n        core._variable.innerHeight_fullScreen += _w.innerHeight - context.element.toolbar.offsetHeight - core._variable.innerHeight_fullScreen;\n        context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + \"px\";\n        return;\n      }\n\n      if (core._variable.isCodeView && core._isInline) {\n        event._showToolbarInline();\n\n        return;\n      }\n\n      core._iframeAutoHeight();\n\n      if (core._sticky) {\n        context.element.toolbar.style.width = context.element.topArea.offsetWidth - 2 + \"px\";\n        event.onScroll_window();\n      }\n    },\n    onScroll_window: function onScroll_window() {\n      if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\n      var element = context.element;\n      var editorHeight = element.editorArea.offsetHeight;\n      var y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\n      var editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\n      var inlineOffset = core._isInline && y - editorTop > 0 ? y - editorTop - context.element.toolbar.offsetHeight : 0;\n\n      if (y < editorTop) {\n        event._offStickyToolbar();\n      } else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\n        if (!core._sticky) event._onStickyToolbar(inlineOffset);\n        element.toolbar.style.top = inlineOffset + editorHeight + editorTop + options.stickyToolbar - y - core._variable.minResizingSize + \"px\";\n      } else if (y >= editorTop) {\n        event._onStickyToolbar(inlineOffset);\n      }\n    },\n    _getEditorOffsets: function _getEditorOffsets(container) {\n      var offsetEl = container || context.element.topArea;\n      var t = 0,\n          l = 0,\n          s = 0;\n\n      while (offsetEl) {\n        t += offsetEl.offsetTop;\n        l += offsetEl.offsetLeft;\n        s += offsetEl.scrollTop;\n        offsetEl = offsetEl.offsetParent;\n      }\n\n      return {\n        top: t,\n        left: l,\n        scroll: s\n      };\n    },\n    _getPageBottomSpace: function _getPageBottomSpace() {\n      return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\n    },\n    _onStickyToolbar: function _onStickyToolbar(inlineOffset) {\n      var element = context.element;\n\n      if (!core._isInline && !options.toolbarContainer) {\n        element.stickyDummy.style.height = element.toolbar.offsetHeight + \"px\";\n        element.stickyDummy.style.display = \"block\";\n      }\n\n      element.toolbar.style.top = options.stickyToolbar + inlineOffset + \"px\";\n      element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + \"px\";\n      util.addClass(element.toolbar, \"ke-toolbar-sticky\");\n      core._sticky = true;\n    },\n    _offStickyToolbar: function _offStickyToolbar() {\n      var element = context.element;\n      element.stickyDummy.style.display = \"none\";\n      element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : \"\";\n      element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : \"\";\n      element.editorArea.style.marginTop = \"\";\n      util.removeClass(element.toolbar, \"ke-toolbar-sticky\");\n      core._sticky = false;\n    },\n    _codeViewAutoHeight: function _codeViewAutoHeight() {\n      context.element.code.style.height = context.element.code.scrollHeight + \"px\";\n    },\n    // FireFox - table delete, Chrome - image, video, audio\n    _hardDelete: function _hardDelete() {\n      var range = core.getRange();\n      var sc = range.startContainer;\n      var ec = range.endContainer; // table\n\n      var sCell = util.getRangeFormatElement(sc);\n      var eCell = util.getRangeFormatElement(ec);\n      var sIsCell = util.isCell(sCell);\n      var eIsCell = util.isCell(eCell);\n\n      if ((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling || eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling) && sCell !== eCell) {\n        if (!sIsCell) {\n          util.removeItem(util.getParentElement(eCell, util.isComponent));\n        } else if (!eIsCell) {\n          util.removeItem(util.getParentElement(sCell, util.isComponent));\n        } else {\n          util.removeItem(util.getParentElement(sCell, util.isComponent));\n          core.nativeFocus();\n          return true;\n        }\n      } // component\n\n\n      var sComp = sc.nodeType === 1 ? util.getParentElement(sc, \".ke-component\") : null;\n      var eComp = ec.nodeType === 1 ? util.getParentElement(ec, \".ke-component\") : null;\n      if (sComp) util.removeItem(sComp);\n      if (eComp) util.removeItem(eComp);\n      return false;\n    },\n    onPaste_wysiwyg: function onPaste_wysiwyg(e) {\n      var clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n      if (!clipboardData) return true;\n      return event._dataTransferAction(\"paste\", e, clipboardData);\n    },\n    _setClipboardComponent: function _setClipboardComponent(e, info, clipboardData) {\n      e.preventDefault();\n      e.stopPropagation();\n      clipboardData.setData(\"text/html\", info.component.outerHTML);\n    },\n    onCopy_wysiwyg: function onCopy_wysiwyg(e) {\n      var clipboardData = util.isIE ? _w.clipboardData : e.clipboardData; // user event\n\n      if (typeof functions.onCopy === \"function\" && !functions.onCopy(e, clipboardData, core)) {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }\n\n      var info = core.currentFileComponentInfo;\n\n      if (info && !util.isIE) {\n        event._setClipboardComponent(e, info, clipboardData);\n\n        util.addClass(info.component, \"ke-component-copy\"); // copy effect\n\n        _w.setTimeout(function () {\n          util.removeClass(info.component, \"ke-component-copy\");\n        }, 150);\n      }\n    },\n    onCut_wysiwyg: function onCut_wysiwyg(e) {\n      var clipboardData = util.isIE ? _w.clipboardData : e.clipboardData; // user event\n\n      if (typeof functions.onCut === \"function\" && !functions.onCut(e, clipboardData, core)) {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }\n\n      var info = core.currentFileComponentInfo;\n\n      if (info && !util.isIE) {\n        event._setClipboardComponent(e, info, clipboardData);\n\n        util.removeItem(info.component);\n        core.controllersOff();\n      }\n\n      _w.setTimeout(function () {\n        // history stack\n        core.history.push(false);\n      });\n    },\n    onDrop_wysiwyg: function onDrop_wysiwyg(e) {\n      var dataTransfer = e.dataTransfer;\n      if (!dataTransfer) return true;\n\n      if (util.isIE) {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }\n\n      core.removeNode();\n\n      event._setDropLocationSelection(e);\n\n      return event._dataTransferAction(\"drop\", e, dataTransfer);\n    },\n    _setDropLocationSelection: function _setDropLocationSelection(e) {\n      if (e.rangeParent) {\n        core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\n      } else if (core._wd.caretRangeFromPoint) {\n        var r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\n\n        core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n      } else {\n        var _r2 = core.getRange();\n\n        core.setRange(_r2.startContainer, _r2.startOffset, _r2.endContainer, _r2.endOffset);\n      }\n    },\n    _dataTransferAction: function _dataTransferAction(type, e, data) {\n      var plainText, cleanData;\n\n      if (util.isIE) {\n        plainText = data.getData(\"Text\");\n        var range = core.getRange();\n        var tempDiv = util.createElement(\"DIV\");\n        var tempRange = {\n          sc: range.startContainer,\n          so: range.startOffset,\n          ec: range.endContainer,\n          eo: range.endOffset\n        };\n        tempDiv.setAttribute(\"contenteditable\", true);\n        tempDiv.style.cssText = \"position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;\";\n        context.element.relative.appendChild(tempDiv);\n        tempDiv.focus();\n\n        _w.setTimeout(function () {\n          cleanData = tempDiv.innerHTML;\n          util.removeItem(tempDiv);\n          core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\n\n          event._setClipboardData(type, e, plainText, cleanData, data);\n        });\n\n        return true;\n      } else {\n        plainText = data.getData(\"text/plain\");\n        cleanData = data.getData(\"text/html\");\n\n        if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n      }\n    },\n    _setClipboardData: function _setClipboardData(type, e, plainText, cleanData, data) {\n      // MS word, OneNode, Excel\n      var MSData = /class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData) || /content=[\"']*Excel.Sheet/i.test(cleanData);\n      var onlyText = !cleanData;\n\n      if (!onlyText) {\n        if (MSData) {\n          cleanData = cleanData.replace(/\\n/g, \" \");\n          plainText = plainText.replace(/\\n/g, \" \");\n        } else {\n          cleanData = (plainText === cleanData ? plainText : cleanData).replace(/\\n/g, \"<br>\");\n        }\n\n        cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\n      } else {\n        cleanData = util._HTMLConvertor(plainText).replace(/\\n/g, \"<br>\");\n      }\n\n      var maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText); // user event - paste\n\n\n      if (type === \"paste\" && typeof functions.onPaste === \"function\") {\n        var value = functions.onPaste(e, cleanData, maxCharCount, core);\n        if (!value) return false;\n        if (typeof value === \"string\") cleanData = value;\n      } // user event - drop\n\n\n      if (type === \"drop\" && typeof functions.onDrop === \"function\") {\n        var _value = functions.onDrop(e, cleanData, maxCharCount, core);\n\n        if (!_value) return false;\n        if (typeof _value === \"string\") cleanData = _value;\n      } // files\n\n\n      var files = data.files;\n\n      if (files.length > 0 && !MSData) {\n        if (/^image/.test(files[0].type) && core.plugins.image) {\n          functions.insertImage(files);\n        }\n\n        return false;\n      }\n\n      if (!maxCharCount) {\n        return false;\n      }\n\n      if (cleanData) {\n        functions.insertHTML(cleanData, true, false);\n        return false;\n      }\n    },\n    onMouseMove_wysiwyg: function onMouseMove_wysiwyg(e) {\n      if (core.isDisabled) return;\n      var component = util.getParentElement(e.target, util.isComponent);\n      var lineBreakerStyle = core.lineBreaker.style;\n\n      if (component && !core.currentControllerName) {\n        var ctxEl = context.element;\n        var scrollTop = 0;\n        var el = ctxEl.wysiwyg;\n\n        do {\n          scrollTop += el.scrollTop;\n          el = el.parentElement;\n        } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\n\n        var wScroll = ctxEl.wysiwyg.scrollTop;\n\n        var offsets = event._getEditorOffsets(null);\n\n        var componentTop = util.getOffset(component, ctxEl.wysiwygFrame).top + wScroll;\n        var y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? ctxEl.toolbar.offsetHeight : 0);\n        var c = componentTop + (options.iframe ? scrollTop : offsets.top);\n        var isList = util.isListCell(component.parentNode);\n        var dir = \"\",\n            top = \"\";\n\n        if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < c + 20) {\n          top = componentTop;\n          dir = \"t\";\n        } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > c + component.offsetHeight - 20) {\n          top = componentTop + component.offsetHeight;\n          dir = \"b\";\n        } else {\n          lineBreakerStyle.display = \"none\";\n          return;\n        }\n\n        core._variable._lineBreakComp = component;\n        core._variable._lineBreakDir = dir;\n        lineBreakerStyle.top = top - wScroll + \"px\";\n        core.lineBreakerButton.style.left = util.getOffset(component).left + component.offsetWidth / 2 - 15 + \"px\";\n        lineBreakerStyle.display = \"block\";\n      } // off line breaker\n      else if (lineBreakerStyle.display !== \"none\") {\n          lineBreakerStyle.display = \"none\";\n        }\n    },\n    _onMouseDown_lineBreak: function _onMouseDown_lineBreak(e) {\n      e.preventDefault();\n    },\n    _onLineBreak: function _onLineBreak(e) {\n      e.preventDefault();\n      var component = core._variable._lineBreakComp;\n      var dir = !this ? core._variable._lineBreakDir : this;\n      var isList = util.isListCell(component.parentNode);\n      var format = util.createElement(isList ? \"BR\" : util.isCell(component.parentNode) ? \"DIV\" : options.defaultTag);\n      if (!isList) format.innerHTML = \"<br>\";\n      if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, \"byte-html\")) return;\n      component.parentNode.insertBefore(format, dir === \"t\" ? component : component.nextSibling);\n      core.lineBreaker.style.display = \"none\";\n      core._variable._lineBreakComp = null;\n      var focusEl = isList ? format : format.firstChild;\n      core.setRange(focusEl, 1, focusEl, 1); // history stack\n\n      core.history.push(false);\n    },\n    _addEvent: function _addEvent() {\n      var eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n      /** toolbar event */\n\n      context.element.toolbar.addEventListener(\"mousedown\", event._buttonsEventHandler, false);\n      context.element.menuTray.addEventListener(\"mousedown\", event._buttonsEventHandler, false);\n      context.element.toolbar.addEventListener(\"click\", event.onClick_toolbar, false);\n      /** editor area */\n\n      eventWysiwyg.addEventListener(\"mousedown\", event.onMouseDown_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"click\", event.onClick_wysiwyg, false);\n      eventWysiwyg.addEventListener(util.isIE ? \"textinput\" : \"input\", event.onInput_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"keydown\", event.onKeyDown_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"keyup\", event.onKeyUp_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"paste\", event.onPaste_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"copy\", event.onCopy_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"cut\", event.onCut_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"drop\", event.onDrop_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"scroll\", event.onScroll_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"focus\", event.onFocus_wysiwyg, false);\n      eventWysiwyg.addEventListener(\"blur\", event.onBlur_wysiwyg, false);\n      /** line breaker */\n\n      event.lineBreakerBind = {\n        a: event._onLineBreak.bind(\"\"),\n        t: event._onLineBreak.bind(\"t\"),\n        b: event._onLineBreak.bind(\"b\")\n      };\n      eventWysiwyg.addEventListener(\"mousemove\", event.onMouseMove_wysiwyg, false);\n      core.lineBreakerButton.addEventListener(\"mousedown\", event._onMouseDown_lineBreak, false);\n      core.lineBreakerButton.addEventListener(\"click\", event.lineBreakerBind.a, false);\n      context.element.lineBreaker_t.addEventListener(\"mousedown\", event.lineBreakerBind.t, false);\n      context.element.lineBreaker_b.addEventListener(\"mousedown\", event.lineBreakerBind.b, false);\n      /** Events are registered only when there is a table plugin.  */\n\n      if (core.plugins.table) {\n        eventWysiwyg.addEventListener(\"touchstart\", event.onMouseDown_wysiwyg, {\n          passive: true,\n          useCapture: false\n        });\n      }\n      /** code view area auto line */\n\n\n      if (options.height === \"auto\" && !options.codeMirrorEditor) {\n        context.element.code.addEventListener(\"keydown\", event._codeViewAutoHeight, false);\n        context.element.code.addEventListener(\"keyup\", event._codeViewAutoHeight, false);\n        context.element.code.addEventListener(\"paste\", event._codeViewAutoHeight, false);\n      }\n      /** resizingBar */\n\n\n      if (context.element.resizingBar) {\n        if (/\\d+/.test(options.height)) {\n          context.element.resizingBar.addEventListener(\"mousedown\", event.onMouseDown_resizingBar, false);\n        } else {\n          util.addClass(context.element.resizingBar, \"ke-resizing-none\");\n        }\n      }\n      /** window event */\n\n\n      event._setResponsiveToolbar();\n\n      _w.removeEventListener(\"resize\", event.onResize_window);\n\n      _w.removeEventListener(\"scroll\", event.onScroll_window);\n\n      _w.addEventListener(\"resize\", event.onResize_window, false);\n\n      if (options.stickyToolbar > -1) {\n        _w.addEventListener(\"scroll\", event.onScroll_window, false);\n      }\n    },\n    _removeEvent: function _removeEvent() {\n      var eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n      context.element.toolbar.removeEventListener(\"mousedown\", event._buttonsEventHandler);\n      context.element.menuTray.removeEventListener(\"mousedown\", event._buttonsEventHandler);\n      context.element.toolbar.removeEventListener(\"click\", event.onClick_toolbar);\n      eventWysiwyg.removeEventListener(\"mousedown\", event.onMouseDown_wysiwyg);\n      eventWysiwyg.removeEventListener(\"click\", event.onClick_wysiwyg);\n      eventWysiwyg.removeEventListener(util.isIE ? \"textinput\" : \"input\", event.onInput_wysiwyg);\n      eventWysiwyg.removeEventListener(\"keydown\", event.onKeyDown_wysiwyg);\n      eventWysiwyg.removeEventListener(\"keyup\", event.onKeyUp_wysiwyg);\n      eventWysiwyg.removeEventListener(\"paste\", event.onPaste_wysiwyg);\n      eventWysiwyg.removeEventListener(\"copy\", event.onCopy_wysiwyg);\n      eventWysiwyg.removeEventListener(\"cut\", event.onCut_wysiwyg);\n      eventWysiwyg.removeEventListener(\"drop\", event.onDrop_wysiwyg);\n      eventWysiwyg.removeEventListener(\"scroll\", event.onScroll_wysiwyg);\n      eventWysiwyg.removeEventListener(\"mousemove\", event.onMouseMove_wysiwyg);\n      core.lineBreakerButton.removeEventListener(\"mousedown\", event._onMouseDown_lineBreak);\n      core.lineBreakerButton.removeEventListener(\"click\", event.lineBreakerBind.a);\n      context.element.lineBreaker_t.removeEventListener(\"mousedown\", event.lineBreakerBind.t);\n      context.element.lineBreaker_b.removeEventListener(\"mousedown\", event.lineBreakerBind.b);\n      event.lineBreakerBind = null;\n      eventWysiwyg.removeEventListener(\"touchstart\", event.onMouseDown_wysiwyg, {\n        passive: true,\n        useCapture: false\n      });\n      eventWysiwyg.removeEventListener(\"focus\", event.onFocus_wysiwyg);\n      eventWysiwyg.removeEventListener(\"blur\", event.onBlur_wysiwyg);\n      context.element.code.removeEventListener(\"keydown\", event._codeViewAutoHeight);\n      context.element.code.removeEventListener(\"keyup\", event._codeViewAutoHeight);\n      context.element.code.removeEventListener(\"paste\", event._codeViewAutoHeight);\n\n      if (context.element.resizingBar) {\n        context.element.resizingBar.removeEventListener(\"mousedown\", event.onMouseDown_resizingBar);\n      }\n\n      _w.removeEventListener(\"resize\", event.onResize_window);\n\n      _w.removeEventListener(\"scroll\", event.onScroll_window);\n    },\n    _setResponsiveToolbar: function _setResponsiveToolbar() {\n      if (_responsiveButtons.length === 0) {\n        _responsiveButtons = null;\n        return;\n      }\n\n      event._responsiveCurrentSize = \"default\";\n      var sizeArray = event._responsiveButtonSize = [];\n      var buttonsObj = event._responsiveButtons = {\n        default: _responsiveButtons[0]\n      };\n\n      for (var i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\n        buttonGroup = _responsiveButtons[i];\n        size = buttonGroup[0] * 1;\n        sizeArray.push(size);\n        buttonsObj[size] = buttonGroup[1];\n      }\n\n      sizeArray.sort(function (a, b) {\n        return a - b;\n      }).unshift(\"default\");\n    }\n  };\n  /** functions */\n\n  var functions = {\n    /**\r\n     * @description Core, Util object\r\n     */\n    core: core,\n    util: util,\n\n    /**\r\n     * @description Event functions\r\n     * @param {Object} e Event Object\r\n     * @param {Object} core Core object\r\n     */\n    onload: null,\n    onScroll: null,\n    onMouseDown: null,\n    onClick: null,\n    onInput: null,\n    onKeyDown: null,\n    onKeyUp: null,\n    onCopy: null,\n    onCut: null,\n    onFocus: null,\n    onBlur: null,\n\n    /**\r\n     * @description Event functions\r\n     * @param {String} contents Current contents\r\n     * @param {Object} core Core object\r\n     */\n    onChange: null,\n\n    /**\r\n     * @description Event functions (drop, paste)\r\n     * When false is returned, the default behavior is stopped.\r\n     * If the string is returned, the cleanData value is modified to the return value.\r\n     * @param {Object} e Event object.\r\n     * @param {String} cleanData HTML string modified for editor format.\r\n     * @param {Boolean} maxChartCount option (true if max character is exceeded)\r\n     * @param {Object} core Core object\r\n     * @returns {Boolean|String}\r\n     */\n    onDrop: null,\n    onPaste: null,\n\n    /**\r\n     * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n     * @param {Element} toolbar Toolbar Element\r\n     * @param {Object} context The editor's context object (editor.getContext())\r\n     * @param {Object} core Core object\r\n     */\n    showInline: null,\n\n    /**\r\n     * @description Called just after the controller is positioned and displayed on the screen.\r\n     * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n     * @param {String} name The name of the plugin that called the controller\r\n     * @param {Array} controllers Array of Controller elements\r\n     * @param {Object} core Core object\r\n     */\n    showController: null,\n\n    /**\r\n     * @description An event when toggling between code view and wysiwyg view.\r\n     * @param {Boolean} isCodeView Whether the current code view mode\r\n     * @param {Object} core Core object\r\n     */\n    toggleCodeView: null,\n\n    /**\r\n     * @description An event when toggling full screen.\r\n     * @param {Boolean} isFullScreen Whether the current full screen mode\r\n     * @param {Object} core Core object\r\n     */\n    toggleFullScreen: null,\n\n    /**\r\n     * @description It replaces the default callback function of the image upload\r\n     * @param {Object} response Response object\r\n     * @param {Object} info Input information\r\n     * - linkValue: Link url value\r\n     * - linkNewWindow: Open in new window Check Value\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update image if true, create image if false\r\n     * - element: If isUpdate is true, the currently selected image.\r\n     * @param {Object} core Core object\r\n     */\n    imageUploadHandler: null,\n\n    /**\r\n     * @description It replaces the default callback function of the video upload\r\n     * @param xmlHttp xmlHttpRequest object\r\n     * @param info Input information\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update video if true, create video if false\r\n     * - element: If isUpdate is true, the currently selected video.\r\n     * @param core Core object\r\n     */\n    videoUploadHandler: null,\n\n    /**\r\n     * @description It replaces the default callback function of the audio upload\r\n     * @param xmlHttp xmlHttpRequest object\r\n     * @param info Input information\r\n     * - isUpdate: Update audio if true, create audio if false\r\n     * - element: If isUpdate is true, the currently selected audio.\r\n     * @param core Core object\r\n     */\n    audioUploadHandler: null,\n\n    /**\r\n     * @description Called before the image is uploaded\r\n     * If true is returned, the internal upload process runs normally.\r\n     * If false is returned, no image upload is performed.\r\n     * If new fileList are returned,  replaced the previous fileList\r\n     * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     * @param {Array} files Files array\r\n     * @param {Object} info info: {\r\n     * - linkValue: Link url value\r\n     * - linkNewWindow: Open in new window Check Value\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update image if true, create image if false\r\n     * - element: If isUpdate is true, the currently selected image.\r\n     * }\r\n     * @param {Object} core Core object\r\n     * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n     *                [upload files] : uploadHandler(files or [new File(...),])\r\n     *                [error]        : uploadHandler(\"Error message\")\r\n     *                [Just finish]  : uploadHandler()\r\n     *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n     *                                   ex) {\r\n     *                                      // \"errorMessage\": \"insert error message\",\r\n     *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n     *                                   }\r\n     * @returns {Boolean|Array|undefined}\r\n     */\n    onImageUploadBefore: null,\n\n    /**\r\n     * @description Called before the video is uploaded\r\n     * If true is returned, the internal upload process runs normally.\r\n     * If false is returned, no video(iframe, video) upload is performed.\r\n     * If new fileList are returned,  replaced the previous fileList\r\n     * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     * @param {Array} files Files array\r\n     * @param {Object} info info: {\r\n     * - inputWidth: Value of width input\r\n     * - inputHeight: Value of height input\r\n     * - align: Align Check Value\r\n     * - isUpdate: Update video if true, create video if false\r\n     * - element: If isUpdate is true, the currently selected video.\r\n     * }\r\n     * @param {Object} core Core object\r\n     * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n     *                [upload files] : uploadHandler(files or [new File(...),])\r\n     *                [error]        : uploadHandler(\"Error message\")\r\n     *                [Just finish]  : uploadHandler()\r\n     *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n     *                                   ex) {\r\n     *                                      // \"errorMessage\": \"insert error message\",\r\n     *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n     *                                   }\r\n     * @returns {Boolean|Array|undefined}\r\n     */\n    onVideoUploadBefore: null,\n\n    /**\r\n     * @description Called before the audio is uploaded\r\n     * If true is returned, the internal upload process runs normally.\r\n     * If false is returned, no audio upload is performed.\r\n     * If new fileList are returned,  replaced the previous fileList\r\n     * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     * @param {Array} files Files array\r\n     * @param {Object} info info: {\r\n     * - isUpdate: Update audio if true, create audio if false\r\n     * - element: If isUpdate is true, the currently selected audio.\r\n     * }\r\n     * @param {Object} core Core object\r\n     * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n     *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n     *                [upload files] : uploadHandler(files or [new File(...),])\r\n     *                [error]        : uploadHandler(\"Error message\")\r\n     *                [Just finish]  : uploadHandler()\r\n     *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n     *                                   ex) {\r\n     *                                      // \"errorMessage\": \"insert error message\",\r\n     *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n     *                                   }\r\n     * @returns {Boolean|Array|undefined}\r\n     */\n    onAudioUploadBefore: null,\n\n    /**\r\n     * @description Called when the image is uploaded, updated, deleted\r\n     * @param {Element} targetElement Target element\r\n     * @param {Number} index Uploaded index\r\n     * @param {String} state Upload status ('create', 'update', 'delete')\r\n     * @param {Object} info Image info object\r\n     * - index: data index\r\n     * - name: file name\r\n     * - size: file size\r\n     * - select: select function\r\n     * - delete: delete function\r\n     * - element: target element\r\n     * - src: src attribute of tag\r\n     * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n     * @param {Object} core Core object\r\n     */\n    onImageUpload: null,\n\n    /**\r\n     * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n     * -- arguments is same \"onImageUpload\" --\r\n     */\n    onVideoUpload: null,\n\n    /**\r\n     * @description Called when the audio is is uploaded, updated, deleted\r\n     * -- arguments is same \"onImageUpload\" --\r\n     */\n    onAudioUpload: null,\n\n    /**\r\n     * @description Called when the image is upload failed\r\n     * @param {String} errorMessage Error message\r\n     * @param {Object} result Response Object\r\n     * @param {Object} core Core object\r\n     * @returns {Boolean}\r\n     */\n    onImageUploadError: null,\n\n    /**\r\n     * @description Called when the video(iframe, video) upload failed\r\n     * -- arguments is same \"onImageUploadError\" --\r\n     */\n    onVideoUploadError: null,\n\n    /**\r\n     * @description Called when the audio upload failed\r\n     * -- arguments is same \"onImageUploadError\" --\r\n     */\n    onAudioUploadError: null,\n\n    /**\r\n     * @description Called when the editor is resized using the bottom bar\r\n     */\n    onResizeEditor: null,\n\n    /**\r\n     * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n     * You cannot set a new plugin for the button.\r\n     * @param {Array} toolbarItem Button list\r\n     */\n    setToolbarButtons: function setToolbarButtons(toolbarItem) {\n      core.submenuOff();\n      core.containerOff();\n\n      var newToolbar = _constructor.default._createToolBar(_d, toolbarItem, core.plugins, options);\n\n      _responsiveButtons = newToolbar.responsiveButtons;\n      core._moreLayerActiveButton = null;\n\n      event._setResponsiveToolbar();\n\n      context.element.toolbar.replaceChild(newToolbar.buttonTray, context.element.buttonTray);\n      var newContext = (0, _context.default)(context.element.originElement, core._getConstructed(context.element), options);\n      context.element = newContext.element;\n      context.tool = newContext.tool;\n      if (options.iframe) context.element.wysiwyg = core._wd.body;\n\n      core._cachingButtons();\n\n      core.history._resetCachingButton();\n\n      core.activePlugins = [];\n      var oldCallButtons = pluginCallButtons;\n      pluginCallButtons = newToolbar.pluginCallButtons;\n      var plugin, button, oldButton;\n\n      for (var key in pluginCallButtons) {\n        if (!util.hasOwn(pluginCallButtons, key)) continue;\n        plugin = plugins[key];\n        button = pluginCallButtons[key];\n\n        if (plugin.active && button) {\n          oldButton = oldCallButtons[key];\n          core.callPlugin(key, null, oldButton || button);\n\n          if (oldButton) {\n            button.parentElement.replaceChild(oldButton, button);\n            pluginCallButtons[key] = oldButton;\n          }\n        }\n      }\n\n      if (core.hasFocus) event._applyTagEffects();\n      if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, \"active\");\n      if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, \"active\");\n      if (util.hasClass(context.element.wysiwyg, \"ke-show-block\")) util.addClass(core._styleCommandMap.showBlocks, \"active\");\n    },\n\n    /**\r\n     * @description Add or reset option property (Editor is reloaded)\r\n     * @param {Object} _options Options\r\n     */\n    setOptions: function setOptions(_options) {\n      event._removeEvent();\n\n      core._resetComponents();\n\n      util.removeClass(core._styleCommandMap.showBlocks, \"active\");\n      util.removeClass(core._styleCommandMap.codeView, \"active\");\n      core._variable.isCodeView = false;\n      core._iframeAuto = null;\n      core.plugins = _options.plugins || core.plugins;\n      var mergeOptions = [options, _options].reduce(function (init, option) {\n        for (var key in option) {\n          if (!util.hasOwn(option, key)) continue;\n\n          if (key === \"plugins\" && option[key] && init[key]) {\n            (function () {\n              var i = init[key],\n                  o = option[key];\n              i = i.length ? i : _w.Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : _w.Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            })();\n          } else {\n            init[key] = option[key];\n          }\n        }\n\n        return init;\n      }, {});\n      var el = context.element;\n      var _initHTML = el.wysiwyg.innerHTML; // set option\n\n      var cons = _constructor.default._setOptions(mergeOptions, context, options);\n\n      if (cons.callButtons) {\n        pluginCallButtons = cons.callButtons;\n        core.initPlugins = {};\n      }\n\n      if (cons.plugins) {\n        core.plugins = plugins = cons.plugins;\n      } // reset context\n\n\n      if (el.menuTray.children.length === 0) this.menuTray = {};\n      _responsiveButtons = cons.toolbar.responsiveButtons;\n      core.options = options = mergeOptions;\n      core.lang = lang = options.lang;\n\n      if (options.iframe) {\n        el.wysiwygFrame.addEventListener(\"load\", function () {\n          util._setIframeDocument(this, options);\n\n          core._setOptionsInit(el, _initHTML);\n        });\n      }\n\n      el.editorArea.appendChild(el.wysiwygFrame);\n\n      if (!options.iframe) {\n        core._setOptionsInit(el, _initHTML);\n      }\n    },\n\n    /**\r\n     * @description Set \"options.defaultStyle\" style.\r\n     * Define the style of the edit area\r\n     * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n     * @param {String} style Style string\r\n     */\n    setDefaultStyle: function setDefaultStyle(style) {\n      var newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\n\n      var el = context.element; // top area\n\n      el.topArea.style.cssText = newStyles.top; // code view\n\n      el.code.style.cssText = options._editorStyles.frame;\n      el.code.style.display = \"none\";\n\n      if (options.height === \"auto\") {\n        el.code.style.overflow = \"hidden\";\n      } else {\n        el.code.style.overflow = \"\";\n      } // wysiwyg frame\n\n\n      if (!options.iframe) {\n        el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\n      } else {\n        el.wysiwygFrame.style.cssText = newStyles.frame;\n        el.wysiwyg.style.cssText = newStyles.editor;\n      }\n    },\n\n    /**\r\n     * @description Open a notice area\r\n     * @param {String} message Notice message\r\n     */\n    noticeOpen: function noticeOpen(message) {\n      core.notice.open.call(core, message);\n    },\n\n    /**\r\n     * @description Close a notice area\r\n     */\n    noticeClose: function noticeClose() {\n      core.notice.close.call(core);\n    },\n\n    /**\r\n     * @description Copying the contents of the editor to the original textarea\r\n     */\n    save: function save() {\n      context.element.originElement.value = core.getContents(false);\n    },\n\n    /**\r\n     * @description Gets the KothingEditor's context object. Contains settings, plugins, and cached element objects\r\n     * @returns {Object}\r\n     */\n    getContext: function getContext() {\n      return context;\n    },\n\n    /**\r\n     * @description Gets the contents of the KothingEditor\r\n     * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n     * @returns {String}\r\n     */\n    getContents: function getContents(onlyContents) {\n      return core.getContents(onlyContents);\n    },\n\n    /**\r\n     * @description Gets only the text of the KothingEditor contents\r\n     * @returns {String}\r\n     */\n    getText: function getText() {\n      return context.element.wysiwyg.textContent;\n    },\n\n    /**\r\n     * @description Get the editor's number of characters or binary data size.\r\n     * You can use the \"charCounterType\" option format.\r\n     * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n     * If argument is no value, the currently set \"charCounterType\" option is used.\r\n     * @returns {Number}\r\n     */\n    getCharCount: function getCharCount(charCounterType) {\n      charCounterType = typeof charCounterType === \"string\" ? charCounterType : options.charCounterType;\n      return core.getCharLength(core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent, charCounterType);\n    },\n\n    /**\r\n     * @description Gets uploaded images informations\r\n     * - index: data index\r\n     * - name: file name\r\n     * - size: file size\r\n     * - select: select function\r\n     * - delete: delete function\r\n     * - element: target element\r\n     * - src: src attribute of tag\r\n     * @returns {Array}\r\n     */\n    getImagesInfo: function getImagesInfo() {\n      return context.image ? context.image._infoList : [];\n    },\n\n    /**\r\n     * @description Gets uploaded files(plugin using fileManager) information list.\r\n     * image: [img], video: [video, iframe], audio: [audio]\r\n     * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n     * - index: data index\r\n     * - name: file name\r\n     * - size: file size\r\n     * - select: select function\r\n     * - delete: delete function\r\n     * - element: target element\r\n     * - src: src attribute of tag\r\n     * @param {String} pluginName Plugin name (image, video, audio)\r\n     * @returns {Array}\r\n     */\n    getFilesInfo: function getFilesInfo(pluginName) {\n      return context[pluginName] ? context[pluginName]._infoList : [];\n    },\n\n    /**\r\n     * @description Upload images using image plugin\r\n     * @param {FileList} files FileList\r\n     */\n    insertImage: function insertImage(files) {\n      if (!core.plugins.image || !files) return;\n      if (!core.initPlugins.image) core.callPlugin(\"image\", core.plugins.image.submitAction.bind(core, files), null);else core.plugins.image.submitAction.call(core, files);\n      core.focus();\n    },\n\n    /**\r\n     * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n     * @param {Element|String} html HTML Element or HTML string or plain string\r\n     * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n     * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n     * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n     */\n    insertHTML: function insertHTML(html, notCleaningData, checkCharCount, rangeSelection) {\n      if (typeof html === \"string\") {\n        if (!notCleaningData) html = core.cleanHTML(html, null);\n\n        try {\n          var dom = _d.createRange().createContextualFragment(html);\n\n          var domTree = dom.childNodes;\n\n          if (checkCharCount) {\n            var type = core._charTypeHTML ? \"outerHTML\" : \"textContent\";\n            var checkHTML = \"\";\n\n            for (var i = 0, len = domTree.length; i < len; i++) {\n              checkHTML += domTree[i][type];\n            }\n\n            if (!core.checkCharCount(checkHTML, null)) return;\n          }\n\n          var c, a, t, prev, firstCon;\n\n          while (c = domTree[0]) {\n            if (prev && prev.nodeType === 3 && a && a.nodeType === 1 && util.isBreak(c)) {\n              prev = c;\n              util.removeItem(c);\n              continue;\n            }\n\n            t = core.insertNode(c, a, false);\n            a = t.container || t;\n            if (!firstCon) firstCon = t;\n            prev = c;\n          }\n\n          if (prev.nodeType === 3 && a.nodeType === 1) a = prev;\n          var offset = a.nodeType === 3 ? t.endOffset || a.textContent.length : a.childNodes.length;\n          if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);else core.setRange(a, offset, a, offset);\n        } catch (error) {\n          console.warn(\"[KothingEditor.insertHTML.fail] \" + error);\n          core.execCommand(\"insertHTML\", false, html);\n        }\n      } else {\n        if (util.isComponent(html)) {\n          core.insertComponent(html, false, checkCharCount, false);\n        } else {\n          var afterNode = null;\n\n          if (util.isFormatElement(html) || util.isMedia(html)) {\n            afterNode = util.getFormatElement(core.getSelectionNode(), null);\n          }\n\n          core.insertNode(html, afterNode, checkCharCount);\n        }\n      }\n\n      core.effectNode = null;\n      core.focus(); // history stack\n\n      core.history.push(false);\n    },\n\n    /**\r\n     * @description Change the contents of the KothingEditor\r\n     * @param {String|undefined} contents Contents to Input\r\n     */\n    setContents: function setContents(contents) {\n      core.setContents(contents);\n    },\n\n    /**\r\n     * @description Add contents to the KothingEditor\r\n     * @param {String} contents Contents to Input\r\n     */\n    appendContents: function appendContents(contents) {\n      var convertValue = core.convertContentsForEditor(contents);\n\n      if (!core._variable.isCodeView) {\n        var temp = util.createElement(\"DIV\");\n        temp.innerHTML = convertValue;\n        var wysiwyg = context.element.wysiwyg;\n        var children = temp.children;\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          wysiwyg.appendChild(children[i]);\n        }\n      } else {\n        core._setCodeView(core._getCodeView() + \"\\n\" + core.convertHTMLForCodeView(convertValue));\n      } // history stack\n\n\n      core.history.push(false);\n    },\n\n    /**\r\n     * @description Disable the KothingEditor\r\n     */\n    disabled: function disabled() {\n      context.tool.cover.style.display = \"block\";\n      context.element.wysiwyg.setAttribute(\"contenteditable\", false);\n      core.isDisabled = true;\n\n      if (options.codeMirrorEditor) {\n        options.codeMirrorEditor.setOption(\"readOnly\", true);\n      } else {\n        context.element.code.setAttribute(\"disabled\", \"disabled\");\n      }\n    },\n\n    /**\r\n     * @description Enable the KothingEditor\r\n     */\n    enabled: function enabled() {\n      context.tool.cover.style.display = \"none\";\n      context.element.wysiwyg.setAttribute(\"contenteditable\", true);\n      core.isDisabled = false;\n\n      if (options.codeMirrorEditor) {\n        options.codeMirrorEditor.setOption(\"readOnly\", false);\n      } else {\n        context.element.code.removeAttribute(\"disabled\");\n      }\n    },\n\n    /**\r\n     * @description Show the KothingEditor\r\n     */\n    show: function show() {\n      var topAreaStyle = context.element.topArea.style;\n      if (topAreaStyle.display === \"none\") topAreaStyle.display = options.display;\n    },\n\n    /**\r\n     * @description Hide the KothingEditor\r\n     */\n    hide: function hide() {\n      context.element.topArea.style.display = \"none\";\n    },\n\n    /**\r\n     * @description Destroy the KothingEditor\r\n     */\n    destroy: function destroy() {\n      /** off menus */\n      core.submenuOff();\n      core.containerOff();\n      core.controllersOff();\n      if (core.notice) core.notice.close.call(core);\n      if (core.modalForm) core.plugins.dialog.close.call(core);\n      /** remove history */\n\n      core.history._destroy();\n      /** remove event listeners */\n\n\n      event._removeEvent();\n      /** remove element */\n\n\n      util.removeItem(context.element.toolbar);\n      util.removeItem(context.element.topArea);\n      /** remove object reference */\n\n      for (var k in core.functions) {\n        if (util.hasOwn(core, k)) delete core.functions[k];\n      }\n\n      for (var _k in core) {\n        if (util.hasOwn(core, _k)) delete core[_k];\n      }\n\n      for (var _k2 in event) {\n        if (util.hasOwn(event, _k2)) delete event[_k2];\n      }\n\n      for (var _k3 in context) {\n        if (util.hasOwn(context, _k3)) delete context[_k3];\n      }\n\n      for (var _k4 in pluginCallButtons) {\n        if (util.hasOwn(pluginCallButtons, _k4)) delete pluginCallButtons[_k4];\n      }\n      /** remove user object */\n\n\n      for (var _k5 in this) {\n        if (util.hasOwn(this, _k5)) delete this[_k5];\n      }\n    },\n\n    /**\r\n     * @description Toolbar methods\r\n     */\n    toolbar: {\n      /**\r\n       * @description Disable the toolbar\r\n       */\n      disabled: function disabled() {\n        context.tool.cover.style.display = \"block\";\n      },\n\n      /**\r\n       * @description Enable the toolbar\r\n       */\n      enabled: function enabled() {\n        context.tool.cover.style.display = \"none\";\n      },\n\n      /**\r\n       * @description Show the toolbar\r\n       */\n      show: function show() {\n        if (core._isInline) {\n          event._showToolbarInline();\n        } else {\n          context.element.toolbar.style.display = \"\";\n          context.element.stickyDummy.style.display = \"\";\n        }\n      },\n\n      /**\r\n       * @description Hide the toolbar\r\n       */\n      hide: function hide() {\n        if (core._isInline) {\n          event._hideToolbar();\n        } else {\n          context.element.toolbar.style.display = \"none\";\n          context.element.stickyDummy.style.display = \"none\";\n        }\n      }\n    }\n  };\n  /************ Core init ************/\n  // functions\n\n  core.functions = functions;\n  core.options = options; // Create to sibling node\n\n  var contextEl = context.element;\n  var originEl = contextEl.originElement;\n  var topEl = contextEl.topArea;\n  originEl.style.display = \"none\";\n  topEl.style.display = \"block\"; // init\n\n  if (options.iframe) {\n    contextEl.wysiwygFrame.addEventListener(\"load\", function () {\n      util._setIframeDocument(this, options);\n\n      core._editorInit(false, options.value);\n\n      options.value = null;\n    });\n  } // insert editor element\n\n\n  if (_typeof(originEl.nextElementSibling) === \"object\") {\n    originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\n  } else {\n    originEl.parentNode.appendChild(topEl);\n  }\n\n  contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\n  contextEl = originEl = topEl = null; // init\n\n  if (!options.iframe) {\n    core._editorInit(false, options.value);\n\n    options.value = null;\n  }\n\n  return functions;\n}","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _core = _interopRequireDefault(require(\"./lib/core\"));\n\nvar _util = _interopRequireDefault(require(\"./lib/util\"));\n\nvar _constructor = _interopRequireDefault(require(\"./lib/constructor\"));\n\nvar _context = _interopRequireDefault(require(\"./lib/context\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  /**\r\n   * @description Returns the create function with preset options.\r\n   * If the options overlap, the options of the 'create' function take precedence.\r\n   * @param {Json} options Initialization options\r\n   * @returns {Object}\r\n   */\n  init: function init(init_options) {\n    return {\n      create: function (idOrElement, options) {\n        return this.create(idOrElement, options, init_options);\n      }.bind(this)\n    };\n  },\n\n  /**\r\n   * @description Create the KothingEditor\r\n   * @param {String|Element} idOrElement textarea Id or textarea element\r\n   * @param {JSON|Object} options user options\r\n   * @returns {Object}\r\n   */\n  create: function create(idOrElement, options, _init_options) {\n    _util.default._propertiesInit();\n\n    if (_typeof(options) !== \"object\") {\n      options = {};\n    }\n\n    if (_init_options) {\n      options = [_init_options, options].reduce(function (init, option) {\n        for (var key in option) {\n          if (!_util.default.hasOwn(option, key)) {\n            continue;\n          }\n\n          if (key === \"plugins\" && option[key] && init[key]) {\n            (function () {\n              var i = init[key],\n                  o = option[key];\n              i = i.length ? i : Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            })();\n          } else {\n            init[key] = option[key];\n          }\n        }\n\n        return init;\n      }, {});\n    }\n\n    var element = typeof idOrElement === \"string\" ? document.getElementById(idOrElement) : idOrElement;\n\n    if (!element) {\n      if (typeof idOrElement === \"string\") {\n        throw Error(\"[KothingEditor.create.fail] The element for that id was not found (ID:\\\"\".concat(idOrElement, \"\\\")\"));\n      }\n\n      throw Error(\"[KothingEditor.create.fail] KothingEditor requires textarea's element or id value\");\n    }\n\n    var cons = _constructor.default.init(element, options);\n\n    if (cons.constructed.top.id && document.getElementById(cons.constructed.top.id)) {\n      throw Error(\"[KothingEditor.create.fail] The ID of the KothingEditor you are trying to create already exists (ID:\\\"\".concat(cons.constructed.top.id, \"\\\")\"));\n    }\n\n    return (0, _core.default)((0, _context.default)(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"lineHeight\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.lineHeight = {\n      _sizeList: null,\n      currentSize: -1\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.lineHeight._sizeList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    var sizeList = !option.lineHeights ? [{\n      text: \"1\",\n      value: 1\n    }, {\n      text: \"1.15\",\n      value: 1.15\n    }, {\n      text: \"1.5\",\n      value: 1.5\n    }, {\n      text: \"2\",\n      value: 2\n    }] : option.lineHeights;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (var i = 0, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var lineHeightContext = this.context.lineHeight;\n    var sizeList = lineHeightContext._sizeList;\n    var format = this.util.getFormatElement(this.getSelectionNode());\n    var currentSize = !format ? \"\" : format.style.lineHeight + \"\";\n\n    if (currentSize !== lineHeightContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(sizeList[i], \"active\");\n        } else {\n          this.util.removeClass(sizeList[i], \"active\");\n        }\n      }\n\n      lineHeightContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\") || \"\";\n    var formats = this.getSelectedElements();\n\n    for (var i = 0, len = formats.length; i < len; i++) {\n      formats[i].style.lineHeight = value;\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ru\",\n    toolbar: {\n      default: \"По умолчанию\",\n      save: \"Сохранить\",\n      font: \"Шрифт\",\n      formats: \"Стиль абзаца\",\n      fontSize: \"Размер шрифта\",\n      bold: \"Полужирный\",\n      underline: \"Подчёркнутый\",\n      italic: \"Курсив\",\n      strike: \"Зачеркнутый\",\n      subscript: \"Нижний индекс\",\n      superscript: \"Верхний индекс\",\n      removeFormat: \"Очистить форматирование\",\n      fontColor: \"Цвет текста\",\n      hiliteColor: \"Цвет фона\",\n      indent: \"Увеличить отступ\",\n      outdent: \"Уменьшить отступ\",\n      align: \"Выравнивание\",\n      alignLeft: \"Слева\",\n      alignRight: \"Справа\",\n      alignCenter: \"По центру\",\n      alignJustify: \"По ширине\",\n      list: \"Списки\",\n      orderList: \"Нумерованный\",\n      unorderList: \"Маркированный\",\n      horizontalRule: \"Горизонтальная линия\",\n      hr_solid: \"Сплошная\",\n      hr_dotted: \"Пунктир\",\n      hr_dashed: \"Штриховая\",\n      table: \"Таблица\",\n      link: \"Ссылка\",\n      math: \"математический\",\n      image: \"Изображение\",\n      video: \"Видео\",\n      audio: \"Аудио\",\n      fullScreen: \"Полный экран\",\n      showBlocks: \"Блочный вид\",\n      codeView: \"Редактировать HTML\",\n      undo: \"Отменить\",\n      redo: \"Вернуть\",\n      preview: \"Предварительный просмотр\",\n      print: \"Печать\",\n      tag_p: \"Текст\",\n      tag_div: \"Базовый\",\n      tag_h: \"Заголовок\",\n      tag_blockquote: \"Цитата\",\n      tag_pre: \"Код\",\n      template: \"Шаблон\",\n      lineHeight: \"Высота линии\",\n      paragraphStyle: \"Стиль абзаца\",\n      textStyle: \"Стиль текста\",\n      imageGallery: \"Галерея\",\n      mention: \"Упоминание\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Вставить ссылку\",\n        url: \"Ссылка\",\n        text: \"Текст\",\n        newWindowCheck: \"Открывать в новом окне\",\n        downloadLinkCheck: \"Ссылка для скачивания\",\n        bookmark: \"Закладка\"\n      },\n      mathBox: {\n        title: \"математический\",\n        inputLabel: \"Математическая запись\",\n        fontSizeLabel: \"Кегль\",\n        previewLabel: \"Предварительный просмотр\"\n      },\n      imageBox: {\n        title: \"Вставить изображение\",\n        file: \"Выберите файл\",\n        url: \"Адрес изображения\",\n        altText: \"Текстовое описание изображения\"\n      },\n      videoBox: {\n        title: \"Вставить видео\",\n        file: \"Выберите файл\",\n        url: \"Ссылка на видео, Youtube,Vimeo\"\n      },\n      audioBox: {\n        title: \"Вставить аудио\",\n        file: \"Выберите файл\",\n        url: \"Адрес аудио\"\n      },\n      browser: {\n        tags: \"Теги\",\n        search: \"Поиск\"\n      },\n      caption: \"Добавить подпись\",\n      close: \"Закрыть\",\n      submitButton: \"Подтвердить\",\n      revertButton: \"Сбросить\",\n      proportion: \"Сохранить пропорции\",\n      basic: \"Без обтекания\",\n      left: \"Слева\",\n      right: \"Справа\",\n      center: \"По центру\",\n      width: \"Ширина\",\n      height: \"Высота\",\n      size: \"Размер\",\n      ratio: \"Соотношение\"\n    },\n    controller: {\n      edit: \"Изменить\",\n      unlink: \"Убрать ссылку\",\n      remove: \"Удалить\",\n      insertRowAbove: \"Вставить строку выше\",\n      insertRowBelow: \"Вставить строку ниже\",\n      deleteRow: \"Удалить строку\",\n      insertColumnBefore: \"Вставить столбец слева\",\n      insertColumnAfter: \"Вставить столбец справа\",\n      deleteColumn: \"Удалить столбец\",\n      fixedColumnWidth: \"Фиксированная ширина столбца\",\n      resize100: \"Размер 100%\",\n      resize75: \"Размер 75%\",\n      resize50: \"Размер 50%\",\n      resize25: \"Размер 25%\",\n      autoSize: \"Авто размер\",\n      mirrorHorizontal: \"Отразить по горизонтали\",\n      mirrorVertical: \"Отразить по вертикали\",\n      rotateLeft: \"Повернуть против часовой стрелки\",\n      rotateRight: \"Повернуть по часовой стрелке\",\n      maxSize: \"Ширина по размеру страницы\",\n      minSize: \"Ширина по содержимому\",\n      tableHeader: \"Строка заголовков\",\n      mergeCells: \"Объединить ячейки\",\n      splitCells: \"Разделить ячейку\",\n      HorizontalSplit: \"Разделить горизонтально\",\n      VerticalSplit: \"Разделить вертикально\"\n    },\n    menu: {\n      spaced: \"интервал\",\n      bordered: \"Граничная Линия\",\n      neon: \"неон\",\n      translucent: \"полупрозрачный\",\n      shadow: \"Тень\",\n      code: \"Код\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ru\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"fontSize\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.fontSize = {\n      targetText: targetElement.querySelector(\".txt\"),\n      _sizeList: null,\n      currentSize: \"\",\n      icon: icons.font_size\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.fontSize._sizeList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-font-size\";\n    var sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (var i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var target = this.context.fontSize.targetText.firstElementChild;\n    var icon = this.context.fontSize.icon;\n\n    if (!element) {\n      // this.util.changeTxt(\n      //   this.context.fontSize.targetText,\n      //   this.hasFocus\n      //     ? this.wwComputedStyle.fontSize\n      //     : this.lang.toolbar.fontSize\n      // );\n      var sizeIcon = this.hasFocus ? this.wwComputedStyle.fontSize ? \"<span>\".concat(this.wwComputedStyle.fontSize, \"</span>\") : \"\" : icon;\n      this.util.changeElement(target, sizeIcon);\n    } else if (element.style && element.style.fontSize.length > 0) {\n      // this.util.changeTxt(\n      //   this.context.fontSize.targetText,\n      //   element.style.fontSize\n      // );\n      this.util.changeElement(target, \"<span>\".concat(element.style.fontSize, \"</span>\"));\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var fontSizeContext = this.context.fontSize;\n    var sizeList = fontSizeContext._sizeList;\n    var currentSize = fontSizeContext.targetText.textContent;\n\n    if (currentSize !== fontSizeContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(sizeList[i], \"active\");\n        } else {\n          this.util.removeClass(sizeList[i], \"active\");\n        }\n      }\n\n      fontSizeContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\");\n\n    if (value) {\n      var newNode = this.util.createElement(\"SPAN\");\n      newNode.style.fontSize = value;\n      this.nodeChange(newNode, [\"font-size\"], null, null);\n    } else {\n      this.nodeChange(null, [\"font-size\"], [\"span\"], true);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"da\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Gem\",\n      font: \"Skrifttype\",\n      formats: \"Format\",\n      fontSize: \"Skriftstørrelse\",\n      bold: \"Fed\",\n      underline: \"Understreget\",\n      italic: \"Skråskrift\",\n      strike: \"Overstreget\",\n      subscript: \"Sænket skrift\",\n      superscript: \"Hævet skrift\",\n      removeFormat: \"Fjern formatering\",\n      fontColor: \"Skriftfarve\",\n      hiliteColor: \"Baggrundsfarve\",\n      indent: \"Ryk ind\",\n      outdent: \"Ryk ud\",\n      align: \"Justering\",\n      alignLeft: \"Venstrejustering\",\n      alignRight: \"Højrejustering\",\n      alignCenter: \"Midterjustering\",\n      alignJustify: \"Tilpas margin\",\n      list: \"Lister\",\n      orderList: \"Nummereret liste\",\n      unorderList: \"Uordnet liste\",\n      horizontalRule: \"Horisontal linie\",\n      hr_solid: \"Almindelig\",\n      hr_dotted: \"Punkteret\",\n      hr_dashed: \"Streget\",\n      table: \"Tabel\",\n      link: \"Link\",\n      math: \"Math\",\n      image: \"Billede\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Fuld skærm\",\n      showBlocks: \"Vis blokke\",\n      codeView: \"Vis koder\",\n      undo: \"Undo\",\n      redo: \"Redo\",\n      preview: \"Preview\",\n      print: \"Print\",\n      tag_p: \"Paragraph\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Overskrift\",\n      tag_blockquote: \"Citer\",\n      tag_pre: \"Code\",\n      template: \"Schablone\",\n      lineHeight: \"Linjehøjde\",\n      paragraphStyle: \"Afsnitstil\",\n      textStyle: \"Tekststil\",\n      imageGallery: \"Billedgalleri\",\n      mention: \"Nævne\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Indsæt link\",\n        url: \"URL til link\",\n        text: \"Tekst for link\",\n        newWindowCheck: \"Åben i nyt faneblad\",\n        downloadLinkCheck: \"Download link\",\n        bookmark: \"Bogmærke\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Matematisk notation\",\n        fontSizeLabel: \"Skriftstørrelse\",\n        previewLabel: \"Preview\"\n      },\n      imageBox: {\n        title: \"Indsæt billede\",\n        file: \"Indsæt fra fil\",\n        url: \"Indsæt fra URL\",\n        altText: \"Alternativ tekst\"\n      },\n      videoBox: {\n        title: \"Indsæt Video\",\n        file: \"Indsæt fra fil\",\n        url: \"Indlejr video / YouTube,Vimeo\"\n      },\n      audioBox: {\n        title: \"Indsæt Audio\",\n        file: \"Indsæt fra fil\",\n        url: \"Indsæt fra URL\"\n      },\n      browser: {\n        tags: \"Tags\",\n        search: \"Søg\"\n      },\n      caption: \"Indsæt beskrivelse\",\n      close: \"Luk\",\n      submitButton: \"Gennemfør\",\n      revertButton: \"Gendan\",\n      proportion: \"Bevar proportioner\",\n      basic: \"Basis\",\n      left: \"Venstre\",\n      right: \"Højre\",\n      center: \"Center\",\n      width: \"Bredde\",\n      height: \"Højde\",\n      size: \"Størrelse\",\n      ratio: \"Forhold\"\n    },\n    controller: {\n      edit: \"Rediger\",\n      unlink: \"Fjern link\",\n      remove: \"Fjern\",\n      insertRowAbove: \"Indsæt række foroven\",\n      insertRowBelow: \"Indsæt række nedenfor\",\n      deleteRow: \"Slet række\",\n      insertColumnBefore: \"Indsæt kolonne før\",\n      insertColumnAfter: \"Indsæt kolonne efter\",\n      deleteColumn: \"Slet kolonne\",\n      fixedColumnWidth: \"Fast søjlebredde\",\n      resize100: \"Forstør 100%\",\n      resize75: \"Forstør 75%\",\n      resize50: \"Forstør 50%\",\n      resize25: \"Forstør 25%\",\n      autoSize: \"Auto størrelse\",\n      mirrorHorizontal: \"Spejling, horisontal\",\n      mirrorVertical: \"Spejling, vertikal\",\n      rotateLeft: \"Roter til venstre\",\n      rotateRight: \"Toter til højre\",\n      maxSize: \"Max størrelse\",\n      minSize: \"Min størrelse\",\n      tableHeader: \"Tabel overskrift\",\n      mergeCells: \"Sammenlæg celler (merge)\",\n      splitCells: \"Opdel celler\",\n      HorizontalSplit: \"Opdel horisontalt\",\n      VerticalSplit: \"Opdel vertikalt\"\n    },\n    menu: {\n      spaced: \"Brev Afstand\",\n      bordered: \"Afgrænsningslinje\",\n      neon: \"Neon\",\n      translucent: \"Gennemsigtig\",\n      shadow: \"Skygge\",\n      code: \"Code\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"da\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"fr\",\n    toolbar: {\n      default: \"Défaut\",\n      save: \"Sauvegarder\",\n      font: \"Police\",\n      formats: \"Formats\",\n      fontSize: \"Taille\",\n      bold: \"Gras\",\n      underline: \"Souligné\",\n      italic: \"Italique\",\n      strike: \"Barré\",\n      subscript: \"Indice\",\n      superscript: \"Exposant\",\n      removeFormat: \"Éffacer  le Formatage\",\n      fontColor: \"Couleur du texte\",\n      hiliteColor: \"Couleur en arrière plan\",\n      indent: \"Indenter\",\n      outdent: \"Désindenter\",\n      align: \"Alignenement\",\n      alignLeft: \"À gauche\",\n      alignRight: \"À droite\",\n      alignCenter: \"Centré\",\n      alignJustify: \"Justifié\",\n      list: \"Liste\",\n      orderList: \"Ordonnée\",\n      unorderList: \"Non-ordonnée\",\n      horizontalRule: \"Ligne horizontale\",\n      hr_solid: \"Solide\",\n      hr_dotted: \"Points\",\n      hr_dashed: \"Tirets\",\n      table: \"Table\",\n      link: \"Lien\",\n      math: \"Math\",\n      image: \"Image\",\n      video: \"Video\",\n      audio: \"l'audio\",\n      fullScreen: \"Plein écran\",\n      showBlocks: \"Voir les blocs\",\n      codeView: \"Voir le code\",\n      undo: \"Annuler\",\n      redo: \"Rétablir\",\n      preview: \"Previsualiser\",\n      print: \"Imprimer\",\n      tag_p: \"Paragraphe\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Titre\",\n      tag_blockquote: \"Citation\",\n      tag_pre: \"Code\",\n      template: \"Template\",\n      lineHeight: \"Hauteur de la ligne\",\n      paragraphStyle: \"Style de paragraphe\",\n      textStyle: \"Style de texte\",\n      imageGallery: \"Galerie d'images\",\n      mention: \"Mention\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Insérer un lien\",\n        url: \"Adresse URL du lien\",\n        text: \"Texte à afficher\",\n        newWindowCheck: \"Ouvrir dans une nouvelle fenêtre\",\n        downloadLinkCheck: \"Lien de téléchargement\",\n        bookmark: \"Signet\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Notation mathématique\",\n        fontSizeLabel: \"Taille\",\n        previewLabel: \"Previsualiser\"\n      },\n      imageBox: {\n        title: \"Insérer une image\",\n        file: \"Sélectionner le fichier\",\n        url: \"Adresse URL du fichier\",\n        altText: \"Texte Alternatif\"\n      },\n      videoBox: {\n        title: \"Insérer une Vidéo\",\n        file: \"Sélectionner le fichier\",\n        url: \"URL d’intégration du média, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Insertar une l'audio\",\n        file: \"Sélectionner le fichier\",\n        url: \"Adresse URL du fichier\"\n      },\n      browser: {\n        tags: \"Mots clés\",\n        search: \"Chercher\"\n      },\n      caption: \"Insérer une description\",\n      close: \"Fermer\",\n      submitButton: \"Appliquer\",\n      revertButton: \"Revenir en arrière\",\n      proportion: \"Maintenir le rapport hauteur/largeur\",\n      basic: \"Basique\",\n      left: \"Gauche\",\n      right: \"Droite\",\n      center: \"Centré\",\n      width: \"Largeur\",\n      height: \"Hauteur\",\n      size: \"La taille\",\n      ratio: \"Rapport\"\n    },\n    controller: {\n      edit: \"Modifier\",\n      unlink: \"Supprimer un lien\",\n      remove: \"Effacer\",\n      insertRowAbove: \"Insérer une ligne en dessous\",\n      insertRowBelow: \"Insérer une ligne au dessus\",\n      deleteRow: \"Effacer la ligne\",\n      insertColumnBefore: \"Insérer une colonne avant\",\n      insertColumnAfter: \"Insérer une colonne après\",\n      deleteColumn: \"Effacer la colonne\",\n      fixedColumnWidth: \"Largeur de colonne fixe\",\n      resize100: \"Redimensionner à 100%\",\n      resize75: \"Redimensionner à 75%\",\n      resize50: \"Redimensionner à 50%\",\n      resize25: \"Redimensionner à 25%\",\n      autoSize: \"Taille automatique\",\n      mirrorHorizontal: \"Mirroir, Horizontal\",\n      mirrorVertical: \"Mirroir, Vertical\",\n      rotateLeft: \"Rotation à gauche\",\n      rotateRight: \"Rotation à droite\",\n      maxSize: \"Taille max\",\n      minSize: \"Taille min\",\n      tableHeader: \"En-tête de table\",\n      mergeCells: \"Fusionner les cellules\",\n      splitCells: \"Diviser les Cellules\",\n      HorizontalSplit: \"Scission horizontale\",\n      VerticalSplit: \"Scission verticale\"\n    },\n    menu: {\n      spaced: \"Espacement\",\n      bordered: \"Ligne de démarcation\",\n      neon: \"Néon\",\n      translucent: \"Translucide\",\n      shadow: \"L'ombre\",\n      code: \"Code\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"fr\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport Routable from '../../mixins/routable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport { keyCodes } from './../../util/helpers'\nimport mixins from '../../util/mixins'\nimport { ExtractVue } from './../../util/mixins'\n\n// Types\nimport { VNode } from 'vue/types'\n\nconst baseMixins = mixins(\n  Routable,\n  // Must be after routable\n  // to overwrite activeClass\n  GroupableFactory('tabsBar'),\n  Themeable\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n}\n\nexport default baseMixins.extend<options>().extend(\n  /* @vue/component */\n).extend({\n  name: 'v-tab',\n\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n  },\n\n  data: () => ({\n    proxyClass: 'v-tab--active',\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-tab': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-tab--disabled': this.disabled,\n        ...this.groupClasses,\n      }\n    },\n    value (): any {\n      let to = this.to || this.href || ''\n\n      if (this.$router &&\n        this.to === Object(this.to)\n      ) {\n        const resolve = this.$router.resolve(\n          this.to,\n          this.$route,\n          this.append\n        )\n\n        to = resolve.href\n      }\n\n      return to.replace('#', '')\n    },\n  },\n\n  mounted () {\n    this.onRouteChange()\n  },\n\n  methods: {\n    click (e: KeyboardEvent | MouseEvent): void {\n      // If user provides an\n      // actual link, do not\n      // prevent default\n      if (this.href &&\n        this.href.indexOf('#') > -1\n      ) e.preventDefault()\n\n      if (e.detail) this.$el.blur()\n\n      this.$emit('click', e)\n\n      this.to || this.toggle()\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    data.attrs = {\n      ...data.attrs,\n      'aria-selected': String(this.isActive),\n      role: 'tab',\n      tabindex: 0,\n    }\n    data.on = {\n      ...data.on,\n      keydown: (e: KeyboardEvent) => {\n        if (e.keyCode === keyCodes.enter) this.click(e)\n\n        this.$emit('keydown', e)\n      },\n    }\n\n    return h(tag, data, this.$slots.default)\n  },\n})\n","module.exports = __webpack_public_path__ + \"img/ru.47b9d7de.svg\";","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"template\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.template = {};\n    /** set submenu */\n\n    var templateDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    templateDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickup.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, templateDiv);\n    /** empty memory */\n\n    templateDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var templateList = core.options.templates;\n\n    if (!templateList || templateList.length === 0) {\n      throw Error('[KothingEditor.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n    }\n\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-list-layer\";\n    var list = '<div class=\"ke-submenu ke-list-inner\">' + '<ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = templateList.length, t; i < len; i++) {\n      t = templateList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var temp = this.options.templates[e.target.getAttribute(\"data-value\")];\n\n    if (temp.html) {\n      this.setContents(temp.html);\n    } else {\n      this.submenuOff();\n      throw Error('[KothingEditor.template.fail] cause : \"templates[i].html not found\"');\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","module.exports = __webpack_public_path__ + \"img/ro.b629e7a8.svg\";","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"table\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var contextTable = context.table = {\n      _element: null,\n      _tdElement: null,\n      _trElement: null,\n      _trElements: null,\n      _tableXY: [],\n      _maxWidth: true,\n      _fixedColumn: false,\n      _rtl: core.options.rtl,\n      cellControllerTop: core.options.tableCellControllerPosition === \"top\",\n      resizeText: null,\n      headerButton: null,\n      mergeButton: null,\n      splitButton: null,\n      splitMenu: null,\n      maxText: core.lang.controller.maxSize,\n      minText: core.lang.controller.minSize,\n      _physical_cellCnt: 0,\n      _logical_cellCnt: 0,\n      _rowCnt: 0,\n      _rowIndex: 0,\n      _physical_cellIndex: 0,\n      _logical_cellIndex: 0,\n      _current_colSpan: 0,\n      _current_rowSpan: 0,\n      icons: {\n        expansion: core.icons.expansion,\n        reduction: core.icons.reduction\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var tablePicker = listDiv.querySelector(\".ke-controller-table-picker\");\n    contextTable.tableHighlight = listDiv.querySelector(\".ke-table-size-highlighted\");\n    contextTable.tableUnHighlight = listDiv.querySelector(\".ke-table-size-unhighlighted\");\n    contextTable.tableDisplay = listDiv.querySelector(\".ke-table-size-display\");\n\n    if (core.options.rtl) {\n      contextTable.tableHighlight.style.left = 10 * 18 - 13 + \"px\";\n    }\n    /** set table controller */\n\n\n    var tableController = this.setController_table(core);\n    contextTable.tableController = tableController;\n    contextTable.resizeButton = tableController.querySelector(\"._ke_table_resize\");\n    contextTable.resizeText = tableController.querySelector(\"._ke_table_resize > span > span\");\n    contextTable.columnFixedButton = tableController.querySelector(\"._ke_table_fixed_column\");\n    contextTable.headerButton = tableController.querySelector(\"._ke_table_header\");\n    /** set resizing */\n\n    var resizeDiv = this.setController_tableEditor(core, contextTable.cellControllerTop);\n    contextTable.resizeDiv = resizeDiv;\n    contextTable.splitMenu = resizeDiv.querySelector(\".ke-btn-group-sub\");\n    contextTable.mergeButton = resizeDiv.querySelector(\"._ke_table_merge_button\");\n    contextTable.splitButton = resizeDiv.querySelector(\"._ke_table_split_button\");\n    contextTable.insertRowAboveButton = resizeDiv.querySelector(\"._ke_table_insert_row_a\");\n    contextTable.insertRowBelowButton = resizeDiv.querySelector(\"._ke_table_insert_row_b\");\n    /** add event listeners */\n\n    tablePicker.addEventListener(\"mousemove\", this.onMouseMove_tablePicker.bind(core, contextTable));\n    tablePicker.addEventListener(\"click\", this.appendTable.bind(core));\n    resizeDiv.addEventListener(\"click\", this.onClick_tableController.bind(core));\n    tableController.addEventListener(\"click\", this.onClick_tableController.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** append controller */\n\n    context.element.relative.appendChild(resizeDiv);\n    context.element.relative.appendChild(tableController);\n    /** empty memory */\n\n    listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-selector-table\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-table-size\">' + '<div class=\"ke-table-size-picker ke-controller-table-picker\"></div>' + '<div class=\"ke-table-size-highlighted\"></div>' + '<div class=\"ke-table-size-unhighlighted\"></div>' + \"</div>\" + '<div class=\"ke-table-size-display\">1 x 1</div>';\n    return listDiv;\n  },\n  setController_table: function setController_table(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var tableResize = core.util.createElement(\"DIV\");\n    tableResize.className = \"ke-controller ke-controller-table\";\n    tableResize.innerHTML = \"\" + \"<div>\" + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"resize\" class=\"ke-btn ke-tooltip _ke_table_resize\">' + icons.expansion + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.maxSize + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"layout\" class=\"ke-btn ke-tooltip _ke_table_fixed_column\">' + icons.fixed_column_width + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.fixedColumnWidth + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"header\" class=\"ke-btn ke-tooltip _ke_table_header\">' + icons.table_header + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.tableHeader + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"remove\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return tableResize;\n  },\n  setController_tableEditor: function setController_tableEditor(core, cellControllerTop) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var tableResize = core.util.createElement(\"DIV\");\n    tableResize.className = \"ke-controller ke-controller-table-cell\";\n    tableResize.innerHTML = (cellControllerTop ? \"\" : '<div class=\"ke-arrow ke-arrow-up\"></div>') + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"ke-btn ke-tooltip _ke_table_insert_row_a\">' + icons.insert_row_above + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertRowAbove + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"ke-btn ke-tooltip _ke_table_insert_row_b\">' + icons.insert_row_below + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertRowBelow + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"ke-btn ke-tooltip\">' + icons.delete_row + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.deleteRow + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"merge\" class=\"_ke_table_merge_button ke-btn ke-tooltip\" disabled>' + icons.merge_cell + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mergeCells + \"</span></span>\" + \"</button>\" + \"</div>\" + '<div class=\"ke-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"ke-btn ke-tooltip\">' + icons.insert_column_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertColumnBefore + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"ke-btn ke-tooltip\">' + icons.insert_column_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertColumnAfter + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"ke-btn ke-tooltip\">' + icons.delete_column + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.deleteColumn + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"onsplit\" class=\"_ke_table_split_button ke-btn ke-tooltip\">' + icons.split_cell + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.splitCells + \"</span></span>\" + \"</button>\" + '<div class=\"ke-btn-group-sub kothing-editor-common ke-list-layer ke-table-split\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li class=\"ke-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + lang.controller.VerticalSplit + \"</li>\" + '<li class=\"ke-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + lang.controller.HorizontalSplit + \"</li>\" + \"</ul>\" + \"</div>\" + \"</div>\" + \"</div>\";\n    return tableResize;\n  },\n  appendTable: function appendTable() {\n    var oTable = this.util.createElement(\"TABLE\");\n    var createCells = this.plugins.table.createCells;\n    var x = this.context.table._tableXY[0];\n    var y = this.context.table._tableXY[1];\n    var tableHTML = \"<tbody>\";\n\n    while (y > 0) {\n      tableHTML += \"<tr>\" + createCells.call(this, \"td\", x) + \"</tr>\";\n      --y;\n    }\n\n    tableHTML += \"</tbody>\";\n    oTable.innerHTML = tableHTML;\n    var changed = this.insertComponent(oTable, false, true, false);\n\n    if (changed) {\n      var firstTd = oTable.querySelector(\"td div\");\n      this.setRange(firstTd, 0, firstTd, 0);\n      this.plugins.table.reset_table_picker.call(this);\n    }\n  },\n  createCells: function createCells(nodeName, cnt, returnElement) {\n    nodeName = nodeName.toLowerCase();\n\n    if (!returnElement) {\n      var cellsHTML = \"\";\n\n      while (cnt > 0) {\n        cellsHTML += \"<\" + nodeName + \"><div><br></div></\" + nodeName + \">\";\n        cnt--;\n      }\n\n      return cellsHTML;\n    } else {\n      var cell = this.util.createElement(nodeName);\n      cell.innerHTML = \"<div><br></div>\";\n      return cell;\n    }\n  },\n  onMouseMove_tablePicker: function onMouseMove_tablePicker(contextTable, e) {\n    e.stopPropagation();\n\n    var x = this._w.Math.ceil(e.offsetX / 18);\n\n    var y = this._w.Math.ceil(e.offsetY / 18);\n\n    x = x < 1 ? 1 : x;\n    y = y < 1 ? 1 : y;\n\n    if (contextTable._rtl) {\n      contextTable.tableHighlight.style.left = x * 18 - 13 + \"px\";\n      x = 11 - x;\n    }\n\n    contextTable.tableHighlight.style.width = x + \"em\";\n    contextTable.tableHighlight.style.height = y + \"em\"; // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n    // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n    // contextTable.tableUnHighlight.style.width = x_u + 'em';\n    // contextTable.tableUnHighlight.style.height = y_u + 'em';\n\n    this.util.changeTxt(contextTable.tableDisplay, x + \" x \" + y);\n    contextTable._tableXY = [x, y];\n  },\n  reset_table_picker: function reset_table_picker() {\n    if (!this.context.table.tableHighlight) {\n      return;\n    }\n\n    var highlight = this.context.table.tableHighlight.style;\n    var unHighlight = this.context.table.tableUnHighlight.style;\n    highlight.width = \"1em\";\n    highlight.height = \"1em\";\n    unHighlight.width = \"10em\";\n    unHighlight.height = \"10em\";\n    this.util.changeTxt(this.context.table.tableDisplay, \"1 x 1\");\n    this.submenuOff();\n  },\n  init: function init() {\n    var contextTable = this.context.table;\n    var tablePlugin = this.plugins.table;\n\n    tablePlugin._removeEvents.call(this);\n\n    if (tablePlugin._selectedTable) {\n      var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n      for (var i = 0, len = selectedCells.length; i < len; i++) {\n        this.util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n      }\n    }\n\n    tablePlugin._toggleEditor.call(this, true);\n\n    contextTable._element = null;\n    contextTable._tdElement = null;\n    contextTable._trElement = null;\n    contextTable._trElements = null;\n    contextTable._tableXY = [];\n    contextTable._maxWidth = true;\n    contextTable._fixedColumn = false;\n    contextTable._physical_cellCnt = 0;\n    contextTable._logical_cellCnt = 0;\n    contextTable._rowCnt = 0;\n    contextTable._rowIndex = 0;\n    contextTable._physical_cellIndex = 0;\n    contextTable._logical_cellIndex = 0;\n    contextTable._current_colSpan = 0;\n    contextTable._current_rowSpan = 0;\n    tablePlugin._shift = false;\n    tablePlugin._selectedCells = null;\n    tablePlugin._selectedTable = null;\n    tablePlugin._ref = null;\n    tablePlugin._fixedCell = null;\n    tablePlugin._selectedCell = null;\n    tablePlugin._fixedCellName = null;\n  },\n\n  /** table edit controller */\n  call_controller_tableEdit: function call_controller_tableEdit(tdElement) {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n\n    if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\n      this.controllersOff();\n      this.util.removeClass(tdElement, \"ke-table-selected-cell\");\n      return;\n    }\n\n    var tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, \"TABLE\");\n    contextTable._maxWidth = this.util.hasClass(tableElement, \"ke-table-size-100\") || tableElement.style.width === \"100%\" || !tableElement.style.width && !this.util.hasClass(tableElement, \"ke-table-size-auto\");\n    contextTable._fixedColumn = this.util.hasClass(tableElement, \"ke-table-layout-fixed\") || tableElement.style.tableLayout === \"fixed\";\n    tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? \"width|column\" : \"width\");\n    tablePlugin.setPositionControllerTop.call(this, tableElement);\n    tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\n\n    if (!tablePlugin._shift) {\n      this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, \"table\");\n    }\n  },\n  setPositionControllerTop: function setPositionControllerTop(tableElement) {\n    this.setControllerPosition(this.context.table.tableController, tableElement, \"top\", {\n      left: 0,\n      top: 0\n    });\n  },\n  setPositionControllerDiv: function setPositionControllerDiv(tdElement, reset) {\n    var contextTable = this.context.table;\n    var resizeDiv = contextTable.resizeDiv;\n    this.plugins.table.setCellInfo.call(this, tdElement, reset);\n\n    if (contextTable.cellControllerTop) {\n      this.setControllerPosition(resizeDiv, contextTable._element, \"top\", {\n        left: contextTable.tableController.offsetWidth,\n        top: 0\n      });\n    } else {\n      this.setControllerPosition(resizeDiv, tdElement, \"bottom\", {\n        left: 0,\n        top: 0\n      });\n    }\n  },\n  setCellInfo: function setCellInfo(tdElement, reset) {\n    var contextTable = this.context.table;\n    var table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, \"TABLE\");\n\n    if (/THEAD/i.test(table.firstElementChild.nodeName)) {\n      this.util.addClass(contextTable.headerButton, \"active\");\n    } else {\n      this.util.removeClass(contextTable.headerButton, \"active\");\n    }\n\n    if (reset || contextTable._physical_cellCnt === 0) {\n      if (contextTable._tdElement !== tdElement) {\n        contextTable._tdElement = tdElement;\n        contextTable._trElement = tdElement.parentNode;\n      }\n\n      var rows = contextTable._trElements = table.rows;\n      var cellIndex = tdElement.cellIndex;\n      var cellCnt = 0;\n\n      for (var i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\n        cellCnt += cells[i].colSpan;\n      } // row cnt, row index\n\n\n      var rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\n      contextTable._rowCnt = rows.length; // cell cnt, physical cell index\n\n      contextTable._physical_cellCnt = contextTable._trElement.cells.length;\n      contextTable._logical_cellCnt = cellCnt;\n      contextTable._physical_cellIndex = cellIndex; // span\n\n      contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\n      contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1; // find logcal cell index\n\n      var rowSpanArr = [];\n      var spanIndex = [];\n\n      for (var _i = 0, _cells, colSpan; _i <= rowIndex; _i++) {\n        _cells = rows[_i].cells;\n        colSpan = 0;\n\n        for (var c = 0, cLen = _cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n          cell = _cells[c];\n          cs = cell.colSpan - 1;\n          rs = cell.rowSpan - 1;\n          logcalIndex = c + colSpan;\n\n          if (spanIndex.length > 0) {\n            for (var r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n\n              if (arr.row > _i) {\n                continue;\n              }\n\n              if (logcalIndex >= arr.index) {\n                colSpan += arr.cs;\n                logcalIndex += arr.cs;\n                arr.rs -= 1;\n                arr.row = _i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              } else if (c === cLen - 1) {\n                arr.rs -= 1;\n                arr.row = _i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n            }\n          } // logcal cell index\n\n\n          if (_i === rowIndex && c === cellIndex) {\n            contextTable._logical_cellIndex = logcalIndex;\n            break;\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              index: logcalIndex,\n              cs: cs + 1,\n              rs: rs,\n              row: -1\n            });\n          }\n\n          colSpan += cs;\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n      }\n\n      rowSpanArr = null;\n      spanIndex = null;\n    }\n  },\n  editTable: function editTable(type, option) {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n    var table = contextTable._element;\n    var isRow = type === \"row\";\n\n    if (isRow) {\n      var tableAttr = contextTable._trElement.parentNode;\n\n      if (/^THEAD$/i.test(tableAttr.nodeName)) {\n        if (option === \"up\") {\n          return;\n        } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\n          table.innerHTML += \"<tbody><tr>\" + tablePlugin.createCells.call(this, \"td\", contextTable._logical_cellCnt, false) + \"</tr></tbody>\";\n          return;\n        }\n      }\n    } // multi\n\n\n    if (tablePlugin._ref) {\n      var positionCell = contextTable._tdElement;\n      var selectedCells = tablePlugin._selectedCells; // multi - row\n\n      if (isRow) {\n        // remove row\n        if (!option) {\n          var row = selectedCells[0].parentNode;\n          var removeCells = [selectedCells[0]];\n\n          for (var i = 1, len = selectedCells.length, cell; i < len; i++) {\n            cell = selectedCells[i];\n\n            if (row !== cell.parentNode) {\n              removeCells.push(cell);\n              row = cell.parentNode;\n            }\n          }\n\n          for (var _i2 = 0, _len = removeCells.length; _i2 < _len; _i2++) {\n            tablePlugin.setCellInfo.call(this, removeCells[_i2], true);\n            tablePlugin.editRow.call(this, option);\n          }\n        } else {\n          // edit row\n          tablePlugin.setCellInfo.call(this, option === \"up\" ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\n          tablePlugin.editRow.call(this, option, positionCell);\n        }\n      } else {\n        // multi - cell\n        var firstRow = selectedCells[0].parentNode; // remove cell\n\n        if (!option) {\n          var _removeCells = [selectedCells[0]];\n\n          for (var _i3 = 1, _len2 = selectedCells.length, _cell; _i3 < _len2; _i3++) {\n            _cell = selectedCells[_i3];\n\n            if (firstRow === _cell.parentNode) {\n              _removeCells.push(_cell);\n            } else {\n              break;\n            }\n          }\n\n          for (var _i4 = 0, _len3 = _removeCells.length; _i4 < _len3; _i4++) {\n            tablePlugin.setCellInfo.call(this, _removeCells[_i4], true);\n            tablePlugin.editCell.call(this, option);\n          }\n        } else {\n          // edit cell\n          var rightCell = null;\n\n          for (var _i5 = 0, _len4 = selectedCells.length - 1; _i5 < _len4; _i5++) {\n            if (firstRow !== selectedCells[_i5 + 1].parentNode) {\n              rightCell = selectedCells[_i5];\n              break;\n            }\n          }\n\n          tablePlugin.setCellInfo.call(this, option === \"left\" ? selectedCells[0] : rightCell || selectedCells[0], true);\n          tablePlugin.editCell.call(this, option, positionCell);\n        }\n      }\n\n      if (!option) {\n        tablePlugin.init.call(this);\n      }\n    } else {\n      // one\n      tablePlugin[isRow ? \"editRow\" : \"editCell\"].call(this, option);\n    } // after remove\n\n\n    if (!option) {\n      var children = table.children;\n\n      for (var _i6 = 0; _i6 < children.length; _i6++) {\n        if (children[_i6].children.length === 0) {\n          this.util.removeItem(children[_i6]);\n          _i6--;\n        }\n      }\n\n      if (table.children.length === 0) {\n        this.util.removeItem(table);\n      }\n    }\n  },\n  editRow: function editRow(option, positionResetElement) {\n    var contextTable = this.context.table;\n    var remove = !option;\n    var up = option === \"up\";\n    var originRowIndex = contextTable._rowIndex;\n    var rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\n    var sign = remove ? -1 : 1;\n    var rows = contextTable._trElements;\n    var cellCnt = contextTable._logical_cellCnt;\n\n    for (var i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\n      cell = rows[i].cells;\n\n      if (cell.length === 0) {\n        return;\n      }\n\n      for (var c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\n        rs = cell[c].rowSpan;\n        cs = cell[c].colSpan;\n\n        if (rs < 2 && cs < 2) {\n          continue;\n        }\n\n        if (rs + i > rowIndex && rowIndex > i) {\n          cell[c].rowSpan = rs + sign;\n          cellCnt -= cs;\n        }\n      }\n    }\n\n    if (remove) {\n      var next = rows[originRowIndex + 1];\n\n      if (next) {\n        var spanCells = [];\n        var cells = rows[originRowIndex].cells;\n        var colSpan = 0;\n\n        for (var _i7 = 0, _len5 = cells.length, _cell2, logcalIndex; _i7 < _len5; _i7++) {\n          _cell2 = cells[_i7];\n          logcalIndex = _i7 + colSpan;\n          colSpan += _cell2.colSpan - 1;\n\n          if (_cell2.rowSpan > 1) {\n            _cell2.rowSpan -= 1;\n            spanCells.push({\n              cell: _cell2.cloneNode(false),\n              index: logcalIndex\n            });\n          }\n        }\n\n        if (spanCells.length > 0) {\n          var spanCell = spanCells.shift();\n          cells = next.cells;\n          colSpan = 0;\n\n          for (var _i8 = 0, _len6 = cells.length, _cell3, _logcalIndex; _i8 < _len6; _i8++) {\n            _cell3 = cells[_i8];\n            _logcalIndex = _i8 + colSpan;\n            colSpan += _cell3.colSpan - 1;\n\n            if (_logcalIndex >= spanCell.index) {\n              _i8--, colSpan--;\n              colSpan += spanCell.cell.colSpan - 1;\n              next.insertBefore(spanCell.cell, _cell3);\n              spanCell = spanCells.shift();\n\n              if (!spanCell) {\n                break;\n              }\n            }\n          }\n\n          if (spanCell) {\n            next.appendChild(spanCell.cell);\n\n            for (var _i9 = 0, _len7 = spanCells.length; _i9 < _len7; _i9++) {\n              next.appendChild(spanCells[_i9].cell);\n            }\n          }\n        }\n      }\n\n      contextTable._element.deleteRow(rowIndex);\n    } else {\n      var newRow = contextTable._element.insertRow(rowIndex);\n\n      newRow.innerHTML = this.plugins.table.createCells.call(this, \"td\", cellCnt, false);\n    }\n\n    if (!remove) {\n      this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n    } else {\n      this.controllersOff();\n    }\n  },\n  editCell: function editCell(option, positionResetElement) {\n    var contextTable = this.context.table;\n    var util = this.util;\n    var remove = !option;\n    var left = option === \"left\";\n    var colSpan = contextTable._current_colSpan;\n    var cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\n    var rows = contextTable._trElements;\n    var rowSpanArr = [];\n    var spanIndex = [];\n    var passCell = 0;\n    var removeCell = [];\n    var removeSpanArr = [];\n\n    for (var i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\n      row = rows[i];\n      insertIndex = cellIndex;\n      applySpan = false;\n      cells = row.cells;\n      cellColSpan = 0;\n\n      for (var c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\n        cell = cells[c];\n\n        if (!cell) {\n          break;\n        }\n\n        rs = cell.rowSpan - 1;\n        cs = cell.colSpan - 1;\n\n        if (!remove) {\n          if (c >= insertIndex) {\n            break;\n          }\n\n          if (cs > 0) {\n            if (passCell < 1 && cs + c >= insertIndex) {\n              cell.colSpan += 1;\n              insertIndex = null;\n              passCell = rs + 1;\n              break;\n            }\n\n            insertIndex -= cs;\n          }\n\n          if (!applySpan) {\n            for (var r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n              insertIndex -= arr.cs;\n              arr.rs -= 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            }\n\n            applySpan = true;\n          }\n        } else {\n          removeIndex = c + cellColSpan;\n\n          if (spanIndex.length > 0) {\n            var lastCell = !cells[c + 1];\n\n            for (var _r = 0, _arr; _r < spanIndex.length; _r++) {\n              _arr = spanIndex[_r];\n\n              if (_arr.row > i) {\n                continue;\n              }\n\n              if (removeIndex >= _arr.index) {\n                cellColSpan += _arr.cs;\n                removeIndex = c + cellColSpan;\n                _arr.rs -= 1;\n                _arr.row = i + 1;\n\n                if (_arr.rs < 1) {\n                  spanIndex.splice(_r, 1);\n                  _r--;\n                }\n              } else if (lastCell) {\n                _arr.rs -= 1;\n                _arr.row = i + 1;\n\n                if (_arr.rs < 1) {\n                  spanIndex.splice(_r, 1);\n                  _r--;\n                }\n              }\n            }\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              rs: rs,\n              cs: cs + 1,\n              index: removeIndex,\n              row: -1\n            });\n          }\n\n          if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\n            removeCell.push(cell);\n          } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\n            cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs);\n          } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\n            removeSpanArr.push({\n              cell: cell,\n              i: i,\n              rs: i + rs\n            });\n          }\n\n          cellColSpan += cs;\n        }\n      }\n\n      spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n        return a.index - b.index;\n      });\n      rowSpanArr = [];\n\n      if (!remove) {\n        if (passCell > 0) {\n          passCell -= 1;\n          continue;\n        }\n\n        if (insertIndex !== null && cells.length > 0) {\n          newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\n          newCell = row.insertBefore(newCell, cells[insertIndex]);\n        }\n      }\n    }\n\n    if (remove) {\n      var removeFirst, removeEnd;\n\n      for (var _r2 = 0, rLen = removeCell.length, _row; _r2 < rLen; _r2++) {\n        _row = removeCell[_r2].parentNode;\n        util.removeItem(removeCell[_r2]);\n\n        if (_row.cells.length === 0) {\n          if (!removeFirst) {\n            removeFirst = util.getArrayIndex(rows, _row);\n          }\n\n          removeEnd = util.getArrayIndex(rows, _row);\n          util.removeItem(_row);\n        }\n      }\n\n      for (var _c = 0, _cLen = removeSpanArr.length, rowSpanCell; _c < _cLen; _c++) {\n        rowSpanCell = removeSpanArr[_c];\n        rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\n      }\n\n      this.controllersOff();\n    } else {\n      this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n    }\n  },\n  _closeSplitMenu: null,\n  openSplitMenu: function openSplitMenu() {\n    this.util.addClass(this.context.table.splitButton, \"on\");\n    this.context.table.splitMenu.style.display = \"inline-table\";\n\n    this.plugins.table._closeSplitMenu = function () {\n      this.util.removeClass(this.context.table.splitButton, \"on\");\n      this.context.table.splitMenu.style.display = \"none\";\n      this.removeDocEvent(\"click\", this.plugins.table._closeSplitMenu);\n      this.plugins.table._closeSplitMenu = null;\n    }.bind(this);\n\n    this.addDocEvent(\"click\", this.plugins.table._closeSplitMenu);\n  },\n  splitCells: function splitCells(direction) {\n    var util = this.util;\n    var vertical = direction === \"vertical\";\n    var contextTable = this.context.table;\n    var currentCell = contextTable._tdElement;\n    var rows = contextTable._trElements;\n    var currentRow = contextTable._trElement;\n    var index = contextTable._logical_cellIndex;\n    var rowIndex = contextTable._rowIndex;\n    var newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true); // vertical\n\n    if (vertical) {\n      var currentColSpan = currentCell.colSpan;\n      newCell.rowSpan = currentCell.rowSpan; // colspan > 1\n\n      if (currentColSpan > 1) {\n        newCell.colSpan = this._w.Math.floor(currentColSpan / 2);\n        currentCell.colSpan = currentColSpan - newCell.colSpan;\n        currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n      } else {\n        // colspan - 1\n        var rowSpanArr = [];\n        var spanIndex = [];\n\n        for (var i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\n          cells = rows[i].cells;\n          colSpan = 0;\n\n          for (var c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n            cell = cells[c];\n            cs = cell.colSpan - 1;\n            rs = cell.rowSpan - 1;\n            logcalIndex = c + colSpan;\n\n            if (spanIndex.length > 0) {\n              for (var r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n\n                if (arr.row > i) {\n                  continue;\n                }\n\n                if (logcalIndex >= arr.index) {\n                  colSpan += arr.cs;\n                  logcalIndex += arr.cs;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (c === cLen - 1) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            }\n\n            if (logcalIndex <= index && rs > 0) {\n              rowSpanArr.push({\n                index: logcalIndex,\n                cs: cs + 1,\n                rs: rs,\n                row: -1\n              });\n            }\n\n            if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\n              cell.colSpan += 1;\n              break;\n            }\n\n            if (logcalIndex > index) {\n              break;\n            }\n\n            colSpan += cs;\n          }\n\n          spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n            return a.index - b.index;\n          });\n          rowSpanArr = [];\n        }\n\n        currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n      }\n    } else {\n      // horizontal\n      var currentRowSpan = currentCell.rowSpan;\n      newCell.colSpan = currentCell.colSpan; // rowspan > 1\n\n      if (currentRowSpan > 1) {\n        newCell.rowSpan = this._w.Math.floor(currentRowSpan / 2);\n        var newRowSpan = currentRowSpan - newCell.rowSpan;\n        var _rowSpanArr = [];\n        var nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\n\n        for (var _i10 = 0, _cells2, _colSpan; _i10 < nextRowIndex; _i10++) {\n          _cells2 = rows[_i10].cells;\n          _colSpan = 0;\n\n          for (var _c2 = 0, _cLen2 = _cells2.length, _cell4, _cs, _logcalIndex2; _c2 < _cLen2; _c2++) {\n            _logcalIndex2 = _c2 + _colSpan;\n\n            if (_logcalIndex2 >= index) {\n              break;\n            }\n\n            _cell4 = _cells2[_c2];\n            _cs = _cell4.rowSpan - 1;\n\n            if (_cs > 0 && _cs + _i10 >= nextRowIndex && _logcalIndex2 < index) {\n              _rowSpanArr.push({\n                index: _logcalIndex2,\n                cs: _cell4.colSpan\n              });\n            }\n\n            _colSpan += _cell4.colSpan - 1;\n          }\n        }\n\n        var nextRow = rows[nextRowIndex];\n        var nextCells = nextRow.cells;\n\n        var _rs = _rowSpanArr.shift();\n\n        for (var _c3 = 0, _cLen3 = nextCells.length, _colSpan2 = 0, _cell5, _cs2, _logcalIndex3, insertIndex; _c3 < _cLen3; _c3++) {\n          _logcalIndex3 = _c3 + _colSpan2;\n          _cell5 = nextCells[_c3];\n          _cs2 = _cell5.colSpan - 1;\n          insertIndex = _logcalIndex3 + _cs2 + 1;\n\n          if (_rs && insertIndex >= _rs.index) {\n            _colSpan2 += _rs.cs;\n            insertIndex += _rs.cs;\n            _rs = _rowSpanArr.shift();\n          }\n\n          if (insertIndex >= index || _c3 === _cLen3 - 1) {\n            nextRow.insertBefore(newCell, _cell5.nextElementSibling);\n            break;\n          }\n\n          _colSpan2 += _cs2;\n        }\n\n        currentCell.rowSpan = newRowSpan;\n      } else {\n        // rowspan - 1\n        newCell.rowSpan = currentCell.rowSpan;\n        var newRow = util.createElement(\"TR\");\n        newRow.appendChild(newCell);\n\n        for (var _i11 = 0, _cells4; _i11 < rowIndex; _i11++) {\n          _cells4 = rows[_i11].cells;\n\n          if (_cells4.length === 0) {\n            return;\n          }\n\n          for (var _c4 = 0, _cLen4 = _cells4.length; _c4 < _cLen4; _c4++) {\n            if (_i11 + _cells4[_c4].rowSpan - 1 >= rowIndex) {\n              _cells4[_c4].rowSpan += 1;\n            }\n          }\n        }\n\n        var physicalIndex = contextTable._physical_cellIndex;\n        var _cells3 = currentRow.cells;\n\n        for (var _c5 = 0, _cLen5 = _cells3.length; _c5 < _cLen5; _c5++) {\n          if (_c5 === physicalIndex) {\n            continue;\n          }\n\n          _cells3[_c5].rowSpan += 1;\n        }\n\n        currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\n      }\n    }\n\n    this.focusEdge(currentCell);\n    this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\n  },\n  mergeCells: function mergeCells() {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n    var util = this.util;\n    var ref = tablePlugin._ref;\n    var selectedCells = tablePlugin._selectedCells;\n    var mergeCell = selectedCells[0];\n    var emptyRowFirst = null;\n    var emptyRowLast = null;\n    var cs = ref.ce - ref.cs + 1;\n    var rs = ref.re - ref.rs + 1;\n    var mergeHTML = \"\";\n    var row = null;\n\n    for (var i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\n      cell = selectedCells[i];\n\n      if (row !== cell.parentNode) {\n        row = cell.parentNode;\n      }\n\n      ch = cell.children;\n\n      for (var c = 0, cLen = ch.length; c < cLen; c++) {\n        if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\n          util.removeItem(ch[c]);\n        }\n      }\n\n      mergeHTML += cell.innerHTML;\n      util.removeItem(cell);\n\n      if (row.cells.length === 0) {\n        if (!emptyRowFirst) {\n          emptyRowFirst = row;\n        } else {\n          emptyRowLast = row;\n        }\n\n        rs -= 1;\n      }\n    }\n\n    if (emptyRowFirst) {\n      var rows = contextTable._trElements;\n      var rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\n      var rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\n      var removeRows = [];\n\n      for (var _i12 = 0, cells; _i12 <= rowIndexLast; _i12++) {\n        cells = rows[_i12].cells;\n\n        if (cells.length === 0) {\n          removeRows.push(rows[_i12]);\n          continue;\n        }\n\n        for (var _c6 = 0, _cLen6 = cells.length, _cell6, _rs2; _c6 < _cLen6; _c6++) {\n          _cell6 = cells[_c6];\n          _rs2 = _cell6.rowSpan - 1;\n\n          if (_rs2 > 0 && _i12 + _rs2 >= rowIndexFirst) {\n            _cell6.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, _i12, _i12 + _rs2);\n          }\n        }\n      }\n\n      for (var _i13 = 0, _len8 = removeRows.length; _i13 < _len8; _i13++) {\n        util.removeItem(removeRows[_i13]);\n      }\n    }\n\n    mergeCell.innerHTML += mergeHTML;\n    mergeCell.colSpan = cs;\n    mergeCell.rowSpan = rs;\n    this.controllersOff();\n    tablePlugin.setActiveButton.call(this, true, false);\n    tablePlugin.call_controller_tableEdit.call(this, mergeCell);\n    util.addClass(mergeCell, \"ke-table-selected-cell\");\n    this.focusEdge(mergeCell);\n  },\n  toggleHeader: function toggleHeader() {\n    var util = this.util;\n    var headerButton = this.context.table.headerButton;\n    var active = util.hasClass(headerButton, \"active\");\n    var table = this.context.table._element;\n\n    if (!active) {\n      var header = util.createElement(\"THEAD\");\n      header.innerHTML = \"<tr>\" + this.plugins.table.createCells.call(this, \"th\", this.context.table._logical_cellCnt, false) + \"</tr>\";\n      table.insertBefore(header, table.firstElementChild);\n    } else {\n      util.removeItem(table.querySelector(\"thead\"));\n    }\n\n    util.toggleClass(headerButton, \"active\");\n\n    if (/TH/i.test(this.context.table._tdElement.nodeName)) {\n      this.controllersOff();\n    } else {\n      this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\n    }\n  },\n  setTableStyle: function setTableStyle(styles) {\n    var contextTable = this.context.table;\n    var tableElement = contextTable._element;\n    var icon, span, sizeIcon, text;\n\n    if (styles.indexOf(\"width\") > -1) {\n      icon = contextTable.resizeButton.firstElementChild;\n      span = contextTable.resizeText;\n\n      if (!contextTable._maxWidth) {\n        sizeIcon = contextTable.icons.expansion;\n        text = contextTable.maxText;\n        contextTable.columnFixedButton.style.display = \"none\";\n        this.util.removeClass(tableElement, \"ke-table-size-100\");\n        this.util.addClass(tableElement, \"ke-table-size-auto\");\n      } else {\n        sizeIcon = contextTable.icons.reduction;\n        text = contextTable.minText;\n        contextTable.columnFixedButton.style.display = \"block\";\n        this.util.removeClass(tableElement, \"ke-table-size-auto\");\n        this.util.addClass(tableElement, \"ke-table-size-100\");\n      }\n\n      this.util.changeElement(icon, sizeIcon);\n      this.util.changeTxt(span, text);\n    }\n\n    if (styles.indexOf(\"column\") > -1) {\n      if (!contextTable._fixedColumn) {\n        this.util.removeClass(tableElement, \"ke-table-layout-fixed\");\n        this.util.addClass(tableElement, \"ke-table-layout-auto\");\n        this.util.removeClass(contextTable.columnFixedButton, \"active\");\n      } else {\n        this.util.removeClass(tableElement, \"ke-table-layout-auto\");\n        this.util.addClass(tableElement, \"ke-table-layout-fixed\");\n        this.util.addClass(contextTable.columnFixedButton, \"active\");\n      }\n    }\n  },\n  setActiveButton: function setActiveButton(fixedCell, selectedCell) {\n    var contextTable = this.context.table;\n\n    if (/^TH$/i.test(fixedCell.nodeName)) {\n      contextTable.insertRowAboveButton.setAttribute(\"disabled\", true);\n      contextTable.insertRowBelowButton.setAttribute(\"disabled\", true);\n    } else {\n      contextTable.insertRowAboveButton.removeAttribute(\"disabled\");\n      contextTable.insertRowBelowButton.removeAttribute(\"disabled\");\n    }\n\n    if (!selectedCell || fixedCell === selectedCell) {\n      contextTable.splitButton.removeAttribute(\"disabled\");\n      contextTable.mergeButton.setAttribute(\"disabled\", true);\n    } else {\n      contextTable.splitButton.setAttribute(\"disabled\", true);\n      contextTable.mergeButton.removeAttribute(\"disabled\");\n    }\n  },\n  // multi selecte\n  _bindOnSelect: null,\n  _bindOffSelect: null,\n  _bindOffShift: null,\n  _selectedCells: null,\n  _shift: false,\n  _fixedCell: null,\n  _fixedCellName: null,\n  _selectedCell: null,\n  _selectedTable: null,\n  _ref: null,\n  _toggleEditor: function _toggleEditor(enabled) {\n    this.context.element.wysiwyg.setAttribute(\"contenteditable\", enabled);\n\n    if (enabled) {\n      this.util.removeClass(this.context.element.wysiwyg, \"ke-disabled\");\n    } else {\n      this.util.addClass(this.context.element.wysiwyg, \"ke-disabled\");\n    }\n  },\n  _offCellMultiSelect: function _offCellMultiSelect(e) {\n    e.stopPropagation();\n    var tablePlugin = this.plugins.table;\n\n    if (!tablePlugin._shift) {\n      tablePlugin._removeEvents.call(this);\n\n      tablePlugin._toggleEditor.call(this, true);\n    } else if (tablePlugin._initBind) {\n      this._wd.removeEventListener(\"touchmove\", tablePlugin._initBind);\n\n      tablePlugin._initBind = null;\n    }\n\n    if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) {\n      return;\n    }\n\n    tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\n    tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\n    tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    if (tablePlugin._selectedCell && tablePlugin._fixedCell) {\n      this.focusEdge(tablePlugin._selectedCell);\n    }\n\n    if (!tablePlugin._shift) {\n      tablePlugin._fixedCell = null;\n      tablePlugin._selectedCell = null;\n      tablePlugin._fixedCellName = null;\n    }\n  },\n  _onCellMultiSelect: function _onCellMultiSelect(e) {\n    this._antiBlur = true;\n    var tablePlugin = this.plugins.table;\n    var target = this.util.getParentElement(e.target, this.util.isCell);\n\n    if (tablePlugin._shift) {\n      if (target === tablePlugin._fixedCell) {\n        tablePlugin._toggleEditor.call(this, true);\n      } else {\n        tablePlugin._toggleEditor.call(this, false);\n      }\n    } else if (!tablePlugin._ref) {\n      if (target === tablePlugin._fixedCell) {\n        return;\n      } else {\n        tablePlugin._toggleEditor.call(this, false);\n      }\n    }\n\n    if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || tablePlugin._selectedTable !== this.util.getParentElement(target, \"TABLE\")) {\n      return;\n    }\n\n    tablePlugin._selectedCell = target;\n\n    tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\n  },\n  _setMultiCells: function _setMultiCells(startCell, endCell) {\n    var tablePlugin = this.plugins.table;\n    var rows = tablePlugin._selectedTable.rows;\n    var util = this.util;\n\n    var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    for (var i = 0, len = selectedCells.length; i < len; i++) {\n      util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n    }\n\n    if (startCell === endCell) {\n      util.addClass(startCell, \"ke-table-selected-cell\");\n\n      if (!tablePlugin._shift) {\n        return;\n      }\n    }\n\n    var findSelectedCell = true;\n    var spanIndex = [];\n    var rowSpanArr = [];\n    var ref = tablePlugin._ref = {\n      _i: 0,\n      cs: null,\n      ce: null,\n      rs: null,\n      re: null\n    };\n\n    for (var _i14 = 0, _len9 = rows.length, cells, colSpan; _i14 < _len9; _i14++) {\n      cells = rows[_i14].cells;\n      colSpan = 0;\n\n      for (var c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\n        cell = cells[c];\n        cs = cell.colSpan - 1;\n        rs = cell.rowSpan - 1;\n        logcalIndex = c + colSpan;\n\n        if (spanIndex.length > 0) {\n          for (var r = 0, arr; r < spanIndex.length; r++) {\n            arr = spanIndex[r];\n\n            if (arr.row > _i14) {\n              continue;\n            }\n\n            if (logcalIndex >= arr.index) {\n              colSpan += arr.cs;\n              logcalIndex += arr.cs;\n              arr.rs -= 1;\n              arr.row = _i14 + 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            } else if (c === cLen - 1) {\n              arr.rs -= 1;\n              arr.row = _i14 + 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            }\n          }\n        }\n\n        if (findSelectedCell) {\n          if (cell === startCell || cell === endCell) {\n            ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\n            ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n            ref.rs = ref.rs !== null && ref.rs < _i14 ? ref.rs : _i14;\n            ref.re = ref.re !== null && ref.re > _i14 + rs ? ref.re : _i14 + rs;\n            ref._i += 1;\n          }\n\n          if (ref._i === 2) {\n            findSelectedCell = false;\n            spanIndex = [];\n            rowSpanArr = [];\n            _i14 = -1;\n            break;\n          }\n        } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, _i14, _i14 + rs)) {\n          var newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\n          var newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n          var newRs = ref.rs < _i14 ? ref.rs : _i14;\n          var newRe = ref.re > _i14 + rs ? ref.re : _i14 + rs;\n\n          if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\n            ref.cs = newCs;\n            ref.ce = newCe;\n            ref.rs = newRs;\n            ref.re = newRe;\n            _i14 = -1;\n            spanIndex = [];\n            rowSpanArr = [];\n            break;\n          }\n\n          util.addClass(cell, \"ke-table-selected-cell\");\n        }\n\n        if (rs > 0) {\n          rowSpanArr.push({\n            index: logcalIndex,\n            cs: cs + 1,\n            rs: rs,\n            row: -1\n          });\n        }\n\n        colSpan += cell.colSpan - 1;\n      }\n\n      spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n        return a.index - b.index;\n      });\n      rowSpanArr = [];\n    }\n  },\n  _removeEvents: function _removeEvents() {\n    var tablePlugin = this.plugins.table;\n\n    if (tablePlugin._initBind) {\n      this._wd.removeEventListener(\"touchmove\", tablePlugin._initBind);\n\n      tablePlugin._initBind = null;\n    }\n\n    if (tablePlugin._bindOnSelect) {\n      this._wd.removeEventListener(\"mousedown\", tablePlugin._bindOnSelect);\n\n      this._wd.removeEventListener(\"mousemove\", tablePlugin._bindOnSelect);\n\n      tablePlugin._bindOnSelect = null;\n    }\n\n    if (tablePlugin._bindOffSelect) {\n      this._wd.removeEventListener(\"mouseup\", tablePlugin._bindOffSelect);\n\n      tablePlugin._bindOffSelect = null;\n    }\n\n    if (tablePlugin._bindOffShift) {\n      this._wd.removeEventListener(\"keyup\", tablePlugin._bindOffShift);\n\n      tablePlugin._bindOffShift = null;\n    }\n  },\n  _initBind: null,\n  onTableCellMultiSelect: function onTableCellMultiSelect(tdElement, shift) {\n    var tablePlugin = this.plugins.table;\n\n    tablePlugin._removeEvents.call(this);\n\n    this.controllersOff();\n    tablePlugin._shift = shift;\n    tablePlugin._fixedCell = tdElement;\n    tablePlugin._fixedCellName = tdElement.nodeName;\n    tablePlugin._selectedTable = this.util.getParentElement(tdElement, \"TABLE\");\n\n    var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    for (var i = 0, len = selectedCells.length; i < len; i++) {\n      this.util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n    }\n\n    this.util.addClass(tdElement, \"ke-table-selected-cell\");\n    tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\n    tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\n\n    if (!shift) {\n      this._wd.addEventListener(\"mousemove\", tablePlugin._bindOnSelect, false);\n    } else {\n      tablePlugin._bindOffShift = function () {\n        this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, \"table\");\n\n        if (!tablePlugin._ref) {\n          this.controllersOff();\n        }\n      }.bind(this);\n\n      this._wd.addEventListener(\"keyup\", tablePlugin._bindOffShift, false);\n\n      this._wd.addEventListener(\"mousedown\", tablePlugin._bindOnSelect, false);\n    }\n\n    this._wd.addEventListener(\"mouseup\", tablePlugin._bindOffSelect, false);\n\n    tablePlugin._initBind = tablePlugin.init.bind(this);\n\n    this._wd.addEventListener(\"touchmove\", tablePlugin._initBind, false);\n  },\n  onClick_tableController: function onClick_tableController(e) {\n    e.stopPropagation();\n    var target = e.target.getAttribute(\"data-command\") ? e.target : e.target.parentNode;\n\n    if (target.getAttribute(\"disabled\")) {\n      return;\n    }\n\n    var command = target.getAttribute(\"data-command\");\n    var value = target.getAttribute(\"data-value\");\n    var option = target.getAttribute(\"data-option\");\n    var tablePlugin = this.plugins.table;\n\n    if (typeof tablePlugin._closeSplitMenu === \"function\") {\n      tablePlugin._closeSplitMenu();\n\n      if (command === \"onsplit\") {\n        return;\n      }\n    }\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n    var contextTable = this.context.table;\n\n    switch (command) {\n      case \"insert\":\n      case \"delete\":\n        tablePlugin.editTable.call(this, value, option);\n        break;\n\n      case \"header\":\n        tablePlugin.toggleHeader.call(this);\n        break;\n\n      case \"onsplit\":\n        tablePlugin.openSplitMenu.call(this);\n        break;\n\n      case \"split\":\n        tablePlugin.splitCells.call(this, value);\n        break;\n\n      case \"merge\":\n        tablePlugin.mergeCells.call(this);\n        break;\n\n      case \"resize\":\n        contextTable._maxWidth = !contextTable._maxWidth;\n        tablePlugin.setTableStyle.call(this, \"width\");\n        tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n        tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n        break;\n\n      case \"layout\":\n        contextTable._fixedColumn = !contextTable._fixedColumn;\n        tablePlugin.setTableStyle.call(this, \"column\");\n        tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n        tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n        break;\n\n      case \"remove\":\n        var emptyDiv = contextTable._element.parentNode;\n        this.util.removeItem(contextTable._element);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) {\n          this.util.removeItemAllParents(emptyDiv, function (current) {\n            return current.childNodes.length === 0;\n          }, null);\n        }\n\n        this.focus();\n    } // history stack\n\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","// Styles\nimport './VSlideGroup.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport { VFadeTransition } from '../transitions'\n\n// Extensions\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\n\n// Mixins\nimport Mobile from '../../mixins/mobile'\n\n// Directives\nimport Resize from '../../directives/resize'\nimport Touch from '../../directives/touch'\n\n// Utilities\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode } from 'vue'\n\ninterface TouchEvent {\n  touchstartX: number\n  touchmoveX: number\n  stopPropagation: Function\n}\n\ninterface Widths {\n  content: number\n  wrapper: number\n}\n\ninterface options extends Vue {\n  $refs: {\n    content: HTMLElement\n    wrapper: HTMLElement\n  }\n}\n\nexport const BaseSlideGroup = mixins<options &\n/* eslint-disable indent */\n  ExtractVue<[\n    typeof BaseItemGroup,\n    typeof Mobile,\n  ]>\n/* eslint-enable indent */\n>(\n  BaseItemGroup,\n  Mobile,\n  /* @vue/component */\n).extend({\n  name: 'base-slide-group',\n\n  directives: {\n    Resize,\n    Touch,\n  },\n\n  props: {\n    activeClass: {\n      type: String,\n      default: 'v-slide-item--active',\n    },\n    centerActive: Boolean,\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    showArrows: {\n      type: [Boolean, String],\n      validator: v => (\n        typeof v === 'boolean' || [\n          'always',\n          'desktop',\n          'mobile',\n        ].includes(v)\n      ),\n    },\n  },\n\n  data: () => ({\n    internalItemsLength: 0,\n    isOverflowing: false,\n    resizeTimeout: 0,\n    startX: 0,\n    scrollOffset: 0,\n    widths: {\n      content: 0,\n      wrapper: 0,\n    },\n  }),\n\n  computed: {\n    __cachedNext (): VNode {\n      return this.genTransition('next')\n    },\n    __cachedPrev (): VNode {\n      return this.genTransition('prev')\n    },\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-slide-group': true,\n        'v-slide-group--has-affixes': this.hasAffixes,\n        'v-slide-group--is-overflowing': this.isOverflowing,\n      }\n    },\n    hasAffixes (): Boolean {\n      switch (this.showArrows) {\n        // Always show arrows on desktop & mobile\n        case 'always': return true\n\n        // Always show arrows on desktop\n        case 'desktop': return !this.isMobile\n\n        // Show arrows on mobile when overflowing.\n        // This matches the default 2.2 behavior\n        case true: return this.isOverflowing || Math.abs(this.scrollOffset) > 0\n\n        // Always show on mobile\n        case 'mobile': return (\n          this.isMobile ||\n          (this.isOverflowing || Math.abs(this.scrollOffset) > 0)\n        )\n\n        // https://material.io/components/tabs#scrollable-tabs\n        // Always show arrows when\n        // overflowed on desktop\n        default: return (\n          !this.isMobile &&\n          (this.isOverflowing || Math.abs(this.scrollOffset) > 0)\n        )\n      }\n    },\n    hasNext (): boolean {\n      if (!this.hasAffixes) return false\n\n      const { content, wrapper } = this.widths\n\n      // Check one scroll ahead to know the width of right-most item\n      return content > Math.abs(this.scrollOffset) + wrapper\n    },\n    hasPrev (): boolean {\n      return this.hasAffixes && this.scrollOffset !== 0\n    },\n  },\n\n  watch: {\n    internalValue: 'setWidths',\n    // When overflow changes, the arrows alter\n    // the widths of the content and wrapper\n    // and need to be recalculated\n    isOverflowing: 'setWidths',\n    scrollOffset (val) {\n      this.$refs.content.style.transform = `translateX(${-val}px)`\n    },\n  },\n\n  beforeUpdate () {\n    this.internalItemsLength = (this.$children || []).length\n  },\n\n  updated () {\n    if (this.internalItemsLength === (this.$children || []).length) return\n    this.setWidths()\n  },\n\n  methods: {\n    // Always generate next for scrollable hint\n    genNext (): VNode | null {\n      const slot = this.$scopedSlots.next\n        ? this.$scopedSlots.next({})\n        : this.$slots.next || this.__cachedNext\n\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__next',\n        class: {\n          'v-slide-group__next--disabled': !this.hasNext,\n        },\n        on: {\n          click: () => this.onAffixClick('next'),\n        },\n        key: 'next',\n      }, [slot])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__content',\n        ref: 'content',\n      }, this.$slots.default)\n    },\n    genData (): object {\n      return {\n        class: this.classes,\n        directives: [{\n          name: 'resize',\n          value: this.onResize,\n        }],\n      }\n    },\n    genIcon (location: 'prev' | 'next'): VNode | null {\n      let icon = location\n\n      if (this.$vuetify.rtl && location === 'prev') {\n        icon = 'next'\n      } else if (this.$vuetify.rtl && location === 'next') {\n        icon = 'prev'\n      }\n\n      const upperLocation = `${location[0].toUpperCase()}${location.slice(1)}`\n      const hasAffix = (this as any)[`has${upperLocation}`]\n\n      if (\n        !this.showArrows &&\n        !hasAffix\n      ) return null\n\n      return this.$createElement(VIcon, {\n        props: {\n          disabled: !hasAffix,\n        },\n      }, (this as any)[`${icon}Icon`])\n    },\n    // Always generate prev for scrollable hint\n    genPrev (): VNode | null {\n      const slot = this.$scopedSlots.prev\n        ? this.$scopedSlots.prev({})\n        : this.$slots.prev || this.__cachedPrev\n\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__prev',\n        class: {\n          'v-slide-group__prev--disabled': !this.hasPrev,\n        },\n        on: {\n          click: () => this.onAffixClick('prev'),\n        },\n        key: 'prev',\n      }, [slot])\n    },\n    genTransition (location: 'prev' | 'next') {\n      return this.$createElement(VFadeTransition, [this.genIcon(location)])\n    },\n    genWrapper (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__wrapper',\n        directives: [{\n          name: 'touch',\n          value: {\n            start: (e: TouchEvent) => this.overflowCheck(e, this.onTouchStart),\n            move: (e: TouchEvent) => this.overflowCheck(e, this.onTouchMove),\n            end: (e: TouchEvent) => this.overflowCheck(e, this.onTouchEnd),\n          },\n        }],\n        ref: 'wrapper',\n      }, [this.genContent()])\n    },\n    calculateNewOffset (direction: 'prev' | 'next', widths: Widths, rtl: boolean, currentScrollOffset: number) {\n      const sign = rtl ? -1 : 1\n      const newAbosluteOffset = sign * currentScrollOffset +\n        (direction === 'prev' ? -1 : 1) * widths.wrapper\n\n      return sign * Math.max(Math.min(newAbosluteOffset, widths.content - widths.wrapper), 0)\n    },\n    onAffixClick (location: 'prev' | 'next') {\n      this.$emit(`click:${location}`)\n      this.scrollTo(location)\n    },\n    onResize () {\n      /* istanbul ignore next */\n      if (this._isDestroyed) return\n\n      this.setWidths()\n    },\n    onTouchStart (e: TouchEvent) {\n      const { content } = this.$refs\n\n      this.startX = this.scrollOffset + e.touchstartX as number\n\n      content.style.setProperty('transition', 'none')\n      content.style.setProperty('willChange', 'transform')\n    },\n    onTouchMove (e: TouchEvent) {\n      this.scrollOffset = this.startX - e.touchmoveX\n    },\n    onTouchEnd () {\n      const { content, wrapper } = this.$refs\n      const maxScrollOffset = content.clientWidth - wrapper.clientWidth\n\n      content.style.setProperty('transition', null)\n      content.style.setProperty('willChange', null)\n\n      if (this.$vuetify.rtl) {\n        /* istanbul ignore else */\n        if (this.scrollOffset > 0 || !this.isOverflowing) {\n          this.scrollOffset = 0\n        } else if (this.scrollOffset <= -maxScrollOffset) {\n          this.scrollOffset = -maxScrollOffset\n        }\n      } else {\n        /* istanbul ignore else */\n        if (this.scrollOffset < 0 || !this.isOverflowing) {\n          this.scrollOffset = 0\n        } else if (this.scrollOffset >= maxScrollOffset) {\n          this.scrollOffset = maxScrollOffset\n        }\n      }\n    },\n    overflowCheck (e: TouchEvent, fn: (e: TouchEvent) => void) {\n      e.stopPropagation()\n      this.isOverflowing && fn(e)\n    },\n    scrollIntoView /* istanbul ignore next */ () {\n      if (!this.selectedItem && this.items.length) {\n        const lastItemPosition = this.items[this.items.length - 1].$el.getBoundingClientRect()\n        const wrapperPosition = this.$refs.wrapper.getBoundingClientRect()\n\n        if (\n          (this.$vuetify.rtl && wrapperPosition.right < lastItemPosition.right) ||\n          (!this.$vuetify.rtl && wrapperPosition.left > lastItemPosition.left)\n        ) {\n          this.scrollTo('prev')\n        }\n      }\n\n      if (!this.selectedItem) {\n        return\n      }\n\n      if (\n        this.selectedIndex === 0 ||\n        (!this.centerActive && !this.isOverflowing)\n      ) {\n        this.scrollOffset = 0\n      } else if (this.centerActive) {\n        this.scrollOffset = this.calculateCenteredOffset(\n          this.selectedItem.$el as HTMLElement,\n          this.widths,\n          this.$vuetify.rtl\n        )\n      } else if (this.isOverflowing) {\n        this.scrollOffset = this.calculateUpdatedOffset(\n          this.selectedItem.$el as HTMLElement,\n          this.widths,\n          this.$vuetify.rtl,\n          this.scrollOffset\n        )\n      }\n    },\n    calculateUpdatedOffset (selectedElement: HTMLElement, widths: Widths, rtl: boolean, currentScrollOffset: number): number {\n      const clientWidth = selectedElement.clientWidth\n      const offsetLeft = rtl\n        ? (widths.content - selectedElement.offsetLeft - clientWidth)\n        : selectedElement.offsetLeft\n\n      if (rtl) {\n        currentScrollOffset = -currentScrollOffset\n      }\n\n      const totalWidth = widths.wrapper + currentScrollOffset\n      const itemOffset = clientWidth + offsetLeft\n      const additionalOffset = clientWidth * 0.4\n\n      if (offsetLeft <= currentScrollOffset) {\n        currentScrollOffset = Math.max(offsetLeft - additionalOffset, 0)\n      } else if (totalWidth <= itemOffset) {\n        currentScrollOffset = Math.min(currentScrollOffset - (totalWidth - itemOffset - additionalOffset), widths.content - widths.wrapper)\n      }\n\n      return rtl ? -currentScrollOffset : currentScrollOffset\n    },\n    calculateCenteredOffset (selectedElement: HTMLElement, widths: Widths, rtl: boolean): number {\n      const { offsetLeft, clientWidth } = selectedElement\n\n      if (rtl) {\n        const offsetCentered = widths.content - offsetLeft - clientWidth / 2 - widths.wrapper / 2\n        return -Math.min(widths.content - widths.wrapper, Math.max(0, offsetCentered))\n      } else {\n        const offsetCentered = offsetLeft + clientWidth / 2 - widths.wrapper / 2\n        return Math.min(widths.content - widths.wrapper, Math.max(0, offsetCentered))\n      }\n    },\n    scrollTo /* istanbul ignore next */ (location: 'prev' | 'next') {\n      this.scrollOffset = this.calculateNewOffset(location, {\n        // Force reflow\n        content: this.$refs.content ? this.$refs.content.clientWidth : 0,\n        wrapper: this.$refs.wrapper ? this.$refs.wrapper.clientWidth : 0,\n      }, this.$vuetify.rtl, this.scrollOffset)\n    },\n    setWidths /* istanbul ignore next */  () {\n      window.requestAnimationFrame(() => {\n        const { content, wrapper } = this.$refs\n\n        this.widths = {\n          content: content ? content.clientWidth : 0,\n          wrapper: wrapper ? wrapper.clientWidth : 0,\n        }\n\n        this.isOverflowing = this.widths.wrapper < this.widths.content\n\n        this.scrollIntoView()\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.genData(), [\n      this.genPrev(),\n      this.genWrapper(),\n      this.genNext(),\n    ])\n  },\n})\n\nexport default BaseSlideGroup.extend({\n  name: 'v-slide-group',\n\n  provide (): object {\n    return {\n      slideGroup: this,\n    }\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"formatBlock\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.formatBlock = {\n      targetText: targetElement.querySelector(\".txt\"),\n      targetTooltip: targetElement.parentNode.querySelector(\".ke-tooltip-text\"),\n      _formatList: null,\n      currentFormat: \"\",\n      icon: icons.format_block\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickUp.bind(core));\n    context.formatBlock._formatList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang_toolbar = core.lang.toolbar;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var defaultFormats = [\"p\", \"div\", \"blockquote\", \"pre\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\n    var formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n      format = formatList[i];\n\n      if (typeof format === \"string\" && defaultFormats.indexOf(format) > -1) {\n        tagName = format.toLowerCase();\n        command = tagName === \"blockquote\" ? \"range\" : tagName === \"pre\" ? \"free\" : \"replace\";\n        h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : \"\";\n        name = lang_toolbar[\"tag_\" + (h ? \"h\" : tagName)] + h;\n        className = \"\";\n        attrs = \"\";\n      } else {\n        tagName = format.tag.toLowerCase();\n        command = format.command;\n        name = format.name || tagName;\n        className = format.class;\n        attrs = className ? ' class=\"' + className + '\"' : \"\";\n      }\n\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' + \"<\" + tagName + attrs + \">\" + name + \"</\" + tagName + \">\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var formatTitle = this.lang.toolbar.formats; // const target = this.context.formatBlock.targetText;\n\n    var target = this.context.formatBlock.targetText.firstElementChild;\n    var icon = this.context.formatBlock.icon;\n\n    if (!element) {\n      // this.util.changeTxt(target, formatTitle);\n      this.util.changeElement(target, icon);\n    } else if (this.util.isFormatElement(element)) {\n      var formatContext = this.context.formatBlock;\n      var formatList = formatContext._formatList;\n      var nodeName = element.nodeName.toLowerCase();\n      var className = (element.className.match(/(\\s|^)__ke__format__[^\\s]+/) || [\"\"])[0].trim();\n\n      for (var i = 0, len = formatList.length, f; i < len; i++) {\n        f = formatList[i];\n\n        if (nodeName === f.getAttribute(\"data-value\") && className === f.getAttribute(\"data-class\")) {\n          formatTitle = f.title;\n          break;\n        }\n      } // this.util.changeTxt(target, formatTitle);\n\n\n      this.util.changeElement(target, \"<span>\".concat(formatTitle, \"</span>\"));\n      target.setAttribute(\"data-value\", nodeName);\n      target.setAttribute(\"data-class\", className);\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var formatContext = this.context.formatBlock;\n    var formatList = formatContext._formatList;\n    var target = formatContext.targetText;\n    var currentFormat = (target.getAttribute(\"data-value\") || \"\") + (target.getAttribute(\"data-class\") || \"\");\n\n    if (currentFormat !== formatContext.currentFormat) {\n      for (var i = 0, len = formatList.length, f; i < len; i++) {\n        f = formatList[i];\n\n        if (currentFormat === f.getAttribute(\"data-value\") + f.getAttribute(\"data-class\")) {\n          this.util.addClass(f, \"active\");\n        } else {\n          this.util.removeClass(f, \"active\");\n        }\n      }\n\n      formatContext.currentFormat = currentFormat;\n    }\n  },\n  pickUp: function pickUp(e) {\n    var _this = this;\n\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = null,\n        value = null,\n        tag = null,\n        className = \"\";\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n      value = target.getAttribute(\"data-value\");\n      className = target.getAttribute(\"data-class\");\n\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    } // blockquote\n\n\n    if (command === \"range\") {\n      var rangeElement = tag.cloneNode(false);\n      this.applyRangeFormatElement(rangeElement);\n    } else {\n      // free, replace\n      var range = this.getRange();\n      var selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n      if (selectedFormsts.length === 0) {\n        range = this.getRange_addLine(range, null);\n        selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n        if (selectedFormsts.length === 0) {\n          return;\n        }\n      }\n\n      var startOffset = range.startOffset;\n      var endOffset = range.endOffset;\n      var util = this.util;\n      var first = selectedFormsts[0];\n      var last = selectedFormsts[selectedFormsts.length - 1];\n      var firstPath = util.getNodePath(range.startContainer, first, null, null);\n      var lastPath = util.getNodePath(range.endContainer, last, null, null); // remove selected list\n\n      var rlist = this.detachList(selectedFormsts, false);\n\n      if (rlist.sc) {\n        first = rlist.sc;\n      }\n\n      if (rlist.ec) {\n        last = rlist.ec;\n      } // change format tag\n\n\n      this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n      var modifiedFormsts = this.getSelectedElementsAndComponents(false); // free format\n\n      if (command === \"free\") {\n        (function () {\n          var len = modifiedFormsts.length - 1;\n          var parentNode = modifiedFormsts[len].parentNode;\n          var freeElement = tag.cloneNode(false);\n          var focusElement = freeElement;\n\n          for (var i = len, f, html, before, next, inner, isComp, _first = true; i >= 0; i--) {\n            f = modifiedFormsts[i];\n\n            if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) {\n              continue;\n            }\n\n            isComp = util.isComponent(f);\n            html = isComp ? \"\" : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, \" \");\n            before = util.getParentElement(f, function (current) {\n              return current.parentNode === parentNode;\n            });\n\n            if (parentNode !== f.parentNode || isComp) {\n              if (util.isFormatElement(parentNode)) {\n                parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                parentNode = parentNode.parentNode;\n              } else {\n                parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                parentNode = f.parentNode;\n              }\n\n              next = freeElement.nextSibling;\n\n              if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                freeElement.innerHTML += \"<BR>\" + next.innerHTML;\n                util.removeItem(next);\n              }\n\n              freeElement = tag.cloneNode(false);\n              _first = true;\n            }\n\n            inner = freeElement.innerHTML;\n            freeElement.innerHTML = (_first || !html || !inner || /<br>$/i.test(html) ? html : html + \"<BR>\") + inner;\n\n            if (i === 0) {\n              parentNode.insertBefore(freeElement, f);\n              next = f.nextSibling;\n\n              if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                freeElement.innerHTML += \"<BR>\" + next.innerHTML;\n                util.removeItem(next);\n              }\n\n              var prev = freeElement.previousSibling;\n\n              if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                prev.innerHTML += \"<BR>\" + freeElement.innerHTML;\n                util.removeItem(freeElement);\n              }\n            }\n\n            if (!isComp) {\n              util.removeItem(f);\n            }\n\n            if (html) {\n              _first = false;\n            }\n          }\n\n          _this.setRange(focusElement, 0, focusElement, 0);\n        })();\n      } else {\n        // replace format\n        for (var i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n          node = modifiedFormsts[i];\n\n          if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__ke__format__[^\\s]+/) || [\"\"])[0].trim() !== className) && !util.isComponent(node)) {\n            newFormat = tag.cloneNode(false);\n            util.copyFormatAttributes(newFormat, node);\n            newFormat.innerHTML = node.innerHTML;\n            node.parentNode.replaceChild(newFormat, node);\n          }\n\n          if (i === 0) {\n            first = newFormat || node;\n          }\n\n          if (i === len - 1) {\n            last = newFormat || node;\n          }\n\n          newFormat = null;\n        }\n\n        this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n      } // history stack\n\n\n      this.history.push(false);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"font\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.font = {\n      targetText: targetElement.querySelector(\".txt\"),\n      targetTooltip: targetElement.parentNode.querySelector(\".ke-tooltip-text\"),\n      _fontList: null,\n      currentFont: \"\",\n      icon: icons.font\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\".ke-list-inner\").addEventListener(\"click\", this.pickup.bind(core));\n    context.font._fontList = listDiv.querySelectorAll(\"ul li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-font-family\";\n    var font, text, i, len;\n    var fontList = !option.font ? [\"Arial\", \"Comic Sans MS\", \"Courier New\", \"Impact\", \"Georgia\", \"tahoma\", \"Trebuchet MS\", \"Verdana\"] : option.font;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (i = 0, len = fontList.length; i < len; i++) {\n      font = fontList[i];\n      text = font.split(\",\")[0];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    // const target = this.context.font.targetText;\n    var target = this.context.font.targetText.firstElementChild;\n    var tooltip = this.context.font.targetTooltip;\n    var icon = this.context.font.icon;\n\n    if (!element) {\n      var fontElement = this.hasFocus ? this.wwComputedStyle.fontFamily ? \"<span>\".concat(JSON.parse(this.wwComputedStyle.fontFamily), \"</span>\") : \"\" : icon;\n      this.util.changeElement(target, fontElement);\n      var font = this.hasFocus ? this.wwComputedStyle.fontFamily ? JSON.parse(this.wwComputedStyle.fontFamily) : \"\" : this.lang.toolbar.font;\n      this.util.changeTxt(tooltip, this.hasFocus ? this.lang.toolbar.font + \" (\" + font + \")\" : font);\n    } else if (element.style && element.style.fontFamily.length > 0) {\n      var selectFont = element.style.fontFamily.replace(/[\"']/g, \"\");\n      this.util.changeElement(target, \"<span>\".concat(selectFont, \"</span>\"));\n      this.util.changeTxt(tooltip, this.lang.toolbar.font + \" (\" + selectFont + \")\");\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var fontContext = this.context.font;\n    var fontList = fontContext._fontList;\n    var currentFont = fontContext.targetText.textContent;\n\n    if (currentFont !== fontContext.currentFont) {\n      for (var i = 0, len = fontList.length; i < len; i++) {\n        if (currentFont === fontList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(fontList[i], \"active\");\n        } else {\n          this.util.removeClass(fontList[i], \"active\");\n        }\n      }\n\n      fontContext.currentFont = currentFont;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\");\n\n    if (value) {\n      var newNode = this.util.createElement(\"SPAN\");\n      newNode.style.fontFamily = value;\n      this.nodeChange(newNode, [\"font-family\"], null, null);\n    } else {\n      this.nodeChange(null, [\"font-family\"], [\"span\"], true);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"notice\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    var context = core.context;\n    context.notice = {};\n    /** dialog */\n\n    var notice_div = core.util.createElement(\"DIV\");\n    var notice_span = core.util.createElement(\"SPAN\");\n    var notice_button = core.util.createElement(\"BUTTON\");\n    notice_div.className = \"ke-notice\";\n    notice_button.className = \"close\";\n    notice_button.setAttribute(\"aria-label\", \"Close\");\n    notice_button.setAttribute(\"title\", core.lang.dialogBox.close);\n    notice_button.innerHTML = core.icons.cancel;\n    notice_div.appendChild(notice_span);\n    notice_div.appendChild(notice_button);\n    context.notice.modal = notice_div;\n    context.notice.message = notice_span;\n    /** add event listeners */\n\n    notice_button.addEventListener(\"click\", this.onClick_cancel.bind(core));\n    /** append html */\n\n    context.element.editorArea.appendChild(notice_div);\n    /** empty memory */\n\n    notice_div = null;\n  },\n\n  /**\r\n   * @description Event when clicking the cancel button\r\n   * @param {MouseEvent} e Event object\r\n   */\n  onClick_cancel: function onClick_cancel(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.notice.close.call(this);\n  },\n\n  /**\r\n   * @description  Open the notice panel\r\n   * @param {String} text Notice message\r\n   */\n  open: function open(text) {\n    this.context.notice.message.textContent = text;\n    this.context.notice.modal.style.display = \"block\";\n  },\n\n  /**\r\n   * @description  Open the notice panel\r\n   */\n  close: function close() {\n    this.context.notice.modal.style.display = \"none\";\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  name: \"audio\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _component.default, _fileManager.default]);\n    var context = core.context;\n    var contextAudio = context.audio = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      targetSelect: null,\n      _origin_w: core.options.audioWidth,\n      _origin_h: core.options.audioHeight,\n      _linkValue: \"\",\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null\n    };\n    /** dialog */\n\n    var audio_dialog = this.setDialog(core);\n    contextAudio.modal = audio_dialog;\n    contextAudio.audioInputFile = audio_dialog.querySelector(\"._ke_audio_files\");\n    contextAudio.audioUrlFile = audio_dialog.querySelector(\".ke-input-url\");\n    contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n    contextAudio.preview = audio_dialog.querySelector(\".ke-link-preview\");\n    /** controller */\n\n    var audio_controller = this.setController(core);\n    contextAudio.controller = audio_controller;\n    /** add event listeners */\n\n    audio_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextAudio.audioInputFile) {\n      audio_dialog.querySelector(\".ke-dialog-files-edge-button\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n    }\n\n    if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n      contextAudio.audioInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextAudio));\n    }\n\n    audio_controller.addEventListener(\"click\", this.onClick_controller.bind(core));\n\n    if (contextAudio.audioUrlFile) {\n      contextAudio.audioUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextAudio.preview, contextAudio, core.options.linkProtocol));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(audio_dialog);\n    /** append controller */\n\n    context.element.relative.appendChild(audio_controller);\n    /** empty memory */\n\n    audio_dialog = null, audio_controller = null;\n  },\n\n  /** HTML - dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.audioBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">';\n\n    if (option.audioFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.audioBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" data-command=\"filesRemove\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.audioUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.audioBox.url + \"</label>\" + '<input class=\"ke-input-form ke-input-url\" type=\"text\" />' + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    html += \"\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** HTML - controller */\n  setController: function setController(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var link_btn = core.util.createElement(\"DIV\");\n    link_btn.className = \"ke-controller ke-controller-link\";\n    link_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-tooltip\">' + icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return link_btn;\n  },\n  // Disable url input when uploading files\n  _fileInputChange: function _fileInputChange() {\n    if (!this.audioInputFile.value) {\n      this.audioUrlFile.removeAttribute(\"disabled\");\n      this.preview.style.textDecoration = \"\";\n    } else {\n      this.audioUrlFile.setAttribute(\"disabled\", true);\n      this.preview.style.textDecoration = \"line-through\";\n    }\n  },\n  // Disable url input when uploading files\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, preview) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      preview.style.textDecoration = \"\";\n    }\n  },\n  // create new audio tag\n  _createAudioTag: function _createAudioTag() {\n    var oAudio = this.util.createElement(\"AUDIO\");\n\n    this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n    var w = this.context.audio._origin_w;\n    var h = this.context.audio._origin_h;\n    oAudio.setAttribute(\"origin-size\", w + \",\" + h);\n    oAudio.style.cssText = (w ? \"width:\" + w + \"; \" : \"\") + (h ? \"height:\" + h + \";\" : \"\");\n    return oAudio;\n  },\n  _setTagAttrs: function _setTagAttrs(element) {\n    element.setAttribute(\"controls\", true);\n    var attrs = this.options.audioTagAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n    context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n  },\n\n  /**\r\n   * @Required @Override fileManager\r\n   */\n  fileTags: [\"audio\"],\n\n  /**\r\n   * @Override core, fileManager, resizing\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.audio.onModifyMode.call(this, element);\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    element = element || this.context.audio._element;\n    var container = this.util.getParentElement(element, this.util.isComponent) || element;\n    var dataIndex = element.getAttribute(\"data-index\") * 1;\n    var focusEl = container.previousElementSibling || container.nextElementSibling;\n    var emptyDiv = container.parentNode;\n    this.util.removeItem(container);\n    this.plugins.audio.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // fileManager event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"audio\", dataIndex, this.functions.onAudioUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    this.plugins.fileManager.checkInfo.call(this, \"audio\", [\"audio\"], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"audio\", this.functions.onAudioUpload);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextAudio = this.context.audio;\n\n    if (!update) {\n      this.plugins.audio.init.call(this);\n\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else if (contextAudio._element) {\n      this.context.dialog.updateModal = true;\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.removeAttribute(\"multiple\");\n      }\n    } else {\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.removeAttribute(\"multiple\");\n      }\n    }\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"audio\", \"audio\" === this.currentControllerName);\n  },\n  submit: function submit(e) {\n    var contextAudio = this.context.audio;\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n        this.showLoading();\n        this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n      } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n        this.showLoading();\n        this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.audio.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/audio/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.audioUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var audiosInfo = this.context.audio._infoList;\n\n      for (var _i = 0, _len = audiosInfo.length; _i < _len; _i++) {\n        infoSize += audiosInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.audioUpload.fail] Size of uploadable total audios: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onAudioUploadError !== \"function\" || this.functions.onAudioUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextAudio = this.context.audio;\n    contextAudio._uploadFileLength = files.length;\n    var info = {\n      isUpdate: this.context.dialog.updateModal,\n      element: contextAudio._element\n    };\n\n    if (typeof this.functions.onAudioUploadBefore === \"function\") {\n      var result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.audio.register.call(this, info, data);\n        } else {\n          this.plugins.audio.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (_typeof(result) === \"object\" && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.audio.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onAudioUploadError !== \"function\" || this.functions.onAudioUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.audio.exception] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.audio.error.call(this, files, null);\n      return;\n    }\n\n    var audioUploadUrl = this.options.audioUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // create formData\n\n    var formData = new FormData();\n\n    for (var i = 0; i < filesLen; i++) {\n      formData.append(\"file-\" + i, files[i]);\n    } // server upload\n\n\n    this.plugins.fileManager.upload.call(this, audioUploadUrl, this.options.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n  },\n  callBack_upload: function callBack_upload(info, xmlHttp) {\n    if (typeof this.functions.audioUploadHandler === \"function\") {\n      this.functions.audioUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.audio.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.audio.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n\n    for (var i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n      if (info.isUpdate) {\n        oAudio = info.element;\n      } else {\n        oAudio = this.plugins.audio._createAudioTag.call(this);\n      }\n\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n      this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n    }\n\n    this.closeLoading();\n  },\n  setupUrl: function setupUrl(src) {\n    try {\n      if (src.length === 0) {\n        return false;\n      }\n\n      this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n    } catch (error) {\n      throw Error('[KothingEditor.audio.audio.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  create_audio: function create_audio(element, src, file, isUpdate) {\n    var contextAudio = this.context.audio; // create new tag\n\n    if (!isUpdate) {\n      element.src = src;\n      var cover = this.plugins.component.set_cover.call(this, element);\n      var container = this.plugins.component.set_container.call(this, cover, \"\");\n\n      if (!this.insertComponent(container, false, true, !this.options.mediaAutoSelect)) {\n        this.focus();\n        return;\n      }\n\n      if (!this.options.mediaAutoSelect) {\n        var line = this.appendFormatTag(container, null);\n        this.setRange(line, 0, line, 0);\n      }\n    } else {\n      // update\n      if (contextAudio._element) {\n        element = contextAudio._element;\n      }\n\n      if (element && element.src !== src) {\n        element.src = src;\n        this.selectComponent(element, \"audio\");\n      } else {\n        this.selectComponent(element, \"audio\");\n        return;\n      }\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"audio\", element, this.functions.onAudioUpload, file, false);\n\n    if (isUpdate) {\n      this.history.push(false);\n    }\n  },\n  updateCover: function updateCover(element) {\n    var contextAudio = this.context.audio;\n\n    this.plugins.audio._setTagAttrs.call(this, element); // find component element\n\n\n    var existElement = this.util.getParentElement(element, this.util.isMediaComponent) || this.util.getParentElement(element, function (current) {\n      return this.isWysiwygDiv(current.parentNode);\n    }.bind(this.util)); // clone element\n\n    var prevElement = element;\n    contextAudio._element = element = element.cloneNode(false);\n    var cover = this.plugins.component.set_cover.call(this, element);\n    var container = this.plugins.component.set_container.call(this, cover, \"ke-audio-container\");\n\n    try {\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(prevElement); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        existElement.parentNode.replaceChild(container, existElement);\n      }\n    } catch (error) {\n      console.warn(\"[KothingEditor.audio.error] Maybe the audio tag is nested.\", error);\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"audio\", element, this.functions.onAudioUpload, null, false);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(selectionTag) {\n    var contextAudio = this.context.audio;\n    this.setControllerPosition(contextAudio.controller, selectionTag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), \"audio\");\n    this.util.addClass(selectionTag, \"active\");\n    contextAudio._element = selectionTag;\n    contextAudio._cover = this.util.getParentElement(selectionTag, \"FIGURE\");\n    contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    if (this.context.audio.audioUrlFile) {\n      var contextAudio = this.context.audio;\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"audio\", true);\n    }\n  },\n  onClick_controller: function onClick_controller(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.plugins.audio.openModify.call(this, false);\n    } else {\n      /** delete */\n      this.plugins.audio.destroy.call(this, this.context.audio._element);\n    }\n\n    this.controllersOff();\n  },\n  onControllerOff: function onControllerOff(selectionTag) {\n    this.util.removeClass(selectionTag, \"active\");\n    this.context.audio.controller.style.display = \"none\";\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  init: function init() {\n    if (this.context.dialog.updateModal) {\n      return;\n    }\n\n    var contextAudio = this.context.audio;\n\n    if (contextAudio.audioInputFile) {\n      contextAudio.audioInputFile.value = \"\";\n    }\n\n    if (contextAudio.audioUrlFile) {\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = \"\";\n    }\n\n    if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n      contextAudio.audioUrlFile.removeAttribute(\"disabled\");\n      contextAudio.preview.style.textDecoration = \"\";\n    }\n\n    contextAudio._element = null;\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _anchor = _interopRequireDefault(require(\"../modules/anchor\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"link\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _anchor.default]);\n    var context = core.context;\n    var contextLink = context.link = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      _linkAnchor: null,\n      anchorCtx: null\n    };\n    /** link dialog */\n\n    var link_dialog = this.setDialog(core);\n    contextLink.modal = link_dialog;\n    /** link controller */\n\n    var link_controller = this.setController_LinkButton(core);\n    contextLink.linkController = link_controller;\n    link_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n    link_controller.addEventListener(\"click\", this.onClick_linkController.bind(core));\n    /** append html */\n\n    context.dialog.modal.appendChild(link_dialog);\n    /** append controller */\n\n    context.element.relative.appendChild(link_controller);\n    /** link event */\n\n    core.plugins.anchor.initEvent.call(core, \"link\", link_dialog);\n    contextLink.focusElement = context.anchor.caller.link.urlInput;\n    /** empty memory */\n\n    link_dialog = null, link_controller = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    var icons = core.icons;\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + \"<form>\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.linkBox.title + \"</span>\" + \"</div>\" + core.context.anchor.forms.innerHTML + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** modify controller button */\n  setController_LinkButton: function setController_LinkButton(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var link_btn = core.util.createElement(\"DIV\");\n    link_btn.className = \"ke-controller ke-controller-link\";\n    link_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.unlink + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.unlink + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return link_btn;\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"link\", \"link\" === this.currentControllerName);\n  },\n  submit: function submit(e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      var oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\n\n      if (!this.context.dialog.updateModal) {\n        var selectedFormats = this.getSelectedElements();\n\n        if (selectedFormats.length > 1) {\n          var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(oA);\n\n          if (!this.insertNode(oFormat, null, true)) {\n            return;\n          }\n        } else {\n          if (!this.insertNode(oA, null, true)) {\n            return;\n          }\n        }\n\n        this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n      } else {\n        // set range\n        var textNode = this.context.link._linkAnchor.childNodes[0];\n        this.setRange(textNode, 0, textNode, textNode.textContent.length);\n      }\n    } finally {\n      this.plugins.dialog.close.call(this);\n      this.closeLoading(); // history stack\n\n      this.history.push(false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n        this.controllersOff();\n      }\n    } else if (this.util.isAnchor(element) && element.getAttribute(\"data-image-link\") === null) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n        this.plugins.link.call_controller.call(this, element);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  on: function on(update) {\n    this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\n  },\n  call_controller: function call_controller(selectionATag) {\n    this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\n    var linkBtn = this.context.link.linkController;\n    var link = linkBtn.querySelector(\"a\");\n    link.href = selectionATag.href;\n    link.title = selectionATag.textContent;\n    link.textContent = selectionATag.textContent;\n    this.util.addClass(selectionATag, \"on\");\n    this.setControllerPosition(linkBtn, selectionATag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(linkBtn, selectionATag, \"link\", this.util.removeClass.bind(this.util, this.context.link._linkAnchor, \"on\"));\n  },\n  onClick_linkController: function onClick_linkController(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\") || e.target.parentNode.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.plugins.dialog.open.call(this, \"link\", true);\n    } else if (/unlink/.test(command)) {\n      var sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, false);\n      var ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, true);\n      this.setRange(sc, 0, ec, ec.textContent.length);\n      this.nodeChange(null, null, [\"A\"], false);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.link._linkAnchor);\n      this.context.anchor.caller.link.linkAnchor = null;\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n\n    this.controllersOff();\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    this.context.link.linkController.style.display = \"none\";\n    this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ckb\", {\n  enumerable: true,\n  get: function get() {\n    return _ckb.default;\n  }\n});\nObject.defineProperty(exports, \"da\", {\n  enumerable: true,\n  get: function get() {\n    return _da.default;\n  }\n});\nObject.defineProperty(exports, \"de\", {\n  enumerable: true,\n  get: function get() {\n    return _de.default;\n  }\n});\nObject.defineProperty(exports, \"en\", {\n  enumerable: true,\n  get: function get() {\n    return _en.default;\n  }\n});\nObject.defineProperty(exports, \"es\", {\n  enumerable: true,\n  get: function get() {\n    return _es.default;\n  }\n});\nObject.defineProperty(exports, \"fr\", {\n  enumerable: true,\n  get: function get() {\n    return _fr.default;\n  }\n});\nObject.defineProperty(exports, \"he\", {\n  enumerable: true,\n  get: function get() {\n    return _he.default;\n  }\n});\nObject.defineProperty(exports, \"it\", {\n  enumerable: true,\n  get: function get() {\n    return _it.default;\n  }\n});\nObject.defineProperty(exports, \"ja\", {\n  enumerable: true,\n  get: function get() {\n    return _ja.default;\n  }\n});\nObject.defineProperty(exports, \"ko\", {\n  enumerable: true,\n  get: function get() {\n    return _ko.default;\n  }\n});\nObject.defineProperty(exports, \"lv\", {\n  enumerable: true,\n  get: function get() {\n    return _lv.default;\n  }\n});\nObject.defineProperty(exports, \"pl\", {\n  enumerable: true,\n  get: function get() {\n    return _pl.default;\n  }\n});\nObject.defineProperty(exports, \"pt_br\", {\n  enumerable: true,\n  get: function get() {\n    return _pt_br.default;\n  }\n});\nObject.defineProperty(exports, \"ro\", {\n  enumerable: true,\n  get: function get() {\n    return _ro.default;\n  }\n});\nObject.defineProperty(exports, \"ru\", {\n  enumerable: true,\n  get: function get() {\n    return _ru.default;\n  }\n});\nObject.defineProperty(exports, \"se\", {\n  enumerable: true,\n  get: function get() {\n    return _se.default;\n  }\n});\nObject.defineProperty(exports, \"ua\", {\n  enumerable: true,\n  get: function get() {\n    return _ua.default;\n  }\n});\nObject.defineProperty(exports, \"zh_cn\", {\n  enumerable: true,\n  get: function get() {\n    return _zh_cn.default;\n  }\n});\nexports.default = void 0;\n\nvar _ckb = _interopRequireDefault(require(\"./ckb\"));\n\nvar _da = _interopRequireDefault(require(\"./da\"));\n\nvar _de = _interopRequireDefault(require(\"./de\"));\n\nvar _en = _interopRequireDefault(require(\"./en\"));\n\nvar _es = _interopRequireDefault(require(\"./es\"));\n\nvar _fr = _interopRequireDefault(require(\"./fr\"));\n\nvar _he = _interopRequireDefault(require(\"./he\"));\n\nvar _it = _interopRequireDefault(require(\"./it\"));\n\nvar _ja = _interopRequireDefault(require(\"./ja\"));\n\nvar _ko = _interopRequireDefault(require(\"./ko\"));\n\nvar _lv = _interopRequireDefault(require(\"./lv\"));\n\nvar _pl = _interopRequireDefault(require(\"./pl\"));\n\nvar _pt_br = _interopRequireDefault(require(\"./pt_br\"));\n\nvar _ro = _interopRequireDefault(require(\"./ro\"));\n\nvar _ru = _interopRequireDefault(require(\"./ru\"));\n\nvar _se = _interopRequireDefault(require(\"./se\"));\n\nvar _ua = _interopRequireDefault(require(\"./ua\"));\n\nvar _zh_cn = _interopRequireDefault(require(\"./zh_cn\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  ckb: _ckb.default,\n  da: _da.default,\n  de: _de.default,\n  en: _en.default,\n  es: _es.default,\n  fr: _fr.default,\n  he: _he.default,\n  it: _it.default,\n  ja: _ja.default,\n  ko: _ko.default,\n  lv: _lv.default,\n  pl: _pl.default,\n  pt_br: _pt_br.default,\n  ro: _ro.default,\n  ru: _ru.default,\n  se: _se.default,\n  ua: _ua.default,\n  zh_cn: _zh_cn.default\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _anchor = _interopRequireDefault(require(\"../modules/anchor\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _resizing = _interopRequireDefault(require(\"../modules/resizing\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"image\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _anchor.default, _component.default, _resizing.default, _fileManager.default]);\n    var options = core.options;\n    var context = core.context;\n    var contextImage = context.image = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      sizeUnit: options._imageSizeUnit,\n      _linkElement: \"\",\n      _altText: \"\",\n      _align: \"none\",\n      _floatClassRegExp: \"__ke__float\\\\-[a-z]+\",\n      _v_src: {\n        _linkValue: \"\"\n      },\n      svgDefaultSize: \"30%\",\n      base64RenderIndex: 0,\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null,\n      // @Override resizing properties\n      inputX: null,\n      inputY: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _defaultSizeX: \"auto\",\n      _defaultSizeY: \"auto\",\n      _origin_w: options.imageWidth === \"auto\" ? \"\" : options.imageWidth,\n      _origin_h: options.imageHeight === \"auto\" ? \"\" : options.imageHeight,\n      _proportionChecked: true,\n      _resizing: options.imageResizing,\n      _resizeDotHide: !options.imageHeightShow,\n      _rotation: options.imageRotation,\n      _onlyPercentage: options.imageSizeOnlyPercentage,\n      _ratio: false,\n      _ratioX: 1,\n      _ratioY: 1,\n      _captionShow: true,\n      _captionChecked: false,\n      _caption: null,\n      captionCheckEl: null\n    };\n    /** image dialog */\n\n    var image_dialog = this.setDialog(core);\n    contextImage.modal = image_dialog;\n    contextImage.imgInputFile = image_dialog.querySelector(\"._ke_image_file\");\n    contextImage.imgUrlFile = image_dialog.querySelector(\"._ke_image_url\");\n    contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n    contextImage.altText = image_dialog.querySelector(\"._ke_image_alt\");\n    contextImage.captionCheckEl = image_dialog.querySelector(\"._ke_image_check_caption\");\n    contextImage.previewSrc = image_dialog.querySelector(\"._ke_tab_content_image .ke-link-preview\");\n    /** add event listeners */\n\n    image_dialog.querySelector(\".ke-dialog-tabs\").addEventListener(\"click\", this.openTab.bind(core));\n    image_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextImage.imgInputFile) {\n      image_dialog.querySelector(\".ke-file-remove\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n    }\n\n    if (contextImage.imgUrlFile) {\n      contextImage.imgUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, options.linkProtocol));\n    }\n\n    if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n      contextImage.imgInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextImage));\n    }\n\n    var imageGalleryButton = image_dialog.querySelector(\".__ke__gallery\");\n\n    if (imageGalleryButton) {\n      imageGalleryButton.addEventListener(\"click\", this._openGallery.bind(core));\n    }\n\n    contextImage.proportion = {};\n    contextImage.inputX = {};\n    contextImage.inputY = {};\n\n    if (options.imageResizing) {\n      contextImage.proportion = image_dialog.querySelector(\"._ke_image_check_proportion\");\n      contextImage.inputX = image_dialog.querySelector(\"._ke_image_size_x\");\n      contextImage.inputY = image_dialog.querySelector(\"._ke_image_size_y\");\n      contextImage.inputX.value = options.imageWidth;\n      contextImage.inputY.value = options.imageHeight;\n      contextImage.inputX.addEventListener(\"keyup\", this.setInputSize.bind(core, \"x\"));\n      contextImage.inputY.addEventListener(\"keyup\", this.setInputSize.bind(core, \"y\"));\n      contextImage.inputX.addEventListener(\"change\", this.setRatio.bind(core));\n      contextImage.inputY.addEventListener(\"change\", this.setRatio.bind(core));\n      contextImage.proportion.addEventListener(\"change\", this.setRatio.bind(core));\n      image_dialog.querySelector(\".ke-dialog-btn-revert\").addEventListener(\"click\", this.sizeRevert.bind(core));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(image_dialog);\n    /** link event */\n\n    core.plugins.anchor.initEvent.call(core, \"image\", image_dialog.querySelector(\"._ke_tab_content_url\"));\n    contextImage.anchorCtx = core.context.anchor.caller.image;\n    /** empty memory */\n\n    image_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content ke-dialog-image\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.imageBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-tabs\">' + '<button type=\"button\" class=\"_ke_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + \"</button>\" + '<button type=\"button\" class=\"_ke_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + \"</button>\" + \"</div>\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"_ke_tab_content _ke_tab_content_image\">' + '<div class=\"ke-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n    if (option.imageFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.imageUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.url + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form ke-input-url _ke_image_url\" type=\"text\" />' + (option.imageGalleryUrl && core.plugins.imageGallery ? '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button __ke__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + core.icons.image_gallery + \"</button>\" : \"\") + \"</div>\" + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    html += \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.altText + '</label><input class=\"ke-input-form _ke_image_alt\" type=\"text\" />' + \"</div>\";\n\n    if (option.imageResizing) {\n      var onlyPercentage = option.imageSizeOnlyPercentage;\n      var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : \"\";\n      var heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : \"\";\n      html += '<div class=\"ke-dialog-form\">';\n\n      if (onlyPercentage || !option.imageHeightShow) {\n        html += \"\" + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.size + \"</label>\" + \"</div>\";\n      } else {\n        html += \"\" + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + \"</label>\" + '<label class=\"ke-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\">' + lang.dialogBox.height + \"</label>\" + \"</div>\";\n      }\n\n      html += \"\" + '<input class=\"ke-input-control _ke_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + \" />\" + '<label class=\"ke-dialog-size-x\"' + heightDisplay + \">\" + (onlyPercentage ? \"%\" : \"x\") + \"</label>\" + '<input type=\"text\" class=\"ke-input-control _ke_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : \"\") + heightDisplay + \"/>\" + \"<label\" + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + \"</label>\" + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"ke-btn ke-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + \"</button>\" + \"</div>\";\n    }\n\n    html += \"\" + '<div class=\"ke-dialog-form ke-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + \"</label>\" + \"</div>\" + \"</div>\" + \"</div>\" + '<div class=\"_ke_tab_content _ke_tab_content_url\" style=\"display: none\">' + core.context.anchor.forms.innerHTML + \"</div>\" + '<div class=\"ke-dialog-footer\">' + \"<div>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + \"</label>\" + \"</div>\" + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  _fileInputChange: function _fileInputChange() {\n    if (!this.imgInputFile.value) {\n      this.imgUrlFile.removeAttribute(\"disabled\");\n      this.previewSrc.style.textDecoration = \"\";\n    } else {\n      this.imgUrlFile.setAttribute(\"disabled\", true);\n      this.previewSrc.style.textDecoration = \"line-through\";\n    }\n  },\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, previewSrc) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      previewSrc.style.textDecoration = \"\";\n    }\n  },\n  _openGallery: function _openGallery() {\n    this.callPlugin(\"imageGallery\", this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n  },\n  _setUrlInput: function _setUrlInput(target) {\n    this.altText.value = target.alt;\n    this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n    this.imgUrlFile.focus();\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n    context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n  },\n\n  /**\r\n   * @Override @Required fileManager\r\n   */\n  fileTags: [\"img\"],\n\n  /**\r\n   * @Override core, fileManager, resizing\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, \"image\"));\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    var imageEl = element || this.context.image._element;\n    var imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n    var dataIndex = imageEl.getAttribute(\"data-index\") * 1;\n    var focusEl = imageContainer.previousElementSibling || imageContainer.nextElementSibling;\n    var emptyDiv = imageContainer.parentNode;\n    this.util.removeItem(imageContainer);\n    this.plugins.image.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"image\", dataIndex, this.functions.onImageUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextImage = this.context.image;\n\n    if (!update) {\n      contextImage.inputX.value = contextImage._origin_w = this.options.imageWidth === contextImage._defaultSizeX ? \"\" : this.options.imageWidth;\n      contextImage.inputY.value = contextImage._origin_h = this.options.imageHeight === contextImage._defaultSizeY ? \"\" : this.options.imageHeight;\n\n      if (contextImage.imgInputFile && this.options.imageMultipleFile) {\n        contextImage.imgInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else {\n      if (contextImage.imgInputFile && this.options.imageMultipleFile) {\n        contextImage.imgInputFile.removeAttribute(\"multiple\");\n      }\n    }\n\n    this.plugins.anchor.on.call(this, contextImage.anchorCtx, update);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"image\", \"image\" === this.currentControllerName);\n  },\n  openTab: function openTab(e) {\n    var modal = this.context.image.modal;\n    var targetElement = e === \"init\" ? modal.querySelector(\"._ke_tab_link\") : e.target;\n\n    if (!/^BUTTON$/i.test(targetElement.tagName)) {\n      return false;\n    } // Declare all variables\n\n\n    var tabName = targetElement.getAttribute(\"data-tab-link\");\n    var contentClassName = \"_ke_tab_content\";\n    var i, tabContent, tabLinks; // Get all elements with class=\"tabcontent\" and hide them\n\n    tabContent = modal.getElementsByClassName(contentClassName);\n\n    for (i = 0; i < tabContent.length; i++) {\n      tabContent[i].style.display = \"none\";\n    } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n    tabLinks = modal.getElementsByClassName(\"_ke_tab_link\");\n\n    for (i = 0; i < tabLinks.length; i++) {\n      this.util.removeClass(tabLinks[i], \"active\");\n    } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n    modal.querySelector(\".\" + contentClassName + \"_\" + tabName).style.display = \"block\";\n    this.util.addClass(targetElement, \"active\"); // focus\n\n    if (tabName === \"image\" && this.context.image.focusElement) {\n      this.context.image.focusElement.focus();\n    } else if (tabName === \"url\") {\n      this.context.anchor.caller.image.urlInput.focus();\n    }\n\n    return false;\n  },\n  submit: function submit(e) {\n    var contextImage = this.context.image;\n    var imagePlugin = this.plugins.image;\n    e.preventDefault();\n    e.stopPropagation();\n    contextImage._altText = contextImage.altText.value;\n    contextImage._align = contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"]:checked').value;\n    contextImage._captionChecked = contextImage.captionCheckEl.checked;\n\n    if (contextImage._resizing) {\n      contextImage._proportionChecked = contextImage.proportion.checked;\n    }\n\n    try {\n      if (this.context.dialog.updateModal) {\n        imagePlugin.update_image.call(this, false, true, false);\n      }\n\n      if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n        this.showLoading();\n        imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n      } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n        this.showLoading();\n        imagePlugin.onRender_imgUrl.call(this);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.image.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/image/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.imageUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var imagesInfo = this.context.image._infoList;\n\n      for (var _i = 0, _len = imagesInfo.length; _i < _len; _i++) {\n        infoSize += imagesInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.imageUpload.fail] Size of uploadable total images: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onImageUploadError !== \"function\" || this.functions.onImageUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextImage = this.context.image;\n    contextImage._uploadFileLength = files.length;\n    var anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n    var info = {\n      anchor: anchor,\n      inputWidth: contextImage.inputX.value,\n      inputHeight: contextImage.inputY.value,\n      align: contextImage._align,\n      isUpdate: this.context.dialog.updateModal,\n      element: contextImage._element\n    };\n\n    if (typeof this.functions.onImageUploadBefore === \"function\") {\n      var result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.image.register.call(this, info, data);\n        } else {\n          this.plugins.image.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (this._w.Array.isArray(result) && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.image.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onImageUploadError !== \"function\" || this.functions.onImageUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.image.error] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.image.error.call(this, files, null);\n      return;\n    }\n\n    var imageUploadUrl = this.options.imageUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n    if (typeof imageUploadUrl === \"string\" && imageUploadUrl.length > 0) {\n      var formData = new FormData();\n\n      for (var i = 0; i < filesLen; i++) {\n        formData.append(\"file-\" + i, files[i]);\n      }\n\n      this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n    } else {\n      // base64\n      this.plugins.image.setup_reader.call(this, files, info.anchor, info.inputWidth, info.inputHeight, info.align, filesLen, info.isUpdate);\n    }\n  },\n  callBack_imgUpload: function callBack_imgUpload(info, xmlHttp) {\n    if (typeof this.functions.imageUploadHandler === \"function\") {\n      this.functions.imageUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.image.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.image.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n\n    for (var i = 0, len = fileList.length, file; i < len; i++) {\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n\n      if (info.isUpdate) {\n        this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n        break;\n      } else {\n        this.plugins.image.create_image.call(this, fileList[i].url, info.anchor, info.inputWidth, info.inputHeight, info.align, file);\n      }\n    }\n\n    this.closeLoading();\n  },\n  setup_reader: function setup_reader(files, anchor, width, height, align, filesLen, isUpdate) {\n    var _this = this;\n\n    try {\n      (function () {\n        _this.context.image.base64RenderIndex = filesLen;\n        var wFileReader = _this._w.FileReader;\n        var filesStack = [filesLen];\n        _this.context.image.inputX.value = width;\n        _this.context.image.inputY.value = height;\n\n        for (var i = 0, reader, file; i < filesLen; i++) {\n          reader = new wFileReader();\n          file = files[i];\n\n          reader.onload = function (reader, update, updateElement, file, index) {\n            filesStack[index] = {\n              result: reader.result,\n              file: file\n            };\n\n            if (--this.context.image.base64RenderIndex === 0) {\n              this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, anchor, width, height, align);\n              this.closeLoading();\n            }\n          }.bind(_this, reader, isUpdate, _this.context.image._element, file, i);\n\n          reader.readAsDataURL(file);\n        }\n      })();\n    } catch (e) {\n      this.closeLoading();\n      throw Error('[KothingEditor.image.setup_reader.fail] cause : \"' + e.message + '\"');\n    }\n  },\n  onRender_imgBase64: function onRender_imgBase64(update, filesStack, updateElement, anchor, width, height, align) {\n    var updateMethod = this.plugins.image.update_src;\n    var createMethod = this.plugins.image.create_image;\n\n    for (var i = 0, len = filesStack.length; i < len; i++) {\n      if (update) {\n        this.context.image._element.setAttribute(\"data-file-name\", filesStack[i].file.name);\n\n        this.context.image._element.setAttribute(\"data-file-size\", filesStack[i].file.size);\n\n        updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\n      } else {\n        createMethod.call(this, filesStack[i].result, anchor, width, height, align, filesStack[i].file);\n      }\n    }\n  },\n  onRender_imgUrl: function onRender_imgUrl() {\n    var contextImage = this.context.image;\n\n    if (contextImage._v_src._linkValue.length === 0) {\n      return false;\n    }\n\n    try {\n      var file = {\n        name: contextImage._v_src._linkValue.split(\"/\").pop(),\n        size: 0\n      };\n\n      if (this.context.dialog.updateModal) {\n        this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);\n      } else {\n        this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true), contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n      }\n    } catch (e) {\n      throw Error('[KothingEditor.image.URLRendering.fail] cause : \"' + e.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  onRender_link: function onRender_link(imgTag, anchor) {\n    if (anchor) {\n      anchor.setAttribute(\"data-image-link\", \"image\");\n      imgTag.setAttribute(\"data-image-link\", anchor.href);\n      anchor.appendChild(imgTag);\n      return anchor;\n    }\n\n    return imgTag;\n  },\n\n  /**\r\n   * @Override resizing\r\n   * @param {String} xy 'x': width, 'y': height\r\n   * @param {KeyboardEvent} e Event object\r\n   */\n  setInputSize: function setInputSize(xy, e) {\n    if (e && e.keyCode === 32) {\n      e.preventDefault();\n      return;\n    }\n\n    this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setRatio: function setRatio() {\n    this.plugins.resizing._module_setRatio.call(this, this.context.image);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    var imagePlugin = this.plugins.image;\n    var contextImage = this.context.image;\n\n    var modifyHandler = function (tag) {\n      imagePlugin.onModifyMode.call(this, tag, null);\n      imagePlugin.openModify.call(this, true); // get size\n\n      contextImage.inputX.value = contextImage._origin_w;\n      contextImage.inputY.value = contextImage._origin_h; // get align\n\n      var format = this.util.getFormatElement(tag);\n\n      if (format) {\n        contextImage._align = format.style.textAlign || format.style.float;\n      } // link\n\n\n      var link = this.util.getParentElement(tag, this.util.isAnchor);\n\n      if (link && !contextImage.anchorCtx.linkValue) {\n        contextImage.anchorCtx.linkValue = \" \";\n      }\n\n      imagePlugin.update_image.call(this, true, false, true);\n    }.bind(this);\n\n    this.plugins.fileManager.checkInfo.call(this, \"image\", [\"img\"], this.functions.onImageUpload, modifyHandler, true);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"image\", this.functions.onImageUpload);\n  },\n  create_image: function create_image(src, anchor, width, height, align, file) {\n    var imagePlugin = this.plugins.image;\n    var contextImage = this.context.image;\n    this.context.resizing._resize_plugin = \"image\";\n    var oImg = this.util.createElement(\"IMG\");\n    oImg.src = src;\n    oImg.alt = contextImage._altText;\n    oImg.setAttribute(\"data-rotate\", \"0\");\n    anchor = imagePlugin.onRender_link.call(this, oImg, anchor);\n\n    if (contextImage._resizing) {\n      oImg.setAttribute(\"data-proportion\", contextImage._proportionChecked);\n    }\n\n    var cover = this.plugins.component.set_cover.call(this, anchor);\n    var container = this.plugins.component.set_container.call(this, cover, \"ke-image-container\"); // caption\n\n    if (contextImage._captionChecked) {\n      contextImage._caption = this.plugins.component.create_caption.call(this);\n\n      contextImage._caption.setAttribute(\"contenteditable\", false);\n\n      cover.appendChild(contextImage._caption);\n    }\n\n    contextImage._element = oImg;\n    contextImage._cover = cover;\n    contextImage._container = container; // set size\n\n    imagePlugin.applySize.call(this, width, height); // align\n\n    imagePlugin.setAlign.call(this, align, oImg, cover, container);\n    oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize, container);\n\n    if (this.insertComponent(container, true, true, true)) {\n      this.plugins.fileManager.setInfo.call(this, \"image\", oImg, this.functions.onImageUpload, file, true);\n    }\n\n    this.context.resizing._resize_plugin = \"\";\n  },\n  _image_create_onload: function _image_create_onload(oImg, svgDefaultSize, container) {\n    // svg exception handling\n    if (oImg.offsetWidth === 0) {\n      this.plugins.image.applySize.call(this, svgDefaultSize, \"\");\n    }\n\n    if (this.options.mediaAutoSelect) {\n      this.selectComponent(oImg, \"image\");\n    } else {\n      var line = this.appendFormatTag(container, null);\n      this.setRange(line, 0, line, 0);\n    }\n  },\n  update_image: function update_image(init, openController, notHistoryPush) {\n    var contextImage = this.context.image;\n    var imageEl = contextImage._element;\n    var cover = contextImage._cover;\n    var container = contextImage._container;\n    var isNewContainer = false;\n\n    if (cover === null) {\n      isNewContainer = true;\n      imageEl = contextImage._element.cloneNode(true);\n      cover = this.plugins.component.set_cover.call(this, imageEl);\n    }\n\n    if (container === null) {\n      cover = cover.cloneNode(true);\n      imageEl = cover.querySelector(\"img\");\n      isNewContainer = true;\n      container = this.plugins.component.set_container.call(this, cover, \"ke-image-container\");\n    } else if (isNewContainer) {\n      container.innerHTML = \"\";\n      container.appendChild(cover);\n      contextImage._cover = cover;\n      contextImage._element = imageEl;\n      isNewContainer = false;\n    } // check size\n\n\n    var changeSize;\n    var x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n    var y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n\n    if (/%$/.test(imageEl.style.width)) {\n      changeSize = x !== container.style.width || y !== container.style.height;\n    } else {\n      changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n    } // alt\n\n\n    imageEl.alt = contextImage._altText; // caption\n\n    var modifiedCaption = false;\n\n    if (contextImage._captionChecked) {\n      if (!contextImage._caption) {\n        contextImage._caption = this.plugins.component.create_caption.call(this);\n        cover.appendChild(contextImage._caption);\n        modifiedCaption = true;\n      }\n    } else {\n      if (contextImage._caption) {\n        this.util.removeItem(contextImage._caption);\n        contextImage._caption = null;\n        modifiedCaption = true;\n      }\n    } // link\n\n\n    var anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n\n    if (anchor) {\n      contextImage._linkElement = contextImage._linkElement === anchor ? anchor.cloneNode(false) : anchor;\n      cover.insertBefore(this.plugins.image.onRender_link.call(this, imageEl, contextImage._linkElement), contextImage._caption);\n    } else if (contextImage._linkElement !== null) {\n      var imageElement = imageEl;\n      imageElement.setAttribute(\"data-image-link\", \"\");\n\n      if (cover.contains(contextImage._linkElement)) {\n        var newEl = imageElement.cloneNode(true);\n        cover.removeChild(contextImage._linkElement);\n        cover.insertBefore(newEl, contextImage._caption);\n        imageEl = newEl;\n      }\n    }\n\n    if (isNewContainer) {\n      var existElement = this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode) ? contextImage._element : /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(contextImage._element); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        if (this.util.isFormatElement(existElement.parentNode)) {\n          var formats = existElement.parentNode;\n          formats.parentNode.insertBefore(container, existElement.previousSibling ? formats.nextElementSibling : formats);\n          this.util.removeItem(existElement);\n        } else {\n          existElement.parentNode.replaceChild(container, existElement);\n        }\n      }\n\n      imageEl = container.querySelector(\"img\");\n      contextImage._element = imageEl;\n      contextImage._cover = cover;\n      contextImage._container = container;\n    } // transform\n\n\n    if (modifiedCaption || !contextImage._onlyPercentage && changeSize) {\n      if (!init && (/\\d+/.test(imageEl.style.height) || this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n        if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n          this.plugins.resizing.resetTransform.call(this, imageEl);\n        } else {\n          this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n        }\n      }\n    } // size\n\n\n    if (contextImage._resizing) {\n      imageEl.setAttribute(\"data-proportion\", contextImage._proportionChecked);\n\n      if (changeSize) {\n        this.plugins.image.applySize.call(this);\n      }\n    } // align\n\n\n    this.plugins.image.setAlign.call(this, null, imageEl, null, null); // set imagesInfo\n\n    if (init) {\n      this.plugins.fileManager.setInfo.call(this, \"image\", imageEl, this.functions.onImageUpload, null, true);\n    }\n\n    if (openController) {\n      this.selectComponent(imageEl, \"image\");\n    } // history stack\n\n\n    if (!notHistoryPush) {\n      this.history.push(false);\n    }\n  },\n  update_src: function update_src(src, element, file) {\n    element.src = src;\n\n    this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, \"image\", element, this.functions.onImageUpload, file, true));\n\n    this.selectComponent(element, \"image\");\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(element, size) {\n    if (!element) {\n      return;\n    }\n\n    var contextImage = this.context.image;\n    contextImage._linkElement = contextImage.anchorCtx.linkAnchor = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n    contextImage._element = element;\n    contextImage._cover = this.util.getParentElement(element, \"FIGURE\");\n    contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n    contextImage._caption = this.util.getChildElement(contextImage._cover, \"FIGCAPTION\");\n    contextImage._align = element.style.float || element.getAttribute(\"data-align\") || \"none\";\n    element.style.float = \"\";\n    this.plugins.anchor.setCtx(contextImage._linkElement, contextImage.anchorCtx);\n\n    if (size) {\n      contextImage._element_w = size.w;\n      contextImage._element_h = size.h;\n      contextImage._element_t = size.t;\n      contextImage._element_l = size.l;\n    }\n\n    var userSize = contextImage._element.getAttribute(\"data-size\") || contextImage._element.getAttribute(\"data-origin\");\n\n    var w, h;\n\n    if (userSize) {\n      userSize = userSize.split(\",\");\n      w = userSize[0];\n      h = userSize[1];\n    } else if (size) {\n      w = size.w;\n      h = size.h;\n    }\n\n    contextImage._origin_w = w || element.style.width || element.width || \"\";\n    contextImage._origin_h = h || element.style.height || element.height || \"\";\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    var contextImage = this.context.image;\n\n    if (contextImage.imgUrlFile) {\n      contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n    }\n\n    contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n    contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n    contextImage._align = contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"]:checked').value;\n    contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n    if (contextImage._resizing) {\n      this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"image\", true);\n    }\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  applySize: function applySize(w, h) {\n    var contextImage = this.context.image;\n\n    if (!w) {\n      w = contextImage.inputX.value || this.options.imageWidth;\n    }\n\n    if (!h) {\n      h = contextImage.inputY.value || this.options.imageHeight;\n    }\n\n    if (contextImage._onlyPercentage && !!w || /%$/.test(w)) {\n      this.plugins.image.setPercentSize.call(this, w, h);\n      return true;\n    } else if ((!w || w === \"auto\") && (!h || h === \"auto\")) {\n      this.plugins.image.setAutoSize.call(this);\n    } else {\n      this.plugins.image.setSize.call(this, w, h, false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  sizeRevert: function sizeRevert() {\n    this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setSize: function setSize(w, h, notResetPercentage, direction) {\n    var contextImage = this.context.image;\n    var onlyW = /^(rw|lw)$/.test(direction);\n    var onlyH = /^(th|bh)$/.test(direction);\n\n    if (!onlyH) {\n      contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n      this.plugins.image.cancelPercentAttr.call(this);\n    }\n\n    if (!onlyW) {\n      contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? \"\" : h;\n    }\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n\n    if (!notResetPercentage) {\n      contextImage._element.removeAttribute(\"data-percentage\");\n    } // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAutoSize: function setAutoSize() {\n    var contextImage = this.context.image;\n    this.plugins.resizing.resetTransform.call(this, contextImage._element);\n    this.plugins.image.cancelPercentAttr.call(this);\n    contextImage._element.style.maxWidth = \"\";\n    contextImage._element.style.width = \"\";\n    contextImage._element.style.height = \"\";\n    contextImage._cover.style.width = \"\";\n    contextImage._cover.style.height = \"\";\n    this.plugins.image.setAlign.call(this, null, null, null, null);\n\n    contextImage._element.setAttribute(\"data-percentage\", \"auto,auto\"); // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setOriginSize: function setOriginSize() {\n    var contextImage = this.context.image;\n\n    contextImage._element.removeAttribute(\"data-percentage\");\n\n    this.plugins.resizing.resetTransform.call(this, contextImage._element);\n    this.plugins.image.cancelPercentAttr.call(this);\n    var originSize = (contextImage._element.getAttribute(\"data-origin\") || \"\").split(\",\");\n    var w = originSize[0];\n    var h = originSize[1];\n\n    if (originSize) {\n      if (contextImage._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n        this.plugins.image.setPercentSize.call(this, w, h);\n      } else {\n        this.plugins.image.setSize.call(this, w, h);\n      } // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setPercentSize: function setPercentSize(w, h) {\n    var contextImage = this.context.image;\n    h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + \"%\" : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : h || \"\";\n    var heightPercentage = /%$/.test(h);\n    contextImage._container.style.width = this.util.isNumber(w) ? w + \"%\" : w;\n    contextImage._container.style.height = \"\";\n    contextImage._cover.style.width = \"100%\";\n    contextImage._cover.style.height = !heightPercentage ? \"\" : h;\n    contextImage._element.style.width = \"100%\";\n    contextImage._element.style.height = heightPercentage ? \"\" : h;\n    contextImage._element.style.maxWidth = \"\";\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n\n    contextImage._element.setAttribute(\"data-percentage\", w + \",\" + h);\n\n    this.plugins.resizing.setCaptionPosition.call(this, contextImage._element); // save current size\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  cancelPercentAttr: function cancelPercentAttr() {\n    var contextImage = this.context.image;\n    contextImage._cover.style.width = \"\";\n    contextImage._cover.style.height = \"\";\n    contextImage._container.style.width = \"\";\n    contextImage._container.style.height = \"\";\n    this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n    this.util.addClass(contextImage._container, \"__ke__float-\" + contextImage._align);\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAlign: function setAlign(align, element, cover, container) {\n    var contextImage = this.context.image;\n\n    if (!align) {\n      align = contextImage._align;\n    }\n\n    if (!element) {\n      element = contextImage._element;\n    }\n\n    if (!cover) {\n      cover = contextImage._cover;\n    }\n\n    if (!container) {\n      container = contextImage._container;\n    }\n\n    if (align && align !== \"none\") {\n      cover.style.margin = \"auto\";\n    } else {\n      cover.style.margin = \"0\";\n    }\n\n    if (/%$/.test(element.style.width) && align === \"center\") {\n      container.style.minWidth = \"100%\";\n      cover.style.width = container.style.width;\n    } else {\n      container.style.minWidth = \"\";\n      cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : !element.style.width || element.style.width === \"auto\" ? \"\" : element.style.width || \"100%\";\n    }\n\n    if (!this.util.hasClass(container, \"__ke__float-\" + align)) {\n      this.util.removeClass(container, contextImage._floatClassRegExp);\n      this.util.addClass(container, \"__ke__float-\" + align);\n    }\n\n    element.setAttribute(\"data-align\", align);\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    var contextImage = this.context.image;\n\n    if (contextImage.imgInputFile) {\n      contextImage.imgInputFile.value = \"\";\n    }\n\n    if (contextImage.imgUrlFile) {\n      contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = \"\";\n    }\n\n    if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n      contextImage.imgUrlFile.removeAttribute(\"disabled\");\n      contextImage.previewSrc.style.textDecoration = \"\";\n    }\n\n    contextImage.altText.value = \"\";\n    contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"][value=\"none\"]').checked = true;\n    contextImage.captionCheckEl.checked = false;\n    contextImage._element = null;\n    this.plugins.image.openTab.call(this, \"init\");\n\n    if (contextImage._resizing) {\n      contextImage.inputX.value = this.options.imageWidth === contextImage._defaultSizeX ? \"\" : this.options.imageWidth;\n      contextImage.inputY.value = this.options.imageHeight === contextImage._defaultSizeY ? \"\" : this.options.imageHeight;\n      contextImage.proportion.checked = true;\n      contextImage._ratio = false;\n      contextImage._ratioX = 1;\n      contextImage._ratioY = 1;\n    }\n\n    this.plugins.anchor.init.call(this, contextImage.anchorCtx);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"align\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var icons = core.icons;\n    var context = core.context;\n    context.align = {\n      targetButton: targetElement,\n      _alignList: null,\n      currentAlign: \"\",\n      defaultDir: core.options.rtl ? \"right\" : \"left\",\n      icons: {\n        justify: icons.align_justify,\n        left: icons.align_left,\n        right: icons.align_right,\n        center: icons.align_center\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.align._alignList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var listDiv = core.util.createElement(\"DIV\");\n    var leftDir = core.context.align.defaultDir === \"left\";\n    var leftMenu = \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' + '<span class=\"ke-list-icon\">' + icons.align_left + \"</span>\" + lang.toolbar.alignLeft + \"</button>\" + \"</li>\";\n    var rightMenu = \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' + '<span class=\"ke-list-icon\">' + icons.align_right + \"</span>\" + lang.toolbar.alignRight + \"</button>\" + \"</li>\";\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-align\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + (leftDir ? leftMenu : rightMenu) + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' + '<span class=\"ke-list-icon\">' + icons.align_center + \"</span>\" + lang.toolbar.alignCenter + \"</button>\" + \"</li>\" + (leftDir ? rightMenu : leftMenu) + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' + '<span class=\"ke-list-icon\">' + icons.align_justify + \"</span>\" + lang.toolbar.alignJustify + \"</button>\" + \"</li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var alignContext = this.context.align;\n    var targetButton = alignContext.targetButton;\n    var target = targetButton.firstElementChild;\n\n    if (!element) {\n      this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n      targetButton.removeAttribute(\"data-focus\");\n    } else if (this.util.isFormatElement(element)) {\n      var textAlign = element.style.textAlign;\n\n      if (textAlign) {\n        this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\n        targetButton.setAttribute(\"data-focus\", textAlign);\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var alignContext = this.context.align;\n    var alignList = alignContext._alignList;\n    var currentAlign = alignContext.targetButton.getAttribute(\"data-focus\") || alignContext.defaultDir;\n\n    if (currentAlign !== alignContext.currentAlign) {\n      for (var i = 0, len = alignList.length; i < len; i++) {\n        if (currentAlign === alignList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(alignList[i], \"active\");\n        } else {\n          this.util.removeClass(alignList[i], \"active\");\n        }\n      }\n\n      alignContext.currentAlign = currentAlign;\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var defaultDir = this.context.align.defaultDir;\n    var selectedFormsts = this.getSelectedElements();\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      this.util.setStyle(selectedFormsts[i], \"textAlign\", value === defaultDir ? \"\" : value);\n    }\n\n    this.effectNode = null;\n    this.submenuOff();\n    this.focus(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","import VIcon from './VIcon'\n\nexport { VIcon }\nexport default VIcon\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"se\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Spara\",\n      font: \"Typsnitt\",\n      formats: \"Format\",\n      fontSize: \"Textstorlek\",\n      bold: \"Fet\",\n      underline: \"Understruket\",\n      italic: \"Kursiv\",\n      strike: \"Överstruket\",\n      subscript: \"Sänkt skrift\",\n      superscript: \"Höjd skrift\",\n      removeFormat: \"Ta bort formattering\",\n      fontColor: \"Textfärg\",\n      hiliteColor: \"Bakgrundsfärg\",\n      indent: \"Minska indrag\",\n      outdent: \"Öka indrag\",\n      align: \"Justering\",\n      alignLeft: \"Vänsterjustering\",\n      alignRight: \"Högerjustering\",\n      alignCenter: \"Mittenjusteirng\",\n      alignJustify: \"Justera indrag\",\n      list: \"Listor\",\n      orderList: \"Numrerad lista\",\n      unorderList: \"Oordnad lista\",\n      horizontalRule: \"Horisontell linje\",\n      hr_solid: \"Solid\",\n      hr_dotted: \"Punkter\",\n      hr_dashed: \"Prickad\",\n      table: \"Tabell\",\n      link: \"Länk\",\n      math: \"Math\",\n      image: \"Bild\",\n      video: \"Video\",\n      audio: \"Ljud\",\n      fullScreen: \"Helskärm\",\n      showBlocks: \"Visa block\",\n      codeView: \"Visa koder\",\n      undo: \"Ångra\",\n      redo: \"Gör om\",\n      preview: \"Preview\",\n      print: \"Print\",\n      tag_p: \"Paragraf\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Rubrik\",\n      tag_blockquote: \"Citer\",\n      tag_pre: \"Kod\",\n      template: \"Mall\",\n      lineHeight: \"Linjehöjd\",\n      paragraphStyle: \"Stil på stycke\",\n      textStyle: \"Textstil\",\n      imageGallery: \"Bildgalleri\",\n      mention: \"Namn\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Lägg till länk\",\n        url: \"URL till länk\",\n        text: \"Länktext\",\n        newWindowCheck: \"Öppna i nytt fönster\",\n        downloadLinkCheck: \"Nedladdningslänk\",\n        bookmark: \"Bokmärke\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Matematisk notation\",\n        fontSizeLabel: \"Textstorlek\",\n        previewLabel: \"Preview\"\n      },\n      imageBox: {\n        title: \"Lägg till bild\",\n        file: \"Lägg till från fil\",\n        url: \"Lägg till från URL\",\n        altText: \"Alternativ text\"\n      },\n      videoBox: {\n        title: \"Lägg till video\",\n        file: \"Lägg till från fil\",\n        url: \"Bädda in video / YouTube,Vimeo\"\n      },\n      audioBox: {\n        title: \"Lägg till ljud\",\n        file: \"Lägg till från fil\",\n        url: \"Lägg till från URL\"\n      },\n      browser: {\n        tags: \"Tags\",\n        search: \"Sök\"\n      },\n      caption: \"Lägg till beskrivning\",\n      close: \"Stäng\",\n      submitButton: \"Skicka\",\n      revertButton: \"Återgå\",\n      proportion: \"Spara proportioner\",\n      basic: \"Basic\",\n      left: \"Vänster\",\n      right: \"Höger\",\n      center: \"Center\",\n      width: \"Bredd\",\n      height: \"Höjd\",\n      size: \"Storlek\",\n      ratio: \"Förhållande\"\n    },\n    controller: {\n      edit: \"Redigera\",\n      unlink: \"Ta bort länk\",\n      remove: \"Ta bort\",\n      insertRowAbove: \"Lägg till rad över\",\n      insertRowBelow: \"Lägg till rad under\",\n      deleteRow: \"Ta bort rad\",\n      insertColumnBefore: \"Lägg till kolumn före\",\n      insertColumnAfter: \"Lägg till kolumn efter\",\n      deleteColumn: \"Ta bort kolumner\",\n      fixedColumnWidth: \"Fast kolumnbredd\",\n      resize100: \"Förstora 100%\",\n      resize75: \"Förstora 75%\",\n      resize50: \"Förstora 50%\",\n      resize25: \"Förstora 25%\",\n      autoSize: \"Autostorlek\",\n      mirrorHorizontal: \"Spegling, horisontell\",\n      mirrorVertical: \"Spegling, vertikal\",\n      rotateLeft: \"Rotera till vänster\",\n      rotateRight: \"Rotera till höger\",\n      maxSize: \"Maxstorlek\",\n      minSize: \"Minsta storlek\",\n      tableHeader: \"Rubrik tabell\",\n      mergeCells: \"Sammanfoga celler (merge)\",\n      splitCells: \"Separera celler\",\n      HorizontalSplit: \"Separera horisontalt\",\n      VerticalSplit: \"Separera vertikalt\"\n    },\n    menu: {\n      spaced: \"Avstånd\",\n      bordered: \"Avgränsningslinje\",\n      neon: \"Neon\",\n      translucent: \"Genomskinlig\",\n      shadow: \"Skugga\",\n      code: \"Kod\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"se\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"blockquote\", {\n  enumerable: true,\n  get: function get() {\n    return _blockquote.default;\n  }\n});\nObject.defineProperty(exports, \"align\", {\n  enumerable: true,\n  get: function get() {\n    return _align.default;\n  }\n});\nObject.defineProperty(exports, \"font\", {\n  enumerable: true,\n  get: function get() {\n    return _font.default;\n  }\n});\nObject.defineProperty(exports, \"fontSize\", {\n  enumerable: true,\n  get: function get() {\n    return _fontSize.default;\n  }\n});\nObject.defineProperty(exports, \"fontColor\", {\n  enumerable: true,\n  get: function get() {\n    return _fontColor.default;\n  }\n});\nObject.defineProperty(exports, \"hiliteColor\", {\n  enumerable: true,\n  get: function get() {\n    return _hiliteColor.default;\n  }\n});\nObject.defineProperty(exports, \"horizontalRule\", {\n  enumerable: true,\n  get: function get() {\n    return _horizontalRule.default;\n  }\n});\nObject.defineProperty(exports, \"list\", {\n  enumerable: true,\n  get: function get() {\n    return _list.default;\n  }\n});\nObject.defineProperty(exports, \"table\", {\n  enumerable: true,\n  get: function get() {\n    return _table.default;\n  }\n});\nObject.defineProperty(exports, \"formatBlock\", {\n  enumerable: true,\n  get: function get() {\n    return _formatBlock.default;\n  }\n});\nObject.defineProperty(exports, \"lineHeight\", {\n  enumerable: true,\n  get: function get() {\n    return _lineHeight.default;\n  }\n});\nObject.defineProperty(exports, \"template\", {\n  enumerable: true,\n  get: function get() {\n    return _template.default;\n  }\n});\nObject.defineProperty(exports, \"paragraphStyle\", {\n  enumerable: true,\n  get: function get() {\n    return _paragraphStyle.default;\n  }\n});\nObject.defineProperty(exports, \"textStyle\", {\n  enumerable: true,\n  get: function get() {\n    return _textStyle.default;\n  }\n});\nObject.defineProperty(exports, \"link\", {\n  enumerable: true,\n  get: function get() {\n    return _link.default;\n  }\n});\nObject.defineProperty(exports, \"image\", {\n  enumerable: true,\n  get: function get() {\n    return _image.default;\n  }\n});\nObject.defineProperty(exports, \"video\", {\n  enumerable: true,\n  get: function get() {\n    return _video.default;\n  }\n});\nObject.defineProperty(exports, \"audio\", {\n  enumerable: true,\n  get: function get() {\n    return _audio.default;\n  }\n});\nObject.defineProperty(exports, \"math\", {\n  enumerable: true,\n  get: function get() {\n    return _math.default;\n  }\n});\nObject.defineProperty(exports, \"imageGallery\", {\n  enumerable: true,\n  get: function get() {\n    return _imageGallery.default;\n  }\n});\nexports.default = void 0;\n\nvar _blockquote = _interopRequireDefault(require(\"./command/blockquote\"));\n\nvar _align = _interopRequireDefault(require(\"./submenu/align\"));\n\nvar _font = _interopRequireDefault(require(\"./submenu/font\"));\n\nvar _fontSize = _interopRequireDefault(require(\"./submenu/fontSize\"));\n\nvar _fontColor = _interopRequireDefault(require(\"./submenu/fontColor\"));\n\nvar _hiliteColor = _interopRequireDefault(require(\"./submenu/hiliteColor\"));\n\nvar _horizontalRule = _interopRequireDefault(require(\"./submenu/horizontalRule\"));\n\nvar _list = _interopRequireDefault(require(\"./submenu/list\"));\n\nvar _table = _interopRequireDefault(require(\"./submenu/table\"));\n\nvar _formatBlock = _interopRequireDefault(require(\"./submenu/formatBlock\"));\n\nvar _lineHeight = _interopRequireDefault(require(\"./submenu/lineHeight\"));\n\nvar _template = _interopRequireDefault(require(\"./submenu/template\"));\n\nvar _paragraphStyle = _interopRequireDefault(require(\"./submenu/paragraphStyle\"));\n\nvar _textStyle = _interopRequireDefault(require(\"./submenu/textStyle\"));\n\nvar _link = _interopRequireDefault(require(\"./dialog/link\"));\n\nvar _image = _interopRequireDefault(require(\"./dialog/image\"));\n\nvar _video = _interopRequireDefault(require(\"./dialog/video\"));\n\nvar _audio = _interopRequireDefault(require(\"./dialog/audio\"));\n\nvar _math = _interopRequireDefault(require(\"./dialog/math\"));\n\nvar _imageGallery = _interopRequireDefault(require(\"./fileBrowser/imageGallery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n// command\n// submenu\n// dialog\n// file browser\nvar _default = {\n  blockquote: _blockquote.default,\n  align: _align.default,\n  font: _font.default,\n  fontSize: _fontSize.default,\n  fontColor: _fontColor.default,\n  hiliteColor: _hiliteColor.default,\n  horizontalRule: _horizontalRule.default,\n  list: _list.default,\n  table: _table.default,\n  formatBlock: _formatBlock.default,\n  lineHeight: _lineHeight.default,\n  template: _template.default,\n  paragraphStyle: _paragraphStyle.default,\n  textStyle: _textStyle.default,\n  link: _link.default,\n  image: _image.default,\n  video: _video.default,\n  audio: _audio.default,\n  math: _math.default,\n  imageGallery: _imageGallery.default\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util2 = _interopRequireDefault(require(\"../../lib/util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Rich Text Editor\n *\n * kothing-ditor.js\n * Copyright Kothing.\n * MIT license.\n */\nvar _default = {\n  name: \"dialog\",\n\n  /**\n   * @description Constructor\n   * @param {Object} core Core object\n   */\n  util: _util2.default,\n  add: function add(core) {\n    var context = core.context;\n    context.dialog = {\n      kind: \"\",\n      updateModal: false,\n      _closeSignal: false\n    };\n    /** dialog */\n\n    var dialog_div = core.util.createElement(\"DIV\");\n    dialog_div.className = \"ke-dialog kothing-editor-common\";\n    var dialog_back = core.util.createElement(\"DIV\");\n    dialog_back.className = \"ke-dialog-back\";\n    dialog_back.style.display = \"none\";\n    var dialog_area = core.util.createElement(\"DIV\");\n    dialog_area.className = \"ke-dialog-inner\";\n    dialog_area.style.display = \"none\";\n    dialog_div.appendChild(dialog_back);\n    dialog_div.appendChild(dialog_area);\n    context.dialog.modalArea = dialog_div;\n    context.dialog.back = dialog_back;\n    context.dialog.modal = dialog_area;\n    /** add event listeners */\n\n    context.dialog.modal.addEventListener(\"mousedown\", this._onMouseDown_dialog.bind(core));\n    context.dialog.modal.addEventListener(\"click\", this._onClick_dialog.bind(core));\n    /** append html */\n\n    context.element.relative.appendChild(dialog_div);\n    /** empty memory */\n\n    dialog_div = null, dialog_back = null, dialog_area = null;\n  },\n\n  /**\n   * @description Event to control the behavior of closing the dialog\n   * @param {MouseEvent} e Event object\n   * @private\n   */\n  _onMouseDown_dialog: function _onMouseDown_dialog(e) {\n    if (/ke-dialog-inner/.test(e.target.className)) {\n      this.context.dialog._closeSignal = true;\n    } else {\n      this.context.dialog._closeSignal = false;\n    }\n  },\n\n  /**\n   * @description Event to close the window when the outside area of the dialog or close button is click\n   * @param {MouseEvent} e Event object\n   * @private\n   */\n  _onClick_dialog: function _onClick_dialog(e) {\n    e.stopPropagation();\n\n    if (/close/.test(e.target.getAttribute(\"data-command\")) || this.context.dialog._closeSignal) {\n      this.plugins.dialog.close.call(this);\n    }\n  },\n\n  /**\n   * @description Open a Dialog plugin\n   * @param {String} kind Dialog plugin name\n   * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n   */\n  open: function open(kind, update) {\n    if (this.modalForm) {\n      return false;\n    }\n\n    if (this.plugins.dialog._bindClose) {\n      this._d.removeEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n      this.plugins.dialog._bindClose = null;\n    }\n\n    this.plugins.dialog._bindClose = function (e) {\n      if (!/27/.test(e.keyCode)) {\n        return;\n      }\n\n      this.plugins.dialog.close.call(this);\n    }.bind(this);\n\n    this._d.addEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n    this.context.dialog.updateModal = update;\n\n    if (this.context.option.popupDisplay === \"full\") {\n      this.context.dialog.modalArea.style.position = \"fixed\";\n    } else {\n      this.context.dialog.modalArea.style.position = \"absolute\";\n    }\n\n    this.context.dialog.kind = kind;\n    this.modalForm = this.context[kind].modal;\n    var focusElement = this.context[kind].focusElement;\n\n    if (typeof this.plugins[kind].on === \"function\") {\n      this.plugins[kind].on.call(this, update);\n    }\n\n    _util2.default.addClass(this.context.dialog.modalArea, \"dialog--open\");\n\n    this.context.dialog.modalArea.style.display = \"block\";\n    this.context.dialog.back.style.display = \"block\";\n    this.context.dialog.modal.style.display = \"block\";\n    this.modalForm.style.display = \"block\";\n\n    if (focusElement) {\n      focusElement.focus();\n    }\n  },\n  _bindClose: null,\n\n  /**\n   * @description Close a Dialog plugin\n   * The plugin's \"init\" method is called.\n   */\n  close: function close() {\n    var _this = this;\n\n    if (this.plugins.dialog._bindClose) {\n      this._d.removeEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n      this.plugins.dialog._bindClose = null;\n    }\n\n    var contextDialog = this.context.dialog;\n    var kind = this.context.dialog.kind;\n\n    _util2.default.removeClass(contextDialog.modalArea, \"dialog--open\");\n\n    _util2.default.addClass(contextDialog.modalArea, \"dialog--close\");\n\n    setTimeout(function () {\n      _util2.default.removeClass(contextDialog.modalArea, \"dialog--close\");\n\n      contextDialog.back.style.display = \"none\";\n      contextDialog.modalArea.style.display = \"none\";\n      _this.modalForm.style.display = \"none\";\n      contextDialog.updateModal = false;\n      contextDialog.kind = \"\";\n      _this.modalForm = null;\n\n      _this.focus();\n    }, 200);\n\n    if (typeof this.plugins[kind].init === \"function\") {\n      this.plugins[kind].init.call(this);\n    }\n  }\n};\nexports.default = _default;","// Styles\nimport './VWindow.sass'\n\n// Types\nimport { VNode, VNodeDirective } from 'vue/types/vnode'\nimport { PropType } from 'vue'\nimport { TouchHandlers } from 'vuetify/types'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Components\nimport VBtn from '../VBtn'\nimport VIcon from '../VIcon'\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-window',\n\n  directives: { Touch },\n\n  provide (): object {\n    return {\n      windowGroup: this,\n    }\n  },\n\n  props: {\n    activeClass: {\n      type: String,\n      default: 'v-window-item--active',\n    },\n    continuous: Boolean,\n    mandatory: {\n      type: Boolean,\n      default: true,\n    },\n    nextIcon: {\n      type: [Boolean, String],\n      default: '$next',\n    },\n    prevIcon: {\n      type: [Boolean, String],\n      default: '$prev',\n    },\n    reverse: Boolean,\n    showArrows: Boolean,\n    showArrowsOnHover: Boolean,\n    touch: Object as PropType<TouchHandlers>,\n    touchless: Boolean,\n    value: {\n      required: false,\n    },\n    vertical: Boolean,\n  },\n\n  data () {\n    return {\n      changedByDelimiters: false,\n      internalHeight: undefined as undefined | string, // This can be fixed by child class.\n      transitionHeight: undefined as undefined | string, // Intermediate height during transition.\n      transitionCount: 0, // Number of windows in transition state.\n      isBooted: false,\n      isReverse: false,\n    }\n  },\n\n  computed: {\n    isActive (): boolean {\n      return this.transitionCount > 0\n    },\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-window--show-arrows-on-hover': this.showArrowsOnHover,\n      }\n    },\n    computedTransition (): string {\n      if (!this.isBooted) return ''\n\n      const axis = this.vertical ? 'y' : 'x'\n      const reverse = this.internalReverse ? !this.isReverse : this.isReverse\n      const direction = reverse ? '-reverse' : ''\n\n      return `v-window-${axis}${direction}-transition`\n    },\n    hasActiveItems (): boolean {\n      return Boolean(\n        this.items.find(item => !item.disabled)\n      )\n    },\n    hasNext (): boolean {\n      return this.continuous || this.internalIndex < this.items.length - 1\n    },\n    hasPrev (): boolean {\n      return this.continuous || this.internalIndex > 0\n    },\n    internalIndex (): number {\n      return this.items.findIndex((item, i) => {\n        return this.internalValue === this.getValue(item, i)\n      })\n    },\n    internalReverse (): boolean {\n      return this.$vuetify.rtl ? !this.reverse : this.reverse\n    },\n  },\n\n  watch: {\n    internalIndex (val, oldVal) {\n      this.isReverse = this.updateReverse(val, oldVal)\n    },\n  },\n\n  mounted () {\n    window.requestAnimationFrame(() => (this.isBooted = true))\n  },\n\n  methods: {\n    genContainer (): VNode {\n      const children = [this.$slots.default]\n\n      if (this.showArrows) {\n        children.push(this.genControlIcons())\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-window__container',\n        class: {\n          'v-window__container--is-active': this.isActive,\n        },\n        style: {\n          height: this.internalHeight || this.transitionHeight,\n        },\n      }, children)\n    },\n    genIcon (\n      direction: 'prev' | 'next',\n      icon: string,\n      click: () => void\n    ) {\n      const on = {\n        click: (e: Event) => {\n          e.stopPropagation()\n          this.changedByDelimiters = true\n          click()\n        },\n      }\n      const attrs = {\n        'aria-label': this.$vuetify.lang.t(`$vuetify.carousel.${direction}`),\n      }\n      const children = this.$scopedSlots[direction]?.({\n        on,\n        attrs,\n      }) ?? [this.$createElement(VBtn, {\n        props: { icon: true },\n        attrs,\n        on,\n      }, [\n        this.$createElement(VIcon, {\n          props: { large: true },\n        }, icon),\n      ])]\n\n      return this.$createElement('div', {\n        staticClass: `v-window__${direction}`,\n      }, children)\n    },\n    genControlIcons () {\n      const icons = []\n\n      const prevIcon = this.$vuetify.rtl\n        ? this.nextIcon\n        : this.prevIcon\n\n      /* istanbul ignore else */\n      if (\n        this.hasPrev &&\n        prevIcon &&\n        typeof prevIcon === 'string'\n      ) {\n        const icon = this.genIcon('prev', prevIcon, this.prev)\n        icon && icons.push(icon)\n      }\n\n      const nextIcon = this.$vuetify.rtl\n        ? this.prevIcon\n        : this.nextIcon\n\n      /* istanbul ignore else */\n      if (\n        this.hasNext &&\n        nextIcon &&\n        typeof nextIcon === 'string'\n      ) {\n        const icon = this.genIcon('next', nextIcon, this.next)\n        icon && icons.push(icon)\n      }\n\n      return icons\n    },\n    getNextIndex (index: number): number {\n      const nextIndex = (index + 1) % this.items.length\n      const item = this.items[nextIndex]\n\n      if (item.disabled) return this.getNextIndex(nextIndex)\n\n      return nextIndex\n    },\n    getPrevIndex (index: number): number {\n      const prevIndex = (index + this.items.length - 1) % this.items.length\n      const item = this.items[prevIndex]\n\n      if (item.disabled) return this.getPrevIndex(prevIndex)\n\n      return prevIndex\n    },\n    next () {\n      /* istanbul ignore if */\n      if (!this.hasActiveItems || !this.hasNext) return\n\n      const nextIndex = this.getNextIndex(this.internalIndex)\n      const item = this.items[nextIndex]\n\n      this.internalValue = this.getValue(item, nextIndex)\n    },\n    prev () {\n      /* istanbul ignore if */\n      if (!this.hasActiveItems || !this.hasPrev) return\n\n      const lastIndex = this.getPrevIndex(this.internalIndex)\n      const item = this.items[lastIndex]\n\n      this.internalValue = this.getValue(item, lastIndex)\n    },\n    updateReverse (val: number, oldVal: number) {\n      const itemsLength = this.items.length\n      const lastIndex = itemsLength - 1\n\n      if (itemsLength <= 2) return val < oldVal\n\n      if (val === lastIndex && oldVal === 0) {\n        return true\n      } else if (val === 0 && oldVal === lastIndex) {\n        return false\n      } else {\n        return val < oldVal\n      }\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-window',\n      class: this.classes,\n      directives: [] as VNodeDirective[],\n    }\n\n    if (!this.touchless) {\n      const value = this.touch || {\n        left: () => {\n          this.$vuetify.rtl ? this.prev() : this.next()\n        },\n        right: () => {\n          this.$vuetify.rtl ? this.next() : this.prev()\n        },\n        end: (e: TouchEvent) => {\n          e.stopPropagation()\n        },\n        start: (e: TouchEvent) => {\n          e.stopPropagation()\n        },\n      }\n\n      data.directives.push({\n        name: 'touch',\n        value,\n      })\n    }\n\n    return h('div', data, [this.genContainer()])\n  },\n})\n","// Extensions\nimport VWindow from '../VWindow/VWindow'\n\n// Types & Components\nimport { BaseItemGroup, GroupableInstance } from './../VItemGroup/VItemGroup'\n\n/* @vue/component */\nexport default VWindow.extend({\n  name: 'v-tabs-items',\n\n  props: {\n    mandatory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VWindow.options.computed.classes.call(this),\n        'v-tabs-items': true,\n      }\n    },\n    isDark (): boolean {\n      return this.rootIsDark\n    },\n  },\n\n  methods: {\n    getValue (item: GroupableInstance, i: number) {\n      return item.id || BaseItemGroup.options.methods.getValue.call(this, item, i)\n    },\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _resizing = _interopRequireDefault(require(\"../modules/resizing\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  name: \"video\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _component.default, _resizing.default, _fileManager.default]);\n    var options = core.options;\n    var context = core.context;\n    var contextVideo = context.video = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      sizeUnit: options._videoSizeUnit,\n      _align: \"none\",\n      _floatClassRegExp: \"__ke__float\\\\-[a-z]+\",\n      _youtubeQuery: options.youtubeQuery,\n      _videoRatio: options.videoRatio * 100 + \"%\",\n      _defaultRatio: options.videoRatio * 100 + \"%\",\n      _linkValue: \"\",\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null,\n      // @Override resizing properties\n      inputX: null,\n      inputY: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _defaultSizeX: \"100%\",\n      _defaultSizeY: options.videoRatio * 100 + \"%\",\n      _origin_w: options.videoWidth === \"100%\" ? \"\" : options.videoWidth,\n      _origin_h: options.videoHeight === \"56.25%\" ? \"\" : options.videoHeight,\n      _proportionChecked: true,\n      _resizing: options.videoResizing,\n      _resizeDotHide: !options.videoHeightShow,\n      _rotation: options.videoRotation,\n      _onlyPercentage: options.videoSizeOnlyPercentage,\n      _ratio: false,\n      _ratioX: 1,\n      _ratioY: 1,\n      _captionShow: false\n    };\n    /** video dialog */\n\n    var video_dialog = this.setDialog(core);\n    contextVideo.modal = video_dialog;\n    contextVideo.videoInputFile = video_dialog.querySelector(\"._ke_video_file\");\n    contextVideo.videoUrlFile = video_dialog.querySelector(\".ke-input-url\");\n    contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n    contextVideo.preview = video_dialog.querySelector(\".ke-link-preview\");\n    /** add event listeners */\n\n    video_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextVideo.videoInputFile) {\n      video_dialog.querySelector(\".ke-dialog-files-edge-button\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n    }\n\n    if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n      contextVideo.videoInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextVideo));\n    }\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo.videoUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextVideo.preview, contextVideo, options.linkProtocol));\n    }\n\n    contextVideo.proportion = {};\n    contextVideo.videoRatioOption = {};\n    contextVideo.inputX = {};\n    contextVideo.inputY = {};\n\n    if (options.videoResizing) {\n      contextVideo.proportion = video_dialog.querySelector(\"._ke_video_check_proportion\");\n      contextVideo.videoRatioOption = video_dialog.querySelector(\".ke-video-ratio\");\n      contextVideo.inputX = video_dialog.querySelector(\"._ke_video_size_x\");\n      contextVideo.inputY = video_dialog.querySelector(\"._ke_video_size_y\");\n      contextVideo.inputX.value = options.videoWidth;\n      contextVideo.inputY.value = options.videoHeight;\n      contextVideo.inputX.addEventListener(\"keyup\", this.setInputSize.bind(core, \"x\"));\n      contextVideo.inputY.addEventListener(\"keyup\", this.setInputSize.bind(core, \"y\"));\n      contextVideo.inputX.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.inputY.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.proportion.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.videoRatioOption.addEventListener(\"change\", this.setVideoRatio.bind(core));\n      video_dialog.querySelector(\".ke-dialog-btn-revert\").addEventListener(\"click\", this.sizeRevert.bind(core));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(video_dialog);\n    /** empty memory */\n\n    video_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.videoBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">';\n\n    if (option.videoFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.videoBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" data-command=\"filesRemove\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.videoUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.videoBox.url + \"</label>\" + '<input class=\"ke-input-form ke-input-url\" type=\"text\" />' + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    if (option.videoResizing) {\n      var ratioList = option.videoRatioList || [{\n        name: \"16:9\",\n        value: 0.5625\n      }, {\n        name: \"4:3\",\n        value: 0.75\n      }, {\n        name: \"21:9\",\n        value: 0.4285\n      }];\n      var ratio = option.videoRatio;\n      var onlyPercentage = option.videoSizeOnlyPercentage;\n      var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : \"\";\n      var heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : \"\";\n      var ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : \"\";\n      var onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : \"\";\n      html += \"\" + '<div class=\"ke-dialog-form\">' + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + \"</label>\" + '<label class=\"ke-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\"' + heightDisplay + \">\" + lang.dialogBox.height + \"</label>\" + '<label class=\"size-h\"' + ratioDisplay + \">(\" + lang.dialogBox.ratio + \")</label>\" + \"</div>\" + '<input class=\"ke-input-control _ke_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + \"/>\" + '<label class=\"ke-dialog-size-x\"' + onlyWidthDisplay + \">\" + (onlyPercentage ? \"%\" : \"x\") + \"</label>\" + '<input class=\"ke-input-control _ke_video_size_y\" placeholder=\"' + option.videoRatio * 100 + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + heightDisplay + \"/>\" + '<select class=\"ke-input-select ke-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + \">\";\n\n      if (!heightDisplay) {\n        html += '<option value=\"\"> - </option>';\n      }\n\n      for (var i = 0, len = ratioList.length; i < len; i++) {\n        html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? \" selected\" : \"\") + \">\" + ratioList[i].name + \"</option>\";\n      }\n\n      html += \"</select>\" + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"ke-btn ke-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + \"</button>\" + \"</div>\" + '<div class=\"ke-dialog-form ke-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + \">\" + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + \"</label>\" + \"</div>\";\n    }\n\n    html += \"\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + \"<div>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + \"</label>\" + \"</div>\" + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  _fileInputChange: function _fileInputChange() {\n    if (!this.videoInputFile.value) {\n      this.videoUrlFile.removeAttribute(\"disabled\");\n      this.preview.style.textDecoration = \"\";\n    } else {\n      this.videoUrlFile.setAttribute(\"disabled\", true);\n      this.preview.style.textDecoration = \"line-through\";\n    }\n  },\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, preview) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      preview.style.textDecoration = \"\";\n    }\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n\n    if (/^<iframe.*\\/iframe>$/.test(value)) {\n      context._linkValue = value;\n      this.textContent = '<IFrame :src=\"..\"></IFrame>';\n    } else {\n      context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n    }\n  },\n  _setTagAttrs: function _setTagAttrs(element) {\n    element.setAttribute(\"controls\", true);\n    var attrs = this.options.videoTagAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  createVideoTag: function createVideoTag() {\n    var videoTag = this.util.createElement(\"VIDEO\");\n\n    this.plugins.video._setTagAttrs.call(this, videoTag);\n\n    return videoTag;\n  },\n  _setIframeAttrs: function _setIframeAttrs(element) {\n    element.frameBorder = \"0\";\n    element.allowFullscreen = true;\n    var attrs = this.options.videoIframeAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  createIframeTag: function createIframeTag() {\n    var iframeTag = this.util.createElement(\"IFRAME\");\n\n    this.plugins.video._setIframeAttrs.call(this, iframeTag);\n\n    return iframeTag;\n  },\n\n  /**\r\n   * @Override @Required fileManager\r\n   */\n  fileTags: [\"iframe\", \"video\"],\n\n  /**\r\n   * @Override core, resizing, fileManager\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, \"video\"));\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    var frame = element || this.context.video._element;\n    var container = this.context.video._container;\n    var dataIndex = frame.getAttribute(\"data-index\") * 1;\n    var focusEl = container.previousElementSibling || container.nextElementSibling;\n    var emptyDiv = container.parentNode;\n    this.util.removeItem(container);\n    this.plugins.video.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"video\", dataIndex, this.functions.onVideoUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextVideo = this.context.video;\n\n    if (!update) {\n      contextVideo.inputX.value = contextVideo._origin_w = this.options.videoWidth === contextVideo._defaultSizeX ? \"\" : this.options.videoWidth;\n      contextVideo.inputY.value = contextVideo._origin_h = this.options.videoHeight === contextVideo._defaultSizeY ? \"\" : this.options.videoHeight;\n      contextVideo.proportion.disabled = true;\n\n      if (contextVideo.videoInputFile && this.options.videoMultipleFile) {\n        contextVideo.videoInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else {\n      if (contextVideo.videoInputFile && this.options.videoMultipleFile) {\n        contextVideo.videoInputFile.removeAttribute(\"multiple\");\n      }\n    }\n\n    if (contextVideo._resizing) {\n      this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n    }\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"video\", \"video\" === this.currentControllerName);\n  },\n  setVideoRatio: function setVideoRatio(e) {\n    var contextVideo = this.context.video;\n    var value = e.target.options[e.target.selectedIndex].value;\n    contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : value * 100 + \"%\";\n    contextVideo.inputY.placeholder = !value ? \"\" : value * 100 + \"%\";\n    contextVideo.inputY.value = \"\";\n  },\n\n  /**\r\n   * @Override resizing\r\n   * @param {String} xy 'x': width, 'y': height\r\n   * @param {KeyboardEvent} e Event object\r\n   */\n  setInputSize: function setInputSize(xy, e) {\n    if (e && e.keyCode === 32) {\n      e.preventDefault();\n      return;\n    }\n\n    var contextVideo = this.context.video;\n\n    this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n    if (xy === \"y\") {\n      this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setRatio: function setRatio() {\n    this.plugins.resizing._module_setRatio.call(this, this.context.video);\n  },\n  submit: function submit(e) {\n    var contextVideo = this.context.video;\n    var videoPlugin = this.plugins.video;\n    e.preventDefault();\n    e.stopPropagation();\n    contextVideo._align = contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"]:checked').value;\n\n    try {\n      if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n        this.showLoading();\n        videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n      } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n        this.showLoading();\n        videoPlugin.setup_url.call(this);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.video.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/video/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.videoUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var videosInfo = this.context.video._infoList;\n\n      for (var _i = 0, _len = videosInfo.length; _i < _len; _i++) {\n        infoSize += videosInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.videoUpload.fail] Size of uploadable total videos: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onVideoUploadError !== \"function\" || this.functions.onVideoUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextVideo = this.context.video;\n    contextVideo._uploadFileLength = files.length;\n    var info = {\n      inputWidth: contextVideo.inputX.value,\n      inputHeight: contextVideo.inputY.value,\n      align: contextVideo._align,\n      isUpdate: this.context.dialog.updateModal,\n      element: contextVideo._element\n    };\n\n    if (typeof this.functions.onVideoUploadBefore === \"function\") {\n      var result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.video.register.call(this, info, data);\n        } else {\n          this.plugins.video.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (_typeof(result) === \"object\" && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.video.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onVideoUploadError !== \"function\" || this.functions.onVideoUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.video.error] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.video.error.call(this, files, null);\n      return;\n    }\n\n    var videoUploadUrl = this.options.videoUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n    if (typeof videoUploadUrl === \"string\" && videoUploadUrl.length > 0) {\n      var formData = new FormData();\n\n      for (var i = 0; i < filesLen; i++) {\n        formData.append(\"file-\" + i, files[i]);\n      }\n\n      this.plugins.fileManager.upload.call(this, videoUploadUrl, this.options.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n    } else {\n      throw Error('[KothingEditor.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n    }\n  },\n  callBack_videoUpload: function callBack_videoUpload(info, xmlHttp) {\n    if (typeof this.functions.videoUploadHandler === \"function\") {\n      this.functions.videoUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.video.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.video.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n    var videoTag = this.plugins.video.createVideoTag.call(this);\n\n    for (var i = 0, len = fileList.length, file; i < len; i++) {\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n      this.plugins.video.create_video.call(this, info.isUpdate ? info.element : videoTag.cloneNode(false), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n    }\n\n    this.closeLoading();\n  },\n  setup_url: function setup_url() {\n    try {\n      var contextVideo = this.context.video;\n      var url = contextVideo._linkValue;\n\n      if (url.length === 0) {\n        return false;\n      }\n      /** iframe source */\n\n\n      if (/^<iframe.*\\/iframe>$/.test(url)) {\n        var oIframe = new this._w.DOMParser().parseFromString(url, \"text/html\").querySelector(\"iframe\");\n        url = oIframe.src;\n\n        if (url.length === 0) {\n          return false;\n        }\n      }\n      /** youtube */\n\n\n      if (/youtu\\.?be/.test(url)) {\n        if (!/^http/.test(url)) {\n          url = \"https://\" + url;\n        }\n\n        url = url.replace(\"watch?v=\", \"\");\n\n        if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n          url = url.replace(url.match(/\\/\\/.+\\//)[0], \"//www.youtube.com/embed/\").replace(\"&\", \"?&\");\n        }\n\n        if (contextVideo._youtubeQuery.length > 0) {\n          if (/\\?/.test(url)) {\n            var splitUrl = url.split(\"?\");\n            url = splitUrl[0] + \"?\" + contextVideo._youtubeQuery + \"&\" + splitUrl[1];\n          } else {\n            url += \"?\" + contextVideo._youtubeQuery;\n          }\n        }\n      } else if (/vimeo\\.com/.test(url)) {\n        if (url.endsWith(\"/\")) {\n          url = url.slice(0, -1);\n        }\n\n        url = \"https://player.vimeo.com/video/\" + url.slice(url.lastIndexOf(\"/\") + 1);\n      }\n\n      this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n    } catch (error) {\n      throw Error('[KothingEditor.video.upload.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  create_video: function create_video(oFrame, src, width, height, align, file, isUpdate) {\n    this.context.resizing._resize_plugin = \"video\";\n    var contextVideo = this.context.video;\n    var cover = null;\n    var container = null;\n    var init = false;\n    /** update */\n\n    if (isUpdate) {\n      oFrame = contextVideo._element;\n\n      if (oFrame.src !== src) {\n        init = true;\n        var isYoutube = /youtu\\.?be/.test(src);\n        var isVimeo = /vimeo\\.com/.test(src);\n\n        if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n          var newTag = this.plugins.video.createIframeTag.call(this);\n          newTag.src = src;\n          oFrame.parentNode.replaceChild(newTag, oFrame);\n          contextVideo._element = oFrame = newTag;\n        } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n          var _newTag = this.plugins.video.createVideoTag.call(this);\n\n          _newTag.src = src;\n          oFrame.parentNode.replaceChild(_newTag, oFrame);\n          contextVideo._element = oFrame = _newTag;\n        } else {\n          oFrame.src = src;\n        }\n      }\n\n      container = contextVideo._container;\n      cover = this.util.getParentElement(oFrame, \"FIGURE\");\n    } else {\n      /** create */\n      init = true;\n      oFrame.src = src;\n      contextVideo._element = oFrame;\n      cover = this.plugins.component.set_cover.call(this, oFrame);\n      container = this.plugins.component.set_container.call(this, cover, \"ke-video-container\");\n    }\n    /** rendering */\n\n\n    contextVideo._cover = cover;\n    contextVideo._container = container;\n\n    var inputUpdate = this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX) || this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio);\n\n    var changeSize = !isUpdate || inputUpdate;\n\n    if (contextVideo._resizing) {\n      this.context.video._proportionChecked = contextVideo.proportion.checked;\n      oFrame.setAttribute(\"data-proportion\", contextVideo._proportionChecked);\n    } // size\n\n\n    var isPercent = false;\n\n    if (changeSize) {\n      isPercent = this.plugins.video.applySize.call(this);\n    } // align\n\n\n    if (!(isPercent && align === \"center\")) {\n      this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n    }\n\n    var changed = true;\n\n    if (!isUpdate) {\n      changed = this.insertComponent(container, false, true, !this.options.mediaAutoSelect);\n\n      if (!this.options.mediaAutoSelect) {\n        var line = this.appendFormatTag(container, null);\n        this.setRange(line, 0, line, 0);\n      }\n    } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n      this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n    }\n\n    if (changed) {\n      if (init) {\n        this.plugins.fileManager.setInfo.call(this, \"video\", oFrame, this.functions.onVideoUpload, file, true);\n      }\n\n      if (isUpdate) {\n        this.selectComponent(oFrame, \"video\"); // history stack\n\n        this.history.push(false);\n      }\n    }\n\n    this.context.resizing._resize_plugin = \"\";\n  },\n  _update_videoCover: function _update_videoCover(oFrame) {\n    if (!oFrame) {\n      return;\n    }\n\n    var contextVideo = this.context.video;\n\n    if (/^video$/i.test(oFrame.nodeName)) {\n      this.plugins.video._setTagAttrs.call(this, oFrame);\n    } else {\n      this.plugins.video._setIframeAttrs.call(this, oFrame);\n    }\n\n    var existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || this.util.getParentElement(oFrame, function (current) {\n      return this.isWysiwygDiv(current.parentNode);\n    }.bind(this.util));\n    var prevFrame = oFrame;\n    contextVideo._element = oFrame = oFrame.cloneNode(true);\n    var cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n    var container = contextVideo._container = this.plugins.component.set_container.call(this, cover, \"ke-video-container\");\n\n    try {\n      var figcaption = existElement.querySelector(\"figcaption\");\n      var caption = null;\n\n      if (figcaption) {\n        caption = this.util.createElement(\"DIV\");\n        caption.innerHTML = figcaption.innerHTML;\n        this.util.removeItem(figcaption);\n      } // size\n\n\n      var size = (oFrame.getAttribute(\"data-size\") || oFrame.getAttribute(\"data-origin\") || \"\").split(\",\");\n      this.plugins.video.applySize.call(this, size[0] || prevFrame.style.width || prevFrame.width || \"\", size[1] || prevFrame.style.height || prevFrame.height || \"\"); // align\n\n      var format = this.util.getFormatElement(prevFrame);\n\n      if (format) {\n        contextVideo._align = format.style.textAlign || format.style.float;\n      }\n\n      this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(prevFrame); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        existElement.parentNode.replaceChild(container, existElement);\n      }\n\n      if (caption) {\n        existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n      }\n    } catch (error) {\n      console.warn(\"[KothingEditor.video.error] Maybe the video tag is nested.\", error);\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"video\", oFrame, this.functions.onVideoUpload, null, true);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(element, size) {\n    var contextVideo = this.context.video;\n    contextVideo._element = element;\n    contextVideo._cover = this.util.getParentElement(element, \"FIGURE\");\n    contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n    contextVideo._align = element.style.float || element.getAttribute(\"data-align\") || \"none\";\n    element.style.float = \"\";\n\n    if (size) {\n      contextVideo._element_w = size.w;\n      contextVideo._element_h = size.h;\n      contextVideo._element_t = size.t;\n      contextVideo._element_l = size.l;\n    }\n\n    var origin = contextVideo._element.getAttribute(\"data-size\") || contextVideo._element.getAttribute(\"data-origin\");\n\n    var w, h;\n\n    if (origin) {\n      origin = origin.split(\",\");\n      w = origin[0];\n      h = origin[1];\n    } else if (size) {\n      w = size.w;\n      h = size.h;\n    }\n\n    contextVideo._origin_w = w || element.style.width || element.width || \"\";\n    contextVideo._origin_h = h || element.style.height || element.height || \"\";\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    var contextVideo = this.context.video;\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = contextVideo._element.src || (contextVideo._element.querySelector(\"source\") || \"\").src || \"\";\n    }\n\n    contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n    if (contextVideo._resizing) {\n      this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n\n      var y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n\n      var ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n\n      if (!ratioSelected) {\n        contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n      }\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"video\", true);\n    }\n  },\n  setVideoRatioSelect: function setVideoRatioSelect(value) {\n    var ratioSelected = false;\n    var contextVideo = this.context.video;\n    var ratioOptions = contextVideo.videoRatioOption.options;\n\n    if (/%$/.test(value) || contextVideo._onlyPercentage) {\n      value = this.util.getNumber(value, 2) / 100 + \"\";\n    } else if (!this.util.isNumber(value) || value * 1 >= 1) {\n      value = \"\";\n    }\n\n    contextVideo.inputY.placeholder = \"\";\n\n    for (var i = 0, len = ratioOptions.length; i < len; i++) {\n      if (ratioOptions[i].value === value) {\n        ratioSelected = ratioOptions[i].selected = true;\n        contextVideo.inputY.placeholder = !value ? \"\" : value * 100 + \"%\";\n      } else {\n        ratioOptions[i].selected = false;\n      }\n    }\n\n    return ratioSelected;\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    this.plugins.fileManager.checkInfo.call(this, \"video\", [\"iframe\", \"video\"], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"video\", this.functions.onVideoUpload);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  applySize: function applySize(w, h) {\n    var contextVideo = this.context.video;\n\n    if (!w) {\n      w = contextVideo.inputX.value || this.options.videoWidth;\n    }\n\n    if (!h) {\n      h = contextVideo.inputY.value || this.options.videoHeight;\n    }\n\n    if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n      this.plugins.video.setPercentSize.call(this, w || \"100%\", h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio));\n      return true;\n    } else if ((!w || w === \"auto\") && (!h || h === \"auto\")) {\n      this.plugins.video.setAutoSize.call(this);\n    } else {\n      this.plugins.video.setSize.call(this, w, h || contextVideo._videoRatio || contextVideo._defaultRatio, false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  sizeRevert: function sizeRevert() {\n    this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setSize: function setSize(w, h, notResetPercentage, direction) {\n    var contextVideo = this.context.video;\n    var onlyW = /^(rw|lw)$/.test(direction);\n    var onlyH = /^(th|bh)$/.test(direction);\n\n    if (!onlyH) {\n      w = this.util.getNumber(w, 0);\n    }\n\n    if (!onlyW) {\n      h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? \"\" : h;\n    }\n\n    if (!onlyH) {\n      contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : \"\";\n    }\n\n    if (!onlyW) {\n      contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n    }\n\n    if (!onlyH && !/%$/.test(w)) {\n      contextVideo._cover.style.width = \"\";\n      contextVideo._container.style.width = \"\";\n    }\n\n    if (!onlyW && !/%$/.test(h)) {\n      contextVideo._element.style.height = h;\n    } else {\n      contextVideo._element.style.height = \"\";\n    }\n\n    if (!notResetPercentage) {\n      contextVideo._element.removeAttribute(\"data-percentage\");\n    } // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAutoSize: function setAutoSize() {\n    this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setOriginSize: function setOriginSize(dataSize) {\n    var contextVideo = this.context.video;\n\n    contextVideo._element.removeAttribute(\"data-percentage\");\n\n    this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n    this.plugins.video.cancelPercentAttr.call(this);\n    var originSize = ((dataSize ? contextVideo._element.getAttribute(\"data-size\") : \"\") || contextVideo._element.getAttribute(\"data-origin\") || \"\").split(\",\");\n\n    if (originSize) {\n      var w = originSize[0];\n      var h = originSize[1];\n\n      if (contextVideo._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n        this.plugins.video.setPercentSize.call(this, w, h);\n      } else {\n        this.plugins.video.setSize.call(this, w, h);\n      } // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setPercentSize: function setPercentSize(w, h) {\n    var contextVideo = this.context.video;\n    h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + \"%\" : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : h || contextVideo._defaultRatio;\n    contextVideo._container.style.width = this.util.isNumber(w) ? w + \"%\" : w;\n    contextVideo._container.style.height = \"\";\n    contextVideo._cover.style.width = \"100%\";\n    contextVideo._cover.style.height = h;\n    contextVideo._cover.style.paddingBottom = h;\n    contextVideo._element.style.width = \"100%\";\n    contextVideo._element.style.height = \"100%\";\n    contextVideo._element.style.maxWidth = \"\";\n\n    if (contextVideo._align === \"center\") {\n      this.plugins.video.setAlign.call(this, null, null, null, null);\n    }\n\n    contextVideo._element.setAttribute(\"data-percentage\", w + \",\" + h); // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  cancelPercentAttr: function cancelPercentAttr() {\n    var contextVideo = this.context.video;\n    contextVideo._cover.style.width = \"\";\n    contextVideo._cover.style.height = \"\";\n    contextVideo._cover.style.paddingBottom = \"\";\n    contextVideo._container.style.width = \"\";\n    contextVideo._container.style.height = \"\";\n    this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n    this.util.addClass(contextVideo._container, \"__ke__float-\" + contextVideo._align);\n\n    if (contextVideo._align === \"center\") {\n      this.plugins.video.setAlign.call(this, null, null, null, null);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAlign: function setAlign(align, element, cover, container) {\n    var contextVideo = this.context.video;\n\n    if (!align) {\n      align = contextVideo._align;\n    }\n\n    if (!element) {\n      element = contextVideo._element;\n    }\n\n    if (!cover) {\n      cover = contextVideo._cover;\n    }\n\n    if (!container) {\n      container = contextVideo._container;\n    }\n\n    if (align && align !== \"none\") {\n      cover.style.margin = \"auto\";\n    } else {\n      cover.style.margin = \"0\";\n    }\n\n    if (/%$/.test(element.style.width) && align === \"center\") {\n      container.style.minWidth = \"100%\";\n      cover.style.width = container.style.width;\n      cover.style.height = container.style.height;\n      cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber(this.util.getNumber(cover.style.height, 2) / 100 * this.util.getNumber(cover.style.width, 2), 2) + \"%\";\n    } else {\n      container.style.minWidth = \"\";\n      cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : element.style.width || \"100%\";\n      cover.style.paddingBottom = cover.style.height;\n    }\n\n    if (!this.util.hasClass(container, \"__ke__float-\" + align)) {\n      this.util.removeClass(container, contextVideo._floatClassRegExp);\n      this.util.addClass(container, \"__ke__float-\" + align);\n    }\n\n    element.setAttribute(\"data-align\", align);\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    var contextVideo = this.context.video;\n\n    if (contextVideo.videoInputFile) {\n      contextVideo.videoInputFile.value = \"\";\n    }\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = \"\";\n    }\n\n    if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n      contextVideo.videoUrlFile.removeAttribute(\"disabled\");\n      contextVideo.preview.style.textDecoration = \"\";\n    }\n\n    contextVideo._origin_w = this.options.videoWidth;\n    contextVideo._origin_h = this.options.videoHeight;\n    contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"][value=\"none\"]').checked = true;\n\n    if (contextVideo._resizing) {\n      contextVideo.inputX.value = this.options.videoWidth === contextVideo._defaultSizeX ? \"\" : this.options.videoWidth;\n      contextVideo.inputY.value = this.options.videoHeight === contextVideo._defaultSizeY ? \"\" : this.options.videoHeight;\n      contextVideo.proportion.checked = true;\n      contextVideo.proportion.disabled = true;\n      this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n    }\n  }\n};\nexports.default = _default;","import VBtn from './VBtn'\n\nexport { VBtn }\nexport default VBtn\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\nvar $context = function $context(element, cons, options) {\n  return {\n    element: {\n      originElement: element,\n      topArea: cons.top,\n      relative: cons.relative,\n      toolbar: cons.toolBar,\n      buttonTray: cons.toolBar.querySelector(\".ke-btn-tray\"),\n      menuTray: cons.menuTray,\n      resizingBar: cons.resizingBar,\n      navigation: cons.navigation,\n      charWrapper: cons.charWrapper,\n      charCounter: cons.charCounter,\n      editorArea: cons.editorArea,\n      wysiwygFrame: cons.wysiwygArea,\n      wysiwyg: cons.wysiwygArea,\n      // if (options.iframe) cons.wysiwygArea.contentDocument.body\n      code: cons.codeArea,\n      placeholder: cons.placeholder,\n      loading: cons.loading,\n      lineBreaker: cons.lineBreaker,\n      lineBreaker_t: cons.lineBreaker_t,\n      lineBreaker_b: cons.lineBreaker_b,\n      resizeBackground: cons.resizeBack,\n      stickyDummy: cons.stickyDummy,\n      arrow: cons.arrow\n    },\n    tool: {\n      cover: cons.toolBar.querySelector(\".ke-toolbar-cover\"),\n      bold: cons.toolBar.querySelector(\"._ke_command_bold\"),\n      underline: cons.toolBar.querySelector(\"._ke_command_underline\"),\n      italic: cons.toolBar.querySelector(\"._ke_command_italic\"),\n      strike: cons.toolBar.querySelector(\"._ke_command_strike\"),\n      subscript: cons.toolBar.querySelector(\"._ke_command_subscript\"),\n      superscript: cons.toolBar.querySelector(\"._ke_command_superscript\"),\n      undo: cons.toolBar.querySelector(\"._ke_command_undo\"),\n      redo: cons.toolBar.querySelector(\"._ke_command_redo\"),\n      save: cons.toolBar.querySelector(\"._ke_command_save\"),\n      outdent: cons.toolBar.querySelector(\"._ke_command_outdent\"),\n      indent: cons.toolBar.querySelector(\"._ke_command_indent\"),\n      fullScreen: cons.toolBar.querySelector(\"._ke_command_fullScreen\"),\n      showBlocks: cons.toolBar.querySelector(\"._ke_command_showBlocks\"),\n      codeView: cons.toolBar.querySelector(\"._ke_command_codeView\")\n    },\n    options: options,\n    option: options\n  };\n};\n\nvar _default = $context;\nexports.default = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fill-height d-flex justify-center\"},[_c('div',{staticClass:\"content full-width\"},[_c('div',{staticClass:\"text-h5 mb-sm-4 pa-4 pa-sm-0 primary--text\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"email-templates.form.header.edit\"))+\" \")])]),_c('v-card',{staticClass:\"elevation-4 pa-4\",attrs:{\"width\":\"100%\"}},[_c('v-card-text',{staticClass:\"pa-0\"},[_c('div',{staticClass:\"d-flex align-center font-weight-bold black-text--text px-5\",staticStyle:{\"font-size\":\"18px\"}},[_c('div',[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"email-templates.headers.choose\"))+\" \")])]),_c('div',{staticClass:\"ml-3\"},[_c('v-tabs',{model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},_vm._l((_vm.flags),function(item,index,ind){return _c('v-tab',{key:index,staticClass:\"px-0\",class:{ 'error-animation': _vm.missingKeys[ind].length },staticStyle:{\"min-width\":\"50px\"}},[_c('div',[_c('v-img',{attrs:{\"width\":\"28px\",\"src\":item}})],1)])}),1)],1)]),_c('v-form',{ref:\"form\",staticClass:\"d-flex flex-column justify-center\",attrs:{\"lazy-validation\":\"\"}},[_c('v-row',{staticClass:\"mx-2\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 0),expression:\"currentTab === 0\"}]},[_c('div',[_c('v-text-field',{attrs:{\"label\":_vm.$t('email-templates.form.fields.subject'),\"hide-details\":\"\"},model:{value:(_vm.item.subject_en),callback:function ($$v) {_vm.$set(_vm.item, \"subject_en\", $$v)},expression:\"item.subject_en\"}})],1),_c('div',{staticClass:\"editor mt-3\"},[_c('textarea',{ref:\"editor_en\",staticClass:\"full-width\",attrs:{\"id\":\"editor_en\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 1),expression:\"currentTab === 1\"}]},[_c('div',[_c('v-text-field',{attrs:{\"label\":_vm.$t('email-templates.form.fields.subject'),\"hide-details\":\"\"},model:{value:(_vm.item.subject_ro),callback:function ($$v) {_vm.$set(_vm.item, \"subject_ro\", $$v)},expression:\"item.subject_ro\"}})],1),_c('div',{staticClass:\"editor mt-3\"},[_c('textarea',{ref:\"editor_ro\",staticClass:\"full-width\",attrs:{\"id\":\"editor_ro\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 2),expression:\"currentTab === 2\"}]},[_c('div',[_c('v-text-field',{attrs:{\"label\":_vm.$t('email-templates.form.fields.subject'),\"hide-details\":\"\"},model:{value:(_vm.item.subject_ru),callback:function ($$v) {_vm.$set(_vm.item, \"subject_ru\", $$v)},expression:\"item.subject_ru\"}})],1),_c('div',{staticClass:\"editor mt-3\"},[_c('textarea',{ref:\"editor_ru\",staticClass:\"full-width\",attrs:{\"id\":\"editor_ru\"}})])])])],1),_c('v-row',{staticClass:\"actions\"},[_c('v-col',{staticClass:\"pa-2 d-flex align-center\"},[_c('div',[_c('span',{staticClass:\"caption\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"global-validation.email_template_fields_required\"))+\" \")]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"size\":\"14\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-information \")])]}}])},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"email-templates.headers.glow\"))+\" \")])]),_c('div',_vm._l((_vm.editorRequirements[_vm.currentTab]),function(item,index){return _c('span',{key:index,class:{\n                      'primary--text': !_vm.missingKeys[_vm.currentTab].includes(\n                        item\n                      ),\n                      'error--text': _vm.missingKeys[_vm.currentTab].includes(item)\n                    }},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)],1),_c('v-spacer'),_c('v-btn',{attrs:{\"link\":\"\",\"to\":\"/email-templates\",\"disabled\":_vm.loading,\"text\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"global-buttons.cancel\"))+\" \")]),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"primary\",\"disabled\":_vm.loading,\"depressed\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\" \"+_vm._s(_vm.$t(\"global-buttons.confirm\"))+\" \")])],1)],1)],1)],1)],1),_c('v-card',{staticClass:\"elevation-4 mt-5\",attrs:{\"width\":\"100%\"}},[_c('v-card-text',{staticClass:\"pb-0\"},[_c('v-form',{ref:\"form1\",staticClass:\"d-flex align-center\",attrs:{\"lazy-validation\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.selects.users,\"label\":_vm.$t('employees.form.fields.user'),\"rules\":[_vm.rules.required('userToSendEmailTo')],\"clearable\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\n                    var item = ref.item;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.text)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(item.email)+\" \")])],1)]}}]),model:{value:(_vm.userToSendEmailTo),callback:function ($$v) {_vm.userToSendEmailTo=$$v},expression:\"userToSendEmailTo\"}}),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"depressed\":\"\",\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.sendEmailToUser(_vm.userToSendEmailTo)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"global-buttons.send\"))+\" \")])],1)],1),_c('v-card-actions',[_c('v-spacer')],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport API from \"@/api/API\";\nimport store from \"@/store\";\n\nimport KothingEditor from \"kothing-editor\";\nimport kothingConfig from \"../config/editorConfig.json\";\nimport plugins from \"kothing-editor/lib/plugins\";\nimport lang from \"kothing-editor/lib/lang\";\nimport \"kothing-editor/dist/css/kothing-editor.min.css\";\n\nimport { requiredRule } from \"@/services/helpers/validation-rules\";\n\nexport default Vue.extend({\n  name: \"Edit\",\n\n  data: () => ({\n    requiredRule,\n    kothingConfig,\n    item: {} as any,\n    editor_en: \"\" as any,\n    editor_ro: \"\" as any,\n    editor_ru: \"\" as any,\n    currentTab: 0 as number,\n    userToSendEmailTo: null as number | null,\n    languages: [\"en\", \"ro\", \"ru\"] as Array<string>,\n    flags: {\n      en: require(\"@/assets/images/locales/en.svg\"),\n      ro: require(\"@/assets/images/locales/ro.svg\"),\n      ru: require(\"@/assets/images/locales/ru.svg\")\n    } as any,\n    subjects: {} as any,\n    editorRequirements: [[], [], []] as Array<Array<any>>,\n    missingKeys: [\n      [] as Array<string>,\n      [] as Array<string>,\n      [] as Array<string>\n    ] as any,\n    selects: {\n      users: [] as Array<any>\n    } as any,\n    errorMessages: {} as { [value: string]: Array<string> },\n    loading: false as boolean\n  }),\n\n  computed: {\n    rules() {\n      return {\n        required: this.requiredRule.bind(this)\n      };\n    }\n  },\n\n  async beforeRouteEnter(to, from, next) {\n    try {\n      const item = await API.emailTemplates().getForEdit(Number(to.params.id));\n      const variables = await API.emailTemplates().getVariables();\n      const usersList = await API.users().getList();\n\n      next(vm => {\n        vm.getEditorsRequirements(variables);\n        vm.item = item;\n        vm.selects.users = usersList;\n      });\n    } catch (e) {\n      await store.dispatch(\"alert/showError\", e.message);\n    }\n  },\n\n  mounted() {\n    this.createEditor();\n    this.setEditorsContent();\n  },\n\n  methods: {\n    async submit(): Promise<void> {\n      this.loading = true;\n      try {\n        if (this.passedValidation()) {\n          this.setNewEditorContent();\n          await API.emailTemplates().edit(\n            Number(this.$route.params.id),\n            this.item\n          );\n          await this.$router.go(-1);\n          await this.$store.dispatch(\n            \"alert/showSuccess\",\n            this.$t(\"email-templates.modals.alert.successful-edit\")\n          );\n        } else {\n          await this.$store.dispatch(\n            \"alert/showError\",\n            \"Did not pass validation\"\n          );\n          this.loading = false;\n        }\n      } catch (e) {\n        if (e.hasOwnProperty(\"errors\")) {\n          this.errorMessages = e.errors;\n          setTimeout(() => {\n            this.errorMessages = {};\n          }, 2000);\n        }\n        await this.$store.dispatch(\"alert/showError\", e.message);\n        this.loading = false;\n      }\n    },\n    createEditor(): void {\n      const language = this.$store.getters[\"localization/getCurrent\"];\n      this.editor_en = KothingEditor.create(\"editor_en\", {\n        plugins: plugins,\n        lang: (lang as any)[language],\n        ...this.kothingConfig\n      });\n      this.editor_ro = KothingEditor.create(\"editor_ro\", {\n        plugins: plugins,\n        lang: (lang as any)[language],\n        ...this.kothingConfig\n      });\n      this.editor_ru = KothingEditor.create(\"editor_ru\", {\n        plugins: plugins,\n        lang: (lang as any)[language],\n        ...this.kothingConfig\n      });\n    },\n    contains(target: any, pattern: Array<string>, index: number): boolean {\n      let passed = true;\n      for (const item of pattern) {\n        if (!target.includes(item)) {\n          this.missingKeys[index].push(item);\n          passed = false;\n        }\n      }\n      return passed;\n    },\n    setEditorsContent(): void {\n      for (const item of this.languages) {\n        this[`editor_${item}`].setContents(this.item[`content_${item}`]);\n        this.subjects[`${item}`] = this.item[`subject_${item}`];\n      }\n    },\n    setNewEditorContent(): void {\n      for (const item of this.languages) {\n        this.item[`content_${item}`] = this[`editor_${item}`].getContents();\n      }\n    },\n    passedValidation(): boolean {\n      let passed = true;\n      let index = 0;\n      this.missingKeys = [[], [], []];\n\n      for (const item of this.languages) {\n        if (\n          !this.contains(\n            this[`editor_${item}`].getContents(),\n            this.editorRequirements[index],\n            this.languages.indexOf(item)\n          )\n        ) {\n          passed = false;\n        }\n        index++;\n      }\n      return passed;\n    },\n    getEditorsRequirements(value: any): void {\n      this.editorRequirements = [[...value], [...value], [...value]];\n    },\n    async sendEmailToUser(id: number): Promise<any> {\n      this.loading = true;\n      try {\n        if ((this.$refs.form1 as any).validate() && this.passedValidation()) {\n          await this.submit();\n          await this.$API\n            .emailTemplates()\n            .sendEmail(id, Number(this.$route.params.id), {});\n          this.sheet = false;\n        }\n      } catch (e) {\n        await this.$store.dispatch(\"alert/showError\", e.message);\n      }\n      this.loading = false;\n    }\n  }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=3ba49ae4&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=3ba49ae4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ba49ae4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VForm,VIcon,VImg,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSelect,VSpacer,VTab,VTabs,VTextField,VTooltip})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _colorPicker = _interopRequireDefault(require(\"../modules/colorPicker\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"fontColor\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.addModule([_colorPicker.default]);\n    var context = core.context;\n    context.fontColor = {\n      previewEl: null,\n      colorInput: null,\n      colorList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    context.fontColor.colorInput = listDiv.querySelector(\"._ke_color_picker_input\");\n    /** add event listeners */\n\n    context.fontColor.colorInput.addEventListener(\"keyup\", this.onChangeInput.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_submit\").addEventListener(\"click\", this.submit.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_remove\").addEventListener(\"click\", this.remove.bind(core));\n    listDiv.addEventListener(\"click\", this.pickup.bind(core));\n    context.fontColor.colorList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var colorArea = core.context.colorPicker.colorListHTML;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = colorArea;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var contextPicker = this.context.colorPicker;\n    var contextFontColor = this.context.fontColor;\n    contextPicker._colorInput = contextFontColor.colorInput;\n    var color = this.wwComputedStyle.color;\n    contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\n    contextPicker._styleProperty = \"color\";\n    contextPicker._colorList = contextFontColor.colorList;\n    this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n  },\n\n  /**\r\n   * @Override colorPicker\r\n   */\n  onChangeInput: function onChangeInput(e) {\n    this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n  },\n  submit: function submit() {\n    this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.fontColor.applyColor.call(this, e.target.getAttribute(\"data-value\"));\n  },\n  remove: function remove() {\n    this.nodeChange(null, [\"color\"], [\"span\"], true);\n    this.submenuOff();\n  },\n  applyColor: function applyColor(color) {\n    if (!color) {\n      return;\n    }\n\n    var newNode = this.util.createElement(\"SPAN\");\n    newNode.style.color = color;\n    this.nodeChange(newNode, [\"color\"], null, null);\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"colorPicker\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    var context = core.context;\n    context.colorPicker = {\n      colorListHTML: \"\",\n      _colorInput: \"\",\n      _defaultColor: \"#000\",\n      _styleProperty: \"color\",\n      _currentColor: \"\",\n      _colorList: []\n    };\n    /** set submenu */\n\n    context.colorPicker.colorListHTML = this.createColorList(core, this._makeColorList);\n  },\n\n  /**\r\n   * @description Create color list\r\n   * @param {Object} core Core object\r\n   * @param {Function} makeColor this._makeColorList\r\n   * @returns {String} HTML string\r\n   */\n  createColorList: function createColorList(core, makeColor) {\n    var option = core.options;\n    var lang = core.lang;\n    var colorList = !option.colorList || option.colorList.length === 0 ? [\"#ff0000\", \"#ff5e00\", \"#ffe400\", \"#abf200\", \"#00d8ff\", \"#0055ff\", \"#6600ff\", \"#ff00dd\", \"#000000\", \"#ffd8d8\", \"#fae0d4\", \"#faf4c0\", \"#e4f7ba\", \"#d4f4fa\", \"#d9e5ff\", \"#e8d9ff\", \"#ffd9fa\", \"#f1f1f1\", \"#ffa7a7\", \"#ffc19e\", \"#faed7d\", \"#cef279\", \"#b2ebf4\", \"#b2ccff\", \"#d1b2ff\", \"#ffb2f5\", \"#bdbdbd\", \"#f15f5f\", \"#f29661\", \"#e5d85c\", \"#bce55c\", \"#5cd1e5\", \"#6699ff\", \"#a366ff\", \"#f261df\", \"#8c8c8c\", \"#980000\", \"#993800\", \"#998a00\", \"#6b9900\", \"#008299\", \"#003399\", \"#3d0099\", \"#990085\", \"#353535\", \"#670000\", \"#662500\", \"#665c00\", \"#476600\", \"#005766\", \"#002266\", \"#290066\", \"#660058\", \"#222222\"] : option.colorList;\n    var colorArr = [];\n    var list = '<div class=\"ke-list-inner\">';\n\n    for (var i = 0, len = colorList.length, color; i < len; i++) {\n      color = colorList[i];\n\n      if (!color) {\n        continue;\n      }\n\n      if (typeof color === \"string\") {\n        colorArr.push(color);\n\n        if (i < len - 1) {\n          continue;\n        }\n      }\n\n      if (colorArr.length > 0) {\n        list += '<div class=\"ke-selector-color\">' + makeColor(colorArr) + \"</div>\";\n        colorArr = [];\n      }\n\n      if (_typeof(color) === \"object\") {\n        list += '<div class=\"ke-selector-color\">' + makeColor(color) + \"</div>\";\n      }\n    }\n\n    list += \"\" + '<form class=\"ke-submenu-form-group\">' + '<input type=\"text\" maxlength=\"9\" class=\"_ke_color_picker_input ke-color-input\"/>' + '<button type=\"submit\" class=\"ke-btn-primary _ke_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' + core.icons.checked + \"</button>\" + '<button type=\"button\" class=\"ke-btn _ke_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' + core.icons.erase + \"</button>\" + \"</form>\" + \"</div>\";\n    return list;\n  },\n\n  /**\r\n   * @description Internal function used by this.createColorList\r\n   * @param {Array} colorList Color list\r\n   * @private\r\n   */\n  _makeColorList: function _makeColorList(colorList) {\n    var list = \"\";\n    list += '<ul class=\"ke-color-pallet\">';\n\n    for (var i = 0, len = colorList.length, color; i < len; i++) {\n      color = colorList[i];\n\n      if (typeof color === \"string\") {\n        list += \"<li>\" + '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + \"</li>\";\n      }\n    }\n\n    list += \"</ul>\";\n    return list;\n  },\n\n  /**\r\n   * @description Displays or resets the currently selected color at color list.\r\n   * @param {Node} node Current Selected node\r\n   * @param {String|null} color Color value\r\n   */\n  init: function init(node, color) {\n    var colorPicker = this.plugins.colorPicker;\n    var fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\n    fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\n    var colorList = this.context.colorPicker._colorList;\n\n    if (colorList) {\n      for (var i = 0, len = colorList.length; i < len; i++) {\n        if (fillColor.toLowerCase() === colorList[i].getAttribute(\"data-value\").toLowerCase()) {\n          this.util.addClass(colorList[i], \"active\");\n        } else {\n          this.util.removeClass(colorList[i], \"active\");\n        }\n      }\n    }\n\n    colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\n  },\n\n  /**\r\n   * @description Store color values\r\n   * @param {String} hexColorStr Hax color value\r\n   */\n  setCurrentColor: function setCurrentColor(hexColorStr) {\n    this.context.colorPicker._currentColor = hexColorStr;\n    this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\n  },\n\n  /**\r\n   * @description Set color at input element\r\n   * @param {String} hexColorStr Hax color value\r\n   */\n  setInputText: function setInputText(hexColorStr) {\n    hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : \"#\" + hexColorStr;\n    this.context.colorPicker._colorInput.value = hexColorStr;\n    this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\n  },\n\n  /**\r\n   * @description Gets color value at color property of node\r\n   * @param {Node} node Selected node\r\n   * @returns {String}\r\n   */\n  getColorInNode: function getColorInNode(node) {\n    var findColor = \"\";\n    var styleProperty = this.context.colorPicker._styleProperty;\n\n    while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\n      if (node.nodeType === 1 && node.style[styleProperty]) {\n        findColor = node.style[styleProperty];\n      }\n\n      node = node.parentNode;\n    }\n\n    return findColor;\n  },\n\n  /**\r\n   * @description Function to check hex format color\r\n   * @param {String} str Color value\r\n   */\n  isHexColor: function isHexColor(str) {\n    return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\n  },\n\n  /**\r\n   * @description Function to convert hex format to a rgb color\r\n   * @param {String} rgb RGB color format\r\n   * @returns {String}\r\n   */\n  rgb2hex: function rgb2hex(rgb) {\n    var rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return rgbMatch && rgbMatch.length === 4 ? \"#\" + (\"0\" + parseInt(rgbMatch[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[3], 10).toString(16)).slice(-2) : \"\";\n  },\n\n  /**\r\n   * @description Converts color values of other formats to hex color values and returns.\r\n   * @param {String} colorName Color value\r\n   * @returns {String}\r\n   */\n  colorName2hex: function colorName2hex(colorName) {\n    if (/^#/.test(colorName)) {\n      return colorName;\n    }\n\n    var temp = this.util.createElement(\"div\");\n    temp.style.display = \"none\";\n    temp.style.color = colorName;\n\n    var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) {\n      return parseInt(a, 10);\n    });\n\n    this.util.removeItem(temp);\n    return colors.length >= 3 ? \"#\" + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1) : false;\n  }\n};\nexports.default = _default;","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=3ba49ae4&lang=scss&scoped=true&\"","import { VNodeDirective, VNode } from 'vue/types/vnode'\nimport { keys } from '../../util/helpers'\nimport { TouchHandlers, TouchValue, TouchWrapper } from 'vuetify/types'\n\nexport interface TouchStoredHandlers {\n  touchstart: (e: TouchEvent) => void\n  touchend: (e: TouchEvent) => void\n  touchmove: (e: TouchEvent) => void\n}\n\ninterface TouchVNodeDirective extends VNodeDirective {\n  value?: TouchValue\n}\n\nconst handleGesture = (wrapper: TouchWrapper) => {\n  const { touchstartX, touchendX, touchstartY, touchendY } = wrapper\n  const dirRatio = 0.5\n  const minDistance = 16\n  wrapper.offsetX = touchendX - touchstartX\n  wrapper.offsetY = touchendY - touchstartY\n\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && (touchendX < touchstartX - minDistance) && wrapper.left(wrapper)\n    wrapper.right && (touchendX > touchstartX + minDistance) && wrapper.right(wrapper)\n  }\n\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && (touchendY < touchstartY - minDistance) && wrapper.up(wrapper)\n    wrapper.down && (touchendY > touchstartY + minDistance) && wrapper.down(wrapper)\n  }\n}\n\nfunction touchstart (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchstartX = touch.clientX\n  wrapper.touchstartY = touch.clientY\n\n  wrapper.start &&\n    wrapper.start(Object.assign(event, wrapper))\n}\n\nfunction touchend (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchendX = touch.clientX\n  wrapper.touchendY = touch.clientY\n\n  wrapper.end &&\n    wrapper.end(Object.assign(event, wrapper))\n\n  handleGesture(wrapper)\n}\n\nfunction touchmove (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchmoveX = touch.clientX\n  wrapper.touchmoveY = touch.clientY\n\n  wrapper.move && wrapper.move(Object.assign(event, wrapper))\n}\n\nfunction createHandlers (value: TouchHandlers): TouchStoredHandlers {\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end,\n  }\n\n  return {\n    touchstart: (e: TouchEvent) => touchstart(e, wrapper),\n    touchend: (e: TouchEvent) => touchend(e, wrapper),\n    touchmove: (e: TouchEvent) => touchmove(e, wrapper),\n  }\n}\n\nfunction inserted (el: HTMLElement, binding: TouchVNodeDirective, vnode: VNode) {\n  const value = binding.value!\n  const target = value.parent ? el.parentElement : el\n  const options = value.options || { passive: true }\n\n  // Needed to pass unit tests\n  if (!target) return\n\n  const handlers = createHandlers(binding.value!)\n  target._touchHandlers = Object(target._touchHandlers)\n  target._touchHandlers![vnode.context!._uid] = handlers\n\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName] as EventListener, options)\n  })\n}\n\nfunction unbind (el: HTMLElement, binding: TouchVNodeDirective, vnode: VNode) {\n  const target = binding.value!.parent ? el.parentElement : el\n  if (!target || !target._touchHandlers) return\n\n  const handlers = target._touchHandlers[vnode.context!._uid]\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName])\n  })\n  delete target._touchHandlers[vnode.context!._uid]\n}\n\nexport const Touch = {\n  inserted,\n  unbind,\n}\n\nexport default Touch\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"paragraphStyle\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.paragraphStyle = {\n      _classList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickUp.bind(core));\n    context.paragraphStyle._classList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var menuLang = core.lang.menu;\n    var defaultList = {\n      spaced: {\n        name: menuLang.spaced,\n        class: \"__ke__p-spaced\",\n        _class: \"\"\n      },\n      bordered: {\n        name: menuLang.bordered,\n        class: \"__ke__p-bordered\",\n        _class: \"\"\n      },\n      neon: {\n        name: menuLang.neon,\n        class: \"__ke__p-neon\",\n        _class: \"\"\n      }\n    };\n    var paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? [\"spaced\", \"bordered\", \"neon\"] : option.paragraphStyles;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n      p = paragraphStyles[i];\n\n      if (typeof p === \"string\") {\n        var defaultStyle = defaultList[p.toLowerCase()];\n\n        if (!defaultStyle) {\n          continue;\n        }\n\n        p = defaultStyle;\n      }\n\n      name = p.name;\n      attrs = p.class ? ' class=\"' + p.class + '\"' : \"\";\n      _class = p._class;\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list' + (_class ? \" \" + _class : \"\") + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' + \"<div\" + attrs + \">\" + name + \"</div>\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var paragraphContext = this.context.paragraphStyle;\n    var paragraphList = paragraphContext._classList;\n    var currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n    for (var i = 0, len = paragraphList.length; i < len; i++) {\n      if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute(\"data-value\"))) {\n        this.util.addClass(paragraphList[i], \"active\");\n      } else {\n        this.util.removeClass(paragraphList[i], \"active\");\n      }\n    }\n  },\n  pickUp: function pickUp(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!/^UL$/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n\n      if (value) {\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var selectedFormsts = this.getSelectedElements();\n\n    if (selectedFormsts.length === 0) {\n      this.getRange_addLine(this.getRange(), null);\n      selectedFormsts = this.getSelectedElements();\n\n      if (selectedFormsts.length === 0) {\n        return;\n      }\n    } // change format class\n\n\n    var toggleClass = this.util.hasClass(target, \"active\") ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      toggleClass(selectedFormsts[i], value);\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","// Styles\nimport './VChip.sass'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n// Components\nimport { VExpandXTransition } from '../transitions'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport Themeable from '../../mixins/themeable'\nimport { factory as ToggleableFactory } from '../../mixins/toggleable'\nimport Routable from '../../mixins/routable'\nimport Sizeable from '../../mixins/sizeable'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\nimport { PropValidator, PropType } from 'vue/types/options'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Sizeable,\n  Routable,\n  Themeable,\n  GroupableFactory('chipGroup'),\n  ToggleableFactory('inputValue')\n).extend({\n  name: 'v-chip',\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    activeClass: {\n      type: String,\n      default (): string | undefined {\n        if (!this.chipGroup) return ''\n\n        return this.chipGroup.activeClass\n      },\n    } as any as PropValidator<string>,\n    close: Boolean,\n    closeIcon: {\n      type: String,\n      default: '$delete',\n    },\n    closeLabel: {\n      type: String,\n      default: '$vuetify.close',\n    },\n    disabled: Boolean,\n    draggable: Boolean,\n    filter: Boolean,\n    filterIcon: {\n      type: String,\n      default: '$complete',\n    },\n    label: Boolean,\n    link: Boolean,\n    outlined: Boolean,\n    pill: Boolean,\n    tag: {\n      type: String,\n      default: 'span',\n    },\n    textColor: String,\n    value: null as any as PropType<any>,\n  },\n\n  data: () => ({\n    proxyClass: 'v-chip--active',\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-chip': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-chip--clickable': this.isClickable,\n        'v-chip--disabled': this.disabled,\n        'v-chip--draggable': this.draggable,\n        'v-chip--label': this.label,\n        'v-chip--link': this.isLink,\n        'v-chip--no-color': !this.color,\n        'v-chip--outlined': this.outlined,\n        'v-chip--pill': this.pill,\n        'v-chip--removable': this.hasClose,\n        ...this.themeClasses,\n        ...this.sizeableClasses,\n        ...this.groupClasses,\n      }\n    },\n    hasClose (): boolean {\n      return Boolean(this.close)\n    },\n    isClickable (): boolean {\n      return Boolean(\n        Routable.options.computed.isClickable.call(this) ||\n        this.chipGroup\n      )\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['outline', 'outlined'],\n      ['selected', 'input-value'],\n      ['value', 'active'],\n      ['@input', '@active.sync'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n  },\n\n  methods: {\n    click (e: MouseEvent): void {\n      this.$emit('click', e)\n\n      this.chipGroup && this.toggle()\n    },\n    genFilter (): VNode {\n      const children = []\n\n      if (this.isActive) {\n        children.push(\n          this.$createElement(VIcon, {\n            staticClass: 'v-chip__filter',\n            props: { left: true },\n          }, this.filterIcon)\n        )\n      }\n\n      return this.$createElement(VExpandXTransition, children)\n    },\n    genClose (): VNode {\n      return this.$createElement(VIcon, {\n        staticClass: 'v-chip__close',\n        props: {\n          right: true,\n          size: 18,\n        },\n        attrs: {\n          'aria-label': this.$vuetify.lang.t(this.closeLabel),\n        },\n        on: {\n          click: (e: Event) => {\n            e.stopPropagation()\n            e.preventDefault()\n\n            this.$emit('click:close')\n            this.$emit('update:active', false)\n          },\n        },\n      }, this.closeIcon)\n    },\n    genContent (): VNode {\n      return this.$createElement('span', {\n        staticClass: 'v-chip__content',\n      }, [\n        this.filter && this.genFilter(),\n        this.$slots.default,\n        this.hasClose && this.genClose(),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    const children = [this.genContent()]\n    let { tag, data } = this.generateRouteLink()\n\n    data.attrs = {\n      ...data.attrs,\n      draggable: this.draggable ? 'true' : undefined,\n      tabindex: this.chipGroup && !this.disabled ? 0 : data.attrs!.tabindex,\n    }\n    data.directives!.push({\n      name: 'show',\n      value: this.active,\n    })\n    data = this.setBackgroundColor(this.color, data)\n\n    const color = this.textColor || (this.outlined && this.color)\n\n    return h(tag, this.setTextColor(color, data), children)\n  },\n})\n","module.exports = __webpack_public_path__ + \"img/en.593a62e5.svg\";","import Vue from 'vue'\n\n/**\n * SSRBootable\n *\n * @mixin\n *\n * Used in layout components (drawer, toolbar, content)\n * to avoid an entry animation when using SSR\n */\nexport default Vue.extend({\n  name: 'ssr-bootable',\n\n  data: () => ({\n    isBooted: false,\n  }),\n\n  mounted () {\n    // Use setAttribute instead of dataset\n    // because dataset does not work well\n    // with unit tests\n    window.requestAnimationFrame(() => {\n      this.$el.setAttribute('data-booted', 'true')\n      this.isBooted = true\n    })\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _selectMenu = _interopRequireDefault(require(\"./selectMenu\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"anchor\",\n  add: function add(core) {\n    core.addModule([_selectMenu.default]);\n    core.context.anchor = {\n      caller: {},\n      forms: this.setDialogForm(core),\n      host: (core._w.location.origin + core._w.location.pathname).replace(/\\/$/, \"\"),\n      callerContext: null\n    };\n  },\n\n  /** dialog */\n  setDialogForm: function setDialogForm(core) {\n    var lang = core.lang;\n    var relList = core.options.linkRel;\n    var defaultRel = (core.options.linkRelDefault.default || \"\").split(\" \");\n    var icons = core.icons;\n    var forms = core.util.createElement(\"DIV\");\n    var html = '<div class=\"ke-dialog-body\">' + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.linkBox.url + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form ke-input-url\" type=\"text\" placeholder=\"' + (core.options.protocol || \"\") + '\" />' + '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button _ke_bookmark_button\" title=\"' + lang.dialogBox.linkBox.bookmark + '\">' + icons.bookmark + \"</button>\" + core.plugins.selectMenu.setForm() + \"</div>\" + '<div class=\"ke-anchor-preview-form\">' + '<span class=\"ke-svg ke-anchor-preview-icon _ke_anchor_bookmark_icon\">' + icons.bookmark + \"</span>\" + '<span class=\"ke-svg ke-anchor-preview-icon _ke_anchor_download_icon\">' + icons.download + \"</span>\" + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\" + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.linkBox.text + '</label><input class=\"ke-input-form _ke_anchor_text\" type=\"text\" />' + \"</div>\" + '<div class=\"ke-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_anchor_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + \"</label>\" + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_anchor_download\" />&nbsp;' + lang.dialogBox.linkBox.downloadLinkCheck + \"</label>\";\n\n    if (relList.length > 0) {\n      html += '<div class=\"ke-anchor-rel\"><button type=\"button\" class=\"ke-btn ke-btn-select ke-anchor-rel-btn\">&lt;rel&gt;</button>' + '<div class=\"ke-anchor-rel-wrapper\"><pre class=\"ke-link-preview ke-anchor-rel-preview\"></pre></div>' + '<div class=\"ke-list-layer\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic ke-list-checked\">';\n\n      for (var i = 0, len = relList.length, rel; i < len; i++) {\n        rel = relList[i];\n        html += '<li><button type=\"button\" class=\"ke-btn-list' + (defaultRel.indexOf(rel) > -1 ? \" ke-checked\" : \"\") + '\" data-command=\"' + rel + '\" title=\"' + rel + '\"><span class=\"ke-svg\">' + icons.checked + \"</span>\" + rel + \"</button></li>\";\n      }\n\n      html += \"</ul></div></div></div>\";\n    }\n\n    html += \"</div></div>\";\n    forms.innerHTML = html;\n    return forms;\n  },\n  initEvent: function initEvent(pluginName, forms) {\n    var anchorPlugin = this.plugins.anchor;\n    var context = this.context.anchor.caller[pluginName] = {\n      modal: forms,\n      urlInput: null,\n      linkDefaultRel: this.options.linkRelDefault,\n      defaultRel: this.options.linkRelDefault.default || \"\",\n      currentRel: [],\n      linkAnchor: null,\n      linkValue: \"\",\n      _change: false,\n      callerName: pluginName\n    };\n\n    if (typeof context.linkDefaultRel.default === \"string\") {\n      context.linkDefaultRel.default = context.linkDefaultRel.default.trim();\n    }\n\n    if (typeof context.linkDefaultRel.check_new_window === \"string\") {\n      context.linkDefaultRel.check_new_window = context.linkDefaultRel.check_new_window.trim();\n    }\n\n    if (typeof context.linkDefaultRel.check_bookmark === \"string\") {\n      context.linkDefaultRel.check_bookmark = context.linkDefaultRel.check_bookmark.trim();\n    }\n\n    context.urlInput = forms.querySelector(\".ke-input-url\");\n    context.anchorText = forms.querySelector(\"._ke_anchor_text\");\n    context.newWindowCheck = forms.querySelector(\"._ke_anchor_check\");\n    context.downloadCheck = forms.querySelector(\"._ke_anchor_download\");\n    context.download = forms.querySelector(\"._ke_anchor_download_icon\");\n    context.preview = forms.querySelector(\".ke-link-preview\");\n    context.bookmark = forms.querySelector(\"._ke_anchor_bookmark_icon\");\n    context.bookmarkButton = forms.querySelector(\"._ke_bookmark_button\");\n    this.plugins.selectMenu.initEvent.call(this, pluginName, forms);\n    var listContext = this.context.selectMenu.caller[pluginName];\n    /** rel */\n\n    if (this.options.linkRel.length > 0) {\n      context.relButton = forms.querySelector(\".ke-anchor-rel-btn\");\n      context.relList = forms.querySelector(\".ke-list-layer\");\n      context.relPreview = forms.querySelector(\".ke-anchor-rel-preview\");\n      context.relButton.addEventListener(\"click\", anchorPlugin.onClick_relButton.bind(this, context));\n      context.relList.addEventListener(\"click\", anchorPlugin.onClick_relList.bind(this, context));\n    }\n\n    context.newWindowCheck.addEventListener(\"change\", anchorPlugin.onChange_newWindowCheck.bind(this, context));\n    context.downloadCheck.addEventListener(\"change\", anchorPlugin.onChange_downloadCheck.bind(this, context));\n    context.anchorText.addEventListener(\"input\", anchorPlugin.onChangeAnchorText.bind(this, context));\n    context.urlInput.addEventListener(\"input\", anchorPlugin.onChangeUrlInput.bind(this, context));\n    context.urlInput.addEventListener(\"keydown\", anchorPlugin.onKeyDownUrlInput.bind(this, listContext));\n    context.urlInput.addEventListener(\"focus\", anchorPlugin.onFocusUrlInput.bind(this, context, listContext));\n    context.urlInput.addEventListener(\"blur\", anchorPlugin.onBlurUrlInput.bind(this, listContext));\n    context.bookmarkButton.addEventListener(\"click\", anchorPlugin.onClick_bookmarkButton.bind(this, context));\n  },\n  on: function on(contextAnchor, update) {\n    if (!update) {\n      this.plugins.anchor.init.call(this, contextAnchor);\n      contextAnchor.anchorText.value = this.getSelection().toString();\n    } else if (contextAnchor.linkAnchor) {\n      this.context.dialog.updateModal = true;\n      var href = contextAnchor.linkAnchor.href;\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = /#.+$/.test(href) ? href.substr(href.lastIndexOf(\"#\")) : href;\n      contextAnchor.anchorText.value = contextAnchor.linkAnchor.textContent.trim() || contextAnchor.linkAnchor.getAttribute(\"alt\");\n      contextAnchor.newWindowCheck.checked = /_blank/i.test(contextAnchor.linkAnchor.target) ? true : false;\n      contextAnchor.downloadCheck.checked = contextAnchor.linkAnchor.download;\n    }\n\n    this.context.anchor.callerContext = contextAnchor;\n    this.plugins.anchor.setRel.call(this, contextAnchor, update && contextAnchor.linkAnchor ? contextAnchor.linkAnchor.rel : contextAnchor.defaultRel);\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.linkValue);\n    this.plugins.selectMenu.on.call(this, contextAnchor.callerName, this.plugins.anchor.setHeaderBookmark);\n  },\n  _closeRelMenu: null,\n  toggleRelList: function toggleRelList(contextAnchor, show) {\n    if (!show) {\n      if (this.plugins.anchor._closeRelMenu) {\n        this.plugins.anchor._closeRelMenu();\n      }\n    } else {\n      var target = contextAnchor.relButton;\n      var relList = contextAnchor.relList;\n      this.util.addClass(target, \"active\");\n      relList.style.visibility = \"hidden\";\n      relList.style.display = \"block\";\n\n      if (!this.options.rtl) {\n        relList.style.left = target.offsetLeft + target.offsetWidth + 1 + \"px\";\n      } else {\n        relList.style.left = target.offsetLeft - relList.offsetWidth - 1 + \"px\";\n      }\n\n      relList.style.top = target.offsetTop + target.offsetHeight / 2 - relList.offsetHeight / 2 + \"px\";\n      relList.style.visibility = \"\";\n\n      this.plugins.anchor._closeRelMenu = function (context, target, e) {\n        if (e && (context.relButton.contains(e.target) || context.relList.contains(e.target))) {\n          return;\n        }\n\n        this.util.removeClass(target, \"active\");\n        context.relList.style.display = \"none\";\n        this.modalForm.removeEventListener(\"click\", this.plugins.anchor._closeRelMenu);\n        this.plugins.anchor._closeRelMenu = null;\n      }.bind(this, contextAnchor, target);\n\n      this.modalForm.addEventListener(\"click\", this.plugins.anchor._closeRelMenu);\n    }\n  },\n  onClick_relButton: function onClick_relButton(contextAnchor, e) {\n    this.plugins.anchor.toggleRelList.call(this, contextAnchor, !this.util.hasClass(e.target, \"active\"));\n  },\n  onClick_relList: function onClick_relList(contextAnchor, e) {\n    var target = e.target;\n    var cmd = target.getAttribute(\"data-command\");\n\n    if (!cmd) {\n      return;\n    }\n\n    var current = contextAnchor.currentRel;\n    var checked = this.util.toggleClass(target, \"ke-checked\");\n    var index = current.indexOf(cmd);\n\n    if (checked) {\n      if (index === -1) {\n        current.push(cmd);\n      }\n    } else {\n      if (index > -1) {\n        current.splice(index, 1);\n      }\n    }\n\n    contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = current.join(\" \");\n  },\n  setRel: function setRel(contextAnchor, relAttr) {\n    var relListEl = contextAnchor.relList;\n    var rels = contextAnchor.currentRel = !relAttr ? [] : relAttr.split(\" \");\n\n    if (!relListEl) {\n      return;\n    }\n\n    var checkedRel = relListEl.querySelectorAll(\"button\");\n\n    for (var i = 0, len = checkedRel.length, cmd; i < len; i++) {\n      cmd = checkedRel[i].getAttribute(\"data-command\");\n\n      if (rels.indexOf(cmd) > -1) {\n        this.util.addClass(checkedRel[i], \"ke-checked\");\n      } else {\n        this.util.removeClass(checkedRel[i], \"ke-checked\");\n      }\n    }\n\n    contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = rels.join(\" \");\n  },\n  createHeaderList: function createHeaderList(contextAnchor, contextList, urlValue) {\n    var headers = this.util.getListChildren(this.context.element.wysiwyg, function (current) {\n      return /h[1-6]/i.test(current.nodeName);\n    });\n\n    if (headers.length === 0) {\n      return;\n    }\n\n    var valueRegExp = new this._w.RegExp(\"^\" + urlValue.replace(/^#/, \"\"), \"i\");\n    var list = [];\n    var html = \"\";\n\n    for (var i = 0, len = headers.length, h; i < len; i++) {\n      h = headers[i];\n\n      if (!valueRegExp.test(h.textContent)) {\n        continue;\n      }\n\n      list.push(h);\n      html += '<li class=\"ke-select-item\" data-index=\"' + i + '\">' + h.textContent + \"</li>\";\n    }\n\n    if (list.length === 0) {\n      this.plugins.selectMenu.close.call(this, contextList);\n    } else {\n      this.plugins.selectMenu.createList(contextList, list, html);\n      this.plugins.selectMenu.open.call(this, contextList, this.plugins.anchor._setMenuListPosition.bind(this, contextAnchor));\n    }\n  },\n  _setMenuListPosition: function _setMenuListPosition(contextAnchor, list) {\n    list.style.top = contextAnchor.urlInput.offsetHeight + 1 + \"px\";\n  },\n  onKeyDownUrlInput: function onKeyDownUrlInput(contextList, e) {\n    var keyCode = e.keyCode;\n\n    switch (keyCode) {\n      case 38:\n        // up\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.selectMenu.moveItem.call(this, contextList, -1);\n        break;\n\n      case 40:\n        // down\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.selectMenu.moveItem.call(this, contextList, 1);\n        break;\n\n      case 13:\n        // enter\n        if (contextList.index > -1) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.plugins.anchor.setHeaderBookmark.call(this, this.plugins.selectMenu.getItem(contextList, null));\n        }\n\n        break;\n    }\n  },\n  setHeaderBookmark: function setHeaderBookmark(header) {\n    var contextAnchor = this.context.anchor.callerContext;\n\n    var id = header.id || \"h_\" + this._w.Math.random().toString().replace(/.+\\./, \"\");\n\n    header.id = id;\n    contextAnchor.urlInput.value = \"#\" + id;\n\n    if (!contextAnchor.anchorText.value.trim() || !contextAnchor._change) {\n      contextAnchor.anchorText.value = header.textContent;\n    }\n\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.urlInput.value);\n    this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    this.context.anchor.callerContext.urlInput.focus();\n  },\n  onChangeAnchorText: function onChangeAnchorText(contextAnchor, e) {\n    contextAnchor._change = !!e.target.value.trim();\n  },\n  onChangeUrlInput: function onChangeUrlInput(contextAnchor, e) {\n    var value = e.target.value.trim();\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, value);\n\n    if (/^#/.test(value)) {\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, value);\n    } else {\n      this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    }\n  },\n  onFocusUrlInput: function onFocusUrlInput(contextAnchor, contextLink) {\n    var value = contextAnchor.urlInput.value;\n\n    if (/^#/.test(value)) {\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, contextLink, value);\n    }\n  },\n  onBlurUrlInput: function onBlurUrlInput(contextList) {\n    this.plugins.selectMenu.close.call(this, contextList);\n  },\n  setLinkPreview: function setLinkPreview(context, value) {\n    var preview = context.preview;\n    var protocol = this.options.linkProtocol;\n    var reservedProtocol = /^(mailto:|tel:|sms:|https*:\\/\\/|#)/.test(value);\n    var sameProtocol = !protocol ? false : this._w.RegExp(\"^\" + value.substr(0, protocol.length)).test(protocol);\n    context.linkValue = preview.textContent = !value ? \"\" : protocol && !reservedProtocol && !sameProtocol ? protocol + value : reservedProtocol ? value : /^www\\./.test(value) ? \"http://\" + value : this.context.anchor.host + (/^\\//.test(value) ? \"\" : \"/\") + value;\n\n    if (value.indexOf(\"#\") === 0) {\n      context.bookmark.style.display = \"inline-block\";\n      this.util.addClass(context.bookmarkButton, \"active\");\n    } else {\n      context.bookmark.style.display = \"none\";\n      this.util.removeClass(context.bookmarkButton, \"active\");\n    }\n\n    if (value.indexOf(\"#\") === -1 && context.downloadCheck.checked) {\n      context.download.style.display = \"block\";\n    } else {\n      context.download.style.display = \"none\";\n    }\n  },\n  setCtx: function setCtx(anchor, contextAnchor) {\n    if (!anchor) {\n      return;\n    }\n\n    contextAnchor.linkAnchor = anchor;\n    contextAnchor.linkValue = anchor.href;\n    contextAnchor.currentRel = anchor.rel.split(\" \");\n  },\n  updateAnchor: function updateAnchor(anchor, url, alt, contextAnchor, notText) {\n    // download\n    if (!/^#/.test(url) && contextAnchor.downloadCheck.checked) {\n      anchor.setAttribute(\"download\", alt || url);\n    } else {\n      anchor.removeAttribute(\"download\");\n    } // new window\n\n\n    if (contextAnchor.newWindowCheck.checked) {\n      anchor.target = \"_blank\";\n    } else {\n      anchor.removeAttribute(\"target\");\n    } // rel\n\n\n    var rel = contextAnchor.currentRel.join(\" \");\n\n    if (!rel) {\n      anchor.removeAttribute(\"rel\");\n    } else {\n      anchor.rel = rel;\n    } // est url, alt\n\n\n    anchor.href = url;\n    anchor.setAttribute(\"alt\", alt);\n\n    if (notText) {\n      if (anchor.children.length === 0) {\n        anchor.textContent = \"\";\n      }\n    } else {\n      anchor.textContent = alt;\n    }\n  },\n  createAnchor: function createAnchor(contextAnchor, notText) {\n    if (contextAnchor.linkValue.length === 0) {\n      return null;\n    }\n\n    var url = contextAnchor.linkValue;\n    var anchor = contextAnchor.anchorText;\n    var anchorText = anchor.value.length === 0 ? url : anchor.value;\n    var oA = contextAnchor.linkAnchor || this.util.createElement(\"A\");\n    this.plugins.anchor.updateAnchor(oA, url, anchorText, contextAnchor, notText);\n    contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.anchorText.value = \"\";\n    return oA;\n  },\n  onClick_bookmarkButton: function onClick_bookmarkButton(contextAnchor) {\n    var url = contextAnchor.urlInput.value;\n\n    if (/^#/.test(url)) {\n      url = url.substr(1);\n      contextAnchor.bookmark.style.display = \"none\";\n      this.util.removeClass(contextAnchor.bookmarkButton, \"active\");\n      this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    } else {\n      url = \"#\" + url;\n      contextAnchor.bookmark.style.display = \"block\";\n      this.util.addClass(contextAnchor.bookmarkButton, \"active\");\n      contextAnchor.downloadCheck.checked = false;\n      contextAnchor.download.style.display = \"none\";\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, url);\n    }\n\n    contextAnchor.urlInput.value = url;\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, url);\n    contextAnchor.urlInput.focus();\n  },\n  onChange_newWindowCheck: function onChange_newWindowCheck(contextAnchor, e) {\n    if (typeof contextAnchor.linkDefaultRel.check_new_window !== \"string\") {\n      return;\n    }\n\n    if (e.target.checked) {\n      this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n    } else {\n      this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n    }\n  },\n  onChange_downloadCheck: function onChange_downloadCheck(contextAnchor, e) {\n    if (e.target.checked) {\n      contextAnchor.download.style.display = \"block\";\n      contextAnchor.bookmark.style.display = \"none\";\n      this.util.removeClass(contextAnchor.bookmarkButton, \"active\");\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.urlInput.value.replace(/^#+/, \"\");\n\n      if (typeof contextAnchor.linkDefaultRel.check_bookmark === \"string\") {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n      }\n    } else {\n      contextAnchor.download.style.display = \"none\";\n\n      if (typeof contextAnchor.linkDefaultRel.check_bookmark === \"string\") {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n      }\n    }\n  },\n  _relMerge: function _relMerge(contextAnchor, relAttr) {\n    var current = contextAnchor.currentRel;\n\n    if (!relAttr) {\n      return current.join(\" \");\n    }\n\n    if (/^only:/.test(relAttr)) {\n      relAttr = relAttr.replace(/^only:/, \"\").trim();\n      contextAnchor.currentRel = relAttr.split(\" \");\n      return relAttr;\n    }\n\n    var rels = relAttr.split(\" \");\n\n    for (var i = 0, len = rels.length, index; i < len; i++) {\n      index = current.indexOf(rels[i]);\n\n      if (index === -1) {\n        current.push(rels[i]);\n      }\n    }\n\n    return current.join(\" \");\n  },\n  _relDelete: function _relDelete(contextAnchor, relAttr) {\n    if (!relAttr) {\n      return contextAnchor.currentRel.join(\" \");\n    }\n\n    if (/^only:/.test(relAttr)) {\n      relAttr = relAttr.replace(/^only:/, \"\").trim();\n    }\n\n    var rels = contextAnchor.currentRel.join(\" \").replace(this._w.RegExp(relAttr + \"\\\\s*\"), \"\");\n    contextAnchor.currentRel = rels.split(\" \");\n    return rels;\n  },\n  init: function init(contextAnchor) {\n    contextAnchor.linkAnchor = null;\n    contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = \"\";\n    contextAnchor.anchorText.value = \"\";\n    contextAnchor.newWindowCheck.checked = false;\n    contextAnchor.downloadCheck.checked = false;\n    contextAnchor._change = false;\n    this.plugins.anchor.setRel.call(this, contextAnchor, contextAnchor.defaultRel);\n\n    if (contextAnchor.relList) {\n      this.plugins.anchor.toggleRelList.call(this, contextAnchor, false);\n    }\n\n    this.context.anchor.callerContext = null;\n    this.plugins.selectMenu.init.call(this, this.context.selectMenu.callerContext);\n  }\n};\nexports.default = _default;","import { LocaleMessages } from \"vue-i18n\";\nimport i18n from \"../../plugins/i18n\";\n\nexport const exactRule = function(\n  number: number,\n  selectValidation = false\n): Function {\n  if (!selectValidation) {\n    return (v: string): boolean | string | LocaleMessages =>\n      !v ||\n      v?.trim().length === number ||\n      // @ts-ignore\n      i18n.t(\"global-validation.exact\", { number });\n  }\n  return (v: string | any): boolean | string | LocaleMessages =>\n    !v ||\n    v.text.trim().length === number ||\n    // @ts-ignore\n    i18n.t(\"global-validation.exact\", { number });\n};\n\nexport const minLengthRule = function(\n  number: number,\n  selectValidation = false\n): Function {\n  if (!selectValidation) {\n    return (v: string): boolean | string | LocaleMessages =>\n      !v ||\n      (v && v.length >= number) ||\n      // @ts-ignore\n      i18n.t(\"global-validation.min\", { number });\n  }\n  return (v: any): boolean | string | LocaleMessages =>\n    !v ||\n    (v && v.length >= number) ||\n    (v && v.text.length >= number) ||\n    // @ts-ignore\n    i18n.t(\"global-validation.min\", { number });\n};\n\nexport const maxLengthRule = function(\n  number: number,\n  selectValidation = false\n): Function {\n  if (!selectValidation) {\n    return (v: string): boolean | string | LocaleMessages =>\n      // @ts-ignore\n      !v ||\n      v?.length <= number ||\n      // @ts-ignore\n      i18n.t(\"global-validation.max\", { number });\n  }\n  return (v: any): boolean | any | LocaleMessages =>\n    !v ||\n    !v.text ||\n    v.text.length <= number ||\n    v.length <= number ||\n    // @ts-ignore\n    i18n.t(\"global-validation.max\", { number });\n};\n\nexport const requiredRule = function(\n  field = \"\" as string,\n  isSelect: any = false,\n  mixSelect: any = false\n): Function {\n  if (mixSelect) {\n    return (v: any): boolean | string | LocaleMessages => {\n      if (v && v.hasOwnProperty(\"text\")) {\n        return (\n          !!v.text ||\n          // @ts-ignore\n          i18n.t(\"global-validation.required_field\", { field })\n        );\n      }\n      return (\n        !!v ||\n        // @ts-ignore\n        i18n.t(\"global-validation.required_field\", { field })\n      );\n    };\n  }\n\n  if (isSelect) {\n    return (v: any): boolean | string | LocaleMessages =>\n      !!v.text ||\n      // @ts-ignore\n      i18n.t(\"global-validation.required_field\", { field });\n  }\n  return (v: string): boolean | string | LocaleMessages =>\n    !!v ||\n    // @ts-ignore\n    i18n.t(\"global-validation.required_field\", { field });\n};\n\nexport const minNumberRule = function(number: number): Function {\n  return (v: string): boolean | string | LocaleMessages =>\n    !v ||\n    Number(v) >= number ||\n    // @ts-ignore\n    i18n.t(\"global-validation.min_number\", { number });\n};\n\nexport const maxNumberRule = function(number: number): Function {\n  return (v: string): boolean | string | LocaleMessages =>\n    !v ||\n    Number(v) <= number ||\n    // @ts-ignore\n    i18n.t(\"global-validation.max_number\", { number });\n};\n\nexport const emailRule = function(\n  v: any,\n  selectValidation = false\n): boolean | string | LocaleMessages {\n  // const emailValidation = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n  const emailValidation = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n\n  if (!selectValidation) {\n    return (\n      !v ||\n      emailValidation.test(v) ||\n      // @ts-ignore\n      i18n.t(\"global-validation.email\")\n    );\n  }\n  return (\n    (!!v && emailValidation.test(v.text)) ||\n    // @ts-ignore\n    i18n.t(\"global-validation.email\")\n  );\n};\n\nexport const minCountRule = function(number: number): Function {\n  return (v: string): boolean | string | LocaleMessages =>\n    !v ||\n    v.length >= number ||\n    // @ts-ignore\n    i18n.t(\"global-validation.min_count\", { number });\n};\n\nexport const websiteRule = function(): Function {\n  return (v: string): boolean | string | LocaleMessages =>\n    !v ||\n    /.\\../.test(v) ||\n    // @ts-ignore\n    i18n.t(\"global-validation.email\");\n};\n\nexport const phoneRule = function(selectValidation = false): Function {\n  if (!selectValidation) {\n    return (v: string): boolean | string | LocaleMessages =>\n      !v ||\n      /^[0-9,]*$/.test(v) ||\n      // @ts-ignore\n      i18n.t(\"global-validation.phone\");\n  }\n  return (v: any): boolean | string | LocaleMessages =>\n    !v ||\n    /^[0-9,]*$/.test(v.text) ||\n    // @ts-ignore\n    i18n.t(\"global-validation.phone\");\n};\n\nexport const uniqueRule = function(\n  array: Array<any>,\n  value: number,\n  itemValue = \"value\"\n): Function {\n  return (): boolean | string | LocaleMessages =>\n    array.reduce(\n      (count, x: any) => (x[itemValue] === value ? count + 1 : count),\n      0\n    ) <= 1 ||\n    // @ts-ignore\n    i18n.t(\"global-validation.unique\");\n};\n\nexport const isEqualStringRule = function(\n  string: string,\n  locales = \"global-validation.is_equal\"\n): Function {\n  return (v: string): boolean | string | LocaleMessages =>\n    !v ||\n    string === v ||\n    // @ts-ignore\n    i18n.t(locales);\n};\n\nexport default {\n  required: requiredRule,\n  website: websiteRule,\n  minCount: minCountRule,\n  phone: phoneRule,\n  email: emailRule,\n  minNumber: minNumberRule,\n  maxNumber: maxNumberRule,\n  min: minLengthRule,\n  max: maxLengthRule,\n  exact: exactRule,\n  unique: uniqueRule,\n  isEqualString: isEqualStringRule\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _colorPicker = _interopRequireDefault(require(\"../modules/colorPicker\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"hiliteColor\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.addModule([_colorPicker.default]);\n    var context = core.context;\n    context.hiliteColor = {\n      previewEl: null,\n      colorInput: null,\n      colorList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    context.hiliteColor.colorInput = listDiv.querySelector(\"._ke_color_picker_input\");\n    /** add event listeners */\n\n    context.hiliteColor.colorInput.addEventListener(\"keyup\", this.onChangeInput.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_submit\").addEventListener(\"click\", this.submit.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_remove\").addEventListener(\"click\", this.remove.bind(core));\n    listDiv.addEventListener(\"click\", this.pickup.bind(core));\n    context.hiliteColor.colorList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var colorArea = core.context.colorPicker.colorListHTML;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = colorArea;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var contextPicker = this.context.colorPicker;\n    var contextHiliteColor = this.context.hiliteColor;\n    contextPicker._colorInput = contextHiliteColor.colorInput;\n    var color = this.wwComputedStyle.backgroundColor;\n    contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#ffffff\";\n    contextPicker._styleProperty = \"backgroundColor\";\n    contextPicker._colorList = contextHiliteColor.colorList;\n    this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n  },\n\n  /**\r\n   * @Override colorPicker\r\n   */\n  onChangeInput: function onChangeInput(e) {\n    this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n  },\n  submit: function submit() {\n    this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute(\"data-value\"));\n  },\n  remove: function remove() {\n    this.nodeChange(null, [\"background-color\"], [\"span\"], true);\n    this.submenuOff();\n  },\n  applyColor: function applyColor(color) {\n    if (!color) {\n      return;\n    }\n\n    var newNode = this.util.createElement(\"SPAN\");\n    newNode.style.backgroundColor = color;\n    this.nodeChange(newNode, [\"background-color\"], null, null);\n    this.submenuOff();\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"horizontalRule\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.context.horizontalRule = {\n      currentHR: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.horizontalRulePick.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-line\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n  active: function active(element) {\n    if (!element) {\n      if (this.util.hasClass(this.context.horizontalRule.currentHR, \"on\")) {\n        this.controllersOff();\n      }\n    } else if (/HR/i.test(element.nodeName)) {\n      this.context.horizontalRule.currentHR = element;\n\n      if (!this.util.hasClass(element, \"on\")) {\n        this.util.addClass(element, \"on\");\n        this.controllersOn(\"hr\", this.util.removeClass.bind(this.util, element, \"on\"));\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  appendHr: function appendHr(className) {\n    var oHr = this.util.createElement(\"HR\");\n    oHr.className = className;\n    this.focus();\n    return this.insertComponent(oHr, false, true, false);\n  },\n  horizontalRulePick: function horizontalRulePick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var oNode = this.plugins.horizontalRule.appendHr.call(this, \"__ke__\" + value);\n\n    if (oNode) {\n      this.setRange(oNode, 0, oNode, 0);\n      this.submenuOff();\n    }\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var fileBrowser = {\n    name: \"fileBrowser\",\n    _xmlHttp: null,\n    loading: null,\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object\r\n     */\n    add: function add(core) {\n      var context = core.context;\n      context.fileBrowser = {\n        _closeSignal: false,\n        area: null,\n        header: null,\n        tagArea: null,\n        body: null,\n        list: null,\n        tagElements: null,\n        items: [],\n        selectedTags: [],\n        selectorHandler: null,\n        contextPlugin: \"\",\n        columnSize: 4\n      };\n      /** fileBrowser */\n\n      var browser_div = core.util.createElement(\"DIV\");\n      browser_div.className = \"ke-file-browser kothing-editor-common\";\n      var back = core.util.createElement(\"DIV\");\n      back.className = \"ke-file-browser-back\";\n      var content = core.util.createElement(\"DIV\");\n      content.className = \"ke-file-browser-inner\";\n      content.innerHTML = this.set_browser(core);\n      browser_div.appendChild(back);\n      browser_div.appendChild(content);\n      this.loading = browser_div.querySelector(\".ke-loading-box\");\n      context.fileBrowser.area = browser_div;\n      context.fileBrowser.header = content.querySelector(\".ke-file-browser-header\");\n      context.fileBrowser.titleArea = content.querySelector(\".ke-file-browser-title\");\n      context.fileBrowser.tagArea = content.querySelector(\".ke-file-browser-tags\");\n      context.fileBrowser.body = content.querySelector(\".ke-file-browser-body\");\n      context.fileBrowser.list = content.querySelector(\".ke-file-browser-list\");\n      /** add event listeners */\n\n      context.fileBrowser.tagArea.addEventListener(\"click\", this.onClickTag.bind(core));\n      context.fileBrowser.list.addEventListener(\"click\", this.onClickFile.bind(core));\n      content.addEventListener(\"mousedown\", this._onMouseDown_browser.bind(core));\n      content.addEventListener(\"click\", this._onClick_browser.bind(core));\n      /** append html */\n\n      context.element.relative.appendChild(browser_div);\n      /** empty memory */\n\n      browser_div = null, back = null, content = null;\n    },\n    set_browser: function set_browser(core) {\n      var lang = core.lang;\n      return '<div class=\"ke-file-browser-content\">' + '<div class=\"ke-file-browser-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-file-browser-title\"></span>' + '<div class=\"ke-file-browser-tags\"></div>' + \"</div>\" + '<div class=\"ke-file-browser-body\">' + '<div class=\"ke-loading-box kothing-editor-common\"><div class=\"ke-loading-effect\"></div></div>' + '<div class=\"ke-file-browser-list\"></div>' + \"</div>\" + \"</div>\";\n    },\n\n    /**\r\n     * @description Event to control the behavior of closing the browser\r\n     * @param {MouseEvent} e Event object\r\n     * @private\r\n     */\n    _onMouseDown_browser: function _onMouseDown_browser(e) {\n      if (/ke-file-browser-inner/.test(e.target.className)) {\n        this.context.fileBrowser._closeSignal = true;\n      } else {\n        this.context.fileBrowser._closeSignal = false;\n      }\n    },\n\n    /**\r\n     * @description Event to close the window when the outside area of the browser or close button is click\r\n     * @param {MouseEvent} e Event object\r\n     * @private\r\n     */\n    _onClick_browser: function _onClick_browser(e) {\n      e.stopPropagation();\n\n      if (/close/.test(e.target.getAttribute(\"data-command\")) || this.context.fileBrowser._closeSignal) {\n        this.plugins.fileBrowser.close.call(this);\n      }\n    },\n\n    /**\r\n     * @description Open a file browser plugin\r\n     * @param {String} pluginName Plugin name using the file browser\r\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n     */\n    open: function open(pluginName, selectorHandler) {\n      if (this.plugins.fileBrowser._bindClose) {\n        this._d.removeEventListener(\"keydown\", this.plugins.fileBrowser._bindClose);\n\n        this.plugins.fileBrowser._bindClose = null;\n      }\n\n      this.plugins.fileBrowser._bindClose = function (e) {\n        if (!/27/.test(e.keyCode)) {\n          return;\n        }\n\n        this.plugins.fileBrowser.close.call(this);\n      }.bind(this);\n\n      this._d.addEventListener(\"keydown\", this.plugins.fileBrowser._bindClose);\n\n      var fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.contextPlugin = pluginName;\n      fileBrowserContext.selectorHandler = selectorHandler;\n      var pluginContext = this.context[pluginName];\n      var listClassName = pluginContext.listClass;\n\n      if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n        fileBrowserContext.list.className = \"ke-file-browser-list \" + listClassName;\n      }\n\n      if (this.options.popupDisplay === \"full\") {\n        fileBrowserContext.area.style.position = \"fixed\";\n      } else {\n        fileBrowserContext.area.style.position = \"absolute\";\n      }\n\n      fileBrowserContext.titleArea.textContent = pluginContext.title;\n      fileBrowserContext.area.style.display = \"block\";\n\n      this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\n    },\n    _bindClose: null,\n\n    /**\r\n     * @description Close a fileBrowser plugin\r\n     * The plugin's \"init\" method is called.\r\n     */\n    close: function close() {\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n\n      if (fileBrowserPlugin._xmlHttp) {\n        fileBrowserPlugin._xmlHttp.abort();\n      }\n\n      if (fileBrowserPlugin._bindClose) {\n        this._d.removeEventListener(\"keydown\", fileBrowserPlugin._bindClose);\n\n        fileBrowserPlugin._bindClose = null;\n      }\n\n      var fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.area.style.display = \"none\";\n      fileBrowserContext.selectorHandler = null;\n      fileBrowserContext.selectedTags = [];\n      fileBrowserContext.items = [];\n      fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = \"\";\n\n      if (typeof this.plugins[fileBrowserContext.contextPlugin].init === \"function\") {\n        this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n      }\n\n      fileBrowserContext.contextPlugin = \"\";\n    },\n\n    /**\r\n     * @description Show file browser loading box\r\n     */\n    showBrowserLoading: function showBrowserLoading() {\n      this.loading.style.display = \"block\";\n    },\n\n    /**\r\n     * @description Close file browser loading box\r\n     */\n    closeBrowserLoading: function closeBrowserLoading() {\n      this.loading.style.display = \"none\";\n    },\n    _drawFileList: function _drawFileList(url, browserHeader) {\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n      var xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n      xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n      xmlHttp.open(\"get\", url, true);\n\n      if (browserHeader !== null && _typeof(browserHeader) === \"object\" && this._w.Object.keys(browserHeader).length > 0) {\n        for (var key in browserHeader) {\n          xmlHttp.setRequestHeader(key, browserHeader[key]);\n        }\n      }\n\n      xmlHttp.send(null);\n      this.plugins.fileBrowser.showBrowserLoading();\n    },\n    _callBackGet: function _callBackGet(xmlHttp) {\n      if (xmlHttp.readyState === 4) {\n        this.plugins.fileBrowser._xmlHttp = null;\n\n        if (xmlHttp.status === 200) {\n          try {\n            this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n          } catch (e) {\n            throw Error('[KothingEditor.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n          } finally {\n            this.plugins.fileBrowser.closeBrowserLoading();\n            this.context.fileBrowser.body.style.maxHeight = this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50 + \"px\";\n          }\n        } else {\n          // exception\n          this.plugins.fileBrowser.closeBrowserLoading();\n\n          if (xmlHttp.status !== 0) {\n            var res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n            var err = \"[KothingEditor.fileBrowser.get.serverException] status: \" + xmlHttp.status + \", response: \" + (res.errorMessage || xmlHttp.responseText);\n            throw Error(err);\n          }\n        }\n      }\n    },\n    _drawListItem: function _drawListItem(items, update) {\n      var fileBrowserContext = this.context.fileBrowser;\n      var pluginContext = this.context[fileBrowserContext.contextPlugin];\n      var _tags = [];\n      var len = items.length;\n      var columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n      var splitSize = columnSize <= 1 ? 1 : Math.round(len / columnSize) || 1;\n      var drawItemHandler = pluginContext.itemTemplateHandler;\n      var tagsHTML = \"\";\n      var listHTML = '<div class=\"ke-file-item-column\">';\n      var columns = 1;\n\n      for (var i = 0, item, tags; i < len; i++) {\n        item = items[i];\n        tags = !item.tag ? [] : typeof item.tag === \"string\" ? item.tag.split(\",\") : item.tag;\n        tags = item.tag = tags.map(function (v) {\n          return v.trim();\n        });\n        listHTML += drawItemHandler(item);\n\n        if ((i + 1) % splitSize === 0 && columns < columnSize && i + 1 < len) {\n          columns++;\n          listHTML += '</div><div class=\"ke-file-item-column\">';\n        }\n\n        if (update && tags.length > 0) {\n          for (var t = 0, tLen = tags.length, tag; t < tLen; t++) {\n            tag = tags[t];\n\n            if (tag && _tags.indexOf(tag) === -1) {\n              _tags.push(tag);\n\n              tagsHTML += '<a title=\"' + tag + '\">' + tag + \"</a>\";\n            }\n          }\n        }\n      }\n\n      listHTML += \"</div>\";\n      fileBrowserContext.list.innerHTML = listHTML;\n\n      if (update) {\n        fileBrowserContext.items = items;\n        fileBrowserContext.tagArea.innerHTML = tagsHTML;\n        fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll(\"A\");\n      }\n    },\n    onClickTag: function onClickTag(e) {\n      var target = e.target;\n\n      if (!this.util.isAnchor(target)) {\n        return;\n      }\n\n      var tagName = target.textContent;\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n      var fileBrowserContext = this.context.fileBrowser;\n      var selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n      var selectedTags = fileBrowserContext.selectedTags;\n      var sTagIndex = selectedTags.indexOf(tagName);\n\n      if (sTagIndex > -1) {\n        selectedTags.splice(sTagIndex, 1);\n        this.util.removeClass(selectTag, \"on\");\n      } else {\n        selectedTags.push(tagName);\n        this.util.addClass(selectTag, \"on\");\n      }\n\n      fileBrowserPlugin._drawListItem.call(this, selectedTags.length === 0 ? fileBrowserContext.items : fileBrowserContext.items.filter(function (item) {\n        return item.tag.some(function (tag) {\n          return selectedTags.indexOf(tag) > -1;\n        });\n      }), false);\n    },\n    onClickFile: function onClickFile(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var fileBrowserContext = this.context.fileBrowser;\n      var listEl = fileBrowserContext.list;\n      var target = e.target;\n      var command = null;\n\n      if (target === listEl) {\n        return;\n      }\n\n      while (listEl !== target.parentNode) {\n        command = target.getAttribute(\"data-command\");\n\n        if (command) {\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) {\n        return;\n      }\n\n      var handler = fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler;\n      this.plugins.fileBrowser.close.call(this);\n      handler(target);\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"fileBrowser\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: fileBrowser\n    });\n  }\n\n  return fileBrowser;\n});","// Types\nimport { BreakpointName } from 'vuetify/types/services/breakpoint'\nimport { deprecate } from '../../util/console'\nimport Vue, { PropType } from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'mobile',\n\n  props: {\n    mobileBreakpoint: {\n      type: [Number, String] as PropType<number | BreakpointName>,\n      default (): number | BreakpointName | undefined {\n        // Avoid destroying unit\n        // tests for users\n        return this.$vuetify\n          ? this.$vuetify.breakpoint.mobileBreakpoint\n          : undefined\n      },\n      validator: v => (\n        !isNaN(Number(v)) ||\n        ['xs', 'sm', 'md', 'lg', 'xl'].includes(String(v))\n      ),\n    },\n  },\n\n  computed: {\n    isMobile (): boolean {\n      const {\n        mobile,\n        width,\n        name,\n        mobileBreakpoint,\n      } = this.$vuetify.breakpoint\n\n      // Check if local mobileBreakpoint matches\n      // the application's mobileBreakpoint\n      if (mobileBreakpoint === this.mobileBreakpoint) return mobile\n\n      const mobileWidth = parseInt(this.mobileBreakpoint, 10)\n      const isNumber = !isNaN(mobileWidth)\n\n      return isNumber\n        ? width < mobileWidth\n        : name === this.mobileBreakpoint\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('mobile-break-point')) {\n      deprecate('mobile-break-point', 'mobile-breakpoint', this)\n    }\n  },\n})\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"ro\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Salvează\",\n      font: \"Font\",\n      formats: \"Format\",\n      fontSize: \"Dimensiune\",\n      bold: \"Îngroșat\",\n      underline: \"Subliniat\",\n      italic: \"Înclinat\",\n      strike: \"Tăiat\",\n      subscript: \"Subscript\",\n      superscript: \"Superscript\",\n      removeFormat: \"Șterge formatare\",\n      fontColor: \"Culoare font\",\n      hiliteColor: \"Culoare de evidențiere\",\n      indent: \"Indentează\",\n      outdent: \"Fără indentare\",\n      align: \"Aliniere\",\n      alignLeft: \"Aliniere la stânga\",\n      alignRight: \"Aliniere la dreapta\",\n      alignCenter: \"Aliniere la centru\",\n      alignJustify: \"Aliniere stânga - dreapta\",\n      list: \"Listă\",\n      orderList: \"Listă ordonată\",\n      unorderList: \"Listă neordonată\",\n      horizontalRule: \"Linie orizontală\",\n      hr_solid: \"Solid\",\n      hr_dotted: \"Punctat\",\n      hr_dashed: \"Punctate\",\n      table: \"Tabel\",\n      link: \"Link\",\n      math: \"Matematică\",\n      image: \"Imagine\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Tot ecranul\",\n      showBlocks: \"Arată blocuri\",\n      codeView: \"Vizualizare cod\",\n      undo: \"Anulează\",\n      redo: \"Refă\",\n      preview: \"Previzualizare\",\n      print: \"printează\",\n      tag_p: \"Paragraf\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Antet\",\n      tag_blockquote: \"Quote\",\n      tag_pre: \"Citat\",\n      template: \"Template\",\n      lineHeight: \"Înălțime linie\",\n      paragraphStyle: \"Stil paragraf\",\n      textStyle: \"Stil text\",\n      imageGallery: \"Galerie de imagini\",\n      mention: \"Mentiune\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Inserează Link\",\n        url: \"Adresă link\",\n        text: \"Text de afișat\",\n        newWindowCheck: \"Deschide în fereastră nouă\",\n        downloadLinkCheck: \"Link de descărcare\",\n        bookmark: \"Marcaj\"\n      },\n      mathBox: {\n        title: \"Matematică\",\n        inputLabel: \"Notație matematică\",\n        fontSizeLabel: \"Dimensiune font\",\n        previewLabel: \"Previzualizare\"\n      },\n      imageBox: {\n        title: \"Inserează imagine\",\n        file: \"Selectează\",\n        url: \"URL imagine\",\n        altText: \"text alternativ\"\n      },\n      videoBox: {\n        title: \"Inserează video\",\n        file: \"Selectează\",\n        url: \"Include URL, youtube/vimeo\"\n      },\n      audioBox: {\n        title: \"Inserează Audio\",\n        file: \"Selectează\",\n        url: \"URL Audio\"\n      },\n      browser: {\n        tags: \"Etichete\",\n        search: \"Căutareim\"\n      },\n      caption: \"Inserează descriere\",\n      close: \"Închide\",\n      submitButton: \"Salvează\",\n      revertButton: \"Revenire\",\n      proportion: \"Constrânge proporțiile\",\n      basic: \"De bază\",\n      left: \"Stânga\",\n      right: \"Dreapta\",\n      center: \"Centru\",\n      width: \"Lățime\",\n      height: \"Înălțime\",\n      size: \"Dimensiune\",\n      ratio: \"Ratie\"\n    },\n    controller: {\n      edit: \"Editează\",\n      unlink: \"Scoate link\",\n      remove: \"Elimină\",\n      insertRowAbove: \"Inserează rând deasupra\",\n      insertRowBelow: \"Inserează rând dedesupt\",\n      deleteRow: \"Șterge linie\",\n      insertColumnBefore: \"Inserează coloană înainte\",\n      insertColumnAfter: \"Inserează coloană după\",\n      deleteColumn: \"Șterge coloană\",\n      fixedColumnWidth: \"Lățime fixă coloană\",\n      resize100: \"Redimensionare 100%\",\n      resize75: \"Redimensionare 75%\",\n      resize50: \"Redimensionare 50%\",\n      resize25: \"Redimensionare 25%\",\n      autoSize: \"Dimensiune automată\",\n      mirrorHorizontal: \"Oglindă, orizontal\",\n      mirrorVertical: \"Oglindă, vertical\",\n      rotateLeft: \"Rotește la stânga\",\n      rotateRight: \"Rotește la dreapta\",\n      maxSize: \"Dimensiune maximă\",\n      minSize: \"Dimensiune minimă\",\n      tableHeader: \"Antet tabel\",\n      mergeCells: \"Îmbină celule\",\n      splitCells: \"Divizează celule\",\n      HorizontalSplit: \"Despicare orizontală\",\n      VerticalSplit: \"Despicare verticală\"\n    },\n    menu: {\n      spaced: \"Spațiat\",\n      bordered: \"Mărginit\",\n      neon: \"Neon\",\n      translucent: \"Translucent\",\n      shadow: \"Umbră\",\n      code: \"Citat\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"ro\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"blockquote\",\n  display: \"command\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.blockquote = {\n      targetButton: targetElement,\n      tag: core.util.createElement(\"BLOCKQUOTE\")\n    };\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    if (!element) {\n      this.util.removeClass(this.context.blockquote.targetButton, \"active\");\n    } else if (/blockquote/i.test(element.nodeName)) {\n      this.util.addClass(this.context.blockquote.targetButton, \"active\");\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  action: function action() {\n    var currentBlockquote = this.util.getParentElement(this.getSelectionNode(), \"blockquote\");\n\n    if (currentBlockquote) {\n      this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n    } else {\n      this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n    }\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n\n/**\r\n * @description utility function\r\n */\nvar util = {\n  _d: null,\n  _w: null,\n  isIE: null,\n  isIE_Edge: null,\n  isOSX_IOS: null,\n  _propertiesInit: function _propertiesInit() {\n    if (this._d) return;\n    this._d = document;\n    this._w = window;\n    this.isIE = navigator.userAgent.indexOf(\"Trident\") > -1;\n    this.isIE_Edge = navigator.userAgent.indexOf(\"Trident\") > -1 || navigator.appVersion.indexOf(\"Edge\") > -1;\n    this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\n  },\n  _allowedEmptyNodeList: \".ke-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas\",\n\n  /**\r\n   * @description HTML Reserved Word Converter.\r\n   * @param {String} contents\r\n   * @returns {String} HTML string\r\n   * @private\r\n   */\n  _HTMLConvertor: function _HTMLConvertor(contents) {\n    var ec = {\n      \"&\": \"&amp;\",\n      \"\\xA0\": \"&nbsp;\",\n      \"'\": \"&apos;\",\n      '\"': \"&quot;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\"\n    };\n    return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\n      return typeof ec[m] === \"string\" ? ec[m] : m;\n    });\n  },\n\n  /**\r\n   * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n   */\n  zeroWidthSpace: String.fromCharCode(8203),\n\n  /**\r\n   * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n   */\n  zeroWidthRegExp: new RegExp(String.fromCharCode(8203), \"g\"),\n\n  /**\r\n   * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n   */\n  onlyZeroWidthRegExp: new RegExp(\"^\" + String.fromCharCode(8203) + \"+$\"),\n\n  /**\r\n   * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n   * @param {String|Node} text String value or Node\r\n   * @returns {Boolean}\r\n   */\n  onlyZeroWidthSpace: function onlyZeroWidthSpace(text) {\n    if (typeof text !== \"string\") text = text.textContent;\n    return text === \"\" || this.onlyZeroWidthRegExp.test(text);\n  },\n\n  /**\r\n   * @description Gets XMLHttpRequest object\r\n   * @returns {XMLHttpRequest|ActiveXObject}\r\n   */\n  getXMLHttpRequest: function getXMLHttpRequest() {\n    /** IE */\n    if (this._w.ActiveXObject) {\n      try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } catch (e) {\n        try {\n          return new ActiveXObject(\"Microsoft.XMLHTTP\");\n        } catch (e1) {\n          return null;\n        }\n      }\n    } else if (this._w.XMLHttpRequest) {\n      /** netscape */\n      return new XMLHttpRequest();\n    } else {\n      /** fail */\n      return null;\n    }\n  },\n\n  /**\r\n   * @description Create Element node\r\n   * @param {String} elementName Element name\r\n   * @returns {Element}\r\n   */\n  createElement: function createElement(elementName) {\n    return this._d.createElement(elementName);\n  },\n\n  /**\r\n   * @description Create text node\r\n   * @param {String} text text contents\r\n   * @returns {Node}\r\n   */\n  createTextNode: function createTextNode(text) {\n    return this._d.createTextNode(text || \"\");\n  },\n\n  /**\r\n   * @description The editor checks tags by string.\r\n   * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n   * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n   * @param {String} contents HTML or Text string\r\n   * @returns {String}\r\n   */\n  HTMLEncoder: function HTMLEncoder(contents) {\n    var ec = {\n      \"<\": \"$lt;\",\n      \">\": \"$gt;\"\n    };\n    return contents.replace(/<|>/g, function (m) {\n      return typeof ec[m] === \"string\" ? ec[m] : m;\n    });\n  },\n\n  /**\r\n   * @description The editor checks tags by string.\r\n   * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n   * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n   * @param {String} contents HTML or Text string\r\n   * @returns {String}\r\n   */\n  HTMLDecoder: function HTMLDecoder(contents) {\n    var ec = {\n      \"$lt;\": \"<\",\n      \"$gt;\": \">\"\n    };\n    return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\n      return typeof ec[m] === \"string\" ? ec[m] : m;\n    });\n  },\n\n  /**\r\n   * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n   * @param {Object} obj Object\r\n   * @param {String} key obj.key\r\n   * @returns {Boolean}\r\n   */\n  hasOwn: function hasOwn(obj, key) {\n    return this._hasOwn.call(obj, key);\n  },\n  _hasOwn: Object.prototype.hasOwnProperty,\n\n  /**\r\n   * @deprecated\r\n   * @description Get the the tag path of the arguments value\r\n   * If not found, return the first found value\r\n   * @param {Array} nameArray File name array\r\n   * @param {String} extension js, css\r\n   * @returns {String}\r\n   */\n  getIncludePath: function getIncludePath(nameArray, extension) {\n    var path = \"\";\n    var pathList = [];\n    var tagName = extension === \"js\" ? \"script\" : \"link\";\n    var src = extension === \"js\" ? \"src\" : \"href\";\n    var fileName = \"(?:\";\n\n    for (var i = 0, len = nameArray.length; i < len; i++) {\n      fileName += nameArray[i] + (i < len - 1 ? \"|\" : \")\");\n    }\n\n    var regExp = new this._w.RegExp(\"(^|.*[\\\\/])\" + fileName + \"(\\\\.[^\\\\/]+)?.\" + extension + \"(?:\\\\?.*|;.*)?$\", \"i\");\n    var extRegExp = new this._w.RegExp(\".+\\\\.\" + extension + \"(?:\\\\?.*|;.*)?$\", \"i\");\n\n    for (var c = this._d.getElementsByTagName(tagName), _i = 0; _i < c.length; _i++) {\n      if (extRegExp.test(c[_i][src])) {\n        pathList.push(c[_i]);\n      }\n    }\n\n    for (var _i2 = 0; _i2 < pathList.length; _i2++) {\n      var editorTag = pathList[_i2][src].match(regExp);\n\n      if (editorTag) {\n        path = editorTag[0];\n        break;\n      }\n    }\n\n    if (path === \"\") path = pathList.length > 0 ? pathList[0][src] : \"\";\n    -1 === path.indexOf(\":/\") && \"//\" !== path.slice(0, 2) && (path = 0 === path.indexOf(\"/\") ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\n    if (!path) throw \"[KothingEditor.util.getIncludePath.fail] The KothingEditor installation path could not be automatically detected. (name: +\" + name + \", extension: \" + extension + \")\";\n    return path;\n  },\n\n  /**\r\n   * @deprecated\r\n   * @description Returns the CSS text that has been applied to the current page.\r\n   * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n   * @returns {String} Styles string\r\n   */\n  getPageStyle: function getPageStyle(doc) {\n    var cssText = \"\";\n    var sheets = (doc || this._d).styleSheets;\n\n    for (var i = 0, len = sheets.length, rules; i < len; i++) {\n      try {\n        rules = sheets[i].cssRules;\n      } catch (e) {\n        continue;\n      }\n\n      if (rules) {\n        for (var c = 0, cLen = rules.length; c < cLen; c++) {\n          cssText += rules[c].cssText;\n        }\n      }\n    }\n\n    return cssText;\n  },\n\n  /**\r\n   * @description Get the argument iframe's document object\r\n   * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n   * @returns {Document}\r\n   */\n  getIframeDocument: function getIframeDocument(iframe) {\n    var wDocument = iframe.contentWindow || iframe.contentDocument;\n    if (wDocument.document) wDocument = wDocument.document;\n    return wDocument;\n  },\n\n  /**\r\n   * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n   * @param {Element} element Element object\r\n   * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n   * @returns {String}\r\n   */\n  getAttributesToString: function getAttributesToString(element, exceptAttrs) {\n    if (!element.attributes) return \"\";\n    var attrs = element.attributes;\n    var attrString = \"\";\n\n    for (var i = 0, len = attrs.length; i < len; i++) {\n      if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\n      attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\n    }\n\n    return attrString;\n  },\n\n  /**\r\n   * @descriptionGets Get the length in bytes of a string.\r\n   * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n   * @param {String} text String text\r\n   * @returns {Number}\r\n   */\n  getByteLength: function getByteLength(text) {\n    if (!text || !text.toString) return 0;\n    text = text.toString();\n    var encoder = this._w.encodeURIComponent;\n    var cr, cl;\n\n    if (this.isIE_Edge) {\n      cl = this._w.unescape(encoder(text)).length;\n      cr = 0;\n\n      if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\n        cr = encoder(text).match(/(%0A|%0D)/gi).length;\n      }\n\n      return cl + cr;\n    } else {\n      cl = new this._w.TextEncoder(\"utf-8\").encode(text).length;\n      cr = 0;\n\n      if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\n        cr = encoder(text).match(/(%0A|%0D)/gi).length;\n      }\n\n      return cl + cr;\n    }\n  },\n\n  /**\r\n   * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isWysiwygDiv: function isWysiwygDiv(element) {\n    return element && element.nodeType === 1 && (this.hasClass(element, \"ke-wrapper-wysiwyg\") || /^BODY$/i.test(element.nodeName));\n  },\n\n  /**\r\n   * @description It is judged whether it is the contenteditable property is false.\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isNonEditable: function isNonEditable(element) {\n    return element && element.nodeType === 1 && element.getAttribute(\"contenteditable\") === \"false\";\n  },\n\n  /**\r\n   * @description It is judged whether it is a node related to the text style.\r\n   * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isTextStyleElement: function isTextStyleElement(element) {\n    return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\n  },\n\n  /**\r\n   * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__ke__format__replace_xxx\")\r\n   * Format element also contain \"free format Element\"\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isFormatElement: function isFormatElement(element) {\n    return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__replace_.+(\\\\s|$)|(\\\\s|^)__ke__format__free_.+(\\\\s|$)\")) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n  },\n\n  /**\r\n   * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__ke__format__range_xxx\")\r\n   * Range format element is wrap the \"format element\" and \"component\"\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isRangeFormatElement: function isRangeFormatElement(element) {\n    return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__range_.+(\\\\s|$)\"));\n  },\n\n  /**\r\n   * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__ke__format__range__closure_xxx\")\r\n   * Closure range format elements is included in the range format element.\r\n   *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n   * ※ You cannot exit this format with the Enter key or Backspace key.\r\n   * ※ Use it only in special cases. ([ex] format of table cells)\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isClosureRangeFormatElement: function isClosureRangeFormatElement(element) {\n    return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__range__closure_.+(\\\\s|$)\"));\n  },\n\n  /**\r\n   * @description It is judged whether it is the free format element. (PRE | class=\"__ke__format__free_xxx\")\r\n   * Free format elements is included in the format element.\r\n   * Free format elements's line break is \"BR\" tag.\r\n   * ※ Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isFreeFormatElement: function isFreeFormatElement(element) {\n    return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, \"(\\\\s|^)__ke__format__free_.+(\\\\s|$)\")) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n  },\n\n  /**\r\n   * @description It is judged whether it is the closure free format element. (class=\"__ke__format__free__closure_xxx\")\r\n   * Closure free format elements is included in the free format element.\r\n   *  - Closure free format elements's line break is \"BR\" tag.\r\n   * ※ You cannot exit this format with the Enter key or Backspace key.\r\n   * ※ Use it only in special cases. ([ex] format of table cells)\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isClosureFreeFormatElement: function isClosureFreeFormatElement(element) {\n    return element && element.nodeType === 1 && this.hasClass(element, \"(\\\\s|^)__ke__format__free__closure_.+(\\\\s|$)\");\n  },\n\n  /**\r\n   * @description It is judged whether it is the component[img, iframe, video, audio, table] cover(class=\"ke-component\") and table, hr\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isComponent: function isComponent(element) {\n    return element && (/ke-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\n  },\n\n  /**\r\n   * @description Checks for \"__ke__uneditable\" in the class list.\r\n   * Components with class \"__ke__uneditable\" cannot be modified.\r\n   * @param {Element} element The element to check\r\n   * @returns {Boolean}\r\n   */\n  isUneditableComponent: function isUneditableComponent(element) {\n    return element && this.hasClass(element, \"__ke__uneditable\");\n  },\n\n  /**\r\n   * @description It is judged whether it is the component [img, iframe] cover(class=\"ke-component\")\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isMediaComponent: function isMediaComponent(element) {\n    return element && /ke-component/.test(element.className);\n  },\n\n  /**\r\n   * @description It is judged whether it is the not checking node. (class=\"katex\", \"__ke__tag\")\r\n   * @param {Node} element The node to check\r\n   * @returns {Boolean}\r\n   */\n  isNotCheckingNode: function isNotCheckingNode(element) {\n    return element && /katex|__ke__tag/.test(element.className);\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getFormatElement: function getFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isRangeFormatElement(element)) element.firstElementChild;\n      if (this.isFormatElement(element) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getRangeFormatElement: function getRangeFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getFreeFormatElement: function getFreeFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isFreeFormatElement(element) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n   * @param {Node} element Reference node.\r\n   * @param {Function|null} validation Additional validation function.\r\n   * @returns {Element|null}\r\n   */\n  getClosureFreeFormatElement: function getClosureFreeFormatElement(element, validation) {\n    if (!element) return null;\n\n    if (!validation) {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    while (element) {\n      if (this.isWysiwygDiv(element)) return null;\n      if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\n      element = element.parentNode;\n    }\n\n    return null;\n  },\n\n  /**\r\n   * @description Add style and className of copyEl to originEl\r\n   * @param {Element} originEl Origin element\r\n   * @param {Element} copyEl Element to copy\r\n   */\n  copyTagAttributes: function copyTagAttributes(originEl, copyEl) {\n    if (copyEl.style.cssText) {\n      originEl.style.cssText += copyEl.style.cssText;\n    }\n\n    var classes = copyEl.classList;\n\n    for (var i = 0, len = classes.length; i < len; i++) {\n      this.addClass(originEl, classes[i]);\n    }\n\n    if (!originEl.style.cssText) originEl.removeAttribute(\"style\");\n    if (!originEl.className.trim()) originEl.removeAttribute(\"class\");\n  },\n\n  /**\r\n   * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__ke__format__\" class\r\n   * @param {Element} originEl Origin element\r\n   * @param {Element} copyEl Element to copy\r\n   */\n  copyFormatAttributes: function copyFormatAttributes(originEl, copyEl) {\n    copyEl = copyEl.cloneNode(false);\n    copyEl.className = copyEl.className.replace(/(\\s|^)__ke__format__[^\\s]+/g, \"\");\n    this.copyTagAttributes(originEl, copyEl);\n  },\n\n  /**\r\n   * @description Get the item from the array that matches the condition.\r\n   * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n   * @param {Function|null} validation Conditional function\r\n   * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n   * If false, returns only one item that meet the criteria otherwise return null.\r\n   * @returns {Array|Node|null}\r\n   */\n  getArrayItem: function getArrayItem(array, validation, multi) {\n    if (!array || array.length === 0) return null;\n\n    validation = validation || function () {\n      return true;\n    };\n\n    var arr = [];\n\n    for (var i = 0, len = array.length, a; i < len; i++) {\n      a = array[i];\n\n      if (validation(a)) {\n        if (!multi) return a;else arr.push(a);\n      }\n    }\n\n    return !multi ? null : arr;\n  },\n\n  /**\r\n   * @description Get the index of the argument value in the element array\r\n   * @param {Array|HTMLCollection|NodeList} array element array\r\n   * @param {Node} element The element to find index\r\n   * @returns {Number}\r\n   */\n  getArrayIndex: function getArrayIndex(array, element) {\n    var idx = -1;\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === element) {\n        idx = i;\n        break;\n      }\n    }\n\n    return idx;\n  },\n\n  /**\r\n   * @description Get the next index of the argument value in the element array\r\n   * @param {Array|HTMLCollection|NodeList} array element array\r\n   * @param {Node} item The element to find index\r\n   * @returns {Number}\r\n   */\n  nextIdx: function nextIdx(array, item) {\n    var idx = this.getArrayIndex(array, item);\n    if (idx === -1) return -1;\n    return idx + 1;\n  },\n\n  /**\r\n   * @description Get the previous index of the argument value in the element array\r\n   * @param {Array|HTMLCollection|NodeList} array Element array\r\n   * @param {Node} item The element to find index\r\n   * @returns {Number}\r\n   */\n  prevIdx: function prevIdx(array, item) {\n    var idx = this.getArrayIndex(array, item);\n    if (idx === -1) return -1;\n    return idx - 1;\n  },\n\n  /**\r\n   * @description Returns the index compared to other sibling nodes.\r\n   * @param {Node} node The Node to find index\r\n   * @returns {Number}\r\n   */\n  getPositionIndex: function getPositionIndex(node) {\n    var idx = 0;\n\n    while (node = node.previousSibling) {\n      idx += 1;\n    }\n\n    return idx;\n  },\n\n  /**\r\n   * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n   * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n   * @param {Node} node The Node to find position path\r\n   * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n   * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n   * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n   * Do not use unless absolutely necessary.\r\n   * @returns {Array}\r\n   */\n  getNodePath: function getNodePath(node, parentNode, _newOffsets) {\n    var path = [];\n    var finds = true;\n    this.getParentElement(node, function (el) {\n      if (el === parentNode) finds = false;\n\n      if (finds && !this.isWysiwygDiv(el)) {\n        // merge text nodes\n        if (_newOffsets && el.nodeType === 3) {\n          var temp = null,\n              tempText = null;\n          _newOffsets.s = _newOffsets.e = 0;\n          var previous = el.previousSibling;\n\n          while (previous && previous.nodeType === 3) {\n            tempText = previous.textContent.replace(this.zeroWidthRegExp, \"\");\n            _newOffsets.s += tempText.length;\n            el.textContent = tempText + el.textContent;\n            temp = previous;\n            previous = previous.previousSibling;\n            this.removeItem(temp);\n          }\n\n          var next = el.nextSibling;\n\n          while (next && next.nodeType === 3) {\n            tempText = next.textContent.replace(this.zeroWidthRegExp, \"\");\n            _newOffsets.e += tempText.length;\n            el.textContent += tempText;\n            temp = next;\n            next = next.nextSibling;\n            this.removeItem(temp);\n          }\n        } // index push\n\n\n        path.push(el);\n      }\n\n      return false;\n    }.bind(this));\n    return path.map(this.getPositionIndex).reverse();\n  },\n\n  /**\r\n   * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n   * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n   * @param {Node} parentNode Base parent element\r\n   * @returns {Node}\r\n   */\n  getNodeFromPath: function getNodeFromPath(offsets, parentNode) {\n    var current = parentNode;\n    var nodes;\n\n    for (var i = 0, len = offsets.length; i < len; i++) {\n      nodes = current.childNodes;\n      if (nodes.length === 0) break;\n\n      if (nodes.length <= offsets[i]) {\n        current = nodes[nodes.length - 1];\n      } else {\n        current = nodes[offsets[i]];\n      }\n    }\n\n    return current;\n  },\n\n  /**\r\n   * @description Compares the style and class for equal values.\r\n   * Returns true if both are text nodes.\r\n   * @param {Node} a Node to compare\r\n   * @param {Node} b Node to compare\r\n   * @returns {Boolean}\r\n   */\n  isSameAttributes: function isSameAttributes(a, b) {\n    if (a.nodeType === 3 && b.nodeType === 3) return true;\n    if (a.nodeType === 3 || b.nodeType === 3) return false;\n    var style_a = a.style;\n    var style_b = b.style;\n    var compStyle = 0;\n\n    for (var i = 0, len = style_a.length; i < len; i++) {\n      if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\n    }\n\n    var class_a = a.classList;\n    var class_b = b.classList;\n    var reg = this._w.RegExp;\n    var compClass = 0;\n\n    for (var _i3 = 0, _len = class_a.length; _i3 < _len; _i3++) {\n      if (reg(\"(s|^)\" + class_a[_i3] + \"(s|$)\").test(class_b.value)) compClass++;\n    }\n\n    return compStyle === style_b.length && compStyle === style_a.length && compClass === class_b.length && compClass === class_a.length;\n  },\n\n  /**\r\n   * @description Check the line element(util.isFormatElement) is empty.\r\n   * @param {Element} element Format element node\r\n   * @returns {Boolean}\r\n   */\n  isEmptyLine: function isEmptyLine(element) {\n    return !element || !element.parentNode || !element.querySelector(\"IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE\") && this.onlyZeroWidthSpace(element.textContent);\n  },\n\n  /**\r\n   * @description Check the node is a list (ol, ul)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isList: function isList(node) {\n    return node && /^(OL|UL)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a list cell (li)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isListCell: function isListCell(node) {\n    return node && /^LI$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isTable: function isTable(node) {\n    return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a table cell (td, th)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isCell: function isCell(node) {\n    return node && /^(TD|TH)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a break node (BR)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isBreak: function isBreak(node) {\n    return node && /^BR$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a anchor node (A)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isAnchor: function isAnchor(node) {\n    return node && /^A$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n   * @param {Node|String} node The element or element name to check\r\n   * @returns {Boolean}\r\n   */\n  isMedia: function isMedia(node) {\n    return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === \"string\" ? node : node.nodeName);\n  },\n\n  /**\r\n   * @description Checks for numeric (with decimal point).\r\n   * @param {String|Number} text Text string or number\r\n   * @returns {Boolean}\r\n   */\n  isNumber: function isNumber(text) {\n    return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + \"\");\n  },\n\n  /**\r\n   * @description Get a number.\r\n   * @param {String|Number} text Text string or number\r\n   * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n   * @returns {Number}\r\n   */\n  getNumber: function getNumber(text, maxDec) {\n    if (!text) return 0;\n    var number = (text + \"\").match(/-?\\d+(\\.\\d+)?/);\n    if (!number || !number[0]) return 0;\n    number = number[0];\n    return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\n  },\n\n  /**\r\n   * @description Get all \"children\" of the argument value element (Without text nodes)\r\n   * @param {Element} element element to get child node\r\n   * @param {Function|null} validation Conditional function\r\n   * @returns {Array}\r\n   */\n  getListChildren: function getListChildren(element, validation) {\n    var children = [];\n    if (!element || !element.children || element.children.length === 0) return children;\n\n    validation = validation || function () {\n      return true;\n    };\n\n    (function recursionFunc(current) {\n      if (element !== current && validation(current)) {\n        children.push(current);\n      }\n\n      if (!!current.children) {\n        for (var i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      }\n    })(element);\n\n    return children;\n  },\n\n  /**\r\n   * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n   * @param {Node} element element to get child node\r\n   * @param {Function|null} validation Conditional function\r\n   * @returns {Array}\r\n   */\n  getListChildNodes: function getListChildNodes(element, validation) {\n    var children = [];\n    if (!element || element.childNodes.length === 0) return children;\n\n    validation = validation || function () {\n      return true;\n    };\n\n    (function recursionFunc(current) {\n      if (element !== current && validation(current)) {\n        children.push(current);\n      }\n\n      for (var i = 0, len = current.childNodes.length; i < len; i++) {\n        recursionFunc(current.childNodes[i]);\n      }\n    })(element);\n\n    return children;\n  },\n\n  /**\r\n   * @description Returns the number of parents nodes.\r\n   * \"0\" when the parent node is the WYSIWYG area.\r\n   * \"-1\" when the element argument is the WYSIWYG area.\r\n   * @param {Node} element The element to check\r\n   * @returns {Number}\r\n   */\n  getElementDepth: function getElementDepth(element) {\n    if (!element || this.isWysiwygDiv(element)) return -1;\n    var depth = 0;\n    element = element.parentNode;\n\n    while (element && !this.isWysiwygDiv(element)) {\n      depth += 1;\n      element = element.parentNode;\n    }\n\n    return depth;\n  },\n\n  /**\r\n   * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n   * @param {Node} a Node to compare.\r\n   * @param {Node} b Node to compare.\r\n   * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n   */\n  compareElements: function compareElements(a, b) {\n    var aNode = a,\n        bNode = b;\n\n    while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\n      aNode = aNode.parentNode;\n      bNode = bNode.parentNode;\n    }\n\n    if (!aNode || !bNode) return {\n      ancestor: null,\n      a: a,\n      b: b,\n      result: 0\n    };\n    var children = aNode.parentNode.childNodes;\n    var aIndex = this.getArrayIndex(children, aNode);\n    var bIndex = this.getArrayIndex(children, bNode);\n    return {\n      ancestor: aNode.parentNode,\n      a: aNode,\n      b: bNode,\n      result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\n    };\n  },\n\n  /**\r\n   * @description Get the parent element of the argument value.\r\n   * A tag that satisfies the query condition is imported.\r\n   * Returns null if not found.\r\n   * @param {Node} element Reference element\r\n   * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n   * Not use it like jquery.\r\n   * Only one condition can be entered at a time.\r\n   * @returns {Element|null}\r\n   */\n  getParentElement: function getParentElement(element, query) {\n    var check;\n\n    if (typeof query === \"function\") {\n      check = query;\n    } else {\n      var attr;\n\n      if (/^\\./.test(query)) {\n        attr = \"className\";\n        query = query.split(\".\")[1];\n      } else if (/^#/.test(query)) {\n        attr = \"id\";\n        query = \"^\" + query.split(\"#\")[1] + \"$\";\n      } else if (/^:/.test(query)) {\n        attr = \"name\";\n        query = \"^\" + query.split(\":\")[1] + \"$\";\n      } else {\n        attr = \"nodeName\";\n        query = \"^\" + query + \"$\";\n      }\n\n      var regExp = new this._w.RegExp(query, \"i\");\n\n      check = function check(el) {\n        return regExp.test(el[attr]);\n      };\n    }\n\n    while (element && !check(element)) {\n      if (this.isWysiwygDiv(element)) {\n        return null;\n      }\n\n      element = element.parentNode;\n    }\n\n    return element;\n  },\n\n  /**\r\n   * @description Get the child element of the argument value.\r\n   * A tag that satisfies the query condition is imported.\r\n   * Returns null if not found.\r\n   * @param {Node} element Reference element\r\n   * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n   * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n   * Not use it like jquery.\r\n   * Only one condition can be entered at a time.\r\n   * @returns {Element|null}\r\n   */\n  getChildElement: function getChildElement(element, query, last) {\n    var check;\n\n    if (typeof query === \"function\") {\n      check = query;\n    } else {\n      var attr;\n\n      if (/^\\./.test(query)) {\n        attr = \"className\";\n        query = query.split(\".\")[1];\n      } else if (/^#/.test(query)) {\n        attr = \"id\";\n        query = \"^\" + query.split(\"#\")[1] + \"$\";\n      } else if (/^:/.test(query)) {\n        attr = \"name\";\n        query = \"^\" + query.split(\":\")[1] + \"$\";\n      } else {\n        attr = \"nodeName\";\n        query = \"^\" + (query === \"text\" ? \"#\" + query : query) + \"$\";\n      }\n\n      var regExp = new this._w.RegExp(query, \"i\");\n\n      check = function check(el) {\n        return regExp.test(el[attr]);\n      };\n    }\n\n    var childList = this.getListChildNodes(element, function (current) {\n      return check(current);\n    });\n    return childList[last ? childList.length - 1 : 0];\n  },\n\n  /**\r\n   * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n   * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n   * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n   * { sc: \"first\", ec: \"last\" }\r\n   * @param {Node} first First element\r\n   * @param {Node|null} last Last element\r\n   * @returns {Object}\r\n   */\n  getEdgeChildNodes: function getEdgeChildNodes(first, last) {\n    if (!first) return;\n    if (!last) last = first;\n\n    while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) {\n      first = first.firstChild;\n    }\n\n    while (last && last.nodeType === 1 && last.childNodes.length > 0 && !this.isBreak(last)) {\n      last = last.lastChild;\n    }\n\n    return {\n      sc: first,\n      ec: last || first\n    };\n  },\n\n  /**\r\n   * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n   * @param {Node} element Target node\r\n   * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n   * @returns {Object}\r\n   */\n  getOffset: function getOffset(element, wysiwygFrame) {\n    var offsetLeft = 0;\n    var offsetTop = 0;\n    var offsetElement = element.nodeType === 3 ? element.parentElement : element;\n    var wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\n\n    while (offsetElement && !this.hasClass(offsetElement, \"ke-container\") && offsetElement !== wysiwyg) {\n      offsetLeft += offsetElement.offsetLeft;\n      offsetTop += offsetElement.offsetTop;\n      offsetElement = offsetElement.offsetParent;\n    }\n\n    var iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\n    return {\n      left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\n      top: offsetTop - (wysiwyg ? wysiwyg.scrollTop : 0) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\n    };\n  },\n\n  /**\r\n   * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n   * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n   * @param {Number} aStart Start index of \"a\"\r\n   * @param {Number} aEnd End index of \"a\"\r\n   * @param {Number} bStart Start index of \"b\"\r\n   * @param {Number} bEnd Start index of \"b\"\r\n   * @returns {Number}\r\n   */\n  getOverlapRangeAtIndex: function getOverlapRangeAtIndex(aStart, aEnd, bStart, bEnd) {\n    if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\n    var overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\n    return (overlap < 0 ? overlap * -1 : overlap) + 1;\n  },\n\n  /**\r\n   * @description Set the text content value of the argument value element\r\n   * @param {Node} element Element to replace text content\r\n   * @param {String} txt Text to be applied\r\n   */\n  changeTxt: function changeTxt(element, txt) {\n    if (!element || !txt) return;\n    element.textContent = txt;\n  },\n\n  /**\r\n   * @description Replace element\r\n   * @param {Element} element Target element\r\n   * @param {String|Element} newElement String or element of the new element to apply\r\n   */\n  changeElement: function changeElement(element, newElement) {\n    if (typeof newElement === \"string\") {\n      if (element.outerHTML) {\n        element.outerHTML = newElement;\n      } else {\n        var doc = this.createElement(\"DIV\");\n        doc.innerHTML = newElement;\n        newElement = doc.firstChild;\n        element.parentNode.replaceChild(newElement, element);\n      }\n    } else if (newElement.nodeType === 1) {\n      element.parentNode.replaceChild(newElement, element);\n    }\n  },\n\n  /**\r\n   * @description Set style, if all styles are deleted, the style properties are deleted.\r\n   * @param {Element} element Element to set style\r\n   * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n   * @param {String|Number} value Style value\r\n   */\n  setStyle: function setStyle(element, styleName, value) {\n    element.style[styleName] = value;\n\n    if (!value && !element.style.cssText) {\n      element.removeAttribute(\"style\");\n    }\n  },\n\n  /**\r\n   * @description Determine whether any of the matched elements are assigned the given class\r\n   * @param {Element} element Elements to search class name\r\n   * @param {String} className Class name to search for\r\n   * @returns {Boolean}\r\n   */\n  hasClass: function hasClass(element, className) {\n    if (!element) return;\n    return new this._w.RegExp(className).test(element.className);\n  },\n\n  /**\r\n   * @description Append the className value of the argument value element\r\n   * @param {Element} element Elements to add class name\r\n   * @param {String} className Class name to be add\r\n   */\n  addClass: function addClass(element, className) {\n    if (!element) return;\n    var check = new this._w.RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    if (check.test(element.className)) return;\n    element.className += (element.className.length > 0 ? \" \" : \"\") + className;\n  },\n\n  /**\r\n   * @description Delete the className value of the argument value element\r\n   * @param {Element} element Elements to remove class name\r\n   * @param {String} className Class name to be remove\r\n   */\n  removeClass: function removeClass(element, className) {\n    if (!element) return;\n    var check = new this._w.RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(check, \" \").trim();\n    if (!element.className.trim()) element.removeAttribute(\"class\");\n  },\n\n  /**\r\n   * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n   * @param {Element} element Elements to replace class name\r\n   * @param {String} className Class name to be change\r\n   * @returns {Boolean|undefined}\r\n   */\n  toggleClass: function toggleClass(element, className) {\n    if (!element) return;\n    var result = false;\n    var check = new this._w.RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n\n    if (check.test(element.className)) {\n      element.className = element.className.replace(check, \" \").trim();\n    } else {\n      element.className += \" \" + className;\n      result = true;\n    }\n\n    if (!element.className.trim()) element.removeAttribute(\"class\");\n    return result;\n  },\n\n  /**\r\n   * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n   * core.codeViewDisabledButtons (An array of buttons whose class name is not \"ke-code-view-enabled\")\r\n   * core.resizingDisabledButtons (An array of buttons whose class name is not \"ke-resizing-enabled\")\r\n   * @param {Boolean} disabled Disabled value\r\n   * @param {Array|HTMLCollection|NodeList} toolbarItem Button array\r\n   */\n  setDisabledButtons: function setDisabledButtons(disabled, toolbarItem) {\n    for (var i = 0, len = toolbarItem.length; i < len; i++) {\n      toolbarItem[i].disabled = disabled;\n    }\n  },\n\n  /**\r\n   * @description Delete argumenu value element\r\n   * @param {Node} item Node to be remove\r\n   */\n  removeItem: function removeItem(item) {\n    if (!item) return;\n    if (typeof item.remove === \"function\") item.remove();else if (item.parentNode) item.parentNode.removeChild(item);\n  },\n\n  /**\r\n   * @description Delete all parent nodes that match the condition.\r\n   * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n   * @param {Node} item Node to be remove\r\n   * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n   * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n   * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n   */\n  removeItemAllParents: function removeItemAllParents(item, validation, stopParent) {\n    if (!item) return null;\n    var cc = null;\n\n    if (!validation) {\n      validation = function (current) {\n        if (current === stopParent || this.isComponent(current)) return false;\n        var text = current.textContent.trim();\n        return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n      }.bind(this);\n    }\n\n    (function recursionFunc(element) {\n      if (!util.isWysiwygDiv(element)) {\n        var parent = element.parentNode;\n\n        if (parent && validation(element)) {\n          cc = {\n            sc: element.previousElementSibling,\n            ec: element.nextElementSibling\n          };\n          util.removeItem(element);\n          recursionFunc(parent);\n        }\n      }\n    })(item);\n\n    return cc;\n  },\n\n  /**\r\n   * @description Detach Nested all nested lists under the \"baseNode\".\r\n   * Returns a list with nested removed.\r\n   * @param {Node} baseNode Element on which to base.\r\n   * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n   * @returns {Element}\r\n   */\n  detachNestedList: function detachNestedList(baseNode, all) {\n    var rNode = this._deleteNestedList(baseNode);\n\n    var rangeElement, cNodes;\n\n    if (rNode) {\n      rangeElement = rNode.cloneNode(false);\n      cNodes = rNode.childNodes;\n      var index = this.getPositionIndex(baseNode);\n\n      while (cNodes[index]) {\n        rangeElement.appendChild(cNodes[index]);\n      }\n    } else {\n      rangeElement = baseNode;\n    }\n\n    var rChildren;\n\n    if (!all) {\n      var depth = this.getElementDepth(baseNode) + 2;\n      rChildren = this.getListChildren(baseNode, function (current) {\n        return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth;\n      }.bind(this));\n    } else {\n      rChildren = this.getListChildren(rangeElement, function (current) {\n        return this.isListCell(current) && !current.previousElementSibling;\n      }.bind(this));\n    }\n\n    for (var i = 0, len = rChildren.length; i < len; i++) {\n      this._deleteNestedList(rChildren[i]);\n    }\n\n    if (rNode) {\n      rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\n      if (cNodes && cNodes.length === 0) this.removeItem(rNode);\n    }\n\n    return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\n  },\n\n  /**\r\n   * @description Sub function of util.detachNestedList method.\r\n   * @private\r\n   */\n  _deleteNestedList: function _deleteNestedList(baseNode) {\n    var baseParent = baseNode.parentNode;\n    var sibling = baseParent;\n    var parent = sibling.parentNode;\n    var liSibling, liParent, child, index, c;\n\n    while (this.isListCell(parent)) {\n      index = this.getPositionIndex(baseNode);\n      liSibling = parent.nextElementSibling;\n      liParent = parent.parentNode;\n      child = sibling;\n\n      while (child) {\n        sibling = sibling.nextSibling;\n\n        if (this.isList(child)) {\n          c = child.childNodes;\n\n          while (c[index]) {\n            liParent.insertBefore(c[index], liSibling);\n          }\n\n          if (c.length === 0) this.removeItem(child);\n        } else {\n          liParent.appendChild(child);\n        }\n\n        child = sibling;\n      }\n\n      sibling = liParent;\n      parent = liParent.parentNode;\n    }\n\n    if (baseParent.children.length === 0) this.removeItem(baseParent);\n    return liParent;\n  },\n\n  /**\r\n   * @description Split all tags based on \"baseNode\"\r\n   * Returns the last element of the splited tag.\r\n   * @param {Node} baseNode Element or text node on which to base\r\n   * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n   * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n   * @returns {Element}\r\n   */\n  splitElement: function splitElement(baseNode, offset, depth) {\n    var bp = baseNode.parentNode;\n    var index = 0,\n        newEl,\n        children,\n        temp;\n    var next = true;\n    if (!depth || depth < 0) depth = 0;\n\n    if (baseNode.nodeType === 3) {\n      index = this.getPositionIndex(baseNode);\n\n      if (offset >= 0) {\n        baseNode.splitText(offset);\n        var after = this.getNodeFromPath([index + 1], bp);\n        if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\n      }\n    } else if (baseNode.nodeType === 1) {\n      if (!baseNode.previousSibling) {\n        if (this.getElementDepth(baseNode) === depth) next = false;\n      } else {\n        baseNode = baseNode.previousSibling;\n      }\n    }\n\n    var depthEl = baseNode;\n\n    while (this.getElementDepth(depthEl) > depth) {\n      index = this.getPositionIndex(depthEl) + 1;\n      depthEl = depthEl.parentNode;\n      temp = newEl;\n      newEl = depthEl.cloneNode(false);\n      children = depthEl.childNodes;\n\n      if (temp) {\n        if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\n          newEl.innerHTML = temp.firstElementChild.innerHTML;\n          util.removeItem(temp.firstElementChild);\n          if (temp.children.length > 0) newEl.appendChild(temp);\n        } else {\n          newEl.appendChild(temp);\n        }\n      }\n\n      while (children[index]) {\n        newEl.appendChild(children[index]);\n      }\n    }\n\n    if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = \"<br>\";\n    var pElement = depthEl.parentNode;\n    if (next) depthEl = depthEl.nextSibling;\n    if (!newEl) return depthEl;\n    this.mergeSameTags(newEl, null, false);\n    this.mergeNestedTags(newEl, function (current) {\n      return this.isList(current);\n    }.bind(this));\n    if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);else newEl = depthEl;\n    if (bp.childNodes.length === 0) this.removeItem(bp);\n    return newEl;\n  },\n\n  /**\r\n   * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n   * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n   * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n   * @param {Element} element Element\r\n   * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n   * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n   * @returns {Array} [offset, ..]\r\n   */\n  mergeSameTags: function mergeSameTags(element, nodePathArray, onlyText) {\n    var inst = this;\n    var nodePathLen = nodePathArray ? nodePathArray.length : 0;\n    var offsets = null;\n\n    if (nodePathLen) {\n      offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\n    }\n\n    (function recursionFunc(current, depth, depthIndex) {\n      var children = current.childNodes;\n\n      for (var i = 0, len = children.length, child, next; i < len; i++) {\n        child = children[i];\n        next = children[i + 1];\n        if (!child) break;\n\n        if (onlyText && inst._isIgnoreNodeChange(child) || !onlyText && (inst.isTable(child) || inst.isListCell(child) || inst.isFormatElement(child) && !inst.isFreeFormatElement(child))) {\n          if (inst.isTable(child) || inst.isListCell(child)) {\n            recursionFunc(child, depth + 1, i);\n          }\n\n          continue;\n        }\n\n        if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\n          // update nodePath\n          if (nodePathLen) {\n            var path = void 0,\n                c = void 0,\n                p = void 0,\n                cDepth = void 0,\n                spliceDepth = void 0;\n\n            for (var n = 0; n < nodePathLen; n++) {\n              path = nodePathArray[n];\n\n              if (path && path[depth] === i) {\n                c = child, p = current, cDepth = depth, spliceDepth = true;\n\n                while (cDepth >= 0) {\n                  if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\n                    spliceDepth = false;\n                    break;\n                  }\n\n                  c = child.parentNode;\n                  p = c.parentNode;\n                  cDepth--;\n                }\n\n                if (spliceDepth) {\n                  path.splice(depth, 1);\n                  path[depth] = i;\n                }\n              }\n            }\n          } // merge tag\n\n\n          inst.copyTagAttributes(child, current);\n          current.parentNode.insertBefore(child, current);\n          inst.removeItem(current);\n        }\n\n        if (!next) {\n          if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\n          break;\n        }\n\n        if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\n          var childs = child.childNodes;\n          var childLength = 0;\n\n          for (var _n = 0, nLen = childs.length; _n < nLen; _n++) {\n            if (childs[_n].textContent.length > 0) childLength++;\n          }\n\n          var l = child.lastChild;\n          var r = next.firstChild;\n          var addOffset = 0;\n\n          if (l && r) {\n            var textOffset = l.nodeType === 3 && r.nodeType === 3;\n            addOffset = l.textContent.length;\n            var tempL = l.previousSibling;\n\n            while (tempL && tempL.nodeType === 3) {\n              addOffset += tempL.textContent.length;\n              tempL = tempL.previousSibling;\n            }\n\n            if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\n\n            if (nodePathLen) {\n              var _path = null;\n\n              for (var _n2 = 0; _n2 < nodePathLen; _n2++) {\n                _path = nodePathArray[_n2];\n\n                if (_path && _path[depth] > i) {\n                  if (depth > 0 && _path[depth - 1] !== depthIndex) continue;\n                  _path[depth] -= 1;\n\n                  if (_path[depth + 1] >= 0 && _path[depth] === i) {\n                    _path[depth + 1] += childLength;\n\n                    if (textOffset) {\n                      if (l && l.nodeType === 3 && r && r.nodeType === 3) {\n                        offsets[_n2] += addOffset;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          if (child.nodeType === 3) {\n            addOffset = child.textContent.length;\n            child.textContent += next.textContent;\n\n            if (nodePathLen) {\n              var _path2 = null;\n\n              for (var _n3 = 0; _n3 < nodePathLen; _n3++) {\n                _path2 = nodePathArray[_n3];\n\n                if (_path2 && _path2[depth] > i) {\n                  if (depth > 0 && _path2[depth - 1] !== depthIndex) continue;\n                  _path2[depth] -= 1;\n\n                  if (_path2[depth + 1] >= 0 && _path2[depth] === i) {\n                    _path2[depth + 1] += childLength;\n                    offsets[_n3] += addOffset;\n                  }\n                }\n              }\n            }\n          } else {\n            child.innerHTML += next.innerHTML;\n          }\n\n          inst.removeItem(next);\n          i--;\n        } else if (child.nodeType === 1) {\n          recursionFunc(child, depth + 1, i);\n        }\n      }\n    })(element, 0, 0);\n\n    return offsets;\n  },\n\n  /**\r\n   * @description Remove nested tags without other child nodes.\r\n   * @param {Element} element Element object\r\n   * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n   */\n  mergeNestedTags: function mergeNestedTags(element, validation) {\n    if (typeof validation === \"string\") {\n      validation = function (current) {\n        return this.test(current.tagName);\n      }.bind(new this._w.RegExp(\"^(\" + (validation ? validation : \".+\") + \")$\", \"i\"));\n    } else if (typeof validation !== \"function\") {\n      validation = function validation() {\n        return true;\n      };\n    }\n\n    (function recursionFunc(current) {\n      var children = current.children;\n\n      if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\n        var temp = children[0];\n        children = temp.children;\n\n        while (children[0]) {\n          current.appendChild(children[0]);\n        }\n\n        current.removeChild(temp);\n      }\n\n      for (var i = 0, len = current.children.length; i < len; i++) {\n        recursionFunc(current.children[i]);\n      }\n    })(element);\n  },\n\n  /**\r\n   * @description Delete a empty child node of argument element\r\n   * @param {Element} element Element node\r\n   * @param {Node|null} notRemoveNode Do not remove node\r\n   */\n  removeEmptyNode: function removeEmptyNode(element, notRemoveNode) {\n    var inst = this;\n\n    if (notRemoveNode) {\n      notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\n        return element === current.parentElement;\n      });\n    }\n\n    (function recursionFunc(current) {\n      if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\n\n      if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild)) && !current.querySelector(inst._allowedEmptyNodeList)) {\n        if (current.parentNode) {\n          current.parentNode.removeChild(current);\n          return -1;\n        }\n      } else {\n        var children = current.children;\n\n        for (var i = 0, len = children.length, r = 0; i < len; i++) {\n          if (!children[i + r] || inst.isComponent(children[i + r])) continue;\n          r += recursionFunc(children[i + r]);\n        }\n      }\n\n      return 0;\n    })(element);\n\n    if (element.childNodes.length === 0) element.innerHTML = \"<br>\";\n  },\n\n  /**\r\n   * @description Remove whitespace between tags in HTML string.\r\n   * @param {String} html HTML string\r\n   * @returns {String}\r\n   */\n  htmlRemoveWhiteSpace: function htmlRemoveWhiteSpace(html) {\n    if (!html) return \"\";\n    return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/gi, function (m) {\n      return m.trim();\n    });\n  },\n\n  /**\r\n   * @description Sort a element array by depth of element.\r\n   * @param {Array} array Array object\r\n   * @param {Boolean} des true: descending order / false: ascending order\r\n   */\n  sortByDepth: function sortByDepth(array, des) {\n    var t = !des ? -1 : 1;\n    var f = t * -1;\n    array.sort(function (a, b) {\n      if (!this.isListCell(a) || !this.isListCell(b)) return 0;\n      a = this.getElementDepth(a);\n      b = this.getElementDepth(b);\n      return a > b ? t : a < b ? f : 0;\n    }.bind(this));\n  },\n\n  /**\r\n   * @description Nodes that need to be added without modification when changing text nodes\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _isIgnoreNodeChange: function _isIgnoreNodeChange(element) {\n    return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\n  },\n\n  /**\r\n   * @description Nodes that must remain undetached when changing text nodes (A, Label, Code, Span:font-size)\r\n   * @param {Node|String} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _isMaintainedNode: function _isMaintainedNode(element) {\n    return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === \"string\" ? element : element.nodeName);\n  },\n\n  /**\r\n   * @description Node with font-size style\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _isSizeNode: function _isSizeNode(element) {\n    return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\n  },\n\n  /**\r\n   * @description Nodes without text\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _notTextNode: function _notTextNode(element) {\n    return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === \"string\" ? element : element.nodeName));\n  },\n\n  /**\r\n   * @description Check disallowed tags\r\n   * @param {Node} element Element to check\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\n  _disallowedTags: function _disallowedTags(element) {\n    return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\n  },\n\n  /**\r\n   * @description Create whitelist RegExp object.\r\n   * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?!\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n   * @param {String} list Tags list (\"br|p|div|pre...\")\r\n   * @returns {RegExp}\r\n   */\n  createTagsWhitelist: function createTagsWhitelist(list) {\n    return new RegExp(\"<\\\\/?\\\\b(?!\\\\b\" + list.replace(/\\|/g, \"\\\\b|\\\\b\") + \"\\\\b)[^>]*>\", \"gi\");\n  },\n\n  /**\r\n   * @description Fix tags that do not fit the editor format.\r\n   * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n   * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n   * @private\r\n   */\n  _consistencyCheckOfHTML: function _consistencyCheckOfHTML(documentFragment, htmlCheckWhitelistRegExp) {\n    /**\r\n     * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n     * So check the node type and exclude the text no (current.nodeType !== 1)\r\n     */\n    var removeTags = [],\n        emptyTags = [],\n        wrongList = [],\n        withoutFormatCells = []; // wrong position\n\n    var wrongTags = this.getListChildNodes(documentFragment, function (current) {\n      if (current.nodeType !== 1) return false; // white list\n\n      if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\n        removeTags.push(current);\n        return false;\n      }\n\n      var nrtag = !this.getParentElement(current, this.isNotCheckingNode); // empty tags\n\n      if (!this.isTable(current) && !this.isListCell(current) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\n        emptyTags.push(current);\n        return false;\n      } // wrong list\n\n\n      if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\n        wrongList.push(current);\n        return false;\n      } // table cells\n\n\n      if (this.isCell(current)) {\n        var fel = current.firstElementChild;\n\n        if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\n          withoutFormatCells.push(current);\n          return false;\n        }\n      }\n\n      var result = current.parentNode !== documentFragment && (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) && !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) && !this.getParentElement(current, this.isComponent) && nrtag;\n      return result;\n    }.bind(this));\n\n    for (var i = 0, len = removeTags.length; i < len; i++) {\n      this.removeItem(removeTags[i]);\n    }\n\n    var checkTags = [];\n\n    for (var _i4 = 0, _len2 = wrongTags.length, t, p; _i4 < _len2; _i4++) {\n      t = wrongTags[_i4];\n      p = t.parentNode;\n      if (!p || !p.parentNode) continue;\n      p.parentNode.insertBefore(t, p);\n      checkTags.push(p);\n    }\n\n    for (var _i5 = 0, _len3 = checkTags.length, _t; _i5 < _len3; _i5++) {\n      _t = checkTags[_i5];\n\n      if (this.onlyZeroWidthSpace(_t.textContent.trim())) {\n        this.removeItem(_t);\n      }\n    }\n\n    for (var _i6 = 0, _len4 = emptyTags.length; _i6 < _len4; _i6++) {\n      this.removeItem(emptyTags[_i6]);\n    }\n\n    for (var _i7 = 0, _len5 = wrongList.length, _t2, tp, children, _p; _i7 < _len5; _i7++) {\n      _t2 = wrongList[_i7];\n      tp = this.createElement(\"LI\");\n      children = _t2.childNodes;\n\n      while (children[0]) {\n        tp.appendChild(children[0]);\n      }\n\n      _p = _t2.parentNode;\n      if (!_p) continue;\n\n      _p.insertBefore(tp, _t2);\n\n      this.removeItem(_t2);\n    }\n\n    for (var _i8 = 0, _len6 = withoutFormatCells.length, _t3, f; _i8 < _len6; _i8++) {\n      _t3 = withoutFormatCells[_i8];\n      f = this.createElement(\"DIV\");\n      f.innerHTML = _t3.textContent.trim().length === 0 && _t3.children.length === 0 ? \"<br>\" : _t3.innerHTML;\n      _t3.innerHTML = f.outerHTML;\n    }\n  },\n  _setDefaultOptionStyle: function _setDefaultOptionStyle(options, defaultStyle) {\n    var optionStyle = \"\";\n    if (options.height) optionStyle += \"height:\" + options.height + \";\";\n    if (options.minHeight) optionStyle += \"min-height:\" + options.minHeight + \";\";\n    if (options.maxHeight) optionStyle += \"max-height:\" + options.maxHeight + \";\";\n    if (options.position) optionStyle += \"position:\" + options.position + \";\";\n    if (options.width) optionStyle += \"width:\" + options.width + \";\";\n    if (options.minWidth) optionStyle += \"min-width:\" + options.minWidth + \";\";\n    if (options.maxWidth) optionStyle += \"max-width:\" + options.maxWidth + \";\";\n    var top = \"\",\n        frame = \"\",\n        editor = \"\";\n    defaultStyle = optionStyle + defaultStyle;\n    var styleArr = defaultStyle.split(\";\");\n\n    for (var i = 0, len = styleArr.length, s; i < len; i++) {\n      s = styleArr[i].trim();\n      if (!s) continue;\n\n      if (/^(min-|max-)?width\\s*:/.test(s) || /^(z-index|position)\\s*:/.test(s)) {\n        top += s + \";\";\n        continue;\n      }\n\n      if (/^(min-|max-)?height\\s*:/.test(s)) {\n        if (/^height/.test(s) && s.split(\":\")[1].trim() === \"auto\") {\n          options.height = \"auto\";\n        }\n\n        frame += s + \";\";\n        continue;\n      }\n\n      editor += s + \";\";\n    }\n\n    return {\n      top: top,\n      frame: frame,\n      editor: editor\n    };\n  },\n  _setIframeDocument: function _setIframeDocument(frame, options) {\n    frame.setAttribute(\"scrolling\", \"auto\");\n    frame.contentDocument.head.innerHTML = \"\" + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + this._setIframeCssTags(options);\n    frame.contentDocument.body.className = options._editableClass;\n    frame.contentDocument.body.setAttribute(\"contenteditable\", true);\n  },\n  _setIframeCssTags: function _setIframeCssTags(options) {\n    var linkNames = options.iframeCSSFileName;\n    var wRegExp = this._w.RegExp;\n    var tagString = \"\";\n\n    for (var f = 0, len = linkNames.length, path; f < len; f++) {\n      path = [];\n\n      if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\n        path.push(linkNames[f]);\n      } else {\n        var CSSFileName = new wRegExp(\"(^|.*[\\\\/])\" + linkNames[f] + \"(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$\", \"i\");\n\n        for (var c = document.getElementsByTagName(\"link\"), i = 0, _len7 = c.length, styleTag; i < _len7; i++) {\n          styleTag = c[i].href.match(CSSFileName);\n          if (styleTag) path.push(styleTag[0]);\n        }\n      }\n\n      if (!path || path.length === 0) throw '[KothingEditor.constructor.iframe.fail] The KothingEditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\n\n      for (var _i9 = 0, _len8 = path.length; _i9 < _len8; _i9++) {\n        tagString += '<link href=\"' + path[_i9] + '\" rel=\"stylesheet\">';\n      }\n    }\n\n    return tagString + (options.height === \"auto\" ? \"<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>\" : \"\");\n  }\n};\nvar _default = util;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"selectMenu\",\n  add: function add(core) {\n    core.context.selectMenu = {\n      caller: {},\n      callerContext: null\n    };\n  },\n  setForm: function setForm() {\n    return '<div class=\"ke-select-list\"></div>';\n  },\n  createList: function createList(listContext, items, html) {\n    listContext.form.innerHTML = \"<ul>\" + html + \"</ul>\";\n    listContext.items = items;\n    listContext.menus = listContext.form.querySelectorAll(\"li\");\n  },\n  initEvent: function initEvent(pluginName, forms) {\n    var form = forms.querySelector(\".ke-select-list\");\n    var context = this.context.selectMenu.caller[pluginName] = {\n      form: form,\n      items: [],\n      menus: [],\n      index: -1,\n      item: null,\n      clickMethod: null,\n      callerName: pluginName\n    };\n    form.addEventListener(\"mousedown\", this.plugins.selectMenu.onMousedown_list);\n    form.addEventListener(\"mousemove\", this.plugins.selectMenu.onMouseMove_list.bind(this, context));\n    form.addEventListener(\"click\", this.plugins.selectMenu.onClick_list.bind(this, context));\n  },\n  onMousedown_list: function onMousedown_list(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  },\n  onMouseMove_list: function onMouseMove_list(context, e) {\n    this.util.addClass(context.form, \"__ke_select-menu-mouse-move\");\n    var index = e.target.getAttribute(\"data-index\");\n\n    if (!index) {\n      return;\n    }\n\n    context.index = index * 1;\n  },\n  onClick_list: function onClick_list(context, e) {\n    var index = e.target.getAttribute(\"data-index\");\n\n    if (!index) {\n      return;\n    }\n\n    context.clickMethod.call(this, context.items[index]);\n  },\n  moveItem: function moveItem(listContext, num) {\n    this.util.removeClass(listContext.form, \"__ke_select-menu-mouse-move\");\n    num = listContext.index + num;\n    var menus = listContext.menus;\n    var len = menus.length;\n    var selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\n\n    for (var i = 0; i < len; i++) {\n      if (i === selectIndex) {\n        this.util.addClass(menus[i], \"active\");\n      } else {\n        this.util.removeClass(menus[i], \"active\");\n      }\n    }\n\n    listContext.item = listContext.items[selectIndex];\n  },\n  getItem: function getItem(listContext, index) {\n    index = !index || index < 0 ? listContext.index : index;\n    return listContext.items[index];\n  },\n  on: function on(callerName, clickMethod) {\n    var listContext = this.context.selectMenu.caller[callerName];\n    this.context.selectMenu.callerContext = listContext;\n    listContext.clickMethod = clickMethod;\n    listContext.callerName = callerName;\n  },\n  open: function open(listContext, positionHandler) {\n    var form = listContext.form;\n    form.style.visibility = \"hidden\";\n    form.style.display = \"block\";\n    positionHandler(form);\n    form.style.visibility = \"\";\n  },\n  close: function close(listContext) {\n    listContext.form.style.display = \"none\";\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n  },\n  init: function init(listContext) {\n    if (!listContext) {\n      return;\n    }\n\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n    listContext.callerName = \"\";\n    this.context.selectMenu.callerContext = null;\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"list\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.list = {\n      targetButton: targetElement,\n      _list: null,\n      currentList: \"\",\n      icons: {\n        bullets: core.icons.list_bullets,\n        number: core.icons.list_number\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.list._list = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' + core.icons.list_number + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' + core.icons.list_bullets + \"</button></li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var button = this.context.list.targetButton;\n    var icon = button.firstElementChild;\n    var util = this.util;\n\n    if (!element) {\n      button.removeAttribute(\"data-focus\");\n      util.changeElement(icon, this.context.list.icons.number);\n      util.removeClass(button, \"active\");\n    } else if (util.isList(element)) {\n      var nodeName = element.nodeName;\n      button.setAttribute(\"data-focus\", nodeName);\n      util.addClass(button, \"active\");\n\n      if (/UL/i.test(nodeName)) {\n        util.changeElement(icon, this.context.list.icons.bullets);\n      } else {\n        util.changeElement(icon, this.context.list.icons.number);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var listContext = this.context.list;\n    var list = listContext._list;\n    var currentList = listContext.targetButton.getAttribute(\"data-focus\") || \"\";\n\n    if (currentList !== listContext.currentList) {\n      for (var i = 0, len = list.length; i < len; i++) {\n        if (currentList === list[i].getAttribute(\"data-command\")) {\n          this.util.addClass(list[i], \"active\");\n        } else {\n          this.util.removeClass(list[i], \"active\");\n        }\n      }\n\n      listContext.currentList = currentList;\n    }\n  },\n  editList: function editList(command, selectedCells, detach) {\n    var range = this.getRange();\n    var selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n    if (selectedFormats.length === 0) {\n      if (selectedCells) {\n        return;\n      }\n\n      range = this.getRange_addLine(range, null);\n      selectedFormats = this.getSelectedElementsAndComponents(false);\n\n      if (selectedFormats.length === 0) {\n        return;\n      }\n    }\n\n    var util = this.util;\n    util.sortByDepth(selectedFormats, true); // merge\n\n    var firstSel = selectedFormats[0];\n    var lastSel = selectedFormats[selectedFormats.length - 1];\n    var topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n    var bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n    var originRange = {\n      sc: range.startContainer,\n      so: range.startOffset,\n      ec: range.endContainer,\n      eo: range.endOffset\n    };\n    var isRemove = true;\n\n    var _loop = function _loop(i, len) {\n      if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n        return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n      }.bind(util)))) {\n        isRemove = false;\n        return \"break\";\n      }\n    };\n\n    for (var i = 0, len = selectedFormats.length; i < len; i++) {\n      var _ret = _loop(i, len);\n\n      if (_ret === \"break\") break;\n    }\n\n    if (isRemove && (!topEl || firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase()) && (!bottomEl || lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase())) {\n      if (detach) {\n        for (var _i = 0, _len = selectedFormats.length; _i < _len; _i++) {\n          for (var j = _i - 1; j >= 0; j--) {\n            if (selectedFormats[j].contains(selectedFormats[_i])) {\n              selectedFormats.splice(_i, 1);\n              _i--;\n              _len--;\n              break;\n            }\n          }\n        }\n      }\n\n      var currentFormat = util.getRangeFormatElement(firstSel);\n      var cancel = currentFormat && currentFormat.tagName === command;\n      var rangeArr, tempList;\n\n      var passComponent = function (current) {\n        return !this.isComponent(current);\n      }.bind(util);\n\n      if (!cancel) {\n        tempList = util.createElement(command);\n      }\n\n      for (var _i2 = 0, _len2 = selectedFormats.length, r, o; _i2 < _len2; _i2++) {\n        o = util.getRangeFormatElement(selectedFormats[_i2], passComponent);\n\n        if (!o || !util.isList(o)) {\n          continue;\n        }\n\n        if (!r) {\n          r = o;\n          rangeArr = {\n            r: r,\n            f: [util.getParentElement(selectedFormats[_i2], \"LI\")]\n          };\n        } else {\n          if (r !== o) {\n            if (detach && util.isListCell(o.parentNode)) {\n              this.plugins.list._detachNested.call(this, rangeArr.f);\n            } else {\n              this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n            }\n\n            o = selectedFormats[_i2].parentNode;\n\n            if (!cancel) {\n              tempList = util.createElement(command);\n            }\n\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[_i2], \"LI\")]\n            };\n          } else {\n            rangeArr.f.push(util.getParentElement(selectedFormats[_i2], \"LI\"));\n          }\n        }\n\n        if (_i2 === _len2 - 1) {\n          if (detach && util.isListCell(o.parentNode)) {\n            this.plugins.list._detachNested.call(this, rangeArr.f);\n          } else {\n            this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n          }\n        }\n      }\n    } else {\n      var topElParent = topEl ? topEl.parentNode : topEl;\n      var bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n      topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n      bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n      var mergeTop = topEl && topEl.tagName === command;\n      var mergeBottom = bottomEl && bottomEl.tagName === command;\n      var list = mergeTop ? topEl : util.createElement(command);\n      var firstList = null; // let lastList = null;\n\n      var topNumber = null; // let bottomNumber = null;\n\n      var _passComponent = function (current) {\n        return !this.isComponent(current) && !this.isList(current);\n      }.bind(util);\n\n      for (var _i3 = 0, _len3 = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; _i3 < _len3; _i3++) {\n        fTag = selectedFormats[_i3];\n\n        if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n          util.removeItem(fTag);\n          continue;\n        }\n\n        next = selectedFormats[_i3 + 1];\n        originParent = fTag.parentNode;\n        nextParent = next ? next.parentNode : null;\n        isCell = util.isListCell(fTag);\n        rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n        parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n        siblingTag = isCell && !util.isWysiwygDiv(originParent) ? !next || util.isListCell(parentTag) ? originParent : originParent.nextSibling : fTag.nextSibling;\n        newCell = util.createElement(\"LI\");\n        util.copyFormatAttributes(newCell, fTag);\n\n        if (util.isComponent(fTag)) {\n          var isHR = /^HR$/i.test(fTag.nodeName);\n\n          if (!isHR) {\n            newCell.innerHTML = \"<br>\";\n          }\n\n          newCell.innerHTML += fTag.outerHTML;\n\n          if (isHR) {\n            newCell.innerHTML += \"<br>\";\n          }\n        } else {\n          var fChildren = fTag.childNodes;\n\n          while (fChildren[0]) {\n            newCell.appendChild(fChildren[0]);\n          }\n        }\n\n        list.appendChild(newCell); // if (!next) {\n        //   lastList = list;\n        // }\n\n        if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n          if (!firstList) {\n            firstList = list;\n          }\n\n          if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n            if (list.parentNode !== parentTag) {\n              parentTag.insertBefore(list, siblingTag);\n            }\n          }\n        }\n\n        util.removeItem(fTag);\n\n        if (mergeTop && topNumber === null) {\n          topNumber = list.children.length - 1;\n        }\n\n        if (next && (util.getRangeFormatElement(nextParent, _passComponent) !== util.getRangeFormatElement(originParent, _passComponent) || util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent))) {\n          list = util.createElement(command);\n        }\n\n        if (rangeTag && rangeTag.children.length === 0) {\n          util.removeItem(rangeTag);\n        }\n      }\n\n      if (topNumber) {\n        firstList = firstList.children[topNumber];\n      }\n\n      if (mergeBottom) {\n        // bottomNumber = list.children.length - 1;\n        list.innerHTML += bottomEl.innerHTML; // lastList = list.children[bottomNumber];\n\n        util.removeItem(bottomEl);\n      }\n    }\n\n    this.effectNode = null;\n    return originRange;\n  },\n  _detachNested: function _detachNested(cells) {\n    var first = cells[0];\n    var last = cells[cells.length - 1];\n    var next = last.nextElementSibling;\n    var originList = first.parentNode;\n    var sibling = originList.parentNode.nextElementSibling;\n    var parentNode = originList.parentNode.parentNode;\n\n    for (var c = 0, cLen = cells.length; c < cLen; c++) {\n      parentNode.insertBefore(cells[c], sibling);\n    }\n\n    if (next && originList.children.length > 0) {\n      var newList = originList.cloneNode(false);\n      var children = originList.childNodes;\n      var index = this.util.getPositionIndex(next);\n\n      while (children[index]) {\n        newList.appendChild(children[index]);\n      }\n\n      last.appendChild(newList);\n    }\n\n    if (originList.children.length === 0) {\n      this.util.removeItem(originList);\n    }\n\n    this.util.mergeSameTags(parentNode);\n    var edge = this.util.getEdgeChildNodes(first, last);\n    return {\n      cc: first.parentNode,\n      sc: edge.sc,\n      ec: edge.ec\n    };\n  },\n  editInsideList: function editInsideList(remove, selectedCells) {\n    selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) {\n      return this.isListCell(el);\n    }.bind(this.util)) : selectedCells;\n    var cellsLen = selectedCells.length;\n\n    if (cellsLen === 0 || !remove && !this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)) {\n      return {\n        sc: selectedCells[0],\n        so: 0,\n        ec: selectedCells[cellsLen - 1],\n        eo: 1\n      };\n    }\n\n    var originList = selectedCells[0].parentNode;\n    var lastCell = selectedCells[cellsLen - 1];\n    var range = null;\n\n    if (remove) {\n      if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n        lastCell = lastCell.nextElementSibling;\n\n        while (lastCell) {\n          selectedCells.push(lastCell);\n          lastCell = lastCell.nextElementSibling;\n        }\n      }\n\n      range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n    } else {\n      var innerList = this.util.createElement(originList.nodeName);\n      var prev = selectedCells[0].previousElementSibling;\n      var next = lastCell.nextElementSibling;\n      var nodePath = {\n        s: null,\n        e: null,\n        sl: originList,\n        el: originList\n      };\n\n      for (var i = 0, len = cellsLen, c; i < len; i++) {\n        c = selectedCells[i];\n\n        if (c.parentNode !== originList) {\n          this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n          originList = c.parentNode;\n          innerList = this.util.createElement(originList.nodeName);\n        }\n\n        prev = c.previousElementSibling;\n        next = c.nextElementSibling;\n        innerList.appendChild(c);\n      }\n\n      this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n      var sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n      var ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n      range = {\n        sc: sc,\n        so: 0,\n        ec: ec,\n        eo: ec.textContent.length\n      };\n    }\n\n    return range;\n  },\n  _insiedList: function _insiedList(originList, innerList, prev, next, nodePath) {\n    var insertPrev = false;\n\n    if (prev && innerList.tagName === prev.tagName) {\n      var children = innerList.children;\n\n      while (children[0]) {\n        prev.appendChild(children[0]);\n      }\n\n      innerList = prev;\n      insertPrev = true;\n    }\n\n    if (next && innerList.tagName === next.tagName) {\n      var _children = next.children;\n\n      while (_children[0]) {\n        innerList.appendChild(_children[0]);\n      }\n\n      var temp = next.nextElementSibling;\n      next.parentNode.removeChild(next);\n      next = temp;\n    }\n\n    if (!insertPrev) {\n      if (this.util.isListCell(prev)) {\n        originList = prev;\n        next = null;\n      }\n\n      originList.insertBefore(innerList, next);\n\n      if (!nodePath.s) {\n        nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n        nodePath.sl = originList;\n      }\n\n      var slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n      nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n      nodePath.el = originList;\n      this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n      this.util.mergeNestedTags(originList);\n\n      if (slPath) {\n        nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n      }\n    }\n\n    return innerList;\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = \"\";\n\n    while (!command && !/^UL$/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    }\n\n    var range = this.plugins.list.editList.call(this, command, null, false);\n\n    if (range) {\n      this.setRange(range.sc, range.so, range.ec, range.eo);\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG una finestra con un documento\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"it\",\n    toolbar: {\n      default: \"Predefinita\",\n      save: \"Salva\",\n      font: \"Font\",\n      formats: \"Formato\",\n      fontSize: \"Grandezza\",\n      bold: \"Grassetto\",\n      underline: \"Sottolineato\",\n      italic: \"Corsivo\",\n      strike: \"Barrato\",\n      subscript: \"Apice\",\n      superscript: \"Pedice\",\n      removeFormat: \"Rimuovi formattazione\",\n      fontColor: \"Colore testo\",\n      hiliteColor: \"Colore sottolineatura\",\n      indent: \"Aumenta rientro\",\n      outdent: \"Riduci rientro\",\n      align: \"Allinea\",\n      alignLeft: \"Allinea a sinistra\",\n      alignRight: \"Allinea a destra\",\n      alignCenter: \"Allinea al centro\",\n      alignJustify: \"Giustifica testo\",\n      list: \"Elenco\",\n      orderList: \"Elenco numerato\",\n      unorderList: \"Elenco puntato\",\n      horizontalRule: \"Linea orizzontale\",\n      hr_solid: \"Linea continua\",\n      hr_dotted: \"Puntini\",\n      hr_dashed: \"Trattini\",\n      table: \"Tabella\",\n      link: \"Collegamento ipertestuale\",\n      math: \"Formula matematica\",\n      image: \"Immagine\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"A tutto schermo\",\n      showBlocks: \"Visualizza blocchi\",\n      codeView: \"Visualizza codice\",\n      undo: \"Annulla\",\n      redo: \"Ripristina\",\n      preview: \"Anteprima\",\n      print: \"Stampa\",\n      tag_p: \"Paragrafo\",\n      tag_div: \"Normale (DIV)\",\n      tag_h: \"Titolo\",\n      tag_blockquote: \"Citazione\",\n      tag_pre: \"Codice\",\n      template: \"Modello\",\n      lineHeight: \"Interlinea\",\n      paragraphStyle: \"Stile paragrafo\",\n      textStyle: \"Stile testo\",\n      imageGallery: \"Galleria di immagini\",\n      mention: \"Menzione\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Inserisci un link\",\n        url: \"Indirizzo\",\n        text: \"Testo da visualizzare\",\n        newWindowCheck: \"Apri in una nuova finestra\",\n        downloadLinkCheck: \"Link per scaricare\",\n        bookmark: \"Segnalibro\"\n      },\n      mathBox: {\n        title: \"Matematica\",\n        inputLabel: \"Notazione matematica\",\n        fontSizeLabel: \"Grandezza testo\",\n        previewLabel: \"Anteprima\"\n      },\n      imageBox: {\n        title: \"Inserisci immagine\",\n        file: \"Seleziona da file\",\n        url: \"Indirizzo immagine\",\n        altText: \"Testo alternativo (ALT)\"\n      },\n      videoBox: {\n        title: \"Inserisci video\",\n        file: \"Seleziona da file\",\n        url: \"Indirizzo video di embed, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Inserisci audio\",\n        file: \"Seleziona da file\",\n        url: \"Indirizzo audio\"\n      },\n      browser: {\n        tags: \"tag\",\n        search: \"Ricerca\"\n      },\n      caption: \"Inserisci didascalia\",\n      close: \"Chiudi\",\n      submitButton: \"Invia\",\n      revertButton: \"Annulla\",\n      proportion: \"Proporzionale\",\n      basic: \"Da impostazione\",\n      left: \"Sinistra\",\n      right: \"Destra\",\n      center: \"Centrato\",\n      width: \"Larghezza\",\n      height: \"Altezza\",\n      size: \"Dimensioni\",\n      ratio: \"Rapporto\"\n    },\n    controller: {\n      edit: \"Modifica\",\n      unlink: \"Elimina link\",\n      remove: \"Rimuovi\",\n      insertRowAbove: \"Inserisci riga sopra\",\n      insertRowBelow: \"Inserisci riga sotto\",\n      deleteRow: \"Cancella riga\",\n      insertColumnBefore: \"Inserisci colonna prima\",\n      insertColumnAfter: \"Inserisci colonna dopo\",\n      deleteColumn: \"Cancella colonna\",\n      fixedColumnWidth: \"Larghezza delle colonne fissa\",\n      resize100: \"Ridimensiona 100%\",\n      resize75: \"Ridimensiona 75%\",\n      resize50: \"Ridimensiona 50%\",\n      resize25: \"Ridimensiona 25%\",\n      autoSize: \"Ridimensione automatica\",\n      mirrorHorizontal: \"Capovolgi orizzontalmente\",\n      mirrorVertical: \"Capovolgi verticalmente\",\n      rotateLeft: \"Ruota a sinistra\",\n      rotateRight: \"Ruota a destra\",\n      maxSize: \"Dimensione massima\",\n      minSize: \"Dimensione minima\",\n      tableHeader: \"Intestazione tabella\",\n      mergeCells: \"Unisci celle\",\n      splitCells: \"Dividi celle\",\n      HorizontalSplit: \"Separa orizontalmente\",\n      VerticalSplit: \"Separa verticalmente\"\n    },\n    menu: {\n      spaced: \"Spaziato\",\n      bordered: \"Bordato\",\n      neon: \"Luminoso\",\n      translucent: \"Traslucido\",\n      shadow: \"Ombra\",\n      code: \"Codice\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"it\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * Rich Text Editor\r\n *\r\n * kothing-ditor.js\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2-29.4-29.4-52.5-63.6-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5c-16.1 38.1-39.2 72.3-68.6 101.7-9.3 9.3-19.1 18-29.3 26L668.2 724c-4.1-5.3-12.5-3.5-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 0.8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z\" /></svg>',\n  undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-0.3 13 6.3 12.9l167-0.8c5.2 0 9-4.9 7.7-9.9L369.8 727c-1.6-6.5-10-8.3-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26-29.4-29.4-52.5-63.6-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5c-16.1 38.1-39.2 72.3-68.6 101.7-7.5 7.5-15.3 14.5-23.4 21.2-3.4 2.8-3.9 7.7-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z\" /></svg>',\n  bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M697.8 481.4c33.6-35 54.2-82.3 54.2-134.3v-10.2C752 229.3 663.9 142 555.3 142H259.4c-15.1 0-27.4 12.3-27.4 27.4v679.1c0 16.3 13.2 29.5 29.5 29.5h318.7c117 0 211.8-94.2 211.8-210.5v-11c0-73-37.4-137.3-94.2-175.1zM328 238h224.7c57.1 0 103.3 44.4 103.3 99.3v9.5c0 54.8-46.3 99.3-103.3 99.3H328V238z m366.6 429.4c0 62.9-51.7 113.9-115.5 113.9H328V542.7h251.1c63.8 0 115.5 51 115.5 113.9v10.8z\" /></svg>',\n  underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M824 804H200c-4.4 0-8 3.4-8 7.6v60.8c0 4.2 3.6 7.6 8 7.6h624c4.4 0 8-3.4 8-7.6v-60.8c0-4.2-3.6-7.6-8-7.6zM512 728c69.4 0 134.6-27.1 183.8-76.2C745 602.7 772 537.4 772 468V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 97-79 176-176 176s-176-79-176-176V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 69.4 27.1 134.6 76.2 183.8C377.3 701 442.6 728 512 728z\" /></svg>',\n  italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M798 160H366c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h181.2l-156 544H229c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8H474.4l156-544H798c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z\" /></svg>',\n  strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M952 474H569.9c-10-2-20.5-4-31.6-6-15.9-2.9-22.2-4.1-30.8-5.8-51.3-10-82.2-20-106.8-34.2-35.1-20.5-52.2-48.3-52.2-85.1 0-37 15.2-67.7 44-89 28.4-21 68.8-32.1 116.8-32.1 54.8 0 97.1 14.4 125.8 42.8 14.6 14.4 25.3 32.1 31.8 52.6 1.3 4.1 2.8 10 4.3 17.8 0.9 4.8 5.2 8.2 9.9 8.2h72.8c5.6 0 10.1-4.6 10.1-10.1v-1c-0.7-6.8-1.3-12.1-2-16-7.3-43.5-28-81.7-59.7-110.3-44.4-40.5-109.7-61.8-188.7-61.8-72.3 0-137.4 18.1-183.3 50.9-25.6 18.4-45.4 41.2-58.6 67.7-13.5 27.1-20.3 58.4-20.3 92.9 0 29.5 5.7 54.5 17.3 76.5 8.3 15.7 19.6 29.5 34.1 42H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h433.2c2.1 0.4 3.9 0.8 5.9 1.2 30.9 6.2 49.5 10.4 66.6 15.2 23 6.5 40.6 13.3 55.2 21.5 35.8 20.2 53.3 49.2 53.3 89 0 35.3-15.5 66.8-43.6 88.8-30.5 23.9-75.6 36.4-130.5 36.4-43.7 0-80.7-8.5-110.2-25-29.1-16.3-49.1-39.8-59.7-69.5-0.8-2.2-1.7-5.2-2.7-9-1.2-4.4-5.3-7.5-9.7-7.5h-79.7c-5.6 0-10.1 4.6-10.1 10.1v1c0.2 2.3 0.4 4.2 0.6 5.7 6.5 48.8 30.3 88.8 70.7 118.8 47.1 34.8 113.4 53.2 191.8 53.2 84.2 0 154.8-19.8 204.2-57.3 25-18.9 44.2-42.2 57.1-69 13-27.1 19.7-57.9 19.7-91.5 0-31.8-5.8-58.4-17.8-81.4-5.8-11.2-13.1-21.5-21.8-30.8H952c4.4 0 8-3.6 8-8v-60c0-4.3-3.6-7.9-8-7.9z\" /></svg>',\n  subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M359.936 529.8688l195.4816-195.5328a40.96 40.96 0 1 1 57.9584 57.9584L417.792 587.776l195.5328 195.4816a40.96 40.96 0 1 1-57.9584 57.9584L359.936 645.632l-195.4816 195.584a40.96 40.96 0 1 1-57.9584-57.9584L302.08 587.776 106.496 392.2944A40.96 40.96 0 1 1 164.4544 334.336l195.4816 195.584z m417.1264 400.8448h130.5088c13.0048 0 22.8864 2.56 29.696 7.7824a25.088 25.088 0 0 1 10.2912 21.1456 27.648 27.648 0 0 1-8.1408 20.1216c-5.376 5.5296-13.6192 8.2944-24.576 8.2944h-184.0128c-12.544 0-22.272-3.3792-29.2864-10.0864a31.7952 31.7952 0 0 1-10.496-23.7056c0-5.8368 2.2528-13.568 6.7584-23.1936a82.944 82.944 0 0 1 14.7456-22.7328c22.1696-22.3232 42.1888-41.472 60.0064-57.4464 17.8176-15.9744 30.5664-26.4704 38.2464-31.488 13.6704-9.3696 25.088-18.8416 34.1504-28.3136 9.0624-9.472 15.9744-19.2 20.736-29.184 4.7616-9.9328 7.1168-19.6608 7.1168-29.184a51.6096 51.6096 0 0 0-28.3648-46.9504 61.2864 61.2864 0 0 0-28.672-6.8096c-21.8112 0-38.9632 9.3184-51.456 27.9552a119.3984 119.3984 0 0 0-8.3968 19.968 82.3808 82.3808 0 0 1-13.2096 24.9856c-4.9152 5.8368-12.1344 8.704-21.6576 8.704a28.5696 28.5696 0 0 1-20.736-7.9872 29.0816 29.0816 0 0 1-8.2432-21.8624c0-11.1616 2.56-22.8352 7.7312-34.9696 5.1712-12.1856 12.9024-23.1936 23.1424-33.0752s23.2448-17.8688 39.0144-23.9104a153.4976 153.4976 0 0 1 55.3472-9.1136c25.4976 0 47.2576 3.8912 65.2288 11.6736a98.0992 98.0992 0 0 1 51.4048 52.8384 101.5808 101.5808 0 0 1-7.9872 91.8528c-10.24 16.384-20.736 29.2864-31.3856 38.6048-10.6496 9.3184-28.5696 23.9616-53.6576 43.8784-25.088 19.968-42.2912 35.3792-51.6096 46.3872a138.3936 138.3936 0 0 0-12.288 15.8208z\"></path></svg>',\n  superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M802.6624 444.3136h130.5088c13.0048 0 22.8864 2.56 29.696 7.7824a25.088 25.088 0 0 1 10.2912 21.1456 27.648 27.648 0 0 1-8.1408 20.1216c-5.376 5.5296-13.6192 8.2944-24.576 8.2944h-184.0128c-12.544 0-22.272-3.3792-29.2864-10.0864a31.7952 31.7952 0 0 1-10.496-23.7056c0-5.8368 2.2528-13.568 6.7584-23.1936a82.944 82.944 0 0 1 14.7456-22.7328c22.1696-22.3232 42.1888-41.472 60.0064-57.4464 17.8176-15.9744 30.5664-26.4704 38.2464-31.488 13.6704-9.3696 25.088-18.8416 34.1504-28.3136 9.0624-9.472 15.9744-19.2 20.736-29.184 4.7616-9.9328 7.1168-19.6608 7.1168-29.184a51.6096 51.6096 0 0 0-28.3648-46.9504 61.2864 61.2864 0 0 0-28.672-6.8096c-21.8112 0-38.9632 9.3184-51.456 27.9552a119.3984 119.3984 0 0 0-8.3968 19.968 82.3808 82.3808 0 0 1-13.2096 24.9856c-4.9152 5.8368-12.1344 8.704-21.6576 8.704a28.5696 28.5696 0 0 1-20.736-7.9872 29.0816 29.0816 0 0 1-8.2432-21.8624c0-11.1616 2.56-22.8352 7.7312-34.9696 5.1712-12.1856 12.9024-23.1936 23.1424-33.0752s23.2448-17.8688 39.0144-23.9104a153.4976 153.4976 0 0 1 55.3472-9.1136c25.4976 0 47.2576 3.8912 65.2288 11.6736a98.0992 98.0992 0 0 1 51.4048 52.8384 101.5808 101.5808 0 0 1-7.9872 91.8528c-10.24 16.384-20.736 29.2864-31.3856 38.6048-10.6496 9.3184-28.5696 23.9616-53.6576 43.8784-25.088 19.968-42.2912 35.3792-51.6096 46.3872a138.3936 138.3936 0 0 0-12.288 15.8208zM359.936 529.8688l195.4816-195.5328a40.96 40.96 0 1 1 57.9584 57.9584L417.792 587.776l195.5328 195.4816a40.96 40.96 0 1 1-57.9584 57.9584L359.936 645.632l-195.4816 195.584a40.96 40.96 0 1 1-57.9584-57.9584L302.08 587.776 106.496 392.2944A40.96 40.96 0 1 1 164.4544 334.336l195.4816 195.584z\"></path></svg>',\n  erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M651.229 199.033c-6.769-6.77-17.845-6.77-24.615 0L74.612 751.036c-6.769 6.768-6.769 17.845 0 24.614l107.36 107.361c6.77 6.769 20.14 12.307 29.713 12.307H555.62c9.572 0 22.944-5.538 29.712-12.307l362.63-362.628c6.77-6.769 6.77-17.845 0-24.615L651.23 199.033zM551.187 817.522c-6.769 6.768-20.14 12.307-29.712 12.307H255.194c-9.573 0-22.944-5.539-29.712-12.307l-50.61-50.61c-6.769-6.769-6.769-17.845 0-24.615l202.36-202.361c6.77-6.768 17.846-6.768 24.616 0l201.155 201.156c6.769 6.768 6.769 17.845 0 24.614l-51.816 51.816z\" /></svg>',\n  indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM400 646c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zM904 160H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 792H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519c4.5-3.5 4.5-10.3 0-13.9L142.4 381.9c-5.8-4.6-14.4-0.5-14.4 6.9v246.3c0 7.4 8.5 11.6 14.4 7z\" /></svg>',\n  outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM400 646c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zM904 160H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 792H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4 0.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1c-4.5 3.5-4.5 10.3 0 13.8z\" /></svg>',\n  expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM920 664h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z\" /></svg>',\n  reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M326 664H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V696c0-17.7-14.3-32-32-32zM342 88h-48c-8.8 0-16 7.2-16 16v176H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V104c0-8.8-7.2-16-16-16zM920 664H698c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V744h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM920 280H746V104c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16z\" /></svg>',\n  code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M438.4 849.1l222.7-646.7c0.2-0.5 0.3-1.1 0.4-1.6L438.4 849.1zM661.2 168.7h-67.5c-3.4 0-6.5 2.2-7.6 5.4L354.7 846c-0.3 0.8-0.4 1.7-0.4 2.6 0 4.4 3.6 8 8 8h67.8c3.4 0 6.5-2.2 7.6-5.4l0.7-2.1 223.1-648.3 7.4-21.4c0.3-0.8 0.4-1.7 0.4-2.6-0.1-4.5-3.6-8.1-8.1-8.1zM954.6 502.1c-0.8-1-1.7-1.9-2.7-2.7l-219-171.3c-3.5-2.7-8.5-2.1-11.2 1.4-1.1 1.4-1.7 3.1-1.7 4.9v81.3c0 2.5 1.1 4.8 3.1 6.3l115 90-115 90c-1.9 1.5-3.1 3.8-3.1 6.3v81.3c0 4.4 3.6 8 8 8 1.8 0 3.5-0.6 4.9-1.7l219-171.3c6.9-5.4 8.2-15.5 2.7-22.5zM291.1 328.1l-219 171.3c-1 0.8-1.9 1.7-2.7 2.7-5.4 7-4.2 17 2.7 22.5l219 171.3c1.4 1.1 3.1 1.7 4.9 1.7 4.4 0 8-3.6 8-8v-81.3c0-2.5-1.1-4.8-3.1-6.3l-115-90 115-90c1.9-1.5 3.1-3.8 3.1-6.3v-81.3c0-1.8-0.6-3.5-1.7-4.9-2.7-3.5-7.7-4.1-11.2-1.4z\" /></svg>',\n  preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M646.656 284.672c0-19.968-19.456-35.84-43.52-35.84H243.712c-24.064 0-43.52 15.872-43.52 35.84 0 19.968 19.456 35.84 43.52 35.84h358.912c24.576 0 43.52-15.36 44.032-35.84zM404.48 466.432c0-19.968-19.456-35.84-43.52-35.84H243.712c-24.064 0-43.52 15.872-43.52 35.84 0 19.968 19.456 35.84 43.52 35.84h117.248c24.576 0 43.52-15.36 43.52-35.84zM318.976 641.536H243.712c-24.064 0-43.52 15.872-43.52 35.84 0 19.968 19.456 35.84 43.52 35.84h74.752c24.576 0 43.52-15.872 43.52-35.84 0.512-19.968-18.944-35.84-43.008-35.84zM942.08 908.288l-112.64-111.616c48.128-47.104 78.336-112.128 78.336-184.32 0-142.336-116.736-258.048-260.096-258.048-143.36 0-260.096 115.712-260.096 258.048S504.32 870.4 647.68 870.4c37.376 0 72.704-8.192 104.448-22.016L877.568 972.8c9.216 8.704 20.48 12.8 32.256 12.8 11.776 0 23.04-4.096 31.744-12.8a46.592 46.592 0 0 0 0.512-64.512z m-294.4-117.248c-99.328 0-180.224-80.384-180.224-178.688s80.896-178.688 180.224-178.688 180.224 80.384 180.224 178.688-80.896 178.688-180.224 178.688zM140.288 812.544V141.824c0-17.408 14.336-31.744 31.744-31.744h539.136c17.408 0 31.744 14.336 31.744 31.744V353.28h71.68V141.824c0-56.832-46.08-103.424-103.424-103.424H172.032c-56.832 0-103.424 46.08-103.424 103.424v670.72c0 56.832 46.08 103.424 103.424 103.424h335.36v-71.68H172.032c-17.408 0-31.744-14.336-31.744-31.744z\"></path></svg>',\n  print: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zM852 332H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180z m304 664H360V568h304v276z m200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z\" /></svg>',\n  template: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M410.055 157.468h198.201c22.983 0 42.325-22.983 42.325-49.607s-19.342-49.607-43.463-49.607h-196.95c-24.234 0-43.576 22.983-43.576 49.607s19.342 49.607 43.463 49.607z m310.727 484.125H295.253c-15.701 0-29.013 13.312-29.013 29.013s13.312 29.014 29.013 29.014H721.92c15.701 0 29.013-13.312 29.013-29.014-1.137-16.839-14.45-29.013-30.15-29.013z m0-170.667H295.253c-15.701 0-29.013 13.312-29.013 29.014s13.312 29.013 29.013 29.013H721.92c15.701 0 29.013-13.312 29.013-29.013-1.137-16.84-14.45-29.014-30.15-29.014zM266.24 342.7c0 15.701 13.312 29.013 29.013 29.013H721.92c15.701 0 29.013-13.312 29.013-29.013s-13.312-29.014-29.013-29.014H295.253c-15.701-0.113-29.013 13.199-29.013 29.014zM821.02 86.016h-56.775c-15.701 0-33.905 9.671-33.905 25.372s18.09 31.517 33.905 31.517h56.775c33.792 0 56.776 22.983 56.776 56.889v654.79c0 33.907-22.984 56.89-56.776 56.89H209.465c-33.906 0-71.339-22.983-71.339-56.89v-654.79c0-33.906 22.983-56.89 56.775-56.89h71.339c15.701 0 21.732-15.7 21.732-31.516s-6.03-25.372-21.732-25.372h-71.339c-79.758 0-113.664 49.607-113.664 115.03v647.622c0 70.201 42.326 119.808 119.695 119.808H814.99c77.37 0 119.694-41.187 119.694-119.808V201.045c0-65.422-39.936-115.029-113.664-115.029z\"></path></svg>',\n  line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M657.067 136.533H76.8c-4.693 0-8.533 3.84-8.533 8.534V281.6c0 4.693 3.84 8.533 8.533 8.533h59.733c4.694 0 8.534-3.84 8.534-8.533v-68.267h179.2v597.334h-98.134c-4.693 0-8.533 3.84-8.533 8.533v59.733c0 4.694 3.84 8.534 8.533 8.534h281.6c4.694 0 8.534-3.84 8.534-8.534V819.2c0-4.693-3.84-8.533-8.534-8.533H409.6V213.333h179.2V281.6c0 4.693 3.84 8.533 8.533 8.533h59.734c4.693 0 8.533-3.84 8.533-8.533V145.067c0-4.694-3.84-8.534-8.533-8.534z m290.986 582.4h-69.12V305.067h69.12c6.4 0 10.027-7.467 6.08-12.48L846.613 156.48c-3.093-3.947-9.066-3.947-12.053 0L727.04 292.587c-3.947 5.013-0.427 12.48 6.08 12.48h69.013v413.866h-69.12c-6.4 0-10.026 7.467-6.08 12.48l107.52 136c3.094 3.947 9.067 3.947 12.054 0l107.52-136c4.053-5.013 0.426-12.48-5.974-12.48z\" /></svg>',\n  paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M512 256v640h-85.333333v-213.333333a256 256 0 1 1 0-512h426.666666v85.333333h-128v640h-85.333333V256h-128z m-85.333333 0a170.666667 170.666667 0 1 0 0 341.333333V256z\"></path></svg>',\n  text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M890.592 729.19V296.255a115.329 115.329 0 1 0-140.099-163.93H268.452A115.257 115.257 0 1 0 135.213 298.42v428.602A115.293 115.293 0 1 0 270.98 888.426h476.987A115.293 115.293 0 1 0 890.592 729.19z m-39.719-590.727a49.468 49.468 0 1 1-49.467 49.468 49.324 49.324 0 0 1 49.467-49.468zM117.881 187.93a49.468 49.468 0 1 1 49.468 49.468 49.54 49.54 0 0 1-49.468-49.468z m49.468 698.69a49.468 49.468 0 1 1 49.468-49.469 49.324 49.324 0 0 1-49.468 49.468z m569.423-64.634h-454.96a115.834 115.834 0 0 0-80.882-94.964V298.06a114.896 114.896 0 0 0 80.882-99.297h454.6a115.076 115.076 0 0 0 87.742 101.464v424.99a114.787 114.787 0 0 0-87.382 96.77z m114.101 64.633a49.468 49.468 0 1 1 49.468-49.468 49.324 49.324 0 0 1-49.468 49.468zM539.262 283.256a4.983 4.983 0 0 1-1.084-1.444 33.544 33.544 0 0 0-17.332-21.665 32.822 32.822 0 0 0-44.051 15.526L274.95 695.61a32.822 32.822 0 0 0 15.526 44.052 33.725 33.725 0 0 0 14.444 3.25 33.292 33.292 0 0 0 29.97-18.777l64.272-133.6h211.592a10.58 10.58 0 0 0 3.25-0.721l67.883 141.543a33.292 33.292 0 0 0 29.97 18.776 34.953 34.953 0 0 0 14.443-3.25 32.93 32.93 0 0 0 15.526-44.051zM430.576 524.818l75.466-157.43 75.466 157.43z\" /></svg>',\n  save: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z\" /></svg>',\n  blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n  arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n  align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M163.84 204.8h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24V215.04c0-5.632 4.608-10.24 10.24-10.24z m0 585.728h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24v-59.392c0-5.632 4.608-10.24 10.24-10.24z m0-390.5024h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24v-59.392c0-5.632 4.608-10.24 10.24-10.24z m0 195.2768h696.32c5.632 0 10.24 4.608 10.24 10.24v59.392a10.24 10.24 0 0 1-10.24 10.24H163.84a10.24 10.24 0 0 1-10.24-10.24v-59.392c0-5.632 4.608-10.24 10.24-10.24z\"></path></svg>',\n  align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM120 654h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" /></svg>',\n  align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 582H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" /></svg>',\n  align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM760 654c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" /></svg>',\n  font: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M170.464 313.527l-25.094 0 3.812-177.812 717.765 0 3.812 177.812-23.453 0c-8.359-48.719-19.812-83.906-34.359-105.547-14.547-21.625-30.188-34.906-46.906-39.812s-45.266-7.359-85.625-7.359L561.526 160.809l0 521.953c0 57.812 1.359 95.812 4.078 114s10.094 31.641 22.094 40.359 34.531 13.078 67.625 13.078l36 0 0 25.094L322.636 875.293l0-25.094 38.172 0c31.625 0 53.531-4 65.719-12s20-20.453 23.453-37.359 5.188-56.266 5.188-118.078L455.168 160.808 345.542 160.808c-47.641 0-79.641 2.281-96 6.812-16.375 4.547-31.734 18.281-46.094 41.188S178.089 266.621 170.464 313.527z\"></path></svg>',\n  font_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M920 416H616c-4.4 0-8 3.6-8 8v112c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-56h60v320h-46c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h164c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8h-46V480h60v56c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V424c0-4.4-3.6-8-8-8zM656 296V168c0-4.4-3.6-8-8-8H104c-4.4 0-8 3.6-8 8v128c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-64h168v560h-92c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-92V232h168v64c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8z\"></path></svg>',\n  font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zM253.7 736h85c4.2 0 8-2.7 9.3-6.8l53.7-166h219.2l53.2 166c1.3 4 5 6.8 9.3 6.8h89.1c1.1 0 2.2-0.2 3.2-0.5 5.1-1.8 7.8-7.3 6-12.4L573.6 118.6c-1.4-3.9-5.1-6.6-9.2-6.6H462.1c-4.2 0-7.9 2.6-9.2 6.6L244.5 723.1c-0.4 1-0.5 2.1-0.5 3.2-0.1 5.3 4.3 9.7 9.7 9.7z m255.9-516.1h4.1l83.8 263.8H424.9l84.7-263.8z\" /></svg>',\n  format_block: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M725.333333 469.333333V170.666667h85.333334v725.333333h-85.333334v-341.333333H298.666667v341.333333H213.333333V170.666667h85.333334v298.666666z\"></path></svg>',\n  highlight_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M766.4 744.3c43.7 0 79.4-36.2 79.4-80.5 0-53.5-79.4-140.8-79.4-140.8S687 610.3 687 663.8c0 44.3 35.7 80.5 79.4 80.5zM389.3 700.2c7.1 7.1 18.6 7.1 25.6 0l256.1-256c7.1-7.1 7.1-18.6 0-25.6l-256-256c-0.6-0.6-1.3-1.2-2-1.7l-78.2-78.2c-3.5-3.5-9.3-3.5-12.8 0l-48 48c-3.5 3.5-3.5 9.3 0 12.8l67.2 67.2-207.8 207.9c-7.1 7.1-7.1 18.6 0 25.6l255.9 256z m12.9-448.6l178.9 178.9H223.4l178.8-178.9zM904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z\" /></svg>',\n  list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM912 476H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM912 760H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM160 228m-56 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0ZM160 512m-56 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0ZM160 796m-56 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0Z\" /></svg>',\n  list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M978.285714 795.428571H310.857143c-5.028571 0-9.142857 4.114286-9.142857 9.142858v64c0 5.028571 4.114286 9.142857 9.142857 9.142857h667.428571c5.028571 0 9.142857-4.114286 9.142857-9.142857v-64c0-5.028571-4.114286-9.142857-9.142857-9.142858z m0-649.142857H310.857143c-5.028571 0-9.142857 4.114286-9.142857 9.142857v64c0 5.028571 4.114286 9.142857 9.142857 9.142858h667.428571c5.028571 0 9.142857-4.114286 9.142857-9.142858v-64c0-5.028571-4.114286-9.142857-9.142857-9.142857z m0 324.571429H310.857143c-5.028571 0-9.142857 4.114286-9.142857 9.142857v64c0 5.028571 4.114286 9.142857 9.142857 9.142857h667.428571c5.028571 0 9.142857-4.114286 9.142857-9.142857v-64c0-5.028571-4.114286-9.142857-9.142857-9.142857zM173.714286 740.571429H41.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571428v38.857143c0 2.514286 2.057143 4.571429 4.571428 4.571429h82.742857v23.428571h-40.8c-2.514286 0-4.571429 2.057143-4.571428 4.571429v38.857142c0 2.514286 2.057143 4.571429 4.571428 4.571429h40.8V884.571429H41.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571428v38.857143c0 2.514286 2.057143 4.571429 4.571428 4.571429h132.571429c2.514286 0 4.571429-2.057143 4.571428-4.571429V745.142857c0-2.514286-2.057143-4.571429-4.571428-4.571428zM41.142857 141.714286h43.428572v137.142857c0 2.514286 2.057143 4.571429 4.571428 4.571428h45.714286c2.514286 0 4.571429-2.057143 4.571428-4.571428V100.571429c0-5.028571-4.114286-9.142857-9.142857-9.142858h-89.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571429v41.142857c0 2.514286 2.057143 4.571429 4.571428 4.571429z m132.571429 274.285714H41.142857c-2.514286 0-4.571429 2.057143-4.571428 4.571429v41.142857c0 2.514286 2.057143 4.571429 4.571428 4.571428h78.171429l-80.342857 88.8a9.485714 9.485714 0 0 0-2.4 6.171429V603.428571c0 2.514286 2.057143 4.571429 4.571428 4.571429h132.571429c2.514286 0 4.571429-2.057143 4.571428-4.571429v-41.142857c0-2.514286-2.057143-4.571429-4.571428-4.571428h-78.171429l80.342857-88.8a9.485714 9.485714 0 0 0 2.4-6.171429V420.571429c0-2.514286-2.057143-4.571429-4.571428-4.571429z\" /></svg>',\n  table: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M513.7 120.1h385.5c44.3 0 59.5 15 59.5 59 0 221.1 0 442.3-0.1 663.4 0 44.6-14.8 59.6-58.8 59.6-259.2 0.1-518.5 0.1-777.7 0-41 0-57.1-15.7-57.1-56.8-0.2-223.4-0.2-446.8 0-670.1 0-39.6 16.2-55 56.5-55.1 130.7-0.1 261.4 0 392.2 0zM345.3 693.2h-222v150.7h222V693.2z m277 151.6V693.9H401.5v150.9h220.8z m55.9-1.2h222.2V693.5H678.2v150.1zM123.6 490.9v149.4h221V490.9h-221zM678 642.3c72.4 0 142.3 0.2 212.2-0.5 3.8 0 10.7-6.6 10.7-10.3 0.7-46.7 0.5-93.3 0.5-139.8H677.9c0.1 50.4 0.1 98.7 0.1 150.6z m-277.5-1.8h222.1V491.6H400.5v148.9z m-55.7-200.9V289.4H121.9c0 46.8-0.5 91.5 0.6 136.1 0.1 4.8 9.2 13.4 14.2 13.5 68.6 0.9 137.3 0.6 208.1 0.6z m56.3-2.1h221V288.8h-221v148.7z m498.8 0.7V288.7H678.5v149.5h221.4z\"></path></svg>',\n  horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n  show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M848 160.7c8.7 0 16 7.3 16 16v140c0 8.7-7.3 16-16 16H179.5c-8.7 0-16-7.3-16-16v-140c0-8.7 7.3-16 16-16H848m0-64H179.5c-44 0-80 36-80 80v140c0 44 36 80 80 80H848c44 0 80-36 80-80v-140c0-44-36-80-80-80zM344.9 516.1c8.7 0 16 7.3 16 16V846c0 8.7-7.3 16-16 16H179.5c-8.7 0-16-7.3-16-16V532.1c0-8.7 7.3-16 16-16h165.4m0-64H179.5c-44 0-80 36-80 80V846c0 44 36 80 80 80h165.4c44 0 80-36 80-80V532.1c0-44-36-80-80-80zM848 516.1c8.7 0 16 7.3 16 16V846c0 8.7-7.3 16-16 16H596.1c-8.7 0-16-7.3-16-16V532.1c0-8.7 7.3-16 16-16H848m0-64H596.1c-44 0-80 36-80 80V846c0 44 36 80 80 80H848c44 0 80-36 80-80V532.1c0-44-36-80-80-80z\"></path></svg>',\n  cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n  image: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32z m-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792z m0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456c48.6 0 88-39.4 88-88s-39.4-88-88-88-88 39.4-88 88 39.4 88 88 88z m0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\" /></svg>',\n  audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168z m-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z\" /></svg>',\n  video: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560z m176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z\" /></svg>',\n  link: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M574 665.4c-3.1-3.1-8.2-3.1-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8c-3.1-3.1-8.2-3.1-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zM832.6 191.4c-84.6-84.6-221.5-84.6-306 0L410.3 307.6c-3.1 3.1-3.1 8.2 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6c-3.1 3.1-3.1 8.2 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3c-3.1-3.1-8.2-3.1-11.3 0L372.3 598.7c-3.1 3.1-3.1 8.2 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\" /></svg>',\n  unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n  math: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 1024 1024\"><path d=\"M643.015111 128c9.557333 0 18.773333 3.811556 25.486222 10.581333l0.398223 0.398223 88.974222 91.989333a36.010667 36.010667 0 0 1-51.313778 50.460444l-0.455111-0.398222-78.392889-81.009778H167.025778l196.835555 293.432889a36.010667 36.010667 0 0 1 0.227556 39.822222l-0.284445 0.455112-196.892444 290.247111h460.8l78.392889-81.009778a36.010667 36.010667 0 0 1 50.517333-1.251556l0.398222 0.398223c14.165333 13.653333 14.677333 36.181333 1.251556 50.460444l-0.398222 0.455111-88.974222 91.989333a36.010667 36.010667 0 0 1-25.372445 10.979556H98.986667a36.010667 36.010667 0 0 1-30.264889-55.466667l0.512-0.739555 221.297778-326.428445-220.899556-329.329777a36.010667 36.010667 0 0 1 29.013333-56.035556h544.369778z m306.460445 262.542222c13.880889 13.937778 14.051556 36.408889 0.398222 50.517334L878.876444 512l70.542223 70.542222a36.010667 36.010667 0 0 1-50.460445 51.313778l-0.398222-0.398222-70.542222-70.599111-70.542222 70.599111a36.010667 36.010667 0 0 1-51.370667-50.517334L777.102222 512l-70.542222-70.542222a36.010667 36.010667 0 0 1 50.460444-51.313778l70.940445 70.940444 70.542222-70.542222a36.010667 36.010667 0 0 1 50.972445 0z\"></path></svg>',\n  table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n  merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n  split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n  caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n  edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n  delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n  modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n  revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n  auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n  insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n  insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n  insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n  insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n  delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n  delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n  fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n  rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n  rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n  mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n  mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n  checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n  line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\n  image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\n  bookmark: '<svg viewBox=\"0 0 24 24\"><path d=\"M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z\" /></svg>',\n  download: '<svg viewBox=\"0 0 24 24\"><path d=\"M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z\" /></svg>',\n  // More icons\n  more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n  more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n  more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n  more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n  more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\n  // Not currently used\n  attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n  map: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n  magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n  empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox =\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"en\",\n    toolbar: {\n      default: \"Default\",\n      save: \"Save\",\n      font: \"Font\",\n      formats: \"Formats\",\n      fontSize: \"Size\",\n      bold: \"Bold\",\n      underline: \"Underline\",\n      italic: \"Italic\",\n      strike: \"Strike\",\n      subscript: \"Subscript\",\n      superscript: \"Superscript\",\n      removeFormat: \"Remove Format\",\n      fontColor: \"Font Color\",\n      hiliteColor: \"Highlight Color\",\n      indent: \"Indent\",\n      outdent: \"Outdent\",\n      align: \"Align\",\n      alignLeft: \"Align left\",\n      alignRight: \"Align right\",\n      alignCenter: \"Align center\",\n      alignJustify: \"Align justify\",\n      list: \"List\",\n      orderList: \"Ordered list\",\n      unorderList: \"Unordered list\",\n      horizontalRule: \"Horizontal line\",\n      hr_solid: \"Solid\",\n      hr_dotted: \"Dotted\",\n      hr_dashed: \"Dashed\",\n      table: \"Table\",\n      link: \"Link\",\n      math: \"Math\",\n      image: \"Image\",\n      video: \"Video\",\n      audio: \"Audio\",\n      fullScreen: \"Full screen\",\n      showBlocks: \"Show blocks\",\n      codeView: \"Code view\",\n      undo: \"Undo\",\n      redo: \"Redo\",\n      preview: \"Preview\",\n      print: \"print\",\n      tag_p: \"Paragraph\",\n      tag_div: \"Normal (DIV)\",\n      tag_h: \"Header\",\n      tag_blockquote: \"Quote\",\n      tag_pre: \"Code\",\n      template: \"Template\",\n      lineHeight: \"Line height\",\n      paragraphStyle: \"Paragraph style\",\n      textStyle: \"Text style\",\n      imageGallery: \"Image gallery\",\n      mention: \"Mention\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Insert Link\",\n        url: \"URL to link\",\n        text: \"Text to display\",\n        newWindowCheck: \"Open in new window\",\n        downloadLinkCheck: \"Download link\",\n        bookmark: \"Bookmark\"\n      },\n      mathBox: {\n        title: \"Math\",\n        inputLabel: \"Mathematical Notation\",\n        fontSizeLabel: \"Font Size\",\n        previewLabel: \"Preview\"\n      },\n      imageBox: {\n        title: \"Insert image\",\n        file: \"Select from files\",\n        url: \"Image URL\",\n        altText: \"Alternative text\"\n      },\n      videoBox: {\n        title: \"Insert Video\",\n        file: \"Select from files\",\n        url: \"Media embed URL, YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Insert Audio\",\n        file: \"Select from files\",\n        url: \"Audio URL\"\n      },\n      browser: {\n        tags: \"Tags\",\n        search: \"Search\"\n      },\n      caption: \"Insert description\",\n      close: \"Close\",\n      submitButton: \"Submit\",\n      revertButton: \"Revert\",\n      proportion: \"Constrain proportions\",\n      basic: \"Basic\",\n      left: \"Left\",\n      right: \"Right\",\n      center: \"Center\",\n      width: \"Width\",\n      height: \"Height\",\n      size: \"Size\",\n      ratio: \"Ratio\"\n    },\n    controller: {\n      edit: \"Edit\",\n      unlink: \"Unlink\",\n      remove: \"Remove\",\n      insertRowAbove: \"Insert row above\",\n      insertRowBelow: \"Insert row below\",\n      deleteRow: \"Delete row\",\n      insertColumnBefore: \"Insert column before\",\n      insertColumnAfter: \"Insert column after\",\n      deleteColumn: \"Delete column\",\n      fixedColumnWidth: \"Fixed column width\",\n      resize100: \"Resize 100%\",\n      resize75: \"Resize 75%\",\n      resize50: \"Resize 50%\",\n      resize25: \"Resize 25%\",\n      autoSize: \"Auto size\",\n      mirrorHorizontal: \"Mirror, Horizontal\",\n      mirrorVertical: \"Mirror, Vertical\",\n      rotateLeft: \"Rotate left\",\n      rotateRight: \"Rotate right\",\n      maxSize: \"Max size\",\n      minSize: \"Min size\",\n      tableHeader: \"Table header\",\n      mergeCells: \"Merge cells\",\n      splitCells: \"Split Cells\",\n      HorizontalSplit: \"Horizontal split\",\n      VerticalSplit: \"Vertical split\"\n    },\n    menu: {\n      spaced: \"Spaced\",\n      bordered: \"Bordered\",\n      neon: \"Neon\",\n      translucent: \"Translucent\",\n      shadow: \"Shadow\",\n      code: \"Code\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"en\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_LANG a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var lang = {\n    code: \"pt_br\",\n    toolbar: {\n      default: \"Padrão\",\n      save: \"Salvar\",\n      font: \"Fonte\",\n      formats: \"Formatos\",\n      fontSize: \"Tamanho\",\n      bold: \"Negrito\",\n      underline: \"Sublinhado\",\n      italic: \"Itálico\",\n      strike: \"Riscado\",\n      subscript: \"Subescrito\",\n      superscript: \"Sobrescrito\",\n      removeFormat: \"Remover Formatação\",\n      fontColor: \"Cor da Fonte\",\n      hiliteColor: \"Cor de destaque\",\n      indent: \"Recuo\",\n      outdent: \"Avançar\",\n      align: \"Alinhar\",\n      alignLeft: \"Alinhar à esquerda\",\n      alignRight: \"Alinhar à direita\",\n      alignCenter: \"Alinhar ao centro\",\n      alignJustify: \"Alinhat justificado\",\n      list: \"Lista\",\n      orderList: \"Lista ordenada\",\n      unorderList: \"Lista desordenada\",\n      horizontalRule: \"Linha horizontal\",\n      hr_solid: \"solida\",\n      hr_dotted: \"pontilhada\",\n      hr_dashed: \"tracejada\",\n      table: \"Tabela\",\n      link: \"Link\",\n      math: \"Matemática\",\n      image: \"Imagem\",\n      video: \"Vídeo\",\n      audio: \"Áudio\",\n      fullScreen: \"Tela cheia\",\n      showBlocks: \"Mostrar blocos\",\n      codeView: \"Mostrar códigos\",\n      undo: \"Voltar\",\n      redo: \"Refazer\",\n      preview: \"Prever\",\n      print: \"imprimir\",\n      tag_p: \"Paragráfo\",\n      tag_div: \"(DIV) Normal\",\n      tag_h: \"Cabeçalho\",\n      tag_blockquote: \"Citar\",\n      tag_pre: \"Código\",\n      template: \"Modelo\",\n      lineHeight: \"Altura da linha\",\n      paragraphStyle: \"Estilo do parágrafo\",\n      textStyle: \"Estilo do texto\",\n      imageGallery: \"Galeria de imagens\",\n      mention: \"Menção\"\n    },\n    dialogBox: {\n      linkBox: {\n        title: \"Inserir link\",\n        url: \"URL para link\",\n        text: \"Texto à mostrar\",\n        newWindowCheck: \"Abrir em nova guia\",\n        downloadLinkCheck: \"Link para Download\",\n        bookmark: \"marca páginas\"\n      },\n      mathBox: {\n        title: \"Matemática\",\n        inputLabel: \"Notação matemática\",\n        fontSizeLabel: \"Tamanho\",\n        previewLabel: \"Prever\"\n      },\n      imageBox: {\n        title: \"Inserir imagens\",\n        file: \"Selecionar arquivos\",\n        url: \"URL da imagem\",\n        altText: \"Texto alternativo\"\n      },\n      videoBox: {\n        title: \"Inserir vídeo\",\n        file: \"Selecionar arquivos\",\n        url: \"URL do YouTube/Vimeo\"\n      },\n      audioBox: {\n        title: \"Inserir audio\",\n        file: \"Selecionar arquivos\",\n        url: \"URL da audio\"\n      },\n      browser: {\n        tags: \"Tag\",\n        search: \"Procurar\"\n      },\n      caption: \"Inserir descrição\",\n      close: \"Fechar\",\n      submitButton: \"Enviar\",\n      revertButton: \"Reverter\",\n      proportion: \"restringir proporções\",\n      basic: \"Básico\",\n      left: \"Esquerda\",\n      right: \"Direita\",\n      center: \"Centro\",\n      width: \"Largura\",\n      height: \"Altura\",\n      size: \"Tamanho\",\n      ratio: \"Proporções\"\n    },\n    controller: {\n      edit: \"Editar\",\n      unlink: \"Retirar link\",\n      remove: \"Remover\",\n      insertRowAbove: \"Inserir linha acima\",\n      insertRowBelow: \"Inserir linha abaixo\",\n      deleteRow: \"Deletar linha\",\n      insertColumnBefore: \"Inserir coluna antes\",\n      insertColumnAfter: \"Inserir coluna depois\",\n      deleteColumn: \"Deletar coluna\",\n      fixedColumnWidth: \"Largura fixa da coluna\",\n      resize100: \"Redimensionar para 100%\",\n      resize75: \"Redimensionar para 75%\",\n      resize50: \"Redimensionar para 50%\",\n      resize25: \"Redimensionar para 25%\",\n      autoSize: \"Tamanho automático\",\n      mirrorHorizontal: \"Espelho, Horizontal\",\n      mirrorVertical: \"Espelho, Vertical\",\n      rotateLeft: \"Girar para esquerda\",\n      rotateRight: \"Girar para direita\",\n      maxSize: \"Tam max\",\n      minSize: \"Tam min\",\n      tableHeader: \"Cabeçalho da tabela\",\n      mergeCells: \"Mesclar células\",\n      splitCells: \"Dividir células\",\n      HorizontalSplit: \"Divisão horizontal\",\n      VerticalSplit: \"Divisão vertical\"\n    },\n    menu: {\n      spaced: \"Espaçado\",\n      bordered: \"Com borda\",\n      neon: \"Néon\",\n      translucent: \"Translúcido\",\n      shadow: \"Sombreado\",\n      code: \"Código\"\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_LANG) {\n      Object.defineProperty(window, \"KothingEditor_LANG\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_LANG, \"pt_br\", {\n      enumerable: true,\n      writable: true,\n      configurable: true,\n      value: lang\n    });\n  }\n\n  return lang;\n});","// Extensions\nimport { BaseSlideGroup } from '../VSlideGroup/VSlideGroup'\n\n// Components\nimport VTab from './VTab'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport SSRBootable from '../../mixins/ssr-bootable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { Route } from 'vue-router'\nimport { VNode } from 'vue'\n\ntype VTabInstance = InstanceType<typeof VTab>\n\nexport default mixins(\n  BaseSlideGroup,\n  SSRBootable,\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-tabs-bar',\n\n  provide () {\n    return {\n      tabsBar: this,\n    }\n  },\n\n  computed: {\n    classes () {\n      return {\n        ...BaseSlideGroup.options.computed.classes.call(this),\n        'v-tabs-bar': true,\n        'v-tabs-bar--is-mobile': this.isMobile,\n        // TODO: Remove this and move to v-slide-group\n        'v-tabs-bar--show-arrows': this.showArrows,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  watch: {\n    items: 'callSlider',\n    internalValue: 'callSlider',\n    $route: 'onRouteChange',\n  },\n\n  methods: {\n    callSlider () {\n      if (!this.isBooted) return\n\n      this.$emit('call:slider')\n    },\n    genContent () {\n      const render = BaseSlideGroup.options.methods.genContent.call(this)\n\n      render.data = render.data || {}\n      render.data.staticClass += ' v-tabs-bar__content'\n\n      return render\n    },\n    onRouteChange (val: Route, oldVal: Route) {\n      /* istanbul ignore next */\n      if (this.mandatory) return\n\n      const items = this.items as unknown as VTabInstance[]\n      const newPath = val.path\n      const oldPath = oldVal.path\n\n      let hasNew = false\n      let hasOld = false\n\n      for (const item of items) {\n        if (item.to === newPath) hasNew = true\n        else if (item.to === oldPath) hasOld = true\n\n        if (hasNew && hasOld) break\n      }\n\n      // If we have an old item and not a new one\n      // it's assumed that the user navigated to\n      // a path that is not present in the items\n      if (!hasNew && hasOld) this.internalValue = undefined\n    },\n  },\n\n  render (h): VNode {\n    const render = BaseSlideGroup.options.render.call(this, h)\n\n    render.data!.attrs = {\n      role: 'tablist',\n    }\n\n    return render\n  },\n})\n","// Mixins\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue/types'\n\n/* @vue/component */\nexport default mixins(Colorable).extend({\n  name: 'v-tabs-slider',\n\n  render (h): VNode {\n    return h('div', this.setBackgroundColor(this.color, {\n      staticClass: 'v-tabs-slider',\n    }))\n  },\n})\n","// Styles\nimport './VTabs.sass'\n\n// Components\nimport VTabsBar from './VTabsBar'\nimport VTabsItems from './VTabsItems'\nimport VTabsSlider from './VTabsSlider'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Proxyable from '../../mixins/proxyable'\nimport Themeable from '../../mixins/themeable'\n\n// Directives\nimport Resize from '../../directives/resize'\n\n// Utilities\nimport { convertToUnit } from '../../util/helpers'\nimport { ExtractVue } from './../../util/mixins'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue/types'\n\nconst baseMixins = mixins(\n  Colorable,\n  Proxyable,\n  Themeable\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $refs: {\n    items: InstanceType<typeof VTabsBar>\n  }\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-tabs',\n\n  directives: {\n    Resize,\n  },\n\n  props: {\n    activeClass: {\n      type: String,\n      default: '',\n    },\n    alignWithTitle: Boolean,\n    backgroundColor: String,\n    centerActive: Boolean,\n    centered: Boolean,\n    fixedTabs: Boolean,\n    grow: Boolean,\n    height: {\n      type: [Number, String],\n      default: undefined,\n    },\n    hideSlider: Boolean,\n    iconsAndText: Boolean,\n    mobileBreakpoint: [String, Number],\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    optional: Boolean,\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    right: Boolean,\n    showArrows: [Boolean, String],\n    sliderColor: String,\n    sliderSize: {\n      type: [Number, String],\n      default: 2,\n    },\n    vertical: Boolean,\n  },\n\n  data () {\n    return {\n      resizeTimeout: 0,\n      slider: {\n        height: null as null | number,\n        left: null as null | number,\n        right: null as null | number,\n        top: null as null | number,\n        width: null as null | number,\n      },\n      transitionTime: 300,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-tabs--align-with-title': this.alignWithTitle,\n        'v-tabs--centered': this.centered,\n        'v-tabs--fixed-tabs': this.fixedTabs,\n        'v-tabs--grow': this.grow,\n        'v-tabs--icons-and-text': this.iconsAndText,\n        'v-tabs--right': this.right,\n        'v-tabs--vertical': this.vertical,\n        ...this.themeClasses,\n      }\n    },\n    isReversed (): boolean {\n      return this.$vuetify.rtl && this.vertical\n    },\n    sliderStyles (): object {\n      return {\n        height: convertToUnit(this.slider.height),\n        left: this.isReversed ? undefined : convertToUnit(this.slider.left),\n        right: this.isReversed ? convertToUnit(this.slider.right) : undefined,\n        top: this.vertical ? convertToUnit(this.slider.top) : undefined,\n        transition: this.slider.left != null ? null : 'none',\n        width: convertToUnit(this.slider.width),\n      }\n    },\n    computedColor (): string {\n      if (this.color) return this.color\n      else if (this.isDark && !this.appIsDark) return 'white'\n      else return 'primary'\n    },\n  },\n\n  watch: {\n    alignWithTitle: 'callSlider',\n    centered: 'callSlider',\n    centerActive: 'callSlider',\n    fixedTabs: 'callSlider',\n    grow: 'callSlider',\n    iconsAndText: 'callSlider',\n    right: 'callSlider',\n    showArrows: 'callSlider',\n    vertical: 'callSlider',\n    '$vuetify.application.left': 'onResize',\n    '$vuetify.application.right': 'onResize',\n    '$vuetify.rtl': 'onResize',\n  },\n\n  mounted () {\n    this.$nextTick(() => {\n      window.setTimeout(this.callSlider, 30)\n    })\n  },\n\n  methods: {\n    callSlider () {\n      if (\n        this.hideSlider ||\n        !this.$refs.items ||\n        !this.$refs.items.selectedItems.length\n      ) {\n        this.slider.width = 0\n        return false\n      }\n\n      this.$nextTick(() => {\n        // Give screen time to paint\n        const activeTab = this.$refs.items.selectedItems[0]\n        /* istanbul ignore if */\n        if (!activeTab || !activeTab.$el) {\n          this.slider.width = 0\n          this.slider.left = 0\n          return\n        }\n        const el = activeTab.$el as HTMLElement\n\n        this.slider = {\n          height: !this.vertical ? Number(this.sliderSize) : el.scrollHeight,\n          left: this.vertical ? 0 : el.offsetLeft,\n          right: this.vertical ? 0 : el.offsetLeft + el.offsetWidth,\n          top: el.offsetTop,\n          width: this.vertical ? Number(this.sliderSize) : el.scrollWidth,\n        }\n      })\n\n      return true\n    },\n    genBar (items: VNode[], slider: VNode | null) {\n      const data = {\n        style: {\n          height: convertToUnit(this.height),\n        },\n        props: {\n          activeClass: this.activeClass,\n          centerActive: this.centerActive,\n          dark: this.dark,\n          light: this.light,\n          mandatory: !this.optional,\n          mobileBreakpoint: this.mobileBreakpoint,\n          nextIcon: this.nextIcon,\n          prevIcon: this.prevIcon,\n          showArrows: this.showArrows,\n          value: this.internalValue,\n        },\n        on: {\n          'call:slider': this.callSlider,\n          change: (val: any) => {\n            this.internalValue = val\n          },\n        },\n        ref: 'items',\n      }\n\n      this.setTextColor(this.computedColor, data)\n      this.setBackgroundColor(this.backgroundColor, data)\n\n      return this.$createElement(VTabsBar, data, [\n        this.genSlider(slider),\n        items,\n      ])\n    },\n    genItems (items: VNode | null, item: VNode[]) {\n      // If user provides items\n      // opt to use theirs\n      if (items) return items\n\n      // If no tabs are provided\n      // render nothing\n      if (!item.length) return null\n\n      return this.$createElement(VTabsItems, {\n        props: {\n          value: this.internalValue,\n        },\n        on: {\n          change: (val: any) => {\n            this.internalValue = val\n          },\n        },\n      }, item)\n    },\n    genSlider (slider: VNode | null) {\n      if (this.hideSlider) return null\n\n      if (!slider) {\n        slider = this.$createElement(VTabsSlider, {\n          props: { color: this.sliderColor },\n        })\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-tabs-slider-wrapper',\n        style: this.sliderStyles,\n      }, [slider])\n    },\n    onResize () {\n      if (this._isDestroyed) return\n\n      clearTimeout(this.resizeTimeout)\n      this.resizeTimeout = window.setTimeout(this.callSlider, 0)\n    },\n    parseNodes () {\n      let items = null\n      let slider = null\n      const item = []\n      const tab = []\n      const slot = this.$slots.default || []\n      const length = slot.length\n\n      for (let i = 0; i < length; i++) {\n        const vnode = slot[i]\n\n        if (vnode.componentOptions) {\n          switch (vnode.componentOptions.Ctor.options.name) {\n            case 'v-tabs-slider': slider = vnode\n              break\n            case 'v-tabs-items': items = vnode\n              break\n            case 'v-tab-item': item.push(vnode)\n              break\n            // case 'v-tab' - intentionally omitted\n            default: tab.push(vnode)\n          }\n        } else {\n          tab.push(vnode)\n        }\n      }\n\n      /**\n       * tab: array of `v-tab`\n       * slider: single `v-tabs-slider`\n       * items: single `v-tabs-items`\n       * item: array of `v-tab-item`\n       */\n      return { tab, slider, items, item }\n    },\n  },\n\n  render (h): VNode {\n    const { tab, slider, items, item } = this.parseNodes()\n\n    return h('div', {\n      staticClass: 'v-tabs',\n      class: this.classes,\n      directives: [{\n        name: 'resize',\n        modifiers: { quiet: true },\n        value: this.onResize,\n      }],\n    }, [\n      this.genBar(tab, slider),\n      this.genItems(items, item),\n    ])\n  },\n})\n"],"sourceRoot":""}