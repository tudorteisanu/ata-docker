(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orders/preview"],{"1f09":function(e,t,a){},"2bc5":function(e,t,a){"use strict";a("a15b");var s=a("5530"),i=(a("abd3"),a("f625")),r=a("80d2"),n=Object(r["i"])("v-breadcrumbs__divider","li"),o=a("7560"),l=a("58df");t["a"]=Object(l["a"])(o["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(n,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,a=[],s=0;s<this.items.length;s++){var r=this.items[s];a.push(r.text),t?e.push(this.$scopedSlots.item({item:r})):e.push(this.$createElement(i["a"],{key:a.join("."),props:r},[r.text])),s<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"2d85":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fill-height full-width d-flex align-center flex-column"},[e.loading?a("v-skeleton-loader",{staticClass:"mt-16 pt-4",staticStyle:{"max-width":"1400px","min-height":"75vh"},attrs:{width:"100%",type:"card-avatar, article, list-item-three-line, list-item-three-line, actions"}}):a("div",{staticClass:" full-width",staticStyle:{"max-width":"1400px"}},[a("div",{staticClass:"text-h6 d-flex align-center mb-sm-4 pa-4 pa-sm-0 primary--text"},[a("v-breadcrumbs",{attrs:{items:e.breadcrumb,large:""},scopedSlots:e._u([{key:"item",fn:function(t){var s=t.item;return[a("v-breadcrumbs-item",{staticClass:"text-h6",attrs:{link:"",to:s.href,exact:"",disabled:s.disabled}},[a("span",[e._v(" "+e._s(e.$t(s.text))+" ")])])]}}])}),e.model.order&&e.model.order.service_type_id?a("div",{staticClass:"ml-2 px-0 cursor-default text-h6"},[e.model.order&&e.model.order.service_type_id?a("span",[e._v(" "+e._s(e.orderComponents[e.model.order.service_type_id].toUpperCase())+" ")]):e._e(),a("span",{staticClass:"ml-1"},[e._v(" ( "+e._s(e.model.order&&e.model.order.number)+" ) ")])]):e._e(),e.model.order&&e.model.order.status?a("v-chip",{staticClass:"ml-2 ",attrs:{label:"",small:"",color:e.model.order.status.color}},[a("span",{staticClass:"white--text"},[e._v(" "+e._s(e.model.order.status.name)+" ")])]):e._e()],1),a("div",[a("v-card",{staticClass:"elevation-4 px-4 py-2 mb-3",attrs:{width:"100%"}},[a("v-row",{staticClass:"actions mt-0"},[a("v-col",{staticClass:"pa-2 d-flex align-center"},[a("span",{staticClass:"caption ml-3"},[e._v(" "+e._s(e.$t("global-validation.is_required"))+" ")]),a("v-spacer"),a("v-btn",{attrs:{link:"",to:"/orders",text:""}},[e._v(" "+e._s(e.$t("global-buttons.cancel"))+" ")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",depressed:"",disabled:e.isLoading||!e.hasChanges()},on:{click:e.submit}},[e.isLoading?a("v-progress-circular",{staticStyle:{position:"absolute"},attrs:{indeterminate:"",color:"primary"}}):e._e(),e._v(" "+e._s(e.$t("orders.buttons.send_notification"))+" ")],1)],1)],1),a("v-card-text",{staticClass:"pa-0"},[a(e.component,{tag:"component",attrs:{value:e.model,items:e.comments,"error-messages":e.errorMessages},on:{submit:function(t){return e.submit()},input:e.setComments}}),e.getCount()?a("v-row",{staticClass:"actions mt-5"},[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",[a("div",{staticClass:"text-center full-width",staticStyle:{color:"red"}},[e._v(" "+e._s(e.$t("orders.errors.to_fix",{count:e.getCount()}))+" ")])])],1)],1):e._e()],1),a("v-card-actions",[a("v-row",{staticClass:"actions mt-0"},[a("v-col",{staticClass:"pa-2 d-flex align-center",attrs:{cols:"12"}},[a("span",{staticClass:"caption"},[e._v(" "+e._s(e.$t("global-validation.is_required"))+" ")]),a("v-spacer"),a("v-btn",{attrs:{link:"",to:"/orders",text:""}},[e._v(" "+e._s(e.$t("global-buttons.cancel"))+" ")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",depressed:"",disabled:e.isLoading||!e.hasChanges()},on:{click:e.submit}},[e.isLoading?a("v-progress-circular",{staticStyle:{position:"absolute"},attrs:{indeterminate:"",color:"primary"}}):e._e(),e._v(" "+e._s(e.$t("orders.buttons.send_notification"))+" ")],1)],1)],1)],1)],1)],1)])],1)},i=[],r=(a("a9e3"),a("b64b"),a("d3b7"),a("b85c")),n=(a("96cf"),a("1da1")),o=a("2b0e"),l=a("0613"),c=a("366c"),d=o["a"].extend({name:"Create",components:{ata:function(){return Promise.all([a.e("chunk-404466f2"),a.e("chunk-26e894ce"),a.e("chunk-0c8e67ba"),a.e("chunk-14be2861"),a.e("chunk-557364b8")]).then(a.bind(null,"12bb"))},aaij:function(){return Promise.all([a.e("chunk-404466f2"),a.e("chunk-26e894ce"),a.e("chunk-0c8e67ba"),a.e("chunk-14be2861"),a.e("chunk-231d1f6a")]).then(a.bind(null,"28ec"))},exp:function(){return Promise.all([a.e("chunk-404466f2"),a.e("chunk-26e894ce"),a.e("chunk-0c8e67ba"),a.e("chunk-14be2861"),a.e("chunk-4da35bac")]).then(a.bind(null,"af07"))},eval:function(){return Promise.all([a.e("chunk-404466f2"),a.e("chunk-26e894ce"),a.e("chunk-0c8e67ba"),a.e("chunk-14be2861"),a.e("chunk-271619f6")]).then(a.bind(null,"c7b7"))},cert:function(){return Promise.all([a.e("chunk-404466f2"),a.e("chunk-26e894ce"),a.e("chunk-0c8e67ba"),a.e("chunk-14be2861"),a.e("chunk-85810cc4")]).then(a.bind(null,"92a7"))}},data:function(){return{model:{documents:[],goods:[],details:{countries:[]},order:{exchange_rate:"1.0000",document_type:"original",source:"operator",release_mode:"normal",handler_id:1,valid_form:(new Date).toISOString().substr(0,10)}},errorMessages:{},loading:!1,breadcrumb:[{text:"orders.title",disabled:!1,href:"/orders"},{text:"orders.form.header.preview",disabled:!0,href:"/orders/preview"}],selectedTab:0,component:"",orderComponents:{1:"ata",2:"aaij",3:"cert",4:"eval",5:"exp"},comments:{},oldComments:null,isLoading:!1}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()},methods:{submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in e.isLoading=!0,t.prev=1,a=[],e.comments)null!==(i=e.comments[s])&&void 0!==i&&i.text&&a.push(e.comments[s]);return t.next=6,e.$API.orders().updateComment(Number(e.$route.params.id),{notes:a});case 6:return e.oldComments=JSON.stringify(e.comments),t.next=9,e.$router.push("/orders");case 9:return t.next=11,e.$store.dispatch("alert/showSuccess",e.$t("global-alert.successful_edit"));case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t["catch"](1),t.t0.hasOwnProperty("errors")&&(e.errorMessages=t.t0.errors,setTimeout((function(){e.errorMessages={}}),2e3)),t.next=18,e.$store.dispatch("alert/showError",t.t0.message||t.t0);case 18:e.isLoading=!1;case 19:case"end":return t.stop()}}),t,null,[[1,13]])})))()},hasChanges:function(){return JSON.stringify(this.comments)!==this.oldComments},loadData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,c["a"].orders().show(Number(e.$route.params.id));case 4:return a=t.sent,e.component=e.orderComponents[a.order.service_type_id],t.next=8,e.$API.orders().getComments(Number(e.$route.params.id));case 8:s=t.sent,e.comments=e.parseComments(s),e.oldComments=JSON.stringify(e.comments),e.$nextTick((function(){e.fullLoaded=!0,e.model=a})),t.next=18;break;case 14:return t.prev=14,t.t0=t["catch"](1),t.next=18,l["a"].dispatch("alert/showError",t.t0.message);case 18:e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[1,14]])})))()},parseComments:function(e){var t,a={},s=Object(r["a"])(e);try{for(s.s();!(t=s.n()).done;){var i=t.value;a[i.key]=i}}catch(n){s.e(n)}finally{s.f()}return a},setComments:function(e){this.comments=e,this.$forceUpdate()},getCount:function(){return Object.keys(this.comments).length}}}),u=d,h=(a("daf9"),a("2877")),p=a("6544"),m=a.n(p),b=a("2bc5"),v=a("f625"),f=a("8336"),g=a("b0af"),C=a("99d9"),y=a("cc20"),k=a("62ad"),x=a("490a"),_=a("0fd9"),$=a("3129"),O=a("2fa4"),S=Object(h["a"])(u,s,i,!1,null,"2729a674",null);t["default"]=S.exports;m()(S,{VBreadcrumbs:b["a"],VBreadcrumbsItem:v["a"],VBtn:f["a"],VCard:g["a"],VCardActions:C["a"],VCardText:C["c"],VCardTitle:C["d"],VChip:y["a"],VCol:k["a"],VProgressCircular:x["a"],VRow:_["a"],VSkeletonLoader:$["a"],VSpacer:O["a"]})},3129:function(e,t,a){"use strict";a("a630"),a("c975"),a("d81d"),a("ac1f"),a("3ca3"),a("5319"),a("1276");var s=a("3835"),i=a("5530"),r=(a("1f09"),a("c995")),n=a("24b2"),o=a("7560"),l=a("58df"),c=a("80d2");t["a"]=Object(l["a"])(r["a"],n["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(i["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(i["a"])(Object(i["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(i["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,a=e.split("@"),i=Object(s["a"])(a,2),r=i[0],n=i[1],o=function(){return t.genStructure(r)};return Array.from({length:n}).map(o)},genStructure:function(e){var t=[];e=e||this.type||"";var a=this.rootTypes[e]||"";if(e===a);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);a.indexOf(",")>-1?t=this.mapBones(a):a.indexOf("@")>-1?t=this.genBones(a):a&&t.push(this.genStructure(a))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"8adc":function(e,t,a){},"9d26":function(e,t,a){"use strict";var s=a("132d");t["a"]=s["a"]},abd3:function(e,t,a){},cc20:function(e,t,a){"use strict";a("4de4"),a("4160");var s=a("3835"),i=a("5530"),r=(a("8adc"),a("58df")),n=a("0789"),o=a("9d26"),l=a("a9ad"),c=a("4e82"),d=a("7560"),u=a("f2e7"),h=a("1c87"),p=a("af2b"),m=a("d9bd");t["a"]=Object(r["a"])(l["a"],p["a"],h["a"],d["a"],Object(c["a"])("chipGroup"),Object(u["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({"v-chip":!0},h["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(h["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var e=this,t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach((function(t){var a=Object(s["a"])(t,2),i=a[0],r=a[1];e.$attrs.hasOwnProperty(i)&&Object(m["a"])(i,r,e)}))},methods:{click:function(e){this.$emit("click",e),this.chipGroup&&this.toggle()},genFilter:function(){var e=[];return this.isActive&&e.push(this.$createElement(o["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(n["b"],e)},genClose:function(){var e=this;return this.$createElement(o["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.$emit("click:close"),e.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(e){var t=[this.genContent()],a=this.generateRouteLink(),s=a.tag,r=a.data;r.attrs=Object(i["a"])(Object(i["a"])({},r.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:r.attrs.tabindex}),r.directives.push({name:"show",value:this.active}),r=this.setBackgroundColor(this.color,r);var n=this.textColor||this.outlined&&this.color;return e(s,this.setTextColor(n,r),t)}})},daf9:function(e,t,a){"use strict";a("e913")},e913:function(e,t,a){},f625:function(e,t,a){"use strict";var s=a("5530"),i=a("ade3"),r=a("1c87"),n=a("58df");t["a"]=Object(n["a"])(r["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),a=t.tag,i=t.data;return e("li",[e(a,Object(s["a"])(Object(s["a"])({},i),{},{attrs:Object(s["a"])(Object(s["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})}}]);
//# sourceMappingURL=preview.7dadd4ad.js.map